(function(){function Hr(){this.Mo={};this.ca={}}Hr.Ex=[];Hr.DP=function(H){var N=Hr.Ex;if(N.length!=0){var Q=new k(z.E.Gn);
for(var c=0;c<N.length;c++)N[c].N(Q)}window.requestAnimationFrame(Hr.DP)};window.requestAnimationFrame(Hr.DP);
Hr.prototype.tHp=function(H){var N=this.Mo[H];if(N==null)return!1;return N.length>0};Hr.prototype.addEventListener=function(H,N){this.O(H,N,null)};
Hr.prototype.O=function(H,N,Q){if(this.Mo[H]==null){this.Mo[H]=[];this.ca[H]=[]}this.Mo[H].push(N);this.ca[H].push(Q);
if(H==z.E.Gn){var c=Hr.Ex;if(c.indexOf(this)==-1)c.push(this)}};Hr.prototype.removeEventListener=function(H,N){var Q=this.Mo[H];
if(Q==null)return;var c=Q.indexOf(N);if(c<0)return;var _=this.ca[H];Q.splice(c,1);_.splice(c,1);if(H==z.E.Gn&&Q.length==0){var O=Hr.Ex;
O.splice(O.indexOf(this),1)}};Hr.prototype.N=function(H){H.currentTarget=this;if(H.target==null)H.target=this;
var N=this.Mo[H.type];if(N==null)return;var Q=this.ca[H.type];for(var c=0;c<N.length;c++){if(Q[c]==null)N[c](H);
else N[c].call(Q[c],H)}};function rr(){Hr.call(this);this.FQ={};this.eN={};this.eB={};rr.NW=this}rr.prototype=new Hr;
rr.trg=function(H,N){var Q=0,c=rr.Ee;while(Q<c.length){if((N>>>Q&1)==1)break;Q++}if(N==0||c[Q][1]==""){if((N&15)!=0&&rr.Dd(H,[33,126])>.7)Q=0;
else if(N==0)Q=0;else{Q=0}}return c[Q][1]};rr.Ek=120;rr.jg=20;rr.cols=8;rr.jv=function(H){var N=H.name.postScriptName;
if(N==null)return null;return N.replace(/ /g,"-")};rr.tyK=function(H){var N=H.name,Q=N.typoFamilyName?N.typoFamilyName:N.fontFamily,c=N.typoSubfamilyName?N.typoSubfamilyName:N.fontSubfamily,_="JUICE,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Libre Caslon,Londrina,Panefresco,Perspective Sans,Plasma Drip,SF Shai Fontai,SF Toontime,SF Wasabi,SF Wonder Comic,Sansumi,Solveig,Theano,UnifrakturMaguntia,Varela,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,itsadzoke,Noto Sans JP,Noto Sans KR,Noto Serif JP,Noto Serif KR,Mplus 1p,Rounded Mplus 1c,Abhaya Libre,Bai Jamjuree,Gothic A1,Cairo,Chakra Petch,Clear Sans,Colaborate,Diner,El Messiri,Exo 2,Exo,Fahkwang,Gaegu,IBM Plex Mono,IBM Plex Sans Condensed,IBM Plex Sans,IBM Plex Serif,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,K2D,Karnivore,Knigthings Petrock,KoHo,Kodchasan,Krub,Libre Barcode,Lunchtype,Mada,Mali,Mirza,Mukta Malar,NanumMyeongjo,Newt Serif,Niramit,Proclamate,Tajawal,Teutonic".split(",");
for(var O=0;O<_.length;O++)if(Q.startsWith(_[O])){var L=Q.slice(_[O].length);Q=_[O];if(L.startsWith(" ")||L.startsWith("-"))L=L.slice(1);
if(L!=""){if(c=="Regular")c=L;else c=L+" "+c}break}return[Q,c]};rr.prototype.jq=function(H){if(this.FQ[H])return this.FQ[H];
if(this.eN[H])return null;var N=null,Q=this.g_();if(Q[H]!=null)N=Q[H][5];if(N==null){var c;if(this.Dx[H])c=this.Dx[H];
else{var _="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),O=H.toLowerCase(),L=0;
if(O.indexOf("sans")!=-1)L=0;else if(O.indexOf("serif")!=-1)L=4;var s=O.indexOf("bold")!=-1,r=O.indexOf("italic")!=-1||O.indexOf("oblique")!=-1||O.endsWith("-it");
if(s&&r)L+=3;else if(r)L+=2;else if(s)L+=1;c=_[L]}if(this.eB[c]==null)alert(tg.get([22,6,0])+" "+H+" "+tg.get([22,6,1])+". "+tg.get([22,6,2])+" "+c+".");
this.eB[c]=!0;return this.jq(c)}this.eN[H]="a";var u=new k(z.E.Y,!0);u.data={X:z.m.UF,gg:{url:"rsrc/fonts/"+N}};
this.N(u)};rr.prototype.ttL=function(H){alert(tg.get([22,6,0])+" "+H.name.fullName+" "+tg.get([23,0])+".");
var N=rr.jv(H),Q=!1,c=FNTS.list;for(var _=0;_<c.length;_++)if(c[_][2]==N)Q=!0;if(!Q){var O=rr.tHf(H),L=document.createElement("canvas"),s=L.getContext("2d");
L.width=rr.Ek;L.height=rr.jg;var r=rr.jg*.75/H.head.unitsPerEm;s.translate(5,rr.jg*.75);s.scale(r,-r);
s.fillStyle="#000000";var u=Typr.U.stringToGlyphs(H,rr.trg(H,O[3]));Typr.U.pathToContext(Typr.U.glyphsToPath(H,u),s);
s.fill();O.eZ=L.toDataURL();this.DM(O,c.length);c.push(O)}delete this.eN[N];this.FQ[N]=H};rr.tTM=function(){var H=rr.Ee,N=[];
for(var Q=0;Q<H.length;Q++)N.push(H[Q][0]);return N};rr.Ee=[["Latin-1","Preview",[160,255],.7],["Latin Ext. A","",[256,383],.7],["Greek","",[913,929,931,969],.7],["Cyrillic","",[1040,1119],.7],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7],["Arabic","",[1569,1594,1600,1749],.7],["Hangul","\uC608\uACE0\uD3B8",[12592,12687,44032,42927],.7],["Chi-Jap-Kor","\u9810\u7FD2",[19968,40895],.05],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,4044],.7],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7]];
rr.tHf=function(H,N,Q){var c=H.name,u=0;if(rr.jv(H)==null){console.log(H);throw"No postScriptName!"}var _=rr.Ee,O=[];
for(var L=0;L<_.length;L++){var s=_[L][2],r=_[L][3];O[L]=rr.Dd(H,s)>r?1:0}for(var L=0;L<O.length;L++)u+=O[L]<<L;
var V=rr.tyK(H);return[V[0],V[1],rr.jv(H),u,Q,N]};rr.Dd=function(H,N){var Q=0,c=0;for(var _=0;_<N.length;
_+=2){for(var O=N[_];O<=N[_+1];O++){var L=Typr.U.codeToGlyph(H,O);if(L==0)c++;else Q++}}return Q/(Q+c)};
rr.tTS=function(H,N){if(H[2]<N[2])return-1;if(H[2]>N[2])return 1;return 0};rr.prototype.Dx={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DeajVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
rr.prototype.g_=function(){if(FNTS.map==null){var H=FNTS.list;for(var N=0;N<H.length;N++)this.DM(H[N],N)}return FNTS.map};
rr.prototype.DM=function(H,N){var Q=H[0],c=H[1];H.U_=N;if(FNTS.map==null)FNTS.map={};FNTS.map[H[2]]=H;
if(FNTS.mapFS==null)FNTS.mapFS={};FNTS.mapFS[Q+"---"+c]=H;if(FNTS.mapSub==null)FNTS.mapSub={};var _=FNTS.mapSub[Q];
if(_==null)_=FNTS.mapSub[Q]=[];if(_.indexOf(c)==-1)_.push(c)};rr.tHK=function(H,N){return rr.KH(H)-rr.KH(N)};
rr.KH=function(H){H=H.toLowerCase();var N=rr.tIK(H)+(rr.t$h(H)<<1);if(H.indexOf("cond")==-1)N+=1<<25;
return N};rr.tIK=function(H){return H.indexOf("italic")!=-1||H.indexOf("oblique")!=-1?1:0};rr.t$h=function(H){var N=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"],Q=-1,c=-1;
for(var _=0;_<N.length;_++){var O=N[_];if(O instanceof Array)for(var L=0;L<O.length;L++){var s=O[L];
if(H.indexOf(s)!=-1&&(Q==-1||c<s.length)){Q=_;c=s.length}}else if(H.indexOf(O)!=-1&&(Q==-1||c<O.length)){Q=_;
c=O.length}}if(Q==-1)Q=8;return Q};rr.Da=function(H,N){var Q=1e9,c=null,_=rr.KH(N);for(var O=0;O<H.length;
O++){var L=Math.abs(rr.KH(H[O])-_);if(L<Q){Q=L;c=H[O]}}return c};rr.prototype.EN=function(H,N){this.g_();
return FNTS.mapFS[H+"---"+N]};rr.prototype.DS=function(H){this.g_();return FNTS.mapSub[H]};rr.prototype.ttx=function(){this.g_();
return FNTS.mapSub};var JX={lC:0,FP:null,jo:null,DE:null,Dh:null,hr:null,DO:!0,Dn:0,hG:!1},VG=0;JX.TQ=function(){return JX.trB()!=null};
JX.PS=function(){return JX.hr};JX.sA=function(H){window.addEventListener("message",JX.trp,!1);setInterval(JX.Df,5e3);
if(JX.TQ()){JX.FP=H;JX.KW()}else setTimeout(H,1)};JX.Df=function(){if(JX.TQ()&&JX.hG){JX.DU(JX.hK());
JX.hG=!1}};JX.hg=function(H){JX.FP=H;var N="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
JX.DE=window.open(N,"_blank")};JX.tRn=function(){localStorage.removeItem(JX.lC+"_uid");localStorage.removeItem(JX.lC+"_provider");
localStorage.removeItem(JX.lC+"_token");JX.hr=null};JX.trp=function(H){if(H.data instanceof ArrayBuffer)return;
if(H.data.charAt(0)!="{")return;var N=JSON.parse(H.data);if(N.prms==null)return;var Q=N.prms.split(",");
if(Q[0]=="papi_logged_in"){localStorage[JX.lC+"_uid"]=Q[1];JX.KE(Q[2]);localStorage[JX.lC+"_provider"]=Q[3];
JX.DE.close();JX.KW()}if(Q[0]=="payment_complete"){JX.Dh.close();JX.KW()}};JX.trB=function(){var H=localStorage[JX.lC+"_token"];
if(H!=null&&Date.now()*.001+10<parseInt(H.split("-")[0]))return H;return null};JX.KE=function(H){var N=localStorage[JX.lC+"_token"];
if(N!=null&&parseInt(H.split("-")[0])<parseInt(N.split("-")[0]))return;localStorage[JX.lC+"_token"]=H;
clearTimeout(JX.Dn);JX.Dn=setTimeout(JX.tcb,Math.min(1e9,parseInt(H.split("-")[0])*1e3-Date.now()-20*1e3))};
JX.tcb=function(){var H=new XMLHttpRequest;H.open("POST","https://www.photopea.com/papi/record_new.php",!0);
H.onload=JX.tIf;var N=JX.hS()+"&read=2";H.setRequestHeader("Content-type","application/x-www-form-urlencoded");
H.send(N)};JX.KW=function(){var H=new XMLHttpRequest;H.open("POST","https://www.photopea.com/papi/record_new.php",!0);
H.onload=JX.t$Q;var N=JX.hS()+"&read=1";H.setRequestHeader("Content-type","application/x-www-form-urlencoded");
H.send(N)};JX.DU=function(H){var N=new XMLHttpRequest;N.open("POST","https://www.photopea.com/papi/record_new.php",!0);
N.onload=JX.tyY;var Q=JX.hS()+"&read=0&score=0&spublic="+JX.DO+"&record="+encodeURIComponent(JSON.stringify(H));
N.setRequestHeader("Content-type","application/x-www-form-urlencoded");N.send(Q)};JX.t$Q=function(H){var N=JSON.parse(H.target.response);
if(N.error){}else{JX.hr=N.user;var Q=JX.hK(),c=N.record;if(N.record){JX.DO=N.spublic;JX.Dk(c)}else if(Q)JX.DU(Q)}JX.KE(N.token);
if(JX.FP){JX.FP();JX.FP=null}if(JX.jo){JX.jo();JX.jo=null}};JX.tIf=function(H){var N=JSON.parse(H.target.response);
JX.KE(N.token)};JX.tyY=function(H){var N=JSON.parse(H.target.response);JX.KE(N.token);if(JX.jo)JX.KW()};
JX.hS=function(){return"app="+JX.lC+"&uid="+localStorage[JX.lC+"_uid"]+"&token="+localStorage[JX.lC+"_token"]};
JX.jf=function(){return JX.hK()};JX.hn=function(H,N){JX.Dk(H);JX.hG=!0;if(N){JX.jo=N;JX.Df()}};JX.hK=function(){var H=localStorage[JX.lC+"_stateLocal"],N;
if(H==null)return null;try{N=JSON.parse(H)}catch(JN){return null}return N};JX.Dk=function(H){var N=JSON.stringify(H);
localStorage[JX.lC+"_stateLocal"]=N};JX.order=function(H,N,Q){JX.FP=Q;var c="https://www.photopea.com/papi/order.php?ptype="+N+"&param="+H+"&uid="+localStorage[JX.lC+"_uid"]+"&token="+localStorage[JX.lC+"_token"];
JX.Dh=window.open(c,"_blank")};var tg={};tg.Kz=0;tg.hY={};tg.get=function(H){var N=JSON.stringify(H);
if(tg.hY[N]!=null)return tg.hY[N];var Q=LNG.tables[0],c=LNG.tables[tg.Kz],_=tg.De(H,c);if(_!=null)return _;
return tg.De(H,Q)};tg.De=function(H,N){for(var Q=0;Q<H.length;Q++){N=N[H[Q]];if(N==null)return null}return N.split("::")[0]};
tg.DN=function(){return LNG.langs};tg.tR$=function(H){tg.Kz=H};tg.tGY=function(H){for(var N=0;N<LNG.langs.length;
N++)if(LNG.langs[N].code==H)tg.Kz=N};tg.DF=function(){return LNG.langs[tg.Kz].code};tg.tJv=function(H){for(var N=0;
N<H.length;N+=2)tg.hY[JSON.stringify(H[N])]=H[N+1]};tg.Dm=function(H){var N=-1,Q=tg.DN();for(var c=0;
c<Q.length;c++)if(Q[c].code==H)N=c;return N};var V_={yq:0,YV:{expires_at:0},hb:[]};V_.KV=function(H){if(H)V_.hb.splice(0,0,H);
if(V_.yq==1)return;if(V_.YV.expires_at>Date.now()*.001+30){while(V_.hb.length>0)V_.hb.pop()()}else{if(V_.yq==0)V_.yq=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:V_.yq==2?!1:!0},V_.tck)}};
V_.tck=function(H){if(H&&!H.error){V_.YV=H;V_.yq=!1;V_.KV()}else if(V_.yq==1){V_.yq=2;V_.KV()}else alert("Error: "+H.error)};
V_.hz=function(){return"access_token="+V_.YV.access_token+"&token_type="+V_.YV.token_type};function JP(){}JP.cR={tTQ:["PNG","JPG","SVG","GIF","PDF"],tGU:"EMF WEBP BMP PPM TIFF ICO DDS".split(" ")};
JP.Uw=function(H){if(!(H instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var N=new Uint8Array(H),Q=JP.t$F,c;
if(Q(N,[56,66,80,83]))c="psd";if(Q(N,[103,105,109,112,32,120,99,102,32]))c="xcf";if(Q(N,[137,80,78,71,13,10,26,10]))c="png";
if(Q(N,[87,76]))c="cdr";if(Q(N,[82,73,70,70])){var _=Ho.Fp(N),O=_.aw;if(O=="WEBP")c="webp";else if(O.slice(0,3)=="CDR")c="cdr";
else c=O}if(Q(N,[255,216,255]))c="jpg";if(Q(N,[0,0,0,12,106,80,32,32]))c="jpg";if(Q(N,[0,0,0,0,48,0,1,0]))c="jpg";
if(Q(N,[71,73,70,56]))c="gif";if(Q(N,[0,0,0,2,121,102,113,76]))c="msh";if(Q(N,[0,0,0,3,121,102,113,76]))c="msh";
if(Q(N,[0,1]))c="aco";if(Q(N,[0,2]))c="aco";if(Q(N,[0,2,56,66,83,76]))c="asl";if(Q(N,[0,6,0,1]))c="abr";
if(Q(N,[0,6,0,2]))c="abr";if(Q(N,[0,9,0,2]))c="abr";if(Q(N,[0,10,0,2]))c="abr";if(Q(N,[56,66,70,83]))c="shc";
if(Q(N,[56,66,80,84]))c="pat";if(Q(N,[0,4,0,5]))c="acv";if(Q(N,[56,66,71,82]))c="grd";if(Q(N,[99,117,115,104]))c="csh";
if(Q(N,[0,1,0,0,0]))c="otf";if(Q(N,[79,84,84,79]))c="otf";if(Q(N,[116,116,99,102]))c="otf";if(Q(N,[68,68,83,32]))c="dds";
if(Q(N,[80,86,82,3]))c="pvr";if(Q(N,[0,0,1,0]))c="ico";if(Q(N,[66,77]))c="bmp";if(Q(N,[80,49]))c="ppm";
if(Q(N,[80,50]))c="ppm";if(Q(N,[80,51]))c="ppm";if(Q(N,[80,52]))c="ppm";if(Q(N,[80,53]))c="ppm";if(Q(N,[80,54]))c="ppm";
if(Q(N,[73,73,42,0]))c="tiff";if(Q(N,[77,77,0,42]))c="tiff";if(Q(N,[83,81,76,105]))c="sketch";if(Q(N,[80,75])){var L=UZIP.parse(H,!0);
if(L["document.json"])c="sketch";if(L.manifest)c="xd"}if(Q(N,[123]))c="json";if(Q(N,[60,115,118,103]))c="svg";
if(Q(N,[60,63,120,109]))c="svg";if(Q(N,[60,33,100,111]))c="html";if(Q(N,[60,33,68,79]))c="html";if(Q(N,[13,10,60,33]))c="html";
if(Q(N,[37,33]))c="eps";if(Q(N,[37,80,68,70]))c="pdf";if(Q(N,[32,32,32,37,80,68,70]))c="pdf";if(Q(N,[215,205,198,154]))c="wmf";
if(Q(N,[1,0,0,0]))c="emf";return c};JP.t$F=function(H,N){for(var Q=0;Q<N.length;Q++)if(H[Q]!=N[Q])return!1;
return!0};JP.aD=function(H){return JP[H.toUpperCase()]};JP.aL=function(H){var N=JP.cR.tTQ,Q=JP.cR.tGU,c,_=[];
if(H==null)c=N.concat(Q);else c=H==0?N:Q;for(var H=0;H<c.length;H++)if(JP[c[H]].Dz)_.push(c[H]);return _};
JP.c$=function(H,N,Q,c,_){var O=new Uint8Array(H),L=z.B("canvas","");L.width=N;L.height=Q;var s=L.getContext("2d"),r=s.getImageData(0,0,N,Q);
for(var u=0;u<N*Q*4;u++)r.data[u]=O[u];s.putImageData(r,0,0);var V=L.toDataURL("image/"+c,_),C=JP.cr(V);
return C.buffer};JP.cr=function(H){var N=atob(H.split(",").pop()),Q=new Uint8Array(N.length);for(var c=0;
c<N.length;c++)Q[c]=N.charCodeAt(c);return Q};JP.Km=function(H,N,Q){var c=new Uint8Array(JP.PNG.Dz([[H.buffer,0]],N,Q));
return"data:image/png;base64,"+JP.Yw(c.buffer)};JP.tIU=function(H,N,Q,c,_){if(_==null)_=0;var O="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",L="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+O+"<g transform=\"translate(64 64) scale("+.25*Math.round(z.h())+")\">";
if(H==1)L+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
L+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+_+")\" xlink:href=\""+N+"\" x=\""+80*Q+"\" y=\""+80*c+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var s=new Uint8Array(L.length);tm.aX(L,s,0);return"data:image/svg+xml;base64,"+JP.Yw(s.buffer)};JP.Yw=function(H){var N=new Uint8Array(H),Q="";
for(var c=0;c<N.length;c++)Q+=String.fromCharCode(N[c]);return btoa(Q)};JP.YL=function(H,N,Q,c,_){if(Q==null)Q=H.$;
if(c==null)c=H.z;var O=JP[N.toUpperCase()];if(O.Ht)return O.Dz(H,Q,c,_);var L=[],s=[];for(var r=0;r<H.b.length;
r++){var u=H.b[r];if(u.getName().slice(0,3)=="_a_"){L.push(r);s.push(u.op())}}if(L.length==0){var V;
if(Q==H.$&&c==H.z)V=H.cn().buffer;else{var C=l._.Qk([H.cn(),new p(0,0,H.$,H.z)],new Jo(Q/(H.$+.001),0,0,c/(H.z+.001),0,0));
V=C.buffer}return O.Dz([[V,0,H.go]],Q,c,_)}var T=[];for(var r=0;r<L.length;r++){var e=L[r],V;for(var t=0;
t<L.length;t++)H.b[L[t]].cE(L[t]==e);H.f$();H.r();H.LD();if(Q==H.$&&c==H.z)V=H.cn().buffer.slice(0);
else{var C=l._.Qk([H.cn(),new p(0,0,H.$,H.z)],new Jo(Q/(H.$+.001),0,0,c/(H.z+.001),0,0));V=C.buffer}var Y=H.b[e].getName().split(",");
T.push([V,Y[1]?parseInt(Y[1]):50,H.go])}for(var r=0;r<L.length;r++)H.b[L[r]].cE(s[r]);H.r();H.LD();var A=O.Dz(T,Q,c,_);
return A};JP.PNG={};JP.PNG.Dz=function(H,N,Q,c){if(c==null)c=[100,!1];var _={sRGB:1};if(H[0][2]!=null){var O=Math.round(H[0][2]*(1e4/254));
_.pHYs=[O,O,1]}var L=c[0],s=L==100?0:Math.max(2,Math.floor(L*5)),r=[],u=[];for(var V=0;V<H.length;V++){r.push(H[V][0]);
u.push(H[V][1])}var C=UPNG.encode(r,N,Q,s,u,_,c[1]);return C};JP.PNG.cA=function(H){var N=Date.now(),Q=UPNG.decode(H),c=UPNG.toRGBA8(Q),_=Q.width,O=Q.height,L=0;
if(Q.tabs.pHYs)L=Math.round(Q.tabs.pHYs[0]*254/1e4);if(c.length==1)return[{MD:new p(0,0,_,O),data:c[0],go:L}];
var s=[];for(var r=0;r<c.length;r++){s.push({pA:"_a_frm"+r+","+Q.frames[r].delay,MD:new p(0,0,_,O),data:c[r],go:L})}return s};
JP.PPM={};JP.PPM.Dz=function(H,N,Q,c){var _=new Uint8Array(H[0][0]),O=N*Q,L=O*3,s="P6\n"+N+" "+Q+"\n255\n",r=s.length,u=$.I(r+L,!0);
for(var V=0;V<r;V++)u[V]=s.charCodeAt(V);for(var V=0;V<O;V++){var C=V*4,T=V*3+r;u[T]=_[C];u[T+1]=_[C+1];
u[T+2]=_[C+2]}return u.buffer};JP.PPM.cA=function(H){H=new Uint8Array(H);var N=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],Q=0,c=String.fromCharCode(H[0])+String.fromCharCode(H[1]),_=[],O=0,L=c=="P1"||c=="P4"?2:3;
for(Q=2;Q<H.length;Q++){var s=H[Q],r=String.fromCharCode(s);if(s=="#".charCodeAt(0)){while(H[Q]!="\n".charCodeAt(0))Q++;
continue}var u=N.indexOf(s)!=-1;if(O==0&&!u){_.push(r);O=1;continue}if(O==1&&!u){_[_.length-1]+=r;continue}if(O==1&&u){O=0;
if(_.length==L)break;continue}}var V=parseInt(_[0]),C=parseInt(_[1]),T=V*C*4,e=c=="P1"||c=="P4"?1:255/parseInt(_[2]),t=$.I(T);
if(c=="P1"||c=="P2"||c=="P3"){var Y="",A=0,O=0,G="#".charCodeAt(0);for(var j=Q;j<H.length;j++){var s=H[j],r=String.fromCharCode(s),u=N.indexOf(s)!=-1;
if(s==G){while(H[j]!="\n".charCodeAt(0))j++}else if(O==0&&!u){Y=r;O=1}else if(O==1){if(u){O=0;var d=parseInt(Y);
Y="";if(c=="P1"){t[A]=t[A+1]=t[A+2]=(1-d)*255;t[A+3]=255;A+=4}if(c=="P2"){t[A]=t[A+1]=t[A+2]=Math.round(d*e);
t[A+3]=255;A+=4}if(c=="P3"){t[A]=Math.round(d*e);A++;if((A&3)==3){t[A]=255;A++}}}else Y+=r}}}var w=V*C;
if(c=="P4")for(var f=0;f<C;f++){var b=f*8*Math.ceil(V/8);for(var F=0;F<V;F++){var j=b+F,n=H[Q+1+(j>>3)];
n=n>>7-(j&7)&1;var J=f*V+F<<2;t[J]=t[J+1]=t[J+2]=(1-n)*255;t[J+3]=255}}if(c=="P5")for(var j=0;j<w;j++){var J=4*j;
t[J]=t[J+1]=t[J+2]=Math.round(H[Q+1+j]*e);t[J+3]=255}if(c=="P6")for(var j=0;j<w;j++){var J=4*j,Z=Q+1+3*j;
t[J]=Math.round(H[Z]*e);t[J+1]=Math.round(H[Z+1]*e);t[J+2]=Math.round(H[Z+2]*e);t[J+3]=255}return[{MD:new p(0,0,V,C),data:t.buffer}]};
JP.DDS={};JP.DDS.Dz=function(H,N,Q,c){var _=new Uint8Array(H[0][0]);if((N&3)!=0||(Q&3)!=0){var O=N+(4-(N&3)),L=Q+(4-(Q&3)),s=new Uint8Array(O*L*4);
$.Mw(s,4278190080);$.Pg(_,new p(0,0,N,Q),s,new p(0,0,O,L));_=s;N=O;Q=L}return UTEX.DDS.encode(_.buffer,N,Q)};
JP.DDS.cA=function(H){var N=UTEX.DDS.decode(H)[0];return[{MD:new p(0,0,N.width,N.height),data:N.image}]};
JP.JPG={};JP.JPG.Dz=function(H,N,Q,c){if(c==null)c=[70];var _=new Uint8Array(H[0][0].byteLength),O=new p(0,0,N,Q),s=0;
$.Mw(_,4294967295);$.a.MR("norm",new Uint8Array(H[0][0]),O,_,O,O,1);var L=new Uint8Array(JP.c$(_,N,Q,"jpeg",c[0]/100));
if(H[0][2]!=null){var s=JP.JPG.markerOffset(L,224)+2;s+=9;L[s]=1;x.Ag(L,s+1,H[0][2]);x.Ag(L,s+3,H[0][2])}return L.buffer};
JP.JPG.markerOffset=function(H,N){var Q=0;while(Q<H.length){while(H[Q]==255)Q++;var c=H[Q];Q++;if(c==N)return Q-2;
if(c==216)continue;if(c==217)break;if(224<=c&&c<=239||c==218||c==219||c==192||c==194||c==196||c==221){var _=x.NU(H,Q);
Q+=_;if(c==218)while(H[Q]!=255||(H[Q+1]==0||208<=H[Q+1]&&H[Q+1]<=215))Q++;continue}console.log("unknown marker ",c.toString(16))}return-1};
JP.JPG.t$i=function(H){H=new Uint8Array(H);if(H[0]!=255)return H.buffer;var N=JP.JPG.cH(H);if(N.numComponents!=4)return H.buffer;
var Q=N.width,c=N.height,_=JP.JPG.cI(N,!0);return JP.JPG.Dz([[_[0].data]],Q,c,[85])};JP.JPG.cH=function(H){var N=new PDFJS.JpegImage;
N.parse(H);var Q=JP.JPG.markerOffset(H,225);if(Q!=-1){Q+=2;var c=x.NU(H,Q);Q+=2;var _=x.sx(H,Q,4);if(_=="Exif"){Q+=6;
var O=H.slice(Q,Q+c-8);N.exif=UTIF.decode(O.buffer)}}return N};JP.JPG.cI=function(H,N){var Q=H.width,c=H.height,_=Q*c,O=H.getData({width:Q,height:c,forceRGB:!0,isSourcePDF:N}),L=$.I(_*4),V=72;
for(var s=0;s<_;s++){var r=s<<2,u=r-s;L[r]=O[u+0];L[r+1]=O[u+1];L[r+2]=O[u+2];L[r+3]=255}if(H.jfif&&H.jfif.densityUnits!=0)V=Math.round([72,1,2.54][H.jfif.densityUnits]*H.jfif.xDensity);
else if(H.exif&&H.exif[0].t282!=null)V=H.exif[0].t282[0];return[{MD:new p(0,0,Q,c),data:L.buffer,go:V}]};
JP.JPG.cA=function(H){H=new Uint8Array(H);if(H[0]==255){var N=JP.JPG.cH(H);return JP.JPG.cI(N,!1)}else if(H[3]==0){var Q=new Uint8Array(H.length+1);
for(var c=0;c<H.length;c++)Q[c]=H[c];var N=new PDFJS.Jbig2Image,_={data:Q,start:0,end:Q.length},O=N.parseChunks([_]);
for(var c=0;c<O.length;c++)O[c]^=255;var L=x.j(H,11),s=x.j(H,15),r=Math.ceil(L/8),u=$.I(L*s*4);for(var V=0;
V<s;V++){var C=V*r;for(var T=0;T<L;T++){var e=(V*L+T)*4,t=(O[C+(T>>3)]>>(7-(T&7)<<0)&1)*255;u[e]=t;u[e+1]=t;
u[e+2]=t;u[e+3]=255}}return[{MD:new p(0,0,L,s),data:u.buffer}]}else{var N=new PDFJS.JpxImage;N.parse(H);
var L=N.width,s=N.height,Y=N.tiles,A=N.componentsCount,G=new Uint8Array(L*s*4),j=new p(0,0,L,s);for(var N=0;
N<Y.length;N++){var d=Y[N],w=d.width,f=d.height,b=w*f,VG=d.items,F=new p(d.left,d.top,w,f),n=new Uint8Array(b*4);
if(A==1)for(var c=0;c<b;c++){var J=VG[c],e=c*4;n[e]=J;n[e+1]=J;n[e+2]=J;n[e+3]=255}else if(A==3)for(var c=0;
c<b;c++){var Z=c*3,e=c*4;n[e]=VG[Z];n[e+1]=VG[Z+1];n[e+2]=VG[Z+2];n[e+3]=255}else console.log("Unknown number of components: "+A);
$.Pg(n,F,G,j)}return[{MD:j,data:G.buffer}]}};JP.WEBP={};JP.WEBP.Dz=function(H,N,Q,c){if(c==null)c=[70];
return JP.c$(H[0][0],N,Q,"webp",c[0]/100)};JP.WEBP.cA=function(H){var N=new Date().getTime(),Q=new Uint8Array(H),c={width:{value:0},height:{value:0}},_=new WebPDecoder;
Q=JP.WEBP.tHX(Q);var O=_.WebPDecoderConfig,L=O.j,s=_.WEBP_CSP_MODE;L.J=4;var r=_.WebPDecode(Q,Q.length,O),u=new Uint8Array(L.c.RGBA.ma);
for(var V=0;V<u.length;V+=4){var C=u[V+1],T=u[V+2],e=u[V+3],t=u[V];u[V]=C;u[V+1]=T;u[V+2]=e;u[V+3]=t}return[{MD:new p(0,0,O.j.width,O.j.height),data:u.buffer}]};
JP.WEBP.tHX=function(H){var N=new Array,Q=H.length,c;for(c=0;c<Q;++c)N.push(H[c]);return N};JP.BMP={};
JP.BMP.Dz=function(H,N,Q,c){var _=new Uint8Array(H[0][0]),O={JX:N,ht:Q,S_:24,cv:0,e_:0},L=new th,s=4*Math.floor((O.S_*O.JX+31)/32),r=0;
x.np(L,r,"BM");r+=2;x.GI(L,r,s*Q+16+40);r+=4;x.GI(L,r,0);r+=4;x.GI(L,r,54);r+=4;L.VX(r,40);x.GI(L,r,40);
r+=4;JP.BMP.tDu(L.data,r,O);r+=36;L.VX(r,s*Q);for(var u=0;u<Q;u++){var V=r+(Q-1-u)*s;for(var C=0;C<N;
C++){var T=(u*N+C)*4,e=_[T+3]*(1/255);L.data[V+C*3+2]=_[T]*e;L.data[V+C*3+1]=_[T+1]*e;L.data[V+C*3+0]=_[T+2]*e}}r+=s*Q+2;
var t=new Uint8Array(r);for(var Y=0;Y<r;Y++)t[Y]=L.data[Y];return t.buffer};JP.BMP.cA=function(H){H=new Uint8Array(H);
var N=0,Q=x.sx(H,N,2);N+=2;if(Q!="BM"){alert("Unsupported BMP format: "+Q);return}var c=x.UD(H,N);N+=4;
N+=4;var _=x.UD(H,N);N+=4;return[JP.BMP.cy(H.buffer,N)]};JP.BMP.cy=function(H,N){H=new Uint8Array(H);
var Q=x.UD(H,N),c;N+=4;if(Q==40)c=JP.BMP.tHQ(H,N);else{alert("Unsupported BMP header format: "+Q+" Bytes");
return}N+=Q-4;if(c.cv!=0){alert("Unsupported BMP compression: "+c.cv);return}var _=N,O=4*Math.floor((c.S_*c.JX+31)/32),L=new Uint8Array(c.JX*c.ht*4);
$.set(L,255);var s=N;if(c.S_<24)s+=4*Math.pow(2,c.S_);if(c.S_==32)for(var r=0;r<c.ht;r++){var u=s+(c.ht-1-r)*O;
for(var V=0;V<c.JX;V++){var C=(r*c.JX+V)*4;L[C]=H[u+V*4+2];L[C+1]=H[u+V*4+1];L[C+2]=H[u+V*4+0];L[C+3]=H[u+V*4+3]}}if(c.S_==24)for(var r=0;
r<c.ht;r++){var u=s+(c.ht-1-r)*O;for(var V=0;V<c.JX;V++){var C=(r*c.JX+V)*4;L[C]=H[u+V*3+2];L[C+1]=H[u+V*3+1];
L[C+2]=H[u+V*3+0]}}if(c.S_==8)for(var r=0;r<c.ht;r++){var u=s+(c.ht-1-r)*O;for(var V=0;V<c.JX;V++){var C=(r*c.JX+V)*4,T=H[u+V];
L[C]=H[_+4*T+2];L[C+1]=H[_+4*T+1];L[C+2]=H[_+4*T+0]}}if(c.S_==4)for(var r=0;r<c.ht;r++){var u=s+(c.ht-1-r)*O;
for(var V=0;V<c.JX;V++){var C=(r*c.JX+V)*4,T=H[u+(V>>1)];T=T>>4-4*(V&1);T=T&15;L[C]=H[_+4*T+2];L[C+1]=H[_+4*T+1];
L[C+2]=H[_+4*T+0]}}if(c.S_==1)for(var r=0;r<c.ht;r++){var u=s+(c.ht-1-r)*O;for(var V=0;V<c.JX;V++){var C=(r*c.JX+V)*4,e=H[u+(V>>3)];
e=e>>7-(V&7);e=e&1;L[C]=H[_+4*e+2];L[C+1]=H[_+4*e+1];L[C+2]=H[_+4*e+0]}}return{MD:new p(0,0,c.JX,c.ht),data:L.buffer}};
JP.BMP.tHQ=function(H,N){var Q={};Q.JX=x.eC(H,N);N+=4;Q.ht=x.eC(H,N);N+=4;var c=x.$R(H,N);N+=2;if(c!=1)alert("unsupported number of color planes: "+c);
Q.S_=x.$R(H,N);N+=2;Q.cv=x.UD(H,N);N+=4;var _=x.UD(H,N);N+=4;var O=x.UD(H,N);N+=4;var L=x.UD(H,N);N+=4;
Q.e_=x.UD(H,N);N+=4;N+=4;return Q};JP.BMP.tDu=function(H,N,Q){x.Fc(H,N,Q.JX);N+=4;x.Fc(H,N,Q.ht);N+=4;
x.ey(H,N,1);N+=2;x.ey(H,N,Q.S_);N+=2;x.Fc(H,N,Q.cv);N+=4;var c=4*Math.floor((Q.S_*Q.JX+31)/32);x.Fc(H,N,c*Q.ht+2);
N+=4;x.Fc(H,N,2834);N+=4;x.Fc(H,N,2834);N+=4;x.Fc(H,N,Q.e_);N+=4;N+=4};JP.GIF={};JP.GIF.Dz=function(H,N,Q,c){if(c==null)c=[100,!1];
if(c[1]){H=H.slice(0);H.reverse()}var _=[],O=[],T=null;for(var L=0;L<H.length;L++){_.push(H[L][0]);O.push(H[L][1])}var s=Math.round(2+254*c[0]/100),r=UPNG.encode.compress(_,N,Q,s,!0),u=r.plte,V=new Uint8Array(4),C=new Uint32Array(V.buffer);
for(var L=0;L<u.length;L++){C[0]=u[L];var e=V[0];V[0]=V[2];V[2]=e;u[L]=C[0];if(C[0]==0)T=L}while(u.length<256)u.push(0);
var t=new Uint8Array(2e3+N*Q*H.length),Y=new GifWriter(t,N,Q,{palette:u,loop:0});for(var L=0;L<H.length;
L++){var A=r.frames[L],G=A.rect,j=A.blend,d=A.dispose;Y.addFrame(G.x,G.y,G.width,G.height,A.img,{transparent:T,disposal:d+1,delay:Math.round(O[L]/10)})}return t.slice(0,Y.end()).buffer};
JP.GIF.cA=function(H){var N=new Uint8Array(H),Q=new GifReader(N),c=[],_=Q.numFrames(),O=Q.width,L=Q.height,s=$.I(O*L*4),r=new p(0,0,O,L),u=0;
for(var V=0;V<_;V++){var C=Q.frameInfo(V);Q.decodeAndBlitFrameRGBA(V,s);c.push({MD:r.clone(),pA:"_a_frm"+V+","+C.delay*10,data:s.slice(0).buffer});
if(C.disposal==2){var T=$.I(C.width*C.height*4);$.Pg(T,new p(C.x,C.y,C.width,C.height),s,r)}if(C.disposal==3){var e=new Uint8Array(c[u].data);
for(var t=0;t<s.length;t++)s[t]=e[t]}if(C.disposal!=3)u=V}return c};JP.ICO={};JP.ICO.Dz=function(H,N,Q,c){if(N>256||Q>256){alert("Maximum ICO size is 256x256 px.");
return}var _=new th,O=0,L=c&&c[0]==!0;x.Fl(_,O,0);O+=2;x.Fl(_,O,L?2:1);O+=2;x.Fl(_,O,1);O+=2;var s=new Uint8Array(JP.PNG.Dz(H,N,Q));
_.VX(O,16);_.data[O]=N==256?0:N;O++;_.data[O]=Q==256?0:Q;O++;O+=2;x.Fl(_,O,L?Math.round(N/2):1);O+=2;
x.Fl(_,O,L?Math.round(Q/2):32);O+=2;x.GI(_,O,s.length);O+=4;x.GI(_,O,6+16);O+=4;_.VX(O,s.length);for(var r=0;
r<s.length;r++)_.data[O+r]=s[r];O+=s.length;var u=new Uint8Array(O);for(var r=0;r<O;r++)u[r]=_.data[r];
return u.buffer};JP.ICO.cA=function(H){H=new Uint8Array(H);var N=4,Q=x.$R(H,N);N+=2;var c=[];for(var _=0;
_<Q;_++){var O=JP.ICO.tti(H,N+_*16),L=H.buffer.slice(O.offset,O.offset+O.size),s=JP.Uw(L);s=s?s:"bmp";
if(s=="png"){var r=JP.aD(s);return r.cA(L)}else{var u=JP.BMP.cy(L,0),L=$.I(O.JX*O.ht*4);$.Pg(new Uint8Array(u.data),new p(0,0,u.MD.$,u.MD.z),L,new p(0,O.ht,O.JX,O.ht));
u.data=L.buffer;u.MD.z=O.ht;O.eu=u;c.push(O)}}c.sort(function(V,C){if(V.JX!=C.JX)return V.JX-C.JX;return V.NR-C.NR});
return[c.pop().eu]};JP.ICO.tti=function(H,N){var Q={};Q.JX=H[N];N++;if(Q.JX==0)Q.JX=256;Q.ht=H[N];N++;
if(Q.ht==0)Q.ht=256;Q.tCF=H[N];N++;N++;Q.tTR=x.$R(H,N);N+=2;Q.NR=x.$R(H,N);N+=2;Q.size=x.UD(H,N);N+=4;
Q.offset=x.UD(H,N);N+=4;return Q};JP.TIFF={};JP.TIFF.cA=function(H){var N=Date.now(),Q=UTIF.decode(H);
UTIF.decodeImages(H,Q);for(var c=0;c<Q.length;c++){var _=Q[c]}for(var c=0;c<Q.length;c++){var _=Q[c];
if(_.t37724!=null){var O=_.t37724}if(_.t33421==null)continue;if(Q[0]!=_){for(var L in Q[0])if(L[0]=="t"&&_[L]==null)_[L]=Q[0][L]}_.tCC=Q[0].t274[0];
if(Q[0].t34665)_.NT=Q[Q.length-1];return[_]}var s=[];for(var c=0;c<Q.length;c++){var _=Q[c];if(_.width==null)continue;
var r=UTIF.toRGBA8(_).buffer;s.push({MD:new p(0,0,_.width,_.height),data:r})}return s};JP.TIFF.Dz=function(H,N,Q,c){return UTIF.encodeImage(H[0][0],N,Q)};
JP.PSD={};JP.PSD.Ht=!0;JP.PSD.cA=function(H,N){rS.Fp(H,N)};JP.PSD.Dz=function(H,N,Q,c){if(c==null)c=[!1,!1];
if(!c[0])H.cn();var _=new th,O=rS.nX(H,_,c),L=new Uint8Array(_.data.buffer.slice(0,O));return L.buffer};
JP.SKETCH={};JP.SKETCH.Ht=!0;JP.SKETCH.cA=function(H,N){r$.Fp(H,N)};JP.XD={};JP.XD.Ht=!0;JP.XD.cA=function(H,N){tz.Fp(H,N)};
JP.XCF={};JP.XCF.Ht=!0;JP.XCF.cA=function(H,N){tw.Fp(H,N)};JP.SVG={};JP.SVG.Ht=!0;JP.SVG.Dz=function(H,N,Q,c){if(c==null)c=[!0,!1,!1,!1,!0,!0];
var _=VL.QU(H,{tCd:c[0],hidden:c[1],LS:c[2],tCG:c[3],names:c[4],Nt:c[5],tCa:N,tCi:Q});return _};JP.SVG.cA=function(H,N){VL.Fp(H,N)};
JP.EPS={};JP.EPS.Ht=!0;JP.EPS.cA=function(H,N){var Q=150,c=new Jo(1,0,0,-1,0,0);c.scale(Q/72,Q/72);N.go=Q;
var _=new tD(N,c,!0);FromPS.Parse(H,_)};JP.PDF={};JP.PDF.Ht=!0;JP.PDF.Dz=function(H,N,Q,c){if(c==null)c=[!1,!1];
c[2]=["jpg"];var _=new ToPDF;Vv.QU(H,c,_);return _.buffer};JP.PDF.cA=function(H,N){var Q=150,c=new Jo(1,0,0,-1,0,0);
c.scale(Q/72,Q/72);N.go=Q;var _=new tD(N,c,!0);FromPDF.Parse(H,_)};JP.WMF={};JP.WMF.Ht=!0;JP.WMF.cA=function(H,N){var Q=72,c=new Jo(1,0,0,1,0,0);
c.scale(Q/72,Q/72);N.go=Q;var _=new tD(N,c,!1);FromWMF.Parse(H,_)};JP.EMF={};JP.EMF.cc=!0;JP.EMF.Ht=!0;
JP.EMF.Dz=function(H,N,Q,c){if(c==null)c=[!1,!1];c[2]=[];var _=new ToEMF;Vv.QU(H,c,_);var O=_.buffer;
return O};JP.EMF.cA=function(H,N){var Q=72,c=new Jo(1,0,0,1,0,0);c.scale(Q/72,Q/72);N.go=Q;var _=new tD(N,c,!1);
FromEMF.Parse(H,_)};JP.CDR={};JP.CDR.Ht=!0;JP.CDR.cA=function(H,N){return JN.Fp(H,N)};function $(){}$.lZ=document.createElement("canvas");
$.C=$.lZ.getContext("2d");$.Y$=function(H,N,Q,c){c=Math.log(c)/Math.log(2);c=Math.round(c);for(var _=0;
_<Q;_++)for(var O=0;O<N;O++){var L=_*N+O<<2,s=(_>>c)+(O>>c)&1==1?204:255;H[L]=H[L+1]=H[L+2]=s;H[L+3]=255}};
$.fM=function(H){var N=H.toString(16);while(N.length<6)N="0"+N;return N};$.ttO=function(H){return parseInt(H,16)};
$.If=function(H){return.3*H.T+.59*H.q+.11*H.H};$.YH=function(H){return Math.max(H.T,H.q,H.H)-Math.min(H.T,H.q,H.H)};
$.YK=function(H,N,Q){return.3*H+.59*N+.11*Q};$.tTh=function(H,N,Q){return Math.max(H,N,Q)-Math.min(H,N,Q)};
$.Y_=function(H,N){var Q=N-H,c=Math.abs(Q),_=Q-1,O=Q+1;if(Math.abs(_)<c)Q=_;else if(Math.abs(O)<c)Q=O;
return Q};$.Fh=function(H,N,Q,c){return(N-Q)*c/(H-Q)};$.hU=function(H){return H<.0031308?12.92*H:1.055*Math.pow(H,1/2.4)-.055};
$.tVM=function(H){return H<.04045?H/12.92:Math.pow((H+.055)/1.055,2.4)};$.tTi=function(H,N,Q,c){if(Q<N)Q+=c;
if(H<N)H+=c;return(H-N)/(Q-N)};$.trq=function(H,N){var Q=Math.min(H.length,N.length);for(var c=0;c<Q;
c+=4){var _=H[c],O=H[c+1],L=H[c+2];N[c]=16+Math.floor(65.481/255*_+128.553/255*O+24.966/255*L+.5);N[c+1]=128-Math.floor(37.797/255*_-74.203/255*O+112/255*L+.5);
N[c+2]=128+Math.floor(112/255*_-93.786/255*O-18.214/255*L+.5);N[c+3]=H[c+3]}};$.pI=function(H,N,Q){var c=Math.max(H,N,Q),_=Math.min(H,N,Q),O,L,s=(c+_)*.5;
if(c==_)O=L=0;else{var r=c-_;L=s>.5?r/(2-c-_):r/(c+_);switch(c){case H:O=(N-Q)/r+(N<Q?6:0);break;case N:O=(Q-H)/r+2;
break;case Q:O=(H-N)/r+4;break}O*=1/6}return{ht:O,_u:L,NK:s}};$.yU=function(H,N,Q){if(Q<0)Q+=1;if(Q>1)Q-=1;
if(Q<1/6)return H+(N-H)*6*Q;if(Q<1/2)return N;if(Q<2/3)return H+(N-H)*(2/3-Q)*6;return H};$.En=function(H,N,Q){var c,_,O;
if(N==0)c=_=O=Q;else{var L=Q<.5?Q*(1+N):Q+N-Q*N,s=2*Q-L;c=$.yU(s,L,H+1/3);_=$.yU(s,L,H);O=$.yU(s,L,H-1/3)}return{T:c,q:_,H:O}};
$.sM=function(H,N,Q){var c=Math.max(H,N,Q),_=Math.min(H,N,Q),O,L,s=c,r=c-_;L=c==0?0:r/c;if(c==_)O=0;
else{switch(c){case H:O=(N-Q)/r+(N<Q?6:0);break;case N:O=(Q-H)/r+2;break;case Q:O=(H-N)/r+4;break}O/=6}return{ht:O,_u:L,Dq:s}};
$.pq=function(H,N,Q){var c,_,O,L,s,r,u,V;L=Math.floor(H*6);s=H*6-L;r=Q*(1-N);u=Q*(1-s*N);V=Q*(1-(1-s)*N);
switch(L%6){case 0:c=Q,_=V,O=r;break;case 1:c=u,_=Q,O=r;break;case 2:c=r,_=Q,O=V;break;case 3:c=r,_=u,O=Q;
break;case 4:c=V,_=r,O=Q;break;case 5:c=Q,_=r,O=u;break}return{T:c,q:_,H:O}};$.sg=function(H,N,Q){var c=N-$.If(H);
Q.T=H.T+c;Q.q=H.q+c;Q.H=H.H+c;$.tt_(Q)};$.YG=function(H,N,Q){var c=H.T,_=H.q,O=H.H;if(c==_&&_==O){Q.T=Q.q=Q.H=0}else if(c>_){if(c>O){if(_>O){Q.T=N;
Q.q=$.Fh(c,_,O,N);Q.H=0}else{Q.T=N;Q.H=$.Fh(c,O,_,N);Q.q=0}}else{Q.H=N;Q.T=$.Fh(O,c,_,N);Q.q=0}}else{if(c<O){if(_>O){Q.q=N;
Q.H=$.Fh(_,O,c,N);Q.T=0}else{Q.H=N;Q.q=$.Fh(O,_,c,N);Q.T=0}}else{Q.q=N;Q.T=$.Fh(_,c,O,N);Q.H=0}}};$.tt_=function(H){var N=H.T,Q=H.q,c=H.H,_=$.YK(N,Q,c),O=Math.min(N,Q,c),L=Math.max(N,Q,c);
if(O<0){var s=_/(_-O);N=_+(N-_)*s;Q=_+(Q-_)*s;c=_+(c-_)*s}if(L>1){var s=(1-_)/(L-_);N=_+(N-_)*s;Q=_+(Q-_)*s;
c=_+(c-_)*s}H.T=N;H.q=Q;H.H=c};$.by=function(H,N,Q,c,_,O){var L=new Uint32Array(H.buffer),s=0;c=Math.log(c)/Math.log(2);
c=Math.round(c);for(var r=0;r<Q;r++)for(var u=0;u<N;u++){L[s++]=(r+O>>c)+(u+_>>c)&1==1?4291348680:4294967295}};
$.tTn=function(H,N,Q){return(H>>Q)+(N>>Q)&1==1?200:255};$.BS=function(H,N){var Q=H.length;for(var c=0;
c<Q;c+=4)N[c>>2]=Math.floor(H[c+0]*.3+H[c+1]*.59+H[c+2]*.11+.5)};$.tH$=function(H,N){var Q=N.length;
for(var c=0;c<Q;c+=4){var _=H[c>>2];N[c]=_;N[c+1]=_;N[c+2]=_}};$.GL=function(H,N){var Q=H.o,c=H.T,_=H.q,O=H.H,L=Math.min(H.o.length,N.buffer.byteLength>>>2),s=4*Math.floor(L/4),r=new Uint32Array(N.buffer),u=new Uint32Array(Q.buffer),V=new Uint32Array(c.buffer),C=new Uint32Array(_.buffer),T=new Uint32Array(O.buffer);
for(var e=0;e<s;e+=4){var t=u[e>>2],Y=T[e>>2],A=C[e>>2],G=V[e>>2];r[e]=t<<24|(Y&255)<<16|(A&255)<<8|G&255;
r[e+1]=(t&65280)<<16|(Y&65280)<<8|A&65280|(G&65280)>>>8;r[e+2]=(t&16711680)<<8|Y&16711680|(A&16711680)>>>8|(G&16711680)>>>16;
r[e+3]=t&4278190080|(Y&4278190080)>>>8|(A&4278190080)>>>16|(G&4278190080)>>>24}for(var e=s;e<L;e++)r[e]=Q[e]<<24|O[e]<<16|_[e]<<8|c[e]};
$.tTf=function(H,N,Q,c){var _=H.o,O=H.T,L=H.q,s=H.H,r=new Uint32Array(N.buffer),u=c.x-Q.x,V=u+c.$,C=c.y-Q.y,T=C+c.z;
for(var e=C;e<T;e++){var t=e*Q.$+u;for(var Y=u;Y<V;Y++){r[t]=_[t]<<24|s[t]<<16|L[t]<<8|O[t];t++}}};$.GQ=function(H,N){var Q=N.o,c=N.T,_=N.q,O=N.H,L=Math.min(N.o.length,H.buffer.byteLength>>>2),s=4*Math.floor(L/4),r=new Uint32Array(H.buffer),u=new Uint32Array(Q.buffer),V=new Uint32Array(c.buffer),C=new Uint32Array(_.buffer),T=new Uint32Array(O.buffer);
for(var e=0;e<s;e+=4){var t=r[e],Y=r[e+1],A=r[e+2],G=r[e+3];V[e>>2]=t&255|(Y&255)<<8|(A&255)<<16|G<<24;
C[e>>2]=(t&65280)>>8|Y&65280|(A&65280)<<8|(G&65280)<<16;T[e>>2]=(t&16711680)>>16|(Y&16711680)>>8|A&16711680|(G&16711680)<<8;
u[e>>2]=t>>>24|Y>>>24<<8|A>>>24<<16|G&4278190080}for(var e=s;e<L;e++){var j=r[e];c[e]=j>>0&255;_[e]=j>>8&255;
O[e]=j>>16&255;Q[e]=j>>24&255}};$.rY=function(H,N,Q){var c=new Uint8Array(H.buffer),_=Math.min(c.length/4,N.length);
for(var O=0;O<_;O++){N[O]=c[(O<<2)+Q]}};$.kw=function(H,N,Q){var c=new Uint8Array(N.buffer),_=new Uint32Array(H.buffer),O=Math.min(c.length/4,H.length),L=0;
while(L+4<O){var s=_[L>>>2];c[(L<<2)+Q]=s&255;c[(L<<2)+Q+4]=s>>>8&255;c[(L<<2)+Q+8]=s>>>16&255;c[(L<<2)+Q+12]=s>>>24;
L+=4}while(L<O){c[(L<<2)+Q]=H[L];L++}};$.clone=function(H){return H.slice(0)};$.sk=function(H,N){$.set(H.o,N);
$.set(H.T,N);$.set(H.q,N);$.set(H.H,N)};$.set=function(H,N){N=Math.round(N);var Q=N<<24|N<<16|N<<8|N,c=new Uint32Array(H.buffer),_=c.length;
for(var O=0;O<_;O++)c[O]=Q};$.Mw=function(H,N,Q){if(Q==null)Q=0;var c=new Uint32Array(H.buffer),_=c.length;
for(var O=0;O<_;O++)c[O]=c[O]&Q|N};$.tTj=function(H,N,Q,c,_){if(_==null)_=0;var O=new Uint32Array(H.buffer);
Q=Q.sj(N);var L=Q.x-N.x,s=Q.y-N.y,r=Q.$,u=Q.z,V=N.$;for(var C=0;C<u;C++){var T=(s+C)*V+L;for(var e=0;
e<r;e++){O[T]=O[T]&_|c;T++}}};$.tTZ=function(H,N){$.sa(H.o,N.o);$.sa(H.T,N.T);$.sa(H.q,N.q);$.sa(H.H,N.H)};
$.sa=function(H,N){var Q=Math.min(H.buffer.byteLength,N.buffer.byteLength),c=Q>>>2,H=new Uint32Array(H.buffer,0,c),N=new Uint32Array(N.buffer,0,c);
N.set(H)};$.tPt=function(H,N){return $.v$(H.o,N.o)&&$.v$(H.T,N.T)&&$.v$(H.q,N.q)&&$.v$(H.H,N.H)};$.v$=function(H,N){var Q=H.buffer.byteLength,c=N.buffer.byteLength,_=new Uint32Array(H.buffer,0,Q>>2),O=new Uint32Array(N.buffer,0,c>>2);
if(Q!=c)return!1;var L=_.length;for(var s=0;s<L;s++)if(O[s]!=_[s])return!1;return!0};$.UK=function(H){var N=new Uint32Array(H.buffer),Q=N.length;
for(var c=0;c<Q;c++)N[c]=~N[c]};$.tPJ=function(H){var N=H.length;for(var Q=3;Q<N;Q+=4)H[Q]=~H[Q]};$.tDh=function(H){return H+(H%4==0?0:4-H%4)};
$.I=function(H,N){if(N==null)N=!1;if(!N)H=$.tDh(H);try{var Q=new Uint8Array(H)}catch(JN){alert("Not enough RAM! (need "+Math.round(H/(1<<20))+" MB)",7e3);
throw JN}return Q};$.cG=function(H){var N=H.length,Q=H[N-2],c=H[N-1];while(c.$>=2||c.z>=2){var _=$.Ef(Q,c);
H.push(_.nn,_.rect);Q=_.nn;c=_.rect}};$.Ef=function(H,N,Q){var c=N.$,_=N.z,O=c>>1,L=_>>1,s=new p(N.x,N.y,O,L);
if(H==null)return{rect:s};var r=Q&&Q.length==O*L*4?Q:$.I(O*L*4),u=new Uint32Array(H.buffer),V=new Uint32Array(r.buffer);
for(var C=0;C<L;C++)for(var T=0;T<O;T++){var e=C*O+T,t=(C<<1)*c+(T<<1),Y=u[t],A=u[t+1],G=u[t+c],j=u[t+c+1],d=Y>>>24,w=A>>>24,f=G>>>24,b=j>>>24,F=(Y>>>0&255)*d+(A>>>0&255)*w+(G>>>0&255)*f+(j>>>0&255)*b,n=(Y>>>8&255)*d+(A>>>8&255)*w+(G>>>8&255)*f+(j>>>8&255)*b,J=(Y>>>16&255)*d+(A>>>16&255)*w+(G>>>16&255)*f+(j>>>16&255)*b,Z=d+w+f+b;
if(Z==0)V[e]=0;else{var P=1/Z;F=~~(F*P+.5);n=~~(n*P+.5);J=~~(J*P+.5);V[e]=Z+2>>>2<<24|J<<16|n<<8|F}}return{rect:s,nn:r}};
$.tLj=function(H,N,Q){var c=N.$,_=N.z,O=c>>1,L=_>>1,s=new p(N.x,N.y,O,L);if(H==null)return{rect:s};var r=Q&&Q.length==O*L*4?Q:$.I(O*L*4),u=new Uint32Array(H.buffer),V=new Uint32Array(r.buffer);
for(var C=0;C<L;C++)for(var T=0;T<O;T++){var e=C*O+T,t=(C<<1)*c+(T<<1),Y=u[t],A=u[t+1],G=u[t+c],j=u[t+c+1],d=2+(Y>>>0&255)+(A>>>0&255)+(G>>>0&255)+(j>>>0&255)>>>2,w=2+(Y>>>8&255)+(A>>>8&255)+(G>>>8&255)+(j>>>8&255)>>>2,f=2+(Y>>>16&255)+(A>>>16&255)+(G>>>16&255)+(j>>>16&255)>>>2;
V[e]=4278190080|f<<16|w<<8|d}return{rect:s,nn:r}};$.tPI=function(H,N,Q){var c=N.$,_=N.z,O=2*Math.floor(c/3),L=2*Math.floor(_/3),s=new p(N.x,N.y,O,L);
if(H==null)return{rect:s};var r=Q&&Q.length==O*L*4?Q:$.I(O*L*4),u=new Uint32Array(H.buffer),V=new Uint32Array(r.buffer);
for(var C=0;C<L;C+=2)for(var T=0;T<O;T+=2){var e=C*O+T,t=(C*3>>>1)*c+(T*3>>>1),Y=u[t],A=u[t+1],G=u[t+2],j=u[t+c],d=u[t+1+c],w=u[t+2+c],f=u[t+c+c],b=u[t+1+c+c],F=u[t+2+c+c],n=Y>>>24<<2,J=(Y>>>16&255)*n,Z=(Y>>>8&255)*n,P=(Y&255)*n,M=A>>>24<<1,y=(A>>>16&255)*M,a=(A>>>8&255)*M,g=(A&255)*M,U=G>>>24<<2,D=(G>>>16&255)*U,W=(G>>>8&255)*U,m=(G&255)*U,q=j>>>24<<1,S=(j>>>16&255)*q,I=(j>>>8&255)*q,v=(j&255)*q,h=d>>>24,i=(d>>>16&255)*h,JI=(d>>>8&255)*h,Jx=(d&255)*h,Jd=w>>>24<<1,JC=(w>>>16&255)*Jd,JM=(w>>>8&255)*Jd,Jh=(w&255)*Jd,Jv=f>>>24<<2,JW=(f>>>16&255)*Jv,Ji=(f>>>8&255)*Jv,Jc=(f&255)*Jv,JT=b>>>24<<1,Jy=(b>>>16&255)*JT,Jg=(b>>>8&255)*JT,Jn=(b&255)*JT,Jq=F>>>24<<2,tJ=(F>>>16&255)*Jq,ty=(F>>>8&255)*Jq,JA=(F&255)*Jq,td=n+M+q+h,Jk=U+M+Jd+h,rR=Jv+JT+q+h,Je=Jq+JT+Jd+h,JU=td==0?0:1/td,JK=Jk==0?0:1/Jk,rH=rR==0?0:1/rR,rL=Je==0?0:1/Je,Ju=0,JZ=0,Jl=0,rV=0;
Ju=~~(.5+(P+g+v+Jx)*JU);JZ=~~(.5+(Z+a+I+JI)*JU);Jl=~~(.5+(J+y+S+i)*JU);rV=~~(.5+td*(1/9));V[e]=rV<<24|Jl<<16|JZ<<8|Ju;
Ju=~~(.5+(m+g+Jh+Jx)*JK);JZ=~~(.5+(W+a+JM+JI)*JK);Jl=~~(.5+(D+y+JC+i)*JK);rV=~~(.5+Jk*(1/9));V[e+1]=rV<<24|Jl<<16|JZ<<8|Ju;
Ju=~~(.5+(Jc+Jn+v+Jx)*rH);JZ=~~(.5+(Ji+Jg+I+JI)*rH);Jl=~~(.5+(JW+Jy+S+i)*rH);rV=~~(.5+rR*(1/9));V[e+O]=rV<<24|Jl<<16|JZ<<8|Ju;
Ju=~~(.5+(JA+Jn+Jh+Jx)*rL);JZ=~~(.5+(ty+Jg+JM+JI)*rL);Jl=~~(.5+(tJ+Jy+JC+i)*rL);rV=~~(.5+Je*(1/9));V[e+O+1]=rV<<24|Jl<<16|JZ<<8|Ju}return{rect:s,nn:r}};
$.tRP=function(H,N,Q){var c=N.$,_=N.z,O=2*Math.floor(c/3),L=2*Math.floor(_/3),s=new p(N.x,N.y,O,L);if(H==null)return{rect:s};
var r=Q&&Q.length==O*L*4?Q:$.I(O*L*4),u=new Uint32Array(H.buffer),V=new Uint32Array(r.buffer);for(var C=0;
C<L;C+=2)for(var T=0;T<O;T+=2){var e=C*O+T,t=(C*3>>>1)*c+(T*3>>>1),Y=u[t],A=u[t+1],G=u[t+2],j=u[t+c],d=u[t+1+c],w=u[t+2+c],f=u[t+c+c],b=u[t+1+c+c],F=u[t+2+c+c],n=(Y>>>16&255)<<2,J=(Y>>>8&255)<<2,Z=(Y&255)<<2,P=(A>>>16&255)<<1,M=(A>>>8&255)<<1,y=(A&255)<<1,a=(G>>>16&255)<<2,g=(G>>>8&255)<<2,U=(G&255)<<2,D=(j>>>16&255)<<1,W=(j>>>8&255)<<1,m=(j&255)<<1,q=d>>>16&255,S=d>>>8&255,I=d&255,v=(w>>>16&255)<<1,h=(w>>>8&255)<<1,i=(w&255)<<1,JI=(f>>>16&255)<<2,Jx=(f>>>8&255)<<2,Jd=(f&255)<<2,JC=(b>>>16&255)<<1,JM=(b>>>8&255)<<1,Jh=(b&255)<<1,Jv=(F>>>16&255)<<2,JW=(F>>>8&255)<<2,Ji=(F&255)<<2,Jc=0,JT=0,Jy=0;
Jc=~~(.5+(Z+y+m+I)*(1/9));JT=~~(.5+(J+M+W+S)*(1/9));Jy=~~(.5+(n+P+D+q)*(1/9));V[e]=255<<24|Jy<<16|JT<<8|Jc;
Jc=~~(.5+(U+y+i+I)*(1/9));JT=~~(.5+(g+M+h+S)*(1/9));Jy=~~(.5+(a+P+v+q)*(1/9));V[e+1]=255<<24|Jy<<16|JT<<8|Jc;
Jc=~~(.5+(Jd+Jh+m+I)*(1/9));JT=~~(.5+(Jx+JM+W+S)*(1/9));Jy=~~(.5+(JI+JC+D+q)*(1/9));V[e+O]=255<<24|Jy<<16|JT<<8|Jc;
Jc=~~(.5+(Ji+Jh+i+I)*(1/9));JT=~~(.5+(JW+JM+h+S)*(1/9));Jy=~~(.5+(Jv+JC+v+q)*(1/9));V[e+O+1]=255<<24|Jy<<16|JT<<8|Jc}return{rect:s,nn:r}};
$.Yp=function(H,N,Q,c){var _=$.Ef,O=$.tPI,u=0,C;if(H){var L=255,s=H.length;s-=(s>>>3&7)<<3;for(var r=3;
r<s;r+=32)L=L&H[r]&H[r+4]&H[r+8]&H[r+12]&H[r+16]&H[r+20]&H[r+24]&H[r+28];if(L==255){_=$.tLj;O=$.tRP}}var V=Q;
while(V<.499){u++;V*=2}if(V<.5001)C=_(H,N,c);else C=O(H,N,c);for(var r=0;r<u;r++)C=_(C.nn,C.rect,c);
return C};$.Jg=function(H,N,Q,c){var _=N.sj(c),O=Math.max(0,_.x-N.x),L=Math.max(0,_.x-c.x),s=Math.max(0,_.y-N.y),r=Math.max(0,_.y-c.y),u=_.$,V=_.z;
for(var C=0;C<V;C++){var T=(s+C)*N.$+O,e=(r+C)*c.$+L;for(var t=0;t<u;t++){Q[e+t]=H[T+t]}}};$.cl=function(H,N,Q,c){if(N.v$(c)){$.kw(H,Q,3);
return}var _=N.sj(c),O=Math.max(0,_.x-N.x),L=Math.max(0,_.x-c.x),s=Math.max(0,_.y-N.y),r=Math.max(0,_.y-c.y),u=_.$,V=_.z;
for(var C=0;C<V;C++){var T=(s+C)*N.$+O,e=(r+C)*c.$+L;for(var t=0;t<u;t++)Q[(e+t<<2)+3]=H[T+t]}};$.he=function(H,N,Q,c){var _=N.sj(c),O=Math.max(0,_.x-N.x),L=Math.max(0,_.x-c.x),s=Math.max(0,_.y-N.y),r=Math.max(0,_.y-c.y),u=_.$,V=_.z;
for(var C=0;C<V;C++){var T=(s+C)*N.$+O,e=(r+C)*c.$+L;for(var t=0;t<u;t++)Q[e+t]=H[(T+t<<2)+3]}};$.tPr=function(H,N,Q,c){var _=N.sj(c),O=Math.max(0,_.x-N.x),L=Math.max(0,_.x-c.x),s=Math.max(0,_.y-N.y),r=Math.max(0,_.y-c.y),u=_.$,V=_.z;
for(var C=0;C<V;C++){var T=(s+C)*N.$+O,e=(r+C)*c.$+L;for(var t=0;t<u;t++)Q[e++]=H[T++]}};$.Pg=function(H,N,Q,c,_){if(N.v$(c)&&(_==null||_.v$(c))){$.sa(H,Q);
return}H=new Uint32Array(H.buffer),Q=new Uint32Array(Q.buffer);var O=N.sj(c);if(_)O=O.sj(_);var L=Math.max(0,O.x-N.x),s=Math.max(0,O.x-c.x),r=Math.max(0,O.y-N.y),u=Math.max(0,O.y-c.y),V=O.$,C=O.z,T=V&3,e=T==0?V:V-T;
for(var t=0;t<C;t++){var Y=(r+t)*N.$+L,A=(u+t)*c.$+s,G=0;while(G<e){Q[A+G]=H[Y+G];Q[A+G+1]=H[Y+G+1];
Q[A+G+2]=H[Y+G+2];Q[A+G+3]=H[Y+G+3];G+=4}if(T==1){Q[A+G]=H[Y+G]}else if(T==2){Q[A+G]=H[Y+G];Q[A+G+1]=H[Y+G+1]}else if(T==3){Q[A+G]=H[Y+G];
Q[A+G+1]=H[Y+G+1];Q[A+G+2]=H[Y+G+2]}}};$.h_=function(H,N,Q,c){var _=N.sj(c),O=Math.max(0,_.x-N.x),L=Math.max(0,_.x-c.x),s=Math.max(0,_.y-N.y),r=Math.max(0,_.y-c.y),u=_.$,V=_.z,C=H.o,T=H.T,e=H.q,t=H.H,Y=Q.o,A=Q.T,G=Q.q,j=Q.H;
for(var d=0;d<V;d++){var w=(s+d)*N.$+O,f=(r+d)*c.$+L;for(var b=0;b<u;b++){Y[f+b]=C[w+b];A[f+b]=T[w+b];
G[f+b]=e[w+b];j[f+b]=t[w+b]}}};$.cf=function(H){var N=H.length;for(var Q=0;Q<N;Q+=4){var c=H[Q+3];if(c==255)continue;
H[Q]=$.qi(H[Q]*c);H[Q+1]=$.qi(H[Q+1]*c);H[Q+2]=$.qi(H[Q+2]*c)}};$.cY=function(H){var N=H.length;for(var Q=0;
Q<N;Q+=4){var c=H[Q+3];if(c==0||c==255)continue;var _=255/c;H[Q]=~~(H[Q]*_+.5);H[Q+1]=~~(H[Q+1]*_+.5);
H[Q+2]=~~(H[Q+2]*_+.5)}};$.tPw=function(){var H=new Uint8Array(256*256);for(var N=0;N<256;N++)for(var Q=0;
Q<256;Q++)H[Q*256+N]=Math.round(255*N/Q);return H}();$.Wt=function(H,N){for(var Q=0;Q<H.length;Q++)if(H[Q]!=N)return!1;
return!0};$.qi=function(H){return H+1+(H>>>8)>>>8};$.round=function(H,N){if(N==null)N=128;var Q=H.length;
for(var c=0;c<Q;c++)H[c]=H[c]<N?0:255};$.Yi=function(H,N){var Q=H.length;for(var c=0;c<Q;c++)H[c]=Math.round(H[c]*N)};
$.tPL=function(H,N){var Q=H.length;for(var c=0;c<Q;c+=4)H[c+3]=Math.round(H[c+3]*N)};$.Yj=function(H,N){var Q=new Uint32Array(H.buffer),c=new Uint32Array(N.buffer),_=Q.length;
for(var O=0;O<_;O++){var L=Q[O],s=c[O];c[O]=$.qi((L>>>24)*(s>>>24))<<24|$.qi((L>>>16&255)*(s>>>16&255))<<16|$.qi((L>>>8&255)*(s>>>8&255))<<8|$.qi((L&255)*(s&255))}};
$.tV$=function(H,N){var Q=H.length;for(var c=0;c<Q;c++)N[(c<<2)+3]=$.qi(N[(c<<2)+3]*H[c])};$.tJS=function(H,N,Q,c){var _=Math.max(0,c.x-N.x),O=Math.max(0,N.x-c.x),L=Math.max(0,c.y-N.y),s=Math.max(0,N.y-c.y),r=Math.min(N.x+N.$,c.x+c.$)-Math.max(N.x,c.x),u=Math.min(N.y+N.z,c.y+c.z)-Math.max(N.y,c.y);
for(var V=0;V<u;V++){var C=(L+V)*N.$+_,T=(s+V)*c.$+O;for(var e=0;e<r;e++){Q[T]=$.qi(Q[T]*H[C]);C++;T++}}};
$.Sm=function(H,N,Q,c){var _=Math.max(0,c.x-N.x),O=Math.max(0,N.x-c.x),L=Math.max(0,c.y-N.y),s=Math.max(0,N.y-c.y),r=Math.min(N.x+N.$,c.x+c.$)-Math.max(N.x,c.x),u=Math.min(N.y+N.z,c.y+c.z)-Math.max(N.y,c.y);
for(var V=0;V<u;V++){var C=(L+V)*N.$+_,T=((s+V)*c.$+O<<2)+3;for(var e=0;e<r;e++){Q[T]=$.qi(Q[T]*H[C]);
C++;T+=4}}};$.WJ=function(H,N,Q,c){var _=Math.max(0,c.x-N.x),O=Math.max(0,N.x-c.x),L=Math.max(0,c.y-N.y),s=Math.max(0,N.y-c.y),r=Math.min(N.x+N.$,c.x+c.$)-Math.max(N.x,c.x),u=Math.min(N.y+N.z,c.y+c.z)-Math.max(N.y,c.y);
for(var V=0;V<u;V++){var C=((L+V)*N.$+_<<2)+3,T=((s+V)*c.$+O<<2)+3;for(var e=0;e<r;e++){Q[T]=$.qi(Q[T]*H[C]);
C+=4;T+=4}}};$.tPT=function(H,N,Q,c){var _=1/255,O=Math.max(0,c.x-N.x),L=Math.max(0,N.x-c.x),s=Math.max(0,c.y-N.y),r=Math.max(0,N.y-c.y),u=Math.min(N.x+N.$,c.x+c.$)-Math.max(N.x,c.x),V=Math.min(N.y+N.z,c.y+c.z)-Math.max(N.y,c.y);
for(var C=0;C<V;C++){var T=(s+C)*N.$+O,e=(r+C)*c.$+L;for(var t=0;t<u;t++){Q[e]=_*Q[e]*(255-H[T]);T++;
e++}}};$.tPd=function(H,N){var Q=[];for(var c=0;c<256;c++)Q.push(0);var _=H.length,O=1/255;for(var c=0;
c<_;c++)Q[H[c]]+=N[c]*O;return Q};$.Yk=function(H){var N=new Float64Array(256),Q=new Float64Array(256),c=new Float64Array(256),_=new Float64Array(256),O=H.length;
for(var L=0;L<O;L+=4){var s=H[L+3]*(1/255);Q[H[L+0]]+=s;c[H[L+1]]+=s;_[H[L+2]]+=s}for(var L=0;L<256;
L++)N[L]=Q[L]+c[L]+_[L];return[N,Q,c,_]};$.vs=function(H,N){var Q=new Uint32Array(H.buffer),c=Q.length;
for(var _=0;_<c;_++){var O=Q[_],L=O&255,s=O>>8&255,r=O>>16&255,u=O>>24&255;Q[_]=N[L]|N[s]<<8|N[r]<<16|N[u]<<24}};
$.tJA=function(H,N,Q,c,_,O,L){var s=new Uint32Array(H.buffer),r=new Uint32Array(N.buffer),u=s.length,V=0;
while(256<<V<Q.length)V++;if(!L&&!O){for(var C=0;C!=u;C++){var T=s[C],e=(T&255)<<V,t=(T>>>8&255)<<V,Y=(T>>>16&255)<<V,A=Q[e],G=c[t],j=_[Y];
r[C]=A|G<<8|j<<16|T&4278190080}return}for(var C=0;C<u;C++){var T=s[C],e=(T&255)<<V,t=(T>>>8&255)<<V,Y=(T>>>16&255)<<V;
if(O)e=t=Y=Math.round(e*.3+t*.59+Y*.11);var A=Q[e],G=c[t],j=_[Y];if(L){var d=$.YK(e,t,Y),w=$.YK(A,G,j);
if(d>w){var f=(d-w)/(255-w);A+=f*(255-A);G+=f*(255-G);j+=f*(255-j)}else if(w==0)A=G=j=0;else{var f=d/w;
A=f*A;G=f*G;j=f*j}}r[C]=A|G<<8|j<<16|T&4278190080}};$.tPG=function(H){var N=new Uint32Array(256),c=0;
for(var Q=0;Q<H.length;Q++)N[H[Q]]++;for(var Q=0;Q<256;Q++)if(N[Q]>N[c])c=Q;return c};$.hV=function(H,N){var Q=N.$,c=N.z,top=0,_=0,O=0,L=0,s=!1,r=0;
s=!1;for(var u=0;u<c;u++){var V=u*Q;for(var C=0;C<Q;C++)if(H[V+C]!=r)s=!0;if(s)break;else top++}s=!1;
for(var u=c-1;u>=0;u--){var V=u*Q;for(var C=0;C<Q;C++)if(H[V+C]!=r)s=!0;if(s)break;else O++}s=!1;for(var C=0;
C<Q;C++){for(var u=0;u<c;u++)if(H[u*Q+C]!=r)s=!0;if(s)break;else _++}s=!1;for(var C=Q-1;C>=0;C--){for(var u=0;
u<c;u++)if(H[u*Q+C]!=r)s=!0;if(s)break;else L++}var T=new p(N.x+_,N.y+top,Q-_-L,c-top-O);return T.km()?new p(0,0,0,0):T};
$.Wr=function(H,N,Q){var c=new Uint32Array(H.buffer),_=N.$,O=N.z,top=0,L=0,s=0,r=0,u=!1,V=Q==null?c[0]:Q;
u=!1;for(var C=0;C<O;C++){var T=C*_;for(var e=0;e<_;e++)if(c[T+e]!=V)u=!0;if(u)break;else top++}u=!1;
for(var C=O-1;C>=0;C--){var T=C*_;for(var e=0;e<_;e++)if(c[T+e]!=V)u=!0;if(u)break;else s++}u=!1;for(var e=0;
e<_;e++){for(var C=0;C<O;C++)if(c[C*_+e]!=V)u=!0;if(u)break;else L++}u=!1;for(var e=_-1;e>=0;e--){for(var C=0;
C<O;C++)if(c[C*_+e]!=V)u=!0;if(u)break;else r++}var t=new p(N.x+L,N.y+top,_-L-r,O-top-s);return t.km()?new p(0,0,0,0):t};
$.hJ=function(H){var N=$.hV(H.channel,H.rect);if(N.v$(H.rect))return;var Q=$.I(N.f());$.Jg(H.channel,H.rect,Q,N);
H.channel=Q;H.rect=N};$.bt=function(H){var N=$.I(H.buffer.length>>2);$.rY(H.buffer,N,3);var Q=$.hV(N,H.rect);
if(Q.v$(H.rect))return;var c=new $.I(Q.f()*4);$.Pg(H.buffer,H.rect,c,Q);H.buffer=c;H.rect=Q};$.extend=function(H,N,Q){if(H.rect.pk(N))return;
var c=H.rect.Fv(N),_=$.I(c.f());if(Q!=null)$.set(_,Q);$.Jg(H.channel,H.rect,_,c);H.rect=c;H.channel=_};
$.ttd=function(H,N){if(N.km()||H.rect.pk(N))return;var Q=H.rect.Fv(N),c=$.I(Q.f()*4);$.Pg(H.buffer,H.rect,c,Q);
H.rect=Q;H.buffer=c};$.tPx=function(H,N,Q){var c=N.clone(),_=Q.f(),O=H.Fv(c);while(O.f()/H.f()<2&&O.f()<_){c.FA(16,16);
O=O.Fv(c).sj(Q)}if(_/O.f()<2)O=Q.clone();return O};$.oc=function(H,N,Q){if(!Q.Eo(H))return!1;var c=Math.floor(H.x)-Q.x,_=Math.floor(H.y)-Q.y,O=_*Q.$+c;
return N[O]>128};$.ttj=function(H,N,Q){if(!Q.Eo(H))return!1;var c=Math.floor(H.x)-Q.x,_=Math.floor(H.y)-Q.y,O=_*Q.$+c;
return N[4*O+3]>128};$.cb=function(H){if($.bu.length<H){$.bu=$.I(H);$.set($.bu,255)}return $.bu};$.bu=$.I(0);
$.kh=function(H){if($.Wo.length<H)$.Wo=$.I(H);return $.Wo};$.Wo=$.I(0);$.wf=function(H){this.o=$.I(H);
this.T=$.I(H);this.q=$.I(H);this.H=$.I(H)};$.wf.prototype.clone=function(){var H=this.o.length,N=new $.wf(1);
N.o=$.clone(this.o);N.T=$.clone(this.T);N.q=$.clone(this.q);N.H=$.clone(this.H);return N};$.a={};$.a.b_=new Float64Array(256);
$.a.DR=new Uint8Array(256*256);$.a.WX=new Uint8Array(256*256);(function(){for(var H=0;H<256;H++)$.a.b_[H]=255/H;
for(var H=0;H<256;H++)for(var N=0;N<256;N++)$.a.DR[H*256+N]=H==0?0:Math.round(N*255/H);for(var H=0;H<256;
H++)for(var N=0;N<256;N++)$.a.WX[H*256+N]=Math.round(H*(255-N)/255)}());$.a.MR=function(H,N,Q,c,_,O,L,s){if(s==null)s=Ja.wU();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(H)==-1){L=L*s.fill;s.fill=1;s.style=!1}var r="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),u="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),V=$.a[H+"F"];
if(H=="norm")$.a.tw$(N,Q,c,_,O,L,V,s.VE?1:0);else if(H=="diss")$.a.tGl(N,Q,c,_,O,L,V,s.VE?1:0);else if(r.indexOf(H)!=-1)$.a.tcm(N,Q,c,_,O,L,V,s);
else if(u.indexOf(H)!=-1)$.a.tCL(N,Q,c,_,O,L,V,s.VE?1:0)};$.a.tVK=function(H,N,Q){return H==0?0:1-Math.min(1,(1-N)/(H*Q+1-Q))};
$.a.tHy=function(H,N,Q){return H*Q==1?1:Math.min(1,N/(1-H*Q))};$.a.oI=function(H){return H<=.25?((16*H-12)*H+4)*H:Math.sqrt(H)};
$.a.normF=function(H,N,Q){return H};$.a.darkF=function(H,N,Q){return Math.min(H,N)};$.a["mul F"]=function(H,N,Q){return H*N};
$.a.idivF=function(H,N,Q){var c=H*Q+1-Q;return N==1?1:1-N>=c?0:1-(1-N)/c};$.a.lbrnF=function(H,N,Q){return Math.max(0,H*Q+N-Q)};
$.a.dkClF=function(H,N,Q){var c=$.If(H)<$.If(N)?H:N;Q.T=c.T;Q.q=c.q;Q.H=c.H;return Q};$.a.liteF=function(H,N,Q){return Math.max(H,N)};
$.a.scrnF=function(H,N,Q){return N+H-N*H};$.a["div F"]=function(H,N,Q){H*=Q;return N==0?0:N>=1-H?1:N/(1-H)};
$.a.lddgF=function(H,N,Q){H*=Q;return Math.min(1,H+N)};$.a.lgClF=function(H,N,Q){var c=$.If(H)>$.If(N)?H:N;
Q.T=c.T;Q.q=c.q;Q.H=c.H;return Q};$.a.overF=function(H,N,Q){return $.a.hLitF(N,H,Q)};$.a.sLitF=function(H,N,Q){return H<=.5?N-(1-2*H)*N*(1-N):N+(2*H-1)*($.a.oI(N)-N)};
$.a.hLitF=function(H,N,Q){return H<=.5?$.a["mul F"](2*H,N,Q):$.a.scrnF(2*H-1,N,Q)};$.a.vLitF=function(H,N,Q){return H<=.5?$.a.tVK(2*H,N,Q):$.a.tHy(2*H-1,N,Q)};
$.a.lLitF=function(H,N,Q){return H<=.5?$.a.lbrnF(2*H,N,Q):$.a.lddgF(2*H-1,N,Q)};$.a.pLitF=function(H,N,Q){return H<=.5?$.a.darkF(2*H,N,Q):$.a.liteF(2*H-1,N,Q)};
$.a.hMixF=function(H,N,Q){if(Q>.99)return H+N<1?0:1;return Math.min(1,Math.max(0,(N+H*Q-Q)/(1-Q+1e-6)))};
$.a.diffF=function(H,N,Q){H*=Q;return Math.abs(H-N)};$.a.smudF=function(H,N,Q){return H+N-2*H*N};$.a.fsubF=function(H,N,Q){return Math.max(N-H,0)};
$.a.fdivF=function(H,N,Q){return Math.min(N/H,1)};$.a["hue F"]=function(H,N,Q){$.YG(H,$.YH(N),Q);$.sg(Q,$.If(N),Q)};
$.a["sat F"]=function(H,N,Q){$.YG(N,$.YH(H),Q);$.sg(Q,$.If(N),Q)};$.a.colrF=function(H,N,Q){$.sg(H,$.If(N),Q)};
$.a["lum F"]=function(H,N,Q){$.sg(N,$.If(H),Q)};$.a.tw$=function(H,N,Q,c,_,O,L,s){var r=N.sj(c).sj(_),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z,Y=N.$,A=c.$,G=$.a.DR,j=$.a.WX,d=new Uint32Array(H.buffer),w=new Uint32Array(Q.buffer);
for(var f=0;f<t;f++){var b=(C+f)*Y+u,F=(T+f)*A+V;for(var n=0;n<e;n++){var J=d[b+n],M=255;if(J>>>24==0)continue;
if(J>>>24==255&&O==1&&s==0){w[F+n]=d[b+n];continue}var Z=w[F+n],P=255*O&255;if(s==0){P=(J>>>24)*O&255;
M=Z>>>24}var y=j[M<<8|P],a=P+y,g=J&255,U=J>>>8&255,D=J>>>16&255,W=Z&255,m=Z>>>8&255,q=Z>>>16&255;w[F+n]=s*(Z>>>24)+(1-s)*a<<24|G[a<<8|$.qi(D*P+q*y)]<<16|G[a<<8|$.qi(U*P+m*y)]<<8|G[a<<8|$.qi(g*P+W*y)]}}};
$.a.tDM=function(H,N,Q,c,_,O){var L=N.sj(c).sj(_),s=Math.max(0,L.x-N.x),r=Math.max(0,L.x-c.x),u=Math.max(0,L.y-N.y),V=Math.max(0,L.y-c.y),C=L.$,T=L.z,e=N.$,t=c.$,Y=$.a.DR,A=$.a.WX,G=new Uint32Array(H.buffer),j=new Uint32Array(Q.buffer),d=Math.floor(Math.random()*16777215),w=0;
for(var f=0;f<T;f++){var b=(u+f)*e+s,F=(V+f)*t+r;for(var n=0;n<C;n++){var J=G[b+n];if(J>>>24==0)continue;
if(J>>24==255&&O==1){j[F+n]=J;continue}var Z=j[F+n],P=(J>>>24)*O*(1/255),M=(Z>>>24)*(1/255),y=M*(1-P),a=P+y,g=J&255,U=J>>>8&255,D=J>>>16&255,W=Z&255,m=Z>>>8&255,q=Z>>>16&255;
w>>>=8;if((n&3)==0)w=$.a.zS(F+n+d);var S=a==0?0:1/a,I=Math.floor(a*(256*255))+(w&255)>>>8,v=Math.floor((D*P+q*y)*S+.5),h=Math.floor((U*P+m*y)*S+.5),i=Math.floor((g*P+W*y)*S+.5);
j[F+n]=I<<24|v<<16|h<<8|i}}};$.a.tcm=function(H,N,Q,c,_,O,L,s){var r=1/255,u=r*O,V=s.VE?1:0,C=s.fill,T=s.style,e=N.sj(c).sj(_),t=Math.max(0,e.x-N.x),Y=Math.max(0,e.x-c.x),A=Math.max(0,e.y-N.y),G=Math.max(0,e.y-c.y),j=e.$,d=e.z,w=N.$,f=c.$,b=new Uint32Array(H.buffer),F=new Uint32Array(Q.buffer);
for(var n=0;n<d;n++){var J=(A+n)*w+t,Z=(G+n)*f+Y;for(var P=0;P<j;P++,J++,Z++){var M=b[J],g=1;if(M>>>24==0)continue;
var y=F[Z],a=O;if(V==0){a=(M>>>24)*u;g=(y>>>24)*r}var U=g*(1-a),D=a+U,W=255/D,m=(M&255)*r,q=(M>>>8&255)*r,S=(M>>>16&255)*r,I=(y&255)*r,v=(y>>>8&255)*r,h=(y>>>16&255)*r,i=T?1:a,JI=((1-g)*a*m+(1-i)*g*I+i*g*L(m,I,(1+a-i)*C))*W,Jx=((1-g)*a*q+(1-i)*g*v+i*g*L(q,v,(1+a-i)*C))*W,Jd=((1-g)*a*S+(1-i)*g*h+i*g*L(S,h,(1+a-i)*C))*W;
D=a*C+g*(1-a*C);var JC=Math.round(D*255);F[Z]=V*(y>>>24)+(1-V)*JC<<24|Jd<<16|Jx<<8|JI}}};$.a.tCL=function(H,N,Q,c,_,O,L,s){var r=1/255,u=r*O,V=N.sj(c).sj(_),C=Math.max(0,V.x-N.x),T=Math.max(0,V.x-c.x),e=Math.max(0,V.y-N.y),t=Math.max(0,V.y-c.y),Y=V.$,A=V.z,G=new Uint32Array(H.buffer),j=new Uint32Array(Q.buffer),d={T:0,q:0,H:0},w={T:0,q:0,H:0},f={T:0,q:0,H:0};
for(var b=0;b<A;b++){var F=(e+b)*N.$+C,n=(t+b)*c.$+T;for(var J=0;J<Y;J++,F++,n++){var Z=G[F],P=j[n],M=O,y=1;
if(s==0){M=(Z>>>24)*u;y=(P>>>24)*r}var a=y*(1-M),g=M+a,U=255/g,D=(Z&255)*r,W=(Z>>>8&255)*r,m=(Z>>>16&255)*r,q=(P&255)*r,S=(P>>>8&255)*r,I=(P>>>16&255)*r;
d.T=D;d.q=W;d.H=m;w.T=q;w.q=S;w.H=I;L(d,w,f);var v=(((1-y)*D+y*f.T)*M+q*a)*U,h=(((1-y)*W+y*f.q)*M+S*a)*U,i=(((1-y)*m+y*f.H)*M+I*a)*U,JI=s*(P>>>24)+(1-s)*Math.round(g*255);
j[n]=JI<<24|i<<16|h<<8|v}}};$.a.LC=function(H){H=H^61^H>>16;H=H+(H<<3);H=H^H>>4;H=H*668265261;H=H^H>>15;
return(H&16777215)*(1/16777215)};$.a.zS=function(H){H=H^61^H>>16;H=H+(H<<3);H=H^H>>4;H=H*668265261;H=H^H>>15;
return H};$.a.tGl=function(H,N,Q,c,_,O,L,s){var r=1/255,u=r*O,V=Math.round(O*(256*256*256/255)),C=N.sj(c).sj(_),T=Math.max(0,C.x-N.x),e=Math.max(0,C.x-c.x),t=Math.max(0,C.y-N.y),Y=Math.max(0,C.y-c.y),A=C.$,G=C.z,j=new Uint32Array(H.buffer),d=new Uint32Array(Q.buffer);
for(var w=0;w<G;w++){var f=(t+w)*N.$+T,b=(Y+w)*c.$+e;for(var F=0;F<A;F++,f++,b++){var n=j[f],J=d[b],Z=s*255+(1-s)*(n>>>24);
if(($.a.zS(f)&16777215)>=Z*V)continue;d[b]=n&16777215|s*(J>>>24)+(1-s)*255<<24}}};$.a.tPi=function(H,N,Q){for(var c=0;
c<H.length;c+=4){var _=Q[c>>>2];if(_==0)continue;var O=_*(1/255),L=1/O,s=N[c],r=N[c+1],u=N[c+2],V=H[c],C=H[c+1],T=H[c+2];
N[c]=Math.min(255,Math.max(0,Math.round((s-(1-O)*V)*L)));N[c+1]=Math.min(255,Math.max(0,Math.round((r-(1-O)*C)*L)));
N[c+2]=Math.min(255,Math.max(0,Math.round((u-(1-O)*T)*L)));N[c+3]=255}};$.a.fX=function(H,N,Q,c,_,O,L,s,r,u){if(u==null)u=!1;
if(_&&!N.v$(O)){var V=$.I(N.f()*4);$.set(V,L);$.Jg(_,O,V,N);_=V;O=N}if(u){if(_==null)$.a.tRM(H,N,Q,c,_,s,r);
else $.a.trm(H,N,Q,c,_,s,r)}else{if(_==null)$.a.tRx(H,N,Q,c,_,s,r);else $.a.ttZ(H,N,Q,c,_,s,r)}};$.a.tRx=function(H,N,Q,c,_,O,L){var s=1/255,r=N.sj(c).sj(O),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z,Y=new Uint32Array(H.buffer),A=new Uint32Array(Q.buffer),G=$.a.DR,j=L*255&255;
for(var d=0;d<t;d++){var w=(C+d)*N.$+u,f=(T+d)*c.$+V;for(var b=0;b<e;b++,w++,f++){var F=Y[w],n=A[f],J=F>>>24,Z=n>>>24,P=$.qi(j*J+(255-j)*Z),M=$.qi(J*j),y=$.qi(Z*(255-j)),a=F&255,g=F>>>8&255,U=F>>>16&255,D=n&255,W=n>>>8&255,m=n>>>16&255,q=M*a+D*y,S=M*g+W*y,I=M*U+m*y;
q=G[P<<8|$.qi(q)];S=G[P<<8|$.qi(S)];I=G[P<<8|$.qi(I)];A[f]=P<<24|I<<16|S<<8|q}}};$.a.tRM=function(H,N,Q,c,_,O,L){var s=1/255,r=N.sj(c).sj(O),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z,Y=new Uint32Array(H.buffer),A=new Uint32Array(Q.buffer),G=$.a.DR,j=L*16777215&16777215;
for(var d=0;d<t;d++){var w=(C+d)*N.$+u,f=(T+d)*c.$+V;for(var b=0;b<e;b++,w++,f++){if(($.a.zS(w)&16777215)<j)A[f]=Y[w]}}};
$.a.ttZ=function(H,N,Q,c,_,O,L){var s=1/255,r=N.sj(c).sj(O),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z,Y=new Uint32Array(H.buffer),A=new Uint32Array(Q.buffer),G=$.a.DR;
for(var j=0;j<t;j++){var d=(C+j)*N.$+u,w=(T+j)*c.$+V;for(var f=0;f<e;f++,d++,w++){var b=_[d]*L&255;if(b==0)continue;
if(b==255){A[w]=Y[d];continue}var F=Y[d],n=A[w],J=F>>>24,Z=n>>>24,P=$.qi(b*J+(255-b)*Z),M=$.qi(J*b),y=$.qi(Z*(255-b)),a=F&255,g=F>>>8&255,U=F>>>16&255,D=n&255,W=n>>>8&255,m=n>>>16&255,q=G[P<<8|$.qi(M*a+D*y)],S=G[P<<8|$.qi(M*g+W*y)],I=G[P<<8|$.qi(M*U+m*y)];
A[w]=P<<24|I<<16|S<<8|q}}};$.a.trm=function(H,N,Q,c,_,O,L){var s=1/255,r=N.sj(c).sj(O),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z,Y=new Uint32Array(H.buffer),A=new Uint32Array(Q.buffer),G=$.a.DR,j=Math.round(L*257);
for(var d=0;d<t;d++){var w=(C+d)*N.$+u,f=(T+d)*c.$+V;for(var b=0;b<e;b++,w++,f++){var F=_[w]*j;if(($.a.zS(w)&65535)<F)A[f]=Y[w]}}};
$.a.Lq=function(H,N,Q,c,_,O,L){var s=1/255,r=N.sj(c).sj(O),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z,Y=new Uint32Array(H.buffer),A=new Uint32Array(Q.buffer),G=Math.floor(Math.random()*c.f()),j=$.a.tDS;
for(var d=0;d<t;d++){var w=(C+d)*N.$+u,f=(T+d)*c.$+V;for(var b=0;b<e;b++){var F=_[w+b]*L;if(F==0)continue;
if(F==255){A[f+b]=Y[w+b];continue}var n=Y[w+b],J=A[f+b],Z=n>>>24,P=J>>>24,M=Z*F*(1/255),y=P*(255-F)*(1/255),a=n&255,g=n>>>8&255,U=n>>>16&255,D=J&255,W=J>>>8&255,m=J>>>16&255,q=$.a.zS(f+b+G),S=Math.floor((M+y)*256+.5)+(q>>>0&255)>>>8,I=S==0?0:256/(M+y),v=a*M+D*y,h=g*M+W*y,i=U*M+m*y,JI=Math.floor(v*I+.5)+(q>>>8&255)>>>8,Jx=Math.floor(h*I+.5)+(q>>>16&255)>>>8,Jd=Math.floor(i*I+.5)+(q>>>21&248)>>>8;
A[f+b]=S<<24|Jd<<16|Jx<<8|JI}}};$.a.tDS=function(H){return Math.floor(H+Math.random())};$.a.sF=function(H,N,Q,c,_,O,L){var s=1/255,r=N.sj(c).sj(O),u=Math.max(0,r.x-N.x),V=Math.max(0,r.x-c.x),C=Math.max(0,r.y-N.y),T=Math.max(0,r.y-c.y),e=r.$,t=r.z;
for(var Y=0;Y<t;Y++){var A=(C+Y)*N.$+u,G=(T+Y)*c.$+V;for(var j=0;j<e;j++,A++,G++){var d=L*_[A]*s;if(d==0)continue;
if(d==1){Q[G]=H[A];continue}Q[G]=H[A]*d+Q[G]*(1-d)}}};$.blur={};$.blur.Zw=function(H){if($.blur.Bt.length<H)$.blur.Bt=$.I(H);
return $.blur.Bt};$.blur.Bt=$.I(0);$.blur.Lf=function(H){if($.blur.Wn.length<H)$.blur.Wn=new Float32Array(H);
return $.blur.Wn};$.blur.Wn=new Float32Array(0);$.blur.ur=function(H,N,Q,c){var _=Q.$,O=Q.z;$.blur.tGa(H,N,_,O,c)};
$.blur.tDU=function(H,N,Q){var c=N.$,_=N.z;$.blur.tGA(H,c,_,Q)};$.blur.Wl=function(H,N,Q,c){var _=Q.$,O=Q.z;
$.blur.tRX(H,N,_,O,c)};$.blur.tcs=function(H,N,Q,c){var _=Q.$,O=Q.z;c=Math.round(c);var L=$.blur.Zw(_*O);
$.sa(H,N);$.blur.BJ(N,L,_,O,c)};$.blur.Lj=function(H,N,Q){var c=N.$,_=N.z;Q=Math.round(Q);var O=$.blur.Zw(c*_*4);
$.blur.BL(H,O,c,_,Q)};$.blur.Wf=function(H,N,Q,c){var _=Q.$,O=Q.z;c=Math.round(c);var L=$.blur.Lf(_*O);
$.sa(H,N);$.blur.Bp(N,L,_,O,c)};$.blur.LK=function(H,N,Q){var c=N.$,_=N.z;Q=Math.round(Q);var O=$.blur.Zw(c*_*4);
$.blur.LY(H,O,c,_,Q);$.sa(O,H)};$.blur.Wj=function(H,N){var Q=Math.sqrt(12*H*H/N+1),c=Math.floor(Q);
if(c%2==0)c--;var _=c+2,O=(12*H*H-N*c*c-4*N*c-3*N)/(-4*c-4),L=Math.round(O),s=[];for(var r=0;r<N;r++)s.push(r<L?c:_);
return s};$.blur.tGa=function(H,N,Q,c,_){var O=$.blur.Wj(_,3),L=$.blur.Zw(Q*c);$.sa(H,N);$.blur.BJ(N,L,Q,c,O[0]-1>>1);
$.blur.BJ(N,L,Q,c,O[1]-1>>1);$.blur.BJ(N,L,Q,c,O[2]-1>>1)};$.blur.tGA=function(H,N,Q,c){var _=$.blur.Wj(c,3),O=$.blur.Zw(N*Q*4);
$.blur.BL(H,O,N,Q,_[0]-1>>1);$.blur.BL(H,O,N,Q,_[1]-1>>1);$.blur.BL(H,O,N,Q,_[2]-1>>1)};$.blur.tRX=function(H,N,Q,c,_){var O=$.blur.Wj(_,3),L=$.blur.Lf(Q*c);
$.sa(H,N);$.blur.Bp(N,L,Q,c,(O[0]-1)/2);$.blur.Bp(N,L,Q,c,(O[1]-1)/2);$.blur.Bp(N,L,Q,c,(O[2]-1)/2)};
$.blur.BJ=function(H,N,Q,c,_){$.blur.tRQ(H,N,Q,c,_);$.blur.tHu(N,H,Q,c,_)};$.blur.BL=function(H,N,Q,c,_){$.blur.LY(H,N,Q,c,_);
$.blur.tDD(N,H,Q,c,_)};$.blur.Bp=function(H,N,Q,c,_){$.blur.tHj(H,N,Q,c,_);$.blur.tLK(N,H,Q,c,_)};$.blur.Wb=[];
$.blur.Bk=function(H){if($.blur.Wb[H])return $.blur.Wb[H];var N=1/(H+H+1),Q=(H+H+1)*256,c=$.I(Q);for(var _=0;
_<Q;_++)c[_]=Math.round(_*N);$.blur.Wb[H]=c;return c};$.blur.tRQ=function(H,N,Q,c,_){var O=1/(_+_+1),L=Q-_-_-1,s=$.blur.Bk(_);
for(var r=0;r<c;r++){var u=r*Q,V=u,C=u+_,T=H[u],e=H[u+Q-1],t=(_+1)*T;for(var Y=0;Y<_;Y++)t+=H[u+Y];for(var Y=0;
Y<=_;Y++){t+=H[C+Y]-T;N[u+Y]=s[t]}C+=_+1;u+=_+1;for(var Y=0;Y<L;Y++){t+=H[C+Y]-H[V+Y];N[u+Y]=s[t]}C+=L;
V+=L;u+=L;for(var Y=Q-_;Y<Q;Y++){t+=e-H[V++];N[u++]=s[t]}}};$.blur.LY=function(H,N,Q,c,_){var O=Q<<2,L=_<<2,s=1/(_+_+1),r=Q-_-_-1,u=r<<2,V=$.blur.Bk(_);
for(var C=0;C<c;C++){var T=C*O,e=T,t=T+L,Y=T+O,A=H[T],G=H[T+1],j=H[T+2],d=H[T+3],w=(_+1)*A,f=(_+1)*G,b=(_+1)*j,F=(_+1)*d;
for(var n=0;n<L;n+=4){w+=H[T+n];f+=H[T+n+1];b+=H[T+n+2];F+=H[T+n+3]}for(var n=0;n<=L;n+=4){w+=H[t]-A;
N[T]=V[w];f+=H[t+1]-G;N[T+1]=V[f];b+=H[t+2]-j;N[T+2]=V[b];F+=H[t+3]-d;N[T+3]=V[F];t+=4;T+=4}for(var n=0;
n<u;n+=4){w+=H[t+n]-H[e+n];N[T+n]=V[w];f+=H[t+n+1]-H[e+n+1];N[T+n+1]=V[f];b+=H[t+n+2]-H[e+n+2];N[T+n+2]=V[b];
F+=H[t+n+3]-H[e+n+3];N[T+n+3]=V[F]}t+=u;e+=u;T+=u;A=H[Y-4];G=H[Y-3];j=H[Y-2];d=H[Y-1];for(var n=Q-_;
n<Q;n++){w+=A-H[e];N[T]=V[w];f+=G-H[e+1];N[T+1]=V[f];b+=j-H[e+2];N[T+2]=V[b];F+=d-H[e+3];N[T+3]=V[F];
e+=4;T+=4}}};$.blur.tHj=function(H,N,Q,c,_){var O=1/(_+_+1),L=Q-_-_-1,s=0,r=0,u=0;for(var V=0;V<c;V++){s=V*Q;
r=s;u=s+_;var C=H[s],T=H[s+Q-1],e=(_+1)*C;for(var t=0;t<_;t++){e+=H[s+t]}for(var t=0;t<=_;t++){e+=H[u++]-C;
N[s++]=e*O}for(var t=0;t<L;t++){e+=H[u+t]-H[r+t];N[s+t]=e*O}u+=L;r+=L;s+=L;for(var t=Q-_;t<Q;t++){e+=T-H[r++];
N[s++]=e*O}}};$.blur.tHu=function(H,N,Q,c,_){var O=1/(_+_+1),L=c-_-_-1,s=$.blur.Bk(_);for(var r=0;r<Q;
r++){var u=r,V=u,C=u+_*Q,T=H[u],e=H[u+Q*(c-1)],t=(_+1)*T;for(var Y=0;Y<_;Y++)t+=H[u+Y*Q];for(var Y=0;
Y<=_;Y++){t+=H[C]-T;N[u]=s[t];C+=Q;u+=Q}for(var Y=0;Y<L;Y++){var A=Y*Q;t+=H[C+A]-H[V+A];N[u+A]=s[t]}V+=L*Q;
C+=L*Q;u+=L*Q;for(var Y=c-_;Y<c;Y++){t+=e-H[V];N[u]=s[t];V+=Q;u+=Q}}};$.blur.tDD=function(H,N,Q,c,_){var O=Q<<2,L=_<<2,s=1/(_+_+1),r=c-_-_-1,u=r<<2,V=$.blur.Bk(_);
for(var C=0;C<Q;C++){var T=C<<2,e=T,t=T+_*O,Y=T+O*(c-1),A=H[T],G=H[T+1],j=H[T+2],d=H[T+3],w=(_+1)*A,f=(_+1)*G,b=(_+1)*j,F=(_+1)*d;
for(var n=0;n<_;n++){var J=T+n*O;w+=H[J];f+=H[J+1];b+=H[J+2];F+=H[J+3]}for(var n=0;n<=_;n++){w+=H[t]-A;
N[T]=V[w];f+=H[t+1]-G;N[T+1]=V[f];b+=H[t+2]-j;N[T+2]=V[b];F+=H[t+3]-d;N[T+3]=V[F];t+=O;T+=O}for(var n=0;
n<r;n++){var Z=n*O;w+=H[t+Z]-H[e+Z];N[T+Z]=V[w];f+=H[t+Z+1]-H[e+Z+1];N[T+Z+1]=V[f];b+=H[t+Z+2]-H[e+Z+2];
N[T+Z+2]=V[b];F+=H[t+Z+3]-H[e+Z+3];N[T+Z+3]=V[F]}e+=r*O;t+=r*O;T+=r*O;A=H[Y];G=H[Y+1];j=H[Y+2];d=H[Y+3];
for(var n=c-_;n<c;n++){w+=A-H[e];N[T]=V[w];f+=G-H[e+1];N[T+1]=V[f];b+=j-H[e+2];N[T+2]=V[b];F+=d-H[e+3];
N[T+3]=V[F];e+=O;T+=O}}};$.blur.tLK=function(H,N,Q,c,_){var O=1/(_+_+1),L=c-_-_-1;for(var s=0;s<Q;s++){var r=s,u=r,V=r+_*Q,C=H[r],T=H[r+Q*(c-1)],e=(_+1)*C;
for(var t=0;t<_;t++)e+=H[r+t*Q];for(var t=0;t<=_;t++){e+=H[V]-C;N[r]=e*O;V+=Q;r+=Q}for(var t=0;t<L;t++){var Y=t*Q;
e+=H[V+Y]-H[u+Y];N[r+Y]=e*O}u+=L*Q;V+=L*Q;r+=L*Q;for(var t=c-_;t<c;t++){e+=T-H[u];N[r]=e*O;u+=Q;r+=Q}}};
$.nH={};$.nH.I=function(H,N,Q,c){var _=[];for(var O=0;O<4;O++)for(var L=0;L<4;L++)_.push(H+Q*L/3,N+c*O/3);
return _};$.nH.LB=function(H,N){var Q=H.slice(0);for(var c=0;c<4;c++)for(var _=0;_<4;_++){var O=2*(c*4+_),L=2*(_*4+(3-c));
if(N){var s=O;O=L;L=s}Q[L]=H[O];Q[L+1]=H[O+1]}return Q};$.nH.tRt=new Float64Array(16);$.nH.drawImage=function(H,N,Q,c,_,O,L){if(L==null)L=!1;
var s=O.$,r=O.z,T=2;_=new Uint32Array(_.buffer);N=new Uint32Array(N.buffer);var u=$.nH.D.Le(H,0,1,0,1,Q,c),V=u.CJ,C=u.cK,e=1/T,t=$.nH.Bs,Y=new Float64Array(2),A=new Uint32Array(30);
for(var G=0;G<r;G++)for(var j=0;j<s;j++){var d=j+O.x+.5,w=G+O.y+.5,f=$.nH.D.tVQ(V,C,d,w,A),M=0,y=0,a=0,g=0;
if(f==0)continue;var b=G*s+j,F=$.nH.oc(H,d,w,V,A,f,!0),n=t[0]*Q,J=t[1]*c;if(L){if(F!=-1&&0<n&&n<Q&&0<J&&J<c){var Z=Math.floor(J)*Q+Math.floor(n);
_[b]=N[Z]}continue}var P=F!=-1&&(1<n&&n<Q-1)&&(1<J&&J<c-1);if(V[F+8]<.95){$.F.ui(n,J,N,Q,c,_,b,0);continue}for(var U=0;
U<T;U++)for(var D=0;D<T;D++){var d=j+O.x+(U+.5)*e,w=G+O.y+(D+.5)*e,F=0;F=$.nH.oc(H,d,w,V,A,f,!0);if(F!=-1){var n=t[0],J=t[1],n=Math.floor(n*Q);
J=Math.floor(J*c);var W=N[J*Q+n],m=W>>>24;M+=(W&255)*m;y+=(W>>>8&255)*m;a+=(W>>>16&255)*m;g+=m}}if(g!=0){var q=1/g;
M=~~(M*q+.5);y=~~(y*q+.5);a=~~(a*q+.5);g=~~(g*e*e+.5);_[b]=g<<24|a<<16|y<<8|M}}};$.nH.Bs=new Float64Array(5*20);
$.nH.tRC=new Uint32Array(5*5*20);$.nH.oc=function(H,N,Q,c,_,O,L){var s=$.nH.Bs,r=$.nH.tRC,u=0,V=0;for(var C=0;
C<O;C++){var T=_[C],e=u;u=$.nH.Wm(H,N,Q,c,T+4,L,s,u);if(u!=e){r[V]=T;V+=5}}if(u==0)return-1;else if(u==5)return r[0];
else{var t=0;for(var C=0;C<u;C+=5)if(s[C+4]<s[t+4])t=C;s[0]=s[t];s[1]=s[t+1];s[2]=s[t+2];s[3]=s[t+3];
return r[t]}};$.nH.uH=new Array(10);$.nH.Wm=function(H,N,Q,c,_,O,L,s){var r=$.nH.uH,u=0,V=0,C=0,T=0,e=0,t=0,Y=0,A=c[_],G=c[_+1],j=c[_+2],d=c[_+3],w=(j-N)*(j-N)+(d-Q)*(d-Q);
for(var f=0;f<5&&w>.05;f++){$.nH.hN(r,0,G);$.nH.uM(r,4,A);$.nH.cM(H,r);u=r[8];V=r[9];$.nH.uM(r,0,G);
$.nH.hN(r,4,A);$.nH.cM(H,r);C=r[8];T=r[9];e=1/(u*T-V*C);t=(j-N)*e;Y=(d-Q)*e;A+=-T*t+C*Y;G+=+V*t-u*Y;
$.nH.qV(H,A,G,r);j=r[8];d=r[9];w=(j-N)*(j-N)+(d-Q)*(d-Q)}if(O&&(A<0||A>1||G<0||G>1||w>.25))return s;
L[s]=A;L[s+1]=G;L[s+2]=j;L[s+3]=d;L[s+4]=u*T-V*C;return s+5};$.nH.apply=function(H,N,Q){var c=Q.x,_=Q.y,O=1/Q.$,L=1/Q.z,s=$.nH.uH;
for(var r=0;r<N.length;r+=2){var u=(N[r]-c)*O,V=(N[r+1]-_)*L;$.nH.qV(H,u,V,s);N[r]=s[8];N[r+1]=s[9]}};
$.nH.qV=function(H,N,Q,c){$.nH.hN(c,0,Q);$.nH.hN(c,4,N);$.nH.cM(H,c)};$.nH.uM=function(H,N,Q){var c=1-Q;
H[N]=-3*(c*c);H[N+1]=3*(c*c)-6*(Q*c);H[N+2]=6*(Q*c)-3*(Q*Q);H[N+3]=3*(Q*Q)};$.nH.hN=function(H,N,Q){var c=1-Q;
H[N]=c*(c*c);H[N+1]=3*Q*(c*c);H[N+2]=3*(Q*Q)*c;H[N+3]=Q*Q*Q};$.nH.cM=function(H,N){var Q=0,c=0,_=0;_=N[0]*N[4];
Q+=H[0]*_;c+=H[1]*_;_=N[0]*N[5];Q+=H[2]*_;c+=H[3]*_;_=N[0]*N[6];Q+=H[4]*_;c+=H[5]*_;_=N[0]*N[7];Q+=H[6]*_;
c+=H[7]*_;_=N[1]*N[4];Q+=H[8]*_;c+=H[9]*_;_=N[1]*N[5];Q+=H[10]*_;c+=H[11]*_;_=N[1]*N[6];Q+=H[12]*_;c+=H[13]*_;
_=N[1]*N[7];Q+=H[14]*_;c+=H[15]*_;_=N[2]*N[4];Q+=H[16]*_;c+=H[17]*_;_=N[2]*N[5];Q+=H[18]*_;c+=H[19]*_;
_=N[2]*N[6];Q+=H[20]*_;c+=H[21]*_;_=N[2]*N[7];Q+=H[22]*_;c+=H[23]*_;_=N[3]*N[4];Q+=H[24]*_;c+=H[25]*_;
_=N[3]*N[5];Q+=H[26]*_;c+=H[27]*_;_=N[3]*N[6];Q+=H[28]*_;c+=H[29]*_;_=N[3]*N[7];Q+=H[30]*_;c+=H[31]*_;
N[8]=Q;N[9]=c};$.nH.D={};$.nH.D.oI=12;$.nH.D.LA=new Uint32Array(50);$.nH.D.tVQ=function(H,N,Q,c,_){var O=0,L=$.nH.D.LA,s=1;
L[0]=0;while(s!=0){var r=L[--s];if(H[r+0]<=Q&&H[r+1]<=c&&Q<H[r+2]&&c<H[r+3]){if(N[r+r+18]==0){_[O]=r;
O++}else{L[s]=N[r+r+18];L[s+1]=N[r+r+19];s+=2}}}return O};$.nH.D.tVO=function(H,N,Q,c,_){var O=0,L=$.nH.D.trZ,s=$.nH.D.LA,r=1,u=0,V=999999999999;
s[0]=0;while(r!=0){var C=s[--r],T=L(Q,c,H[C+0],H[C+1]),e=L(Q,c,H[C+0],H[C+3]),t=L(Q,c,H[C+2],H[C+1]),Y=L(Q,c,H[C+2],H[C+3]),A=Math.min(T,Math.min(e,Math.min(t,Y))),G=Math.max(T,Math.max(e,Math.max(t,Y)));
if(A>V)continue;if(N[C+C+18]==0){if(G<V){V=G;u=C}}else{s[r]=N[C+C+18];s[r+1]=N[C+C+19];r+=2}}_[O]=u;
O++;return O};$.nH.D.trZ=function(H,N,Q,c){return(Q-H)*(Q-H)+(c-N)*(c-N)};$.nH.D.Za=null;$.nH.D.LU=null;
$.nH.D.Le=function(H,N,Q,c,_,O,L){if(O==null){O=1;L=1}$.nH.D.LU=H;if($.nH.D.Za==null){$.nH.D.Za={CJ:new Float64Array(15e3*8),cK:null};
$.nH.D.Za.cK=new Uint32Array($.nH.D.Za.CJ.buffer)}var s=$.nH.D.Za;$.nH.D.qH(H,N,Q,c,_,0,s.CJ,s.cK,0,O,L);
return s};$.nH.D.qH=function(H,N,Q,c,_,O,L,s,r,u,V){var C=$.K.jm(H),T=r,e=$.nH.D.LU,t=(N+Q)/2,Y=(c+_)/2,A=$.nH.uH,G=$.nH.Bs,j=$.nH.tRt,JI,Jx,Jd;
$.nH.qV(e,t,Y,A);var d=A[8],w=A[9];j[0]=t;j[1]=Y;j[2]=d;j[3]=w;$.nH.Wm(e,d+1,w,j,0,!1,G,0);var f=(t-G[0])*u,b=(Y-G[1])*V,F=Math.sqrt(f*f+b*b);
$.nH.Wm(e,d,w+1,j,0,!1,G,0);var n=(t-G[0])*u,J=(Y-G[1])*V,Z=Math.sqrt(n*n+J*J);L[T]=C.x;L[T+1]=C.y;L[T+2]=C.x+C.$;
L[T+3]=C.y+C.z;L[T+4]=t;L[T+5]=Y;L[T+6]=d;L[T+7]=w;L[T+8]=.5*(F+Z);s[T+T+18]=0;s[T+T+19]=0;r+=10;$.nH.hN(A,0,.1);
$.nH.uM(A,4,.1);$.nH.cM(H,A);var P=A[8],M=A[9];$.nH.uM(A,0,.1);$.nH.hN(A,4,.7);$.nH.cM(H,A);var y=A[8],a=A[9];
$.nH.hN(A,0,.8);$.nH.uM(A,4,.8);$.nH.cM(H,A);var g=A[8],U=A[9];$.nH.uM(A,0,.9);$.nH.hN(A,4,.2);$.nH.cM(H,A);
var D=A[8],W=A[9],m=(g-P)*(g-P)+(D-y)*(D-y)+(U-M)*(U-M)+(W-a)*(W-a);if(r>=L.length){console.log("Buffer not long enough");
throw"e"}if(O==$.nH.D.oI||m<2)return r;var q=$.nH.D.LN(H,!0),S=$.K.jm(q[0]),I=$.K.jm(q[1]),v=$.nH.D.LN(H,!1),h=$.K.jm(v[0]),i=$.K.jm(v[1]);
if(S.$+S.z+I.$+I.z<h.$+h.z+i.$+i.z){Jd=!0;JI=q[0];Jx=q[1]}else{Jd=!1;JI=v[0];Jx=v[1]}var JC=(N+Q)/2,JM=(c+_)/2,Jh=N,Jv=c,JW=Q,Ji=_,Jc=N,JT=c,Jy=Q,Jg=_;
if(Jd){JW=Jc=JC}else{Ji=JT=JM}s[T+T+18]=r;r=$.nH.D.qH(JI,Jh,JW,Jv,Ji,O+1,L,s,r,u,V);s[T+T+19]=r;r=$.nH.D.qH(Jx,Jc,Jy,JT,Jg,O+1,L,s,r,u,V);
var Jn=s[T+T+18],Jq=s[T+T+19];L[T]=Math.min(L[Jn],L[Jq]);L[T+1]=Math.min(L[Jn+1],L[Jq+1]);L[T+2]=Math.max(L[Jn+2],L[Jq+2]);
L[T+3]=Math.max(L[Jn+3],L[Jq+3]);return r};$.nH.D.LN=function(H,N){var Q=0,c=0,_=0,O=0,L=0,s=0,r=0,u=0,V=H.slice(0),C=H.slice(0);
for(var T=0;T<4;T++){Q=N?H[T*8+2*0]:H[0*8+2*T];c=N?H[T*8+2*0+1]:H[0*8+2*T+1];_=N?H[T*8+2*1]:H[1*8+2*T];
O=N?H[T*8+2*1+1]:H[1*8+2*T+1];L=N?H[T*8+2*2]:H[2*8+2*T];s=N?H[T*8+2*2+1]:H[2*8+2*T+1];r=N?H[T*8+2*3]:H[3*8+2*T];
u=N?H[T*8+2*3+1]:H[3*8+2*T+1];var e=(Q+_)/2,t=(c+O)/2,Y=(_+L)/2,A=(O+s)/2,G=(L+r)/2,j=(s+u)/2,d=(e+Y)/2,w=(t+A)/2,f=(Y+G)/2,b=(A+j)/2,F=(d+f)/2,n=(w+b)/2;
if(N){V[T*8+2*0]=Q;V[T*8+2*0+1]=c;V[T*8+2*1]=e;V[T*8+2*1+1]=t;V[T*8+2*2]=d;V[T*8+2*2+1]=w;V[T*8+2*3]=F;
V[T*8+2*3+1]=n;C[T*8+2*0]=F;C[T*8+2*0+1]=n;C[T*8+2*1]=f;C[T*8+2*1+1]=b;C[T*8+2*2]=G;C[T*8+2*2+1]=j;C[T*8+2*3]=r;
C[T*8+2*3+1]=u}else{V[0*8+2*T]=Q;V[0*8+2*T+1]=c;V[1*8+2*T]=e;V[1*8+2*T+1]=t;V[2*8+2*T]=d;V[2*8+2*T+1]=w;
V[3*8+2*T]=F;V[3*8+2*T+1]=n;C[0*8+2*T]=F;C[0*8+2*T+1]=n;C[1*8+2*T]=f;C[1*8+2*T+1]=b;C[2*8+2*T]=G;C[2*8+2*T+1]=j;
C[3*8+2*T]=r;C[3*8+2*T+1]=u}}return[V,C]};$.Px={};$.Px.twP=function(H,N,Q){var c=$.Px.tRr(N,Q),_=$.Px.txx(c,H,N,Q);
return{eo:c,NK:_}};$.Px.twx=function(H,N,Q){var c=Math.round(H.length/8),_=new Uint32Array(c),O=new Uint8Array(c),L=new Uint32Array(c);
$.Mw(_,4294967295,0);_[Q]=0;var s=new Hd(c);s.push(Q,_[Q]);var r={eo:H,NK:N,SL:_,cB:O,NL:L,VN:s,tTt:Q};
return r};$.Px.qD=function(H,N){var Q=H.eo,c=H.NK,_=H.SL,O=H.cB,L=H.NL,s=H.VN;while(!s.km()&&(N==null||O[N]==0)){var r=s.pop();
O[r]=1;for(var u=0;u<8;u++){var V=Q[8*r+u];if(V==-1||O[V])continue;var C=_[r]+c[8*r+u];if(s.contains(V)&&C<_[V])s.remove(V,_[V]);
if(!s.contains(V)){_[V]=C;L[V]=r;s.push(V,_[V])}}}};function Hd(H){this.MX=new Uint32Array(H);this.list=[];
this.Cz=0;this.Mn=4294967295}Hd.prototype.km=function(){return this.Cz==0};Hd.prototype.push=function(H,N){var Q=this.list;
if(Q[N]==null)Q[N]=[];Q[N].push(H);this.Cz++;this.MX[H]=Q[N].length-1+1;this.Mn=Math.min(this.Mn,N)};
Hd.prototype.pop=function(){this.Cz--;var H=this.list,N=this.Mn,Q=H[N].pop();if(H[N].length==0)H[N]=null;
this.Ct();this.MX[Q]=0;return Q};Hd.prototype.contains=function(H){return this.MX[H]!=0};Hd.prototype.remove=function(H,N){this.Cz--;
var Q=this.list,c=this.MX[H]-1;if(c==Q[N].length-1)Q[N].pop();else{var _=Q[N].pop();Q[N][c]=_;this.MX[_]=c+1}if(Q[N].length==0)Q[N]=null;
this.MX[H]=0;this.Ct()};Hd.prototype.Ct=function(){if(this.Cz==0){this.Mn=4294967295;return}var H=this.Mn,N=this.list;
while(N[H]==null)H++;this.Mn=H};$.Px.tCx=function(H,N,Q){var c=new Float32Array(N*Q);for(var _=0;_<Q;
_++)for(var O=0;O<N;O++){var L=_*N+O,s=-16*H[L];if(1<O&&O<N-2&&1<_&&_<Q-2){s+=H[L-N-N];s+=H[L-N-1]+2*H[L-N]+H[L-N+1];
s+=H[L-2]+2*H[L-1]+2*H[L+1]+H[L+2];s+=H[L+N-1]+2*H[L+N]+H[L+N+1];s+=H[L+N+N]}c[L]=s/16}return c};$.Px.tPZ=function(H,N,Q){var c=new Float32Array(N*Q),_=0,O=0;
for(var L=0;L<Q;L++)for(var s=0;s<N;s++){var r=0,u=0;if(0<s&&s<N-1)r=H[_+1]-H[_-1];if(0<L&&L<Q-1)u=H[_+N]-H[_-N];
c[_]=Math.sqrt(r*r+u*u);if(c[_]>O)O=c[_];_++}var V=N*Q,C=O==0?0:1/O;for(var _=0;_<V;_++)c[_]=1-c[_]*C;
return c};$.Px.txT=function(H,N,Q){var c=new Float32Array(N*Q*2),_=0;for(var O=0;O<Q;O++)for(var L=0;
L<N;L++){var s=0,r=0;if(0<L&&L<N-1&&0<O&&O<Q-1){s=2*H[_+1]-2*H[_-1];r=2*H[_+N]-2*H[_-N]}var u=Math.sqrt(s*s+r*r);
if(u!=0){c[2*_]=s/u;c[2*_+1]=r/u}else{c[2*_]=s;c[2*_+1]=r}_++}return c};$.Px.txx=function(H,N,Q,c){var _=$.Px.tCx(N,Q,c),O=$.Px.tPZ(N,Q,c),L=$.Px.txT(N,Q,c),s=256,r=new Float32Array(s);
for(var u=0;u<s;u++)r[u]=Math.acos(-1+2*u/(s-1));var V=[-1,0,1,1,1,0,-1,-1],C=[-1,-1,-1,0,1,1,1,0],T=1/Math.sqrt(2),e=new Uint8Array(Q*c*8),t=Q*c;
for(var Y=0;Y<t;Y++){var A=_[Y],G=L[2*Y+1],j=-L[2*Y];for(var d=0;d<8;d++){var w=8*Y+d,f=H[w];if(f==-1)e[w]=-1;
else{var b=(d&1)==0,F=A*_[f]>=0?0:1,n=O[f]*(b?1:T),J=1,Z=L[2*f+1],P=-L[2*f];if(!(G==0&&j==0||Z==0&&P==0)){var M=V[d],y=C[d];
if(G*V[d]+j*C[d]<0){M=-M;y=-y}if(b){M*=T;y*=T}var a=G*M+j*y,g=Z*M+P*y,U=2/(3*Math.PI)*(r[Math.floor((.5+.5*a)*(s-1))]+r[Math.floor((.5+.5*g)*(s-1))]);
J=U}var D=Math.round(20*(.43*F+.43*J+.14*n));e[w]=Math.max(1,Math.min(255,D))}}}console.log(e);return e};
$.Px.tRr=function(H,N){var Q=new Int32Array(H*N*8),c=Q,_=0,O=0;c.fill(-1);for(var L=0;L<N;L++)for(var s=0;
s<H;s++){if(L>0&&s>0)c[O+0]=_-H-1;if(L>0)c[O+1]=_-H;if(L>0&&s<H-1)c[O+2]=_-H+1;if(s<H-1)c[O+3]=_+1;if(L<N-1&&s<H-1)c[O+4]=_+H+1;
if(L<N-1)c[O+5]=_+H;if(L<N-1&&s>0)c[O+6]=_+H-1;if(s>0)c[O+7]=_-1;_++;O+=8}return Q};$.HW={};$.HW.tPo=function(H,N){var Q=H.slice(0);
for(var c=0;c<H.length;c++)Q[c]*=N;return Q};$.HW.Cr=function(H){var N=H.slice(0),Q=0;for(var c=0;c<H.length;
c++)Q+=H[c];for(var c=0;c<H.length;c++)N[c]/=Q;return N};$.HW.zV=function(H,N,Q,c,_,O,L){var s=O-1>>1,r=new Uint32Array(H.buffer),N=new Uint8ClampedArray(N.buffer);
for(var u=0;u<c;u++)for(var V=0;V<Q;V++){var C=0,T=0,e=0,t=0;for(var Y=0;Y<O;Y++)for(var A=0;A<O;A++){var G=_[Y*O+A];
if(G==0)continue;var j=Math.min(Q-1,Math.max(0,V-s+A)),d=Math.min(c-1,Math.max(0,u-s+Y)),w=r[d*Q+j];
C+=(w&255)*G;T+=(w>>8&255)*G;e+=(w>>16&255)*G;t+=(w>>24&255)*G}if(C<0)C=-C;if(T<0)T=-T;if(e<0)e=-e;if(t<0)t=-t;
var f=u*Q+V<<2;N[f]=~~(.5+C);N[f+1]=~~(.5+T);N[f+2]=~~(.5+e);N[f+3]=255-L&N[f+3]|L&~~(.5+t)}};$.HW.gr=function(H,N,Q,c,_,O,L,s){if(O<=10)$.HW.tRs(H,N,Q,c,_,O,L,s);
else $.HW.tRo(H,N,Q,c,_,O,L,s)};$.HW.tRo=function(H,N,Q,c,_,O,L,s){var r=0,u=new Uint32Array(16),V=new Uint32Array(256),C=new Uint32Array(1*c),T=new Uint32Array(16*c),e=new Uint32Array(256*c),t=Math.min(O,c),Y=Math.min(O,_);
for(var A=0;A<Y;A++)$.HW.zJ(e,T,C,H,N,c,A);for(var A=0;A<_;A++){if(A+O<_)$.HW.zJ(e,T,C,H,N,c,A+O);if(A-O-1>=0)$.HW.twL(e,T,C,H,N,c,A-O-1);
$.set(V,0);$.set(u,0);r=0;for(var G=0;G<t;G++){$.HW.CH(V,u,e,T,G);r+=C[G]}for(var G=0;G<c;G++){if(G+O<c&&C[G+O]!=0){r+=C[G+O];
$.HW.CH(V,u,e,T,G+O)}if(G-O-1>=0&&C[G-O-1]!=0){r-=C[G-O-1];$.HW.tcu(V,u,e,T,G-O-1)}var j=r==0?0:L(V,u,H[A*c+G],r,s);
Q[A*c+G]=j}}};$.HW.tRs=function(H,N,Q,c,_,O,L,s){var r=0,u=new Uint32Array(16),V=new Uint32Array(256);
for(var C=0;C<_;C++){$.set(V,0);$.set(u,0);r=0;var T=Math.max(C-O,0),e=Math.min(_,C+O+1);for(var t=0;
t<O;t++)r+=$.HW.qc(V,u,H,N,T*c+t,c,e*c+t,1);for(var t=0;t<c;t++){if(t+O<c)r+=$.HW.qc(V,u,H,N,T*c+t+O,c,e*c+t+O,1);
if(t-O-1>=0)r+=$.HW.qc(V,u,H,N,T*c+t-O-1,c,e*c+t-O-1,-1);var Y=r==0?0:L(V,u,H[C*c+t],r,s);Q[C*c+t]=Y}}};
$.HW.qc=function(H,N,Q,c,_,O,L,s){var r=0;while(_<L){var u=c[_]*s,V=Q[_];H[V]+=u;N[V>>>4]+=u;r+=u;_+=O}return r};
$.HW.t$V=function(H,N,Q,c,_){var O=15;while(N[O]==0&&O>0)O--;O=(O<<4)+15;while(H[O]==0&&O>0)O--;return O};
$.HW.tJq=function(H,N,Q,c,_){var O=0;while(N[O]==0&&O<15)O++;O=O<<4;while(H[O]==0&&O<255)O++;return O};
$.HW.tHG=function(H,N,Q,c,_){var O=c>>>1,L=0,s=0;while(L<=O)L+=N[s++];if(s>0){s--;L-=N[s]}s=s<<4;while(L<=O)L+=H[s++];
return s-1};$.HW.ug=function(H,N,Q,c,_){var O=_[0],L=0,s=0,r=Math.max(0,Q-O),u=Math.min(256,Q+O+1);while(r<u){L+=r*H[r];
s+=H[r];r++}return s==0?0:L/s};$.HW.zJ=function(H,N,Q,c,_,O,L){var s=L*O;for(var r=0;r<O;r++,s++){var u=_[s],V=c[s];
H[r<<8|V]+=u;N[r<<4|V>>>4]+=u;Q[r]+=u}};$.HW.twL=function(H,N,Q,c,_,O,L){var s=L*O;for(var r=0;r<O;r++,s++){var u=_[s],V=c[s];
H[r<<8|V]-=u;N[r<<4|V>>>4]-=u;Q[r]-=u}};$.HW.vc=function(H){var N=H.length,Q=0;for(var c=0;c<N;c++)Q+=H[c];
return Q};$.HW.CH=function(H,N,Q,c,_){for(var O=0;O<16;O++){if(c[_<<4|O]==0)continue;N[O]+=c[_<<4|O];
var L=O<<4,s=_<<8|L;H[L]+=Q[s];H[L+1]+=Q[s+1];H[L+2]+=Q[s+2];H[L+3]+=Q[s+3];H[L+4]+=Q[s+4];H[L+5]+=Q[s+5];
H[L+6]+=Q[s+6];H[L+7]+=Q[s+7];H[L+8]+=Q[s+8];H[L+9]+=Q[s+9];H[L+10]+=Q[s+10];H[L+11]+=Q[s+11];H[L+12]+=Q[s+12];
H[L+13]+=Q[s+13];H[L+14]+=Q[s+14];H[L+15]+=Q[s+15]}};$.HW.tcu=function(H,N,Q,c,_){for(var O=0;O<16;O++){if(c[_<<4|O]==0)continue;
N[O]-=c[_<<4|O];var L=O<<4,s=_<<8|L;H[L]-=Q[s];H[L+1]-=Q[s+1];H[L+2]-=Q[s+2];H[L+3]-=Q[s+3];H[L+4]-=Q[s+4];
H[L+5]-=Q[s+5];H[L+6]-=Q[s+6];H[L+7]-=Q[s+7];H[L+8]-=Q[s+8];H[L+9]-=Q[s+9];H[L+10]-=Q[s+10];H[L+11]-=Q[s+11];
H[L+12]-=Q[s+12];H[L+13]-=Q[s+13];H[L+14]-=Q[s+14];H[L+15]-=Q[s+15]}};$.F={};$.F.Cw=function(H){var N=l._.HV(H.Trnf),Q=H.Sz.v,c=$.F.tn(N,new p(0,0,Q.Wdth.v,Q.Hght.v));
return $.F.od(c)};$.F.tn=function(H,N){var H=H.slice(0),Q=H[0],c=H[1],_=H[2],O=H[3],L=H[6],s=H[7],r=H[4],u=H[5],V=0,C=0,T=1,e=0,t=0,Y=1,A=1,G=1;
if(N){V=N.x;C=N.y;T=N.x+N.$;e=N.y;t=N.x;Y=N.y+N.z;A=N.x+N.$;G=N.y+N.z}var j=[[V,C,1,0,0,0,-V*Q,-C*Q,Q],[0,0,0,V,C,1,-V*c,-C*c,c],[T,e,1,0,0,0,-T*_,-e*_,_],[0,0,0,T,e,1,-T*O,-e*O,O],[t,Y,1,0,0,0,-t*L,-Y*L,L],[0,0,0,t,Y,1,-t*s,-Y*s,s],[A,G,1,0,0,0,-A*r,-G*r,r],[0,0,0,A,G,1,-A*u,-G*u,u]],d=[0,0,0,0,0,0,0,0],w=$.kv.WK.UU(j,d);
if(w!=0)d=[0,0,0,0,0,0,0,0];return d};$.F.CI=function(H){return Math.abs(H[6])<1e-10&&Math.abs(H[7])<1e-10};
$.F.od=function(H){return new Jo(H[0],H[3],H[1],H[4],H[2],H[5])};$.F.Wq=function(H){return[H.o,H.lA,H.DX,H.H,H.KI,H.Ug,0,0]};
$.F.apply=function(H,N){var Q=new Float64Array(2);for(var c=0;c<N.length;c+=2){var _=N[c],O=N[c+1];$.F.LH(_,O,H,Q);
N[c]=Q[0];N[c+1]=Q[1]}};$.F.LH=function(H,N,Q,c){var _=1/(Q[6]*H+Q[7]*N+1);c[0]=(Q[0]*H+Q[1]*N+Q[2])*_;
c[1]=(Q[3]*H+Q[4]*N+Q[5])*_};$.F.Cy=function(H,N){var Q=new Float64Array(2);$.F.LH(N.x,N.y,H,Q);return new E(Q[0],Q[1])};
$.F.zC=function(H,N,Q,c){H=new Uint32Array(H.buffer);N=new Uint32Array(N.buffer);for(var _=0;_<c;_++){for(var O=0;
O<Q;O++){N[O*c+_]=H[_*Q+O]}}};$.F.CD=function(H){return Math.abs(H[6])<1e-9&&Math.abs(H[7])<1e-9};$.F.Cc=function(H){return Math.abs(H[0])<1e-9&&Math.abs(H[4])<1e-9||Math.abs(H[1])<1e-9&&Math.abs(H[3])<1e-9};
$.F.drawImage=function(H,N,Q,c,_,O,L,s){if(L==null)L=!1;if(s==null)s=!1;var r=$.F.UK(H),u=!0,V=0;for(var C=0;
C<8;C++){var T=Math.round(H[C]);if(C!=2&&C!=5)V+=Math.abs(T);if(Math.abs(T-H[C])>1e-9)u=!1}var e=$.F.CD(H),t=$.F.Cc(H)&&e;
if(L||u&&V==Q+c&&e){$.F.tLR(r,N,Q,c,_,O,s);return}var Y=O.$,A=O.z,G=new Float64Array(2);_=new Uint32Array(_.buffer);
N=new Uint32Array(N.buffer);for(var j=0;j<A;j++)for(var d=0;d<Y;d++){var w=j*Y+d,M=0,y=0,m=0,q=0,S=0,I=0;
_[w]=0;var f=d+O.x+.5,b=j+O.y+.5;$.F.LH(f,b,r,G);var F=G[0],n=G[1],J=F*Q,Z=n*c,P=J<-1||J>Q+1||Z<-1||Z>c+1;
if(s){J=Math.max(.001,Math.min(Q-1,J));Z=Math.max(.001,Math.min(c-1,Z))}else if(P)continue;$.F.LH(F+1/Q,n,H,G);
M=G[0]-f;y=G[1]-b;var a=M*M+y*y;$.F.LH(F,n+1/c,H,G);M=G[0]-f;y=G[1]-b;var g=M*M+y*y,U=1/Math.sqrt(Math.max(a,g));
if(U<.8){$.F.ui(J,Z,N,Q,c,_,w,t?1:0);continue}var D=Math.round(U*3);if(!s&&(J<.6||J>Q-.6||Z<.6||Z>c-.6)){D=Math.max(D,5)}if(s&&P)D=1;
var W=1/D;for(var C=0;C<D;C++)for(var v=0;v<D;v++){var h=d+O.x+(C+.5)*W,i=j+O.y+(v+.5)*W;$.F.LH(h,i,r,G);
var J=G[0],Z=G[1];if(s){J=Math.max(.001,Math.min(.999,J));Z=Math.max(.001,Math.min(.999,Z))}else if(J<0||J>=1||Z<0||Z>=1)continue;
J=Math.floor(J*Q);Z=Math.floor(Z*c);var JI=Z*Q+J,Jx=N[JI],Jd=Jx>>>24;m+=(Jx&255)*Jd;q+=(Jx>>>8&255)*Jd;
S+=(Jx>>>16&255)*Jd;I+=Jd}if(I!=0){var JC=1/I;m=~~(m*JC+.5);q=~~(q*JC+.5);S=~~(S*JC+.5);I=~~(I*W*W+.5);
_[w]=I<<24|S<<16|q<<8|m}}};$.F.tLR=function(H,N,Q,c,_,O,L){var s=O.x+O.$,r=O.y+O.z,u=0,V=new Uint32Array(_.buffer),C=new Uint32Array(N.buffer),T=H[0]*Q,e=H[1]*Q,t=H[2]*Q,Y=H[3]*c,A=H[4]*c,G=H[5]*c,j=H[6],d=H[7];
for(var w=O.y+.5;w<r;w++)for(var f=O.x+.5;f<s;f++){var b=1/(j*f+d*w+1),F=(T*f+e*w+t)*b,n=(Y*f+A*w+G)*b;
if(L){F=Math.max(.001,Math.min(Q-1,F));n=Math.max(.001,Math.min(c-1,n))}if(0<F&&F<Q&&0<n&&n<c){var J=Math.floor(n)*Q+Math.floor(F);
V[u]=C[J]}else V[u]=0;u++}};$.F.UK=function(H){var N=H[4]-H[5]*H[7],Q=H[2]*H[7]-H[1],c=H[1]*H[5]-H[2]*H[4],_=H[5]*H[6]-H[3],O=H[0]-H[2]*H[6],L=H[3]*H[2]-H[0]*H[5],s=H[3]*H[7]-H[4]*H[6],r=H[1]*H[6]-H[0]*H[7],u=1/(H[0]*H[4]-H[1]*H[3]);
return[N*u,Q*u,c*u,_*u,O*u,L*u,s*u,r*u]};$.F.NE=function(H,N){var Q=H[0],c=H[1],_=H[2],O=H[3],L=H[4],s=H[5],r=H[6],u=H[7],V=N[0],C=N[1],T=N[2],e=N[3],t=N[4],Y=N[5],A=N[6],G=N[7],j=[Q*V+c*e+_*A,Q*C+c*t+_*G,Q*T+c*Y+_,O*V+L*e+s*A,O*C+L*t+s*G,O*T+L*Y+s,r*V+u*e+A,r*C+u*t+G],d=1/(r*T+u*Y+1);
for(var w=0;w<8;w++)j[w]*=d;return j};$.F.ui=function(H,N,Q,c,_,O,L,s){var r=H,u=N,T=0,e=0,t=0,Y=0;H-=.499999;
N-=.499999;var V=Math.floor(H),C=Math.floor(N);if(s==0){var A=C*c+V,G=V>=0&&V<c,j=V+1>=0&&V+1<c,d=C>=0&&C<_,w=C+1>=0&&C+1<_;
if(G&&d)T=Q[A];if(j&&d)e=Q[A+1];if(G&&w)t=Q[A+c];if(j&&w)Y=Q[A+c+1]}else if(s==1){var f=V<0?0:V>c-1?c-1:V,b=V<-1?0:V>c-2?c-1:V+1,F=C<0?0:C>_-1?_-1:C,n=C<-1?0:C>_-2?_-1:C+1;
T=Q[F*c+f];e=Q[F*c+b];t=Q[n*c+f];Y=Q[n*c+b]}else{var f=(V+c)%c,b=(V+1+c)%c,F=(C+_)%_,n=(C+1+_)%_;T=Q[F*c+f];
e=Q[F*c+b];t=Q[n*c+f];Y=Q[n*c+b]}var J=H-V,Z=N-C,P=(1-Z)*(1-J)*(T>>>24),M=(1-Z)*J*(e>>>24),y=Z*(1-J)*(t>>>24),a=Z*J*(Y>>>24),g=P+M+y+a,U=P*(T&255)+M*(e&255)+y*(t&255)+a*(Y&255),D=P*(T>>>8&255)+M*(e>>>8&255)+y*(t>>>8&255)+a*(Y>>>8&255),W=P*(T>>>16&255)+M*(e>>>16&255)+y*(t>>>16&255)+a*(Y>>>16&255);
if(g==0)O[L]=0;else{var m=1/g;U=~~(U*m+.5);D=~~(D*m+.5);W=~~(W*m+.5);g=~~(g+.5);O[L]=g<<24|W<<16|D<<8|U}};
$.F.CL=function(H,N,Q,c,_,O,L,s,r,u,V,C){var T=new Uint32Array(H.buffer),e=new Uint32Array(c.buffer),t=(1+2*u)/_,Y=[],A=[];
for(var G=0;G<_;G++){var j=-.25+u-G*t;Y.push(Math.cos(2*Math.PI*j)*C/V);Y.push(Math.sin(2*Math.PI*j)/V)}L*=N;
s*=Q;for(var d=0;d<O;d++){var w=Math.pow(d/O,r)*O;for(var G=0;G<_;G++){var f=L+Y[G<<1]*w,b=s+Y[(G<<1)+1]*w,F=~~(.5+(f<0?0:f>N-1?N-1:f)),n=~~(.5+(b<0?0:b>Q-1?Q-1:b));
e[d*_+G]=T[n*N+F]}}};$.F.CC=function(H,N,Q,c,_,O,L,s,r,u,V,C){var T=new Uint32Array(H.buffer),e=new Uint32Array(c.buffer),t=1/C,Y=[],A=Q*4,G=1/A;
for(var j=0;j<A;j++)Y.push(Math.pow(j*G,1/r)*Q*V);L*=_;s*=O;for(var j=0;j<O;j++)for(var d=0;d<_;d++){var w=t*(d-L),f=j-s,b=1.75-Math.atan2(f,w)*(1/(2*Math.PI));
b=b-~~b;b=(b+u)*(1/(1+2*u));var F=Math.sqrt(w*w+f*f);F=Y[~~(F*4)];$.F.ui(b*N+.5,F+.5,T,N,Q,e,j*_+d,1)}};
$.e={};$.e.tPX=function(H,N){return H+.5};$.e.tPK=function(H,N){return 2*Math.sqrt(H*H+N*N)};$.e.tP_=function(H,N){return(Math.PI+Math.atan2(-N,-H))/(2*Math.PI)};
$.e.tdV=function(H,N){return Math.abs(H*2)};$.e.tdr=function(H,N){return 2*(Math.abs(H)+Math.abs(N))};
$.e.AH=function(H,N,Q,c,_,O,L,s,r,u,V){var C=Q.$,T=Q.z,e=Q.x,t=Q.y,Y=c[0],A=c[1],G=c[2],j=c[3],f=512;
if(H.Clrs==null)return;var d=$.e.zp(H.Clrs.v,r,u),w=L?0:1,b=$.e.CT(H,d,f),F=new Uint8Array(b.buffer),n=new Uint32Array(N.buffer);
if(s<5){for(var J=0,Z=0;J<T;J++)for(var P=0;P<C;P++,Z+=4){var M=P-_+e,y=J-O+t,a=Y*M+A*y,g=G*M+j*y,U=0;
if(s==0)U=a+.5;else if(s==1)U=2*Math.sqrt(a*a+g*g);else if(s==2)U=(Math.PI+Math.atan2(-g,-a))/(2*Math.PI);
else if(s==3)U=Math.abs(a*2);else if(s==4)U=2*(Math.abs(a)+Math.abs(g));U=w*U+(1-w)*(1-U);var D=Math.max(0,Math.min(f-1,Math.round(U*f)))<<2;
N[Z]=F[D];N[Z+1]=F[D+1];N[Z+2]=F[D+2];N[Z+3]=F[D+3]}}else{var W=V.uA-V.oG,m=1/W,q=V.EK.$-Q.$>>1,S=V.EK.z-Q.z>>1,I=V.EK.$,v=-.6*m,h=(-.6+.4)*m,i=(-.6+2*.4)*m,JI=(-.6+3*.4)*m;
for(var J=0,Z=0;J<T;J++)for(var P=0;P<C;P++,Z+=4){var Jx=0,Jd=0,JC=0,JM=0,Jh=(J+S)*I+P+q,U=(V.TR[Jh]-V.oG)*m,D=0;
U=w*U+(1-w)*(1-U);if(U<=0||U>=1){D=(U<=0?0:f-1)<<2;N[Z]=F[D];N[Z+1]=F[D+1];N[Z+2]=F[D+2];N[Z+3]=F[D+3];
continue}D=Math.max(0,Math.min(f-1,Math.round((U+v)*f)))<<2;Jd+=F[D];JC+=F[D+1];JM+=F[D+2];Jx+=F[D+3];
D=Math.max(0,Math.min(f-1,Math.round((U+h)*f)))<<2;Jd+=F[D];JC+=F[D+1];JM+=F[D+2];Jx+=F[D+3];D=Math.max(0,Math.min(f-1,Math.round((U+i)*f)))<<2;
Jd+=F[D];JC+=F[D+1];JM+=F[D+2];Jx+=F[D+3];D=Math.max(0,Math.min(f-1,Math.round((U+JI)*f)))<<2;Jd+=F[D];
JC+=F[D+1];JM+=F[D+2];Jx+=F[D+3];N[Z]=Jd>>2;N[Z+1]=JC>>2;N[Z+2]=JM>>2;N[Z+3]=Jx>>2}}};$.e.zp=function(H,N,Q){var c=[];
for(var _=0;_<H.length;_++){var O;if(H[_].v.Type.v.Clry=="FrgC")O={T:N>>16&255,q:N>>8&255,H:N&255};else if(H[_].v.Type.v.Clry=="BckC")O={T:Q>>16&255,q:Q>>8&255,H:Q&255};
else O=$.e.NG(H[_].v.Clr.v);c.push(O)}return c};$.e.NG=function(H){var N,Q=H.classID;if(Q=="RGBC")N={T:H.Rd.v,q:H.Grn.v,H:H.Bl.v};
else if(Q=="HSBC"){N=$.pq(H.H.v.val/360,H.Strt.v/100,H.Brgh.v/100);N.T*=255;N.q*=255;N.H*=255}else if(Q=="CMYC"){var c=100-H.Cyn.v,_=100-H.Mgnt.v,O=100-H.Ylw.v,L=100-H.Blck.v,s=255*c*L*1e-4,r=255*(.2*c+.8*_)*L*1e-4,u=255*(.2*_+.8*O)*L*1e-4;
N={T:s,q:r,H:u}}else if(Q=="Grsc")N={T:255-H.Gry.v,q:255-H.Gry.v,H:255-H.Gry.v};else console.log(H);
return N};$.e.Ta=function(H){return{classID:"RGBC",Rd:{t:"doub",v:H.T},Grn:{t:"doub",v:H.q},Bl:{t:"doub",v:H.H}}};
$.e.CT=function(H,N,Q){var c=new Uint32Array(Q),_=1/(Q-0);for(var O=0;O<Q;O++)c[O]=$.e.rz(H,N,O*_);return c};
$.e.rz=function(H,N,Q){var c=H.Intr.v/4096,_=4096,O=1/_,L=H.Clrs.v.length-1,s=H.Trns.v.length-1,r=-1,u=0,V=0,C=0,T=0;
while(r<s&&H.Trns.v[r+1].v.Lctn.v<=Q*_)r++;if(r==-1){u=H.Trns.v[0].v.Opct.v.val*(255/100)}else if(r==s){u=H.Trns.v[r].v.Opct.v.val*(255/100)}else{var e=$.e.CP(H.Trns.v,O,r,Q,c);
u=(e*H.Trns.v[r].v.Opct.v.val+(1-e)*H.Trns.v[r+1].v.Opct.v.val)*(255/100)}r=-1;while(r<L&&H.Clrs.v[r+1].v.Lctn.v<=Q*_)r++;
if(r==-1){var t=N[0];V=t.T;C=t.q;T=t.H}else if(r==L){var t=N[r];V=t.T;C=t.q;T=t.H}else{var Y=N[r],A=N[r+1],G=$.e.CP(H.Clrs.v,O,r,Q,c);
V=G*Y.T+(1-G)*A.T;C=G*Y.q+(1-G)*A.q;T=G*Y.H+(1-G)*A.H}u+=.5;V+=.5;C+=.5;T+=.5;return u<<24|T<<16|C<<8|V};
$.e.CP=function(H,N,Q,c,_){if(H.length==2)_*=.5;var O=H[Q].v.Lctn.v*N,L=H[Q+1].v.Lctn.v*N,s=O+H[Q+1].v.Mdpn.v*.01*(L-O),r;
if(c<s)r=.5*(c-O)/(s-O);else r=.5+.5*(c-s)/(L-s);r=.5+.5*(_*Math.cos(Math.PI*r)+(1-_)*(1-2*r));return r};
$.e.qL=function(H,N){var Q=Math.PI*H.Angl.v.val/180,c=H.Scl.v.val/100,_=H.Ofst.v,O=_.Hrzn.v.val/100,L=_.Vrtc.v.val/100,s=Math.cos(Q),r=-Math.sin(Q),u=.5*N.z,V=u*(s/r),C=Math.sqrt(u*u+V*V),T=.5*N.$,e=T*(r/s),t=Math.sqrt(T*T+e*e),Y=Math.min(C,t)*c,A=N.x+N.$/2+O*N.$,G=N.y+N.z/2+L*N.z;
return[new E(A,G),new E(A+s*Y,G+r*Y)]};$.e.qa=function(H,N,Q,c){var _=N.x-H.x,O=-(N.y-H.y),L=Math.sqrt(_*_+O*O),s=Math.atan2(O,_),r=Math.cos(s),u=-Math.sin(s),V=.5*Q.z,C=V*(r/u),T=Math.sqrt(V*V+C*C),e=.5*Q.$,t=e*(u/r),Y=Math.sqrt(e*e+t*t),A=L/Math.min(T,Y),G=(H.x-Q.x-Q.$/2)/Q.$,j=(H.y-Q.y-Q.z/2)/Q.z;
c.Angl.v.val=180*s/Math.PI;c.Scl.v.val=A*100;var d=c.Ofst.v;d.Hrzn.v.val=G*100;d.Vrtc.v.val=j*100};$.e.zO=function(H,N){for(var Q=0;
Q<H.length;Q++){var c=H[Q],_=Math.round(c[0]*4096),O=c[1],L=c[2];if(L==null)L=1;var s=$.e.Ta({T:O[0]*255,q:O[1]*255,H:O[2]*255});
N.Clrs.v[Q]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:_},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:s},Type:{t:"enum",v:{Clry:"UsrS"}}}};
N.Trns.v[Q]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:_},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(L*100)}}}}}};
$.te={};$.te.zZ=function(H,N,Q,c,_){var O=!1,t=1,a=0,g=0,v=0,Jn=0;if(!N.pk(_)){var L=N.Fv(_),s=$.I(L.f()*4);
$.Pg(H,N,s,L);H=s;N=L}var r=$.I(N.f());$.Jg(Q,_,r,N);$.round(r);_=_.sj(N);var u=_.$,V=_.z,C=u*3<V?2:1,T=V*3<u?2:1;
if(_.f()*(C*2+1)*(T*2+1)<N.f()){var L=new p(_.x-u*C,_.y-V*C,u*(C*2+1),V*(T*2+1)).sj(N),s=$.I(L.f()*4);
$.Pg(H,N,s,L);var e=$.I(L.f());$.Jg(r,N,e,L);N=L;H=s;r=e}while((N.$+N.z)/2/t>400)t++;var Y=H,A=N,G=r,j=Math.floor(A.$/t),d=Math.floor(A.z/t);
H=$.I(j*d*4);$.scale.ke(Y,A.$,A.z,H,j,d,1/t);r=$.I(j*d);$.scale.in(G,A.$,A.z,r,j,d,1/t);$.round(r,1);
var w=$.hV(r,new p(0,0,j,d));if(w.km())return;var f=Math.round((w.$+w.z)/2/15),b=Date.now(),F=$.I(j*d*4);
$.trq(H,F);var n=Int16Array,J=new n(j*d*24),Z=new n(64),P=new n(64),M=new n(64),y=new n(64);for(var U=3;
U<d-4;U++)for(var D=3;D<j-4;D++){var W=U*j+D;if(r[W]==255)continue;if($.te.tJd(F,r,D,U,j,d,Z,P,M)!=0)continue;
$.te.qA(Z,y);J[a]=D;J[a+1]=U;$.te.sa(Z,J,a+4,12);a+=16;$.te.qA(P,y);$.te.sa(P,J,a,4);a+=4;$.te.qA(M,y);
$.te.sa(M,J,a,4);a+=4;var m=J[a-24+5],q=J[a-24+6];J[a-24+5]=J[a-24+20];J[a-24+6]=J[a-24+16];J[a-24+16]=m;
J[a-24+20]=q;g++}if(g==0)return;if(O)console.log(Date.now()-b,"FWHT computed");b=Date.now();var S=[];
$.te.qS(0,g-1,S,J,new n(2*24));if(O)console.log(Date.now()-b,"KD tree computed");b=Date.now();var I=new Float32Array(j*d*4);
for(var h=0;h<g;h++){var i=h,JI=$.te.t$W(i,J,S,f);if(JI==-1)continue;var Jx=i*24,Jd=JI*24,JC=J[Jx],JM=J[Jx+1],Jh=J[Jd],Jv=J[Jd+1];
v+=$.te.getError(Jd,Jx,J,1e99);var JW=Jh-JC,Ji=Jv-JM;I[(d+Ji)*2*j+(j+JW)]+=1}if(O)console.log(Date.now()-b,"NN found");
b=Date.now();var Jc=[],JT=1/(2*j);for(var h=0;h<I.length;h++){if(I[h]>0){var U=Math.floor(h*JT),D=h-U*2*j;
Jc.push({x:D-j,y:U-d,R:I[h],NS:-1})}}Jc.sort(function(rV,rD){return rD.R-rV.R});var Jy=new Int32Array(j*d),Jg=[];
for(var h=0;h<j*d;h++){if(r[h]==255){Jy[h]=Jn;Jg.push(h%j,Math.floor(h/j));Jn++}else if(H[(h<<2)+3]<200){Jy[h]=-2}else{Jy[h]=-1}}var Jq=$.te.ttY(j,d,Jc,Jy,Jg,Jn);
if(Jq==null){return}var tJ=Jq.TC,top=Jq.top;tJ=$.te.tLw(tJ,H,j,d,top,Jy,Jg,Jn);if(O)console.log(Date.now()-b,"optimal labeling found");
b=Date.now();var L=_.clone();L.FA(1,1);L=L.sj(A);var ty=$.I(L.f()*4),JA=$.I(L.f());$.Pg(Y,A,ty,L);var td=A.$,Jk=A.z;
for(var U=0;U<Jk;U++)for(var D=0;D<td;D++){if(G[U*td+D]==0)continue;var rR=Math.min(Math.floor(D/t),j-1),Je=Math.min(Math.floor(U/t),d-1),JU=Jy[Je*j+rR],JK=tJ[JU],rH=top[JK],rL=D+rH.x*t,Ju=U+rH.y*t,JZ=Ju*td+rL<<2,Jl=(U-L.y+A.y)*L.$+(D-L.x+A.x)<<2;
ty[Jl]=Y[JZ];ty[Jl+1]=Y[JZ+1];ty[Jl+2]=Y[JZ+2];ty[Jl+3]=Y[JZ+3];ty[Jl+3]=Y[JZ+3];JA[Jl>>2]=JK+1}if(O)console.log(Date.now()-b,"copied back");
b=Date.now();$.ih.zZ(ty,JA,L,null,1e3);if(O)console.log(Date.now()-b,"poisson smooth");b=Date.now();
$.Pg(ty,L,c,_)};$.te.Cd=function(H,N,Q,c,_,O){return $.te.zk(H+_.x,N+_.y,Q,c)&&O[(N+_.y)*Q+(H+_.x)]==-1?0:1e9};
$.te.tLw=function(H,N,Q,c,top,_,O,L){var s=Date.now(),r=[-1,0,0,-1,1,0,0,1],u=1e99,V=[],C=[],T=2*(L*2*3+L*2),e=null,t=0,Y=0,A=0,G=1e99;
while(!0&&Date.now()<s+12e3){A++;var j=null,d=u;for(var w=0;w<top.length;w++){var f=top[w],b=0,F=L+2,n=0;
for(var J=0;J<L;J++){var Z=O[J*2],P=O[J*2+1],M=top[H[J]],y=$.te.Cd(Z,P,Q,c,f,_),a=H[J]==w?1e9:$.te.Cd(Z,P,Q,c,M,_);
for(var g=0;g<4;g++){if(g==0&&Z==0||g==1&&P==0||g==2&&Z==Q-1||g==3&&P==c-1)continue;var U=r[2*g],D=r[2*g+1],W=Z+U,m=P+D,q=_[m*Q+W];
if(q==-2){}else if(q==-1){y+=3*$.te.Nh(W+f.x,m+f.y,W,m,Q,c,N,_);y+=2*$.te.Nh(W+f.x+U,m+f.y+D,W+U,m+D,Q,c,N,_);
a+=3*$.te.Nh(W+M.x,m+M.y,W,m,Q,c,N,_);a+=2*$.te.Nh(W+M.x+U,m+M.y+D,W+U,m+D,Q,c,N,_)}else if(g>1){if(H[J]==H[q]){var S=0;
S+=$.te.Nh(Z+M.x,P+M.y,Z+f.x,P+f.y,Q,c,N,_);S+=$.te.Nh(W+M.x,m+M.y,W+f.x,m+f.y,Q,c,N,_);V[b]=J;V[b+1]=q;
C[b]=S;C[b+1]=S;b+=2}else{var I=top[H[q]],v=F,h=0,i=0,JI=0;F++;h+=$.te.Nh(Z+M.x,P+M.y,Z+f.x,P+f.y,Q,c,N,_);
h+=$.te.Nh(W+M.x,m+M.y,W+f.x,m+f.y,Q,c,N,_);i+=$.te.Nh(Z+I.x,P+I.y,Z+f.x,P+f.y,Q,c,N,_);i+=$.te.Nh(W+I.x,m+I.y,W+f.x,m+f.y,Q,c,N,_);
JI+=$.te.Nh(Z+I.x,P+I.y,Z+M.x,P+M.y,Q,c,N,_);JI+=$.te.Nh(W+I.x,m+I.y,W+M.x,m+M.y,Q,c,N,_);V[b]=J;V[b+1]=v;
C[b]=h;C[b+1]=h;b+=2;V[b]=q;V[b+1]=v;C[b]=i;C[b+1]=i;b+=2;V[b]=v;V[b+1]=L+1;C[b]=JI;C[b+1]=0;b+=2}}}V[b]=L;
V[b+1]=J;C[b]=y;C[b+1]=0;b+=2;V[b]=J;V[b+1]=L+1;C[b]=a;C[b+1]=0;b+=2;n+=Math.min(y,a)}if(n>d)continue;
var Jx=$.ef.UU(F,b,L,L+1,V,C,d);if(Jx.SL<d){d=Jx.SL;var Jd=H.slice(0);$.te.tGK(Jd,b,V,Jx.Ml,w,L);j=Jd}}if(d*1>=u){break}u=d;
H=j;if((A&3)==0){if(d*1.03>=G)break;G=d}if((A&3)==0){var JC=0*top.length;for(var J=0;J<top.length&&top.length>JC;
J++){if(H.indexOf(J)!=-1)continue;top.splice(J,1);for(var q=0;q<H.length;q++)if(H[q]>J)H[q]--;J--}}}return H};
$.te.tGK=function(H,N,Q,c,_,O){for(var L=0;L<c.length;L++){var s=c[L]<<1,r=0,u=0;if(s<N){r=Q[s];u=Q[s+1]}else{u=Q[s];
r=Q[s+1]}if(r==O&&H[u]!=_)H[u]=_}};$.te.CG=function(top,H,N,Q,c,_,O,L,s){for(var r=0;r<N.length;r++){var u=N[r],V=!0;
if(L!=null&&!($.te.zk(L+u.x,s+u.y,_,O)&&Q[_*(s+u.y)+L+u.x]==-1))continue;if(u.NS==-1)u.NS=$.te.txK(u,Q,c,_,O);
if(u.NS<=0)continue;for(var C=0;C<top.length;C++){var T=top[C],e=u.x-T.x,t=u.y-T.y;if(e*e+t*t<H){V=!1;
break}}if(V)return u}return null};$.te.txK=function(H,N,Q,c,_){var O=0;for(var L=0;L<Q.length;L+=2){var s=Q[L]+H.x,r=Q[L+1]+H.y;
if($.te.zk(s,r,c,_)&&N[c*r+s]==-1)O++}return O/(Q.length>>1)};$.te.ttY=function(H,N,Q,c,_,O){var top=[];
for(var L=0;L<60;L++){var s=$.te.CG(top,25,Q,c,_,H,N);if(s==null)break;else top.push(s)}if(top.length==0)return null;
var r=[];for(var L=0;L<O;L++){var u=_[L*2],V=_[L*2+1],C=-1,T=0;while(!0){T++;var e=Math.random();C=Math.floor(e*.99999*top.length);
var t=top[C],Y=u+t.x,A=V+t.y;if($.te.zk(Y,A,H,N)&&c[A*H+Y]==-1)break;if(T>100){var s;s=$.te.CG(top,0,Q,c,_,H,N,u,V);
if(s==null)return null;top.push(s);T=0}}r.push(C)}return{top:top,TC:r}};$.te.Nh=function(H,N,Q,c,_,O,L,s){if(H==Q&&N==c)return 0;
if(H<0||N<0||H>=_||N>=O||Q<0||c<0||Q>=_||c>=O||s[N*_+H]!=-1||s[c*_+Q]!=-1)return 1e7;var r=N*_+H<<2,u=c*_+Q<<2,V=L[r]-L[u],C=L[r+1]-L[u+1],T=L[r+2]-L[u+2];
return 1+(V*V+C*C+T*T)};$.te.zk=function(H,N,Q,c){return H>=0&&H<Q&&N>=0&&N<c};$.te.t$W=function(H,N,Q,c){var _=24*H,O=N[_],L=N[_+1],s=c*c,r=0,T=1e9;
while(Q[r]!=99)if(N[_+Q[r]]<Q[r+1])r=Q[r+2];else r=Q[r+3];var u=Q[r+1],V=Q[r+2],C=-1;for(var e=u;e<=V;
e++){var r=e,t=r*24,Y=N[t],A=N[t+1];if((Y-O)*(Y-O)+(A-L)*(A-L)<s)continue;var G=$.te.getError(t,_,N,T);
if(G<T){T=G;C=r}}return C};$.te.getError=function(H,N,Q,c){var _=0;for(var O=4;O<24;O+=4){var L=Q[N+O]-Q[H+O],s=Q[N+O+1]-Q[H+O+1],r=Q[N+O+2]-Q[H+O+2],u=Q[N+O+3]-Q[H+O+3];
_+=L*L+s*s+r*r+u*u;if(_>=c)return _+1}return _};$.te.qS=function(H,N,Q,c,_){var O=16,e=0;if(N-H<=O){Q.push(99,H,N);
return}$.te.jm(H,N,c,_);var L=-1,s=-1;for(var r=4;r<24;r++){var u=_[2*r+1]-_[2*r];if(u>s){s=u;L=r}}var V=H+N>>1,C=$.te.tJP(V,H,N,c,L),T=-1;
for(var r=H;r<=N;r++)if(c[24*r+L]==C){if(T==-1)T=r;e=r}if(H+8<T&&T-H>N-e)V=T;else if(e+1<N-8)V=e+1;else if(N-H<64){Q.push(99,H,N);
return}else V=V;var t=Q.length;Q.push(L,C,0,0);Q[t+2]=t+4;$.te.qS(H,V-1,Q,c,_);Q[t+3]=Q.length;$.te.qS(V,N,Q,c,_)};
$.te.jm=function(H,N,Q,c){for(var _=0;_<48;_+=4){c[_]=3e4;c[_+1]=-3e4;c[_+2]=3e4;c[_+3]=-3e4}for(var _=H;
_<=N;_++){var O=_*24;for(var L=0;L<24;L++){var s=Q[O+L],r=c[L<<1],u=c[(L<<1)+1];if(s<r)c[L<<1]=s;if(s>u)c[(L<<1)+1]=s}}};
$.te.qW=function(H,N,Q){var c=0,_=0;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;
_++;c=Q[H+_];Q[H+_]=Q[N+_];Q[N+_]=c;_++};$.te.qZ=function(H,N,Q,c){var _=Q+c>>>1,O=H[24*_+N];while(Q<=c){while(H[24*Q+N]<O)Q++;
while(H[24*c+N]>O)c--;if(Q<=c){if(H[24*Q+N]!=H[24*c+N])$.te.qW(Q*24,c*24,H);Q++;c--}}return Q};$.te.tJP=function(H,N,Q,c,_){var O=0;
while(N!=Q){O=$.te.qZ(c,_,N,Q);if(H<O)Q=O-1;else N=O}return c[H*24+_]};$.te.sa=function(H,N,Q,c){for(var _=0;
_<c;_++)N[Q+_]=H[_]};$.te.tJd=function(H,N,Q,c,_,O,L,s,r){var u=(c-3)*_+(Q-3),V=u<<2;for(var C=0;C<8;
C++){if(N[u]+N[u+1]+N[u+2]+N[u+3]+N[u+4]+N[u+5]+N[u+6]+N[u+7]!=0||H[V+3]<200||H[V+7]<200||H[V+11]<200||H[V+15]<200||H[V+19]<200||H[V+23]<200||H[V+27]<200||H[V+31]<200)return 1;
var T=C<<3;L[T+0]=H[V+0];s[T+0]=H[V+1];r[T+0]=H[V+2];L[T+1]=H[V+4];s[T+1]=H[V+5];r[T+1]=H[V+6];L[T+2]=H[V+8];
s[T+2]=H[V+9];r[T+2]=H[V+10];L[T+3]=H[V+12];s[T+3]=H[V+13];r[T+3]=H[V+14];L[T+4]=H[V+16];s[T+4]=H[V+17];
r[T+4]=H[V+18];L[T+5]=H[V+20];s[T+5]=H[V+21];r[T+5]=H[V+22];L[T+6]=H[V+24];s[T+6]=H[V+25];r[T+6]=H[V+26];
L[T+7]=H[V+28];s[T+7]=H[V+29];r[T+7]=H[V+30];V+=_<<2;u+=_}return 0};$.te.qA=function(H,N){N[0]=H[32]+H[0];
N[1]=H[33]+H[1];N[2]=H[34]+H[2];N[3]=H[35]+H[3];N[4]=H[36]+H[4];N[5]=H[37]+H[5];N[6]=H[38]+H[6];N[7]=H[39]+H[7];
N[8]=H[40]+H[8];N[9]=H[41]+H[9];N[10]=H[42]+H[10];N[11]=H[43]+H[11];N[12]=H[44]+H[12];N[13]=H[45]+H[13];
N[14]=H[46]+H[14];N[15]=H[47]+H[15];N[16]=H[48]+H[16];N[17]=H[49]+H[17];N[18]=H[50]+H[18];N[19]=H[51]+H[19];
N[20]=H[52]+H[20];N[21]=H[53]+H[21];N[22]=H[54]+H[22];N[23]=H[55]+H[23];N[24]=H[56]+H[24];N[25]=H[57]+H[25];
N[26]=H[58]+H[26];N[27]=H[59]+H[27];N[28]=H[60]+H[28];N[29]=H[61]+H[29];N[30]=H[62]+H[30];N[31]=H[63]+H[31];
N[32]=H[0]-H[32];N[33]=H[1]-H[33];N[34]=H[2]-H[34];N[35]=H[3]-H[35];N[36]=H[4]-H[36];N[37]=H[5]-H[37];
N[38]=H[6]-H[38];N[39]=H[7]-H[39];N[40]=H[8]-H[40];N[41]=H[9]-H[41];N[42]=H[10]-H[42];N[43]=H[11]-H[43];
N[44]=H[12]-H[44];N[45]=H[13]-H[45];N[46]=H[14]-H[46];N[47]=H[15]-H[47];N[48]=H[16]-H[48];N[49]=H[17]-H[49];
N[50]=H[18]-H[50];N[51]=H[19]-H[51];N[52]=H[20]-H[52];N[53]=H[21]-H[53];N[54]=H[22]-H[54];N[55]=H[23]-H[55];
N[56]=H[24]-H[56];N[57]=H[25]-H[57];N[58]=H[26]-H[58];N[59]=H[27]-H[59];N[60]=H[28]-H[60];N[61]=H[29]-H[61];
N[62]=H[30]-H[62];N[63]=H[31]-H[63];H[0]=N[16]+N[0];H[1]=N[17]+N[1];H[2]=N[18]+N[2];H[3]=N[19]+N[3];
H[4]=N[20]+N[4];H[5]=N[21]+N[5];H[6]=N[22]+N[6];H[7]=N[23]+N[7];H[8]=N[24]+N[8];H[9]=N[25]+N[9];H[10]=N[26]+N[10];
H[11]=N[27]+N[11];H[12]=N[28]+N[12];H[13]=N[29]+N[13];H[14]=N[30]+N[14];H[15]=N[31]+N[15];H[16]=N[0]-N[16];
H[17]=N[1]-N[17];H[18]=N[2]-N[18];H[19]=N[3]-N[19];H[20]=N[4]-N[20];H[21]=N[5]-N[21];H[22]=N[6]-N[22];
H[23]=N[7]-N[23];H[24]=N[8]-N[24];H[25]=N[9]-N[25];H[26]=N[10]-N[26];H[27]=N[11]-N[27];H[28]=N[12]-N[28];
H[29]=N[13]-N[29];H[30]=N[14]-N[30];H[31]=N[15]-N[31];N[0]=H[8]+H[0];N[1]=H[9]+H[1];N[2]=H[10]+H[2];
N[3]=H[11]+H[3];N[4]=H[12]+H[4];N[5]=H[13]+H[5];N[6]=H[14]+H[6];N[7]=H[15]+H[7];N[8]=H[0]-H[8];N[9]=H[1]-H[9];
N[10]=H[2]-H[10];N[11]=H[3]-H[11];N[12]=H[4]-H[12];N[13]=H[5]-H[13];N[14]=H[6]-H[14];N[15]=H[7]-H[15];
H[0]=N[4]+N[0];H[1]=N[5]+N[1];H[2]=N[6]+N[2];H[3]=N[7]+N[3];H[4]=N[0]-N[4];H[5]=N[1]-N[5];H[6]=N[2]-N[6];
H[7]=N[3]-N[7];H[8]=N[12]+N[8];H[9]=N[13]+N[9];H[10]=N[14]+N[10];H[11]=N[15]+N[11];H[12]=N[8]-N[12];
H[13]=N[9]-N[13];H[14]=N[10]-N[14];H[15]=N[11]-N[15];N[0]=H[2]+H[0];N[1]=H[3]+H[1];N[2]=H[0]-H[2];N[3]=H[1]-H[3];
N[4]=H[6]+H[4];N[5]=H[7]+H[5];N[6]=H[4]-H[6];N[7]=H[5]-H[7];N[8]=H[10]+H[8];N[9]=H[11]+H[9];N[10]=H[8]-H[10];
N[11]=H[9]-H[11];N[12]=H[14]+H[12];N[13]=H[15]+H[13];N[14]=H[12]-H[14];N[15]=H[13]-H[15];H[0]=N[1]+N[0];
H[1]=N[0]-N[1];H[2]=N[3]+N[2];H[3]=N[2]-N[3];H[4]=N[5]+N[4];H[5]=N[4]-N[5];H[6]=N[7]+N[6];H[7]=N[6]-N[7];
H[8]=N[9]+N[8];H[9]=N[8]-N[9];H[10]=N[11]+N[10];H[11]=N[10]-N[11];H[12]=N[13]+N[12];H[13]=N[12]-N[13];
H[14]=N[15]+N[14];H[15]=N[14]-N[15]};$.te.tdD=function(){var H="",N=64,Q="v",c="t",_="a",O=5,L,s,r;for(L=N>>1;
L>0;L>>=1,O--){for(s=0;s<N;s++){r=(s>>O&1)!=0;if(r){H+=c+"["+s+"] = "+Q+"["+(-L+s)+"] - "+Q+"["+s+"];  "}else{H+=c+"["+s+"] = "+Q+"["+(L+s)+"] + "+Q+"["+s+"];  "}}_=Q;
Q=c;c=_;H+="\n"}console.log(H)};$.te.tdc=function(H,N,Q){var c=N,_=Q,O=c,L=0,r,u,V;while(H>>L!=2)L++;
var s=L;for(r=H>>1;r>0;r>>=1,L--){for(u=0;u<H;u++){V=(u>>L&1)!=0;if(V)_[u]=c[-r+u]-c[u];else _[u]=c[r+u]+c[u]}O=c;
c=_;_=O}if((s&1)==1)for(r=0;r<H;r++)Q[r]=c[r]};$.oL={};$.oL.CS=function(H,N,Q,c,_,O,L,s,r){var u=Date.now(),V=new Uint32Array(H.buffer),C=new Uint32Array(N.buffer),T=L/Q,e=s/c,t=1/T,Y=1/e,A=new Float64Array(2),G=3,j=1/G,d=1/(G*G),w=0,f=0,b=Q,F=c;
if(_){w=_.x;f=_.y;b=_.$;F=_.z}for(var n=0;n<F;n++)for(var J=0;J<b;J++){var Z=w+J,P=f+n,M=P*Q+Z,y=M<<1,a=M<<2;
$.oL.tJn(O,L,s,(Z+.5)*T,(P+.5)*e,A);var g=A[0]*t,U=A[1]*Y;if(g==0&&U==0)C[M]=V[M];else{$.F.ui(Z+g+.5,P+U+.5,V,Q,c,C,M,r)}}};
$.oL.tJn=function(H,N,Q,c,_,O){c-=.499999;_-=.499999;var L=~~c,s=~~_,r=c-L,u=_-s,V=(1-u)*(1-r),C=(1-u)*r,T=u*(1-r),e=u*r,t=L<N-1?L+1:L,Y=s<Q-1?s+1:s,A=s*N+L<<1,G=s*N+t<<1,j=Y*N+L<<1,d=Y*N+t<<1;
O[0]=V*H[A]+C*H[G]+T*H[j]+e*H[d];O[1]=V*H[A+1]+C*H[G+1]+T*H[j+1]+e*H[d+1]};$.oL.qU=new Float32Array(512);
$.oL.Cv=function(H){if($.oL.qU.length<H)$.oL.qU=new Float32Array(H);return $.oL.qU};$.oL.tJj=function(H,N,Q,c,_){var O=1/H,L=[-1,1,-H,H],s=c.length,r=$.oL.Cv(s*2);
for(var u=0;u<2;u++){for(var V=0;V<s;V++){var C=c[V],T=C<<1,e=V<<1,t=Math.floor(C*O),Y=C-H*t,A=Q[T],G=Q[T+1],j=0,d=0;
if(Y!=0&&Y!=H-1){var w=C-1<<1,f=C+1<<1,b=Q[w],F=Q[f],n=Q[w+1],J=Q[f+1],Z=A-(b+F)*.5,P=G-(n+J)*.5;j-=Z*_;
d-=P*_}if(t!=0&&t!=N-1){var w=C-H<<1,f=C+H<<1,b=Q[w],F=Q[f],n=Q[w+1],J=Q[f+1],Z=A-(b+F)*.5,P=G-(n+J)*.5;
j-=Z*_;d-=P*_}r[e]=A+j;r[e+1]=G+d}for(var V=0;V<s;V++){var T=c[V]<<1,e=V<<1;Q[T]=r[e];Q[T+1]=r[e+1]}}};
$.oL.tri=function(H,N,Q,c,_,O,L,s,r,u,V,C,T){var e=Math.max(0,Math.floor(_-L*s-1)),t=Math.min(N,Math.ceil(_+L*s+1)),Y=Math.max(0,Math.floor(O-L-1)),A=Math.min(Q,Math.ceil(O+L+1)),G=2*N,j=L*L,d=1/L,w=0,f=$.oL.Cv((t-e)*(A-Y)*2);
for(var b=Y;b<A;b++)for(var F=e;F<t;F++){var n=b*N+F,J=n<<1,Z=(_-F)/s,P=O-b,M=Z*Z+P*P;if(M<j){C[w]=n;
var y=Math.sqrt(M),a=y*d,g=y==0?1:a/y;Z*=g;P*=g;var U=Math.exp(-4*a),D=.96*(1-a*a),W=u*((1-r)*U+r*D);
if(c==1){f[w<<1]=H[J]*(1-W*.05);f[(w<<1)+1]=H[J+1]*(1-W*.05)}else{var m=0,q=0,v,h,i,JI;if(c==0){m=V.x*W;
q=V.y*W}else if(c==2){}else if(c==3){if(T)W=-W;m=W*P;q=-W*Z}else if(c==4){m=W*Z;q=W*P}else if(c==5){m=-W*Z;
q=-W*P}else if(c==6){if(T)W=-W;m=V.y*W;q=-V.x*W}var S=H[J],I=H[J+1];if(F==0||F!=N-1&&m<0){v=1+H[J+2]-S;
i=H[J+3]-I}else{v=S-H[J-2]+1;i=I-H[J-1]}if(b==0||b!=Q-1&&q<0){h=H[J+G]-S;JI=1+H[J+G+1]-I}else{h=S-H[J-G];
JI=I-H[J-G+1]+1}f[w<<1]=-(v*m+h*q-S);f[(w<<1)+1]=-(i*m+JI*q-I)}w++}}for(var Jx=0;Jx<w;Jx++){var J=C[Jx]<<1,Jd=Jx<<1;
H[J]=f[Jd];H[J+1]=f[Jd+1]}};$.oL.trQ=function(H){var N=H[0],Q=H[0],c=H[1],_=H[1];for(var O=0;O<H.length;
O+=2){var L=H[O],s=H[O+1];if(L<N)N=L;else if(L>Q)Q=L;if(s<c)c=s;else if(s>_)_=s}return[N,c,Q,_]};$.oL.tdC=function(H,N){var Q=[],c=Math.floor(N.length/3);
for(var _=0;_<c;_++)Q.push(_);var O=$.oL.trQ(H);return $.oL.qk(H,N,Q,Q.length,O)};$.oL.qk=function(H,N,Q,c,_){if(c<60)return Q;
var O=_,L=_.slice(0),s=[],r=[],u=0,V=0,C=0;if(_[3]-_[1]>_[2]-_[0])C=1;else C=0;var T=(_[0+C]+_[2+C])*.5;
O[2+C]=L[0+C]=T;for(var e=0;e<c;e++){var t=Q[e],Y=t*3,A=H[(N[Y+0]<<1)+C],G=H[(N[Y+1]<<1)+C],j=H[(N[Y+2]<<1)+C];
if(A<=T||G<=T||j<=T){s[u++]=t}if(A>T||G>T||j>T){r[V++]=t}}if(u==c||V==c||u+V>c*1.3)return Q;return{axis:C,NC:T,F$:$.oL.qk(H,N,s,u,O),tCm:$.oL.qk(H,N,r,V,L)}};
$.oL.tdT=function(H,N,Q,c,_){while(Q.F$!=null){if(Q.axis==0&&c<=Q.NC||Q.axis==1&&_<=Q.NC)Q=Q.F$;else Q=Q.tCm}return $.oL.twS(H,N,Q,c,_)};
$.oL.tdg=function(H,N,Q){return Q[0]<=H&&H<=Q[2]&&Q[1]<=N&&N<=Q[3]};$.oL.twS=function(H,N,Q,c,_){for(var O=0;
O<Q.length;O++){var L=Q[O],s=L*3,r=N[s+0]<<1,u=N[s+1]<<1,V=N[s+2]<<1,C=H[r+0],T=H[r+1],e=H[u+0],t=H[u+1],Y=H[V+0],A=H[V+1],G=e-C,j=t-T,d=Y-C,w=A-T,f=c-C,b=_-T,F=G*w-d*j;
if(F==0)return[r>>>1,u>>>1,V>>>1,1,0,0];var n=1/F,J=(f*w-d*b)*n,Z=(G*b-f*j)*n;if(J>=0&&Z>=0&&J+Z<=1)return[r>>>1,u>>>1,V>>>1,1-J-Z,J,Z]}return null};
$.Iw={};$.Iw.CE=function(H){var N=~~(H+.5);return N<0?0:N>255?255:N};$.Iw.transform=function(H,N,Q){var c=$.Iw.CE,_=H.T.length;
for(var O=0;O<_;O++){var L=H.T[O],s=H.q[O],r=H.H[O];N.T[O]=c(Q[0]*L+Q[1]*s+Q[2]*r+Q[3]*255);N.q[O]=c(Q[4]*L+Q[5]*s+Q[6]*r+Q[7]*255);
N.H[O]=c(Q[8]*L+Q[9]*s+Q[10]*r+Q[11]*255)}};$.Iw.tyA=function(H,N,Q){var c=$.Iw.CE,_=H.length;for(var O=0;
O<_;O+=4){var L=H[O],s=H[O+1],r=H[O+2];N[O]=c(Q[0]*L+Q[1]*s+Q[2]*r+Q[3]*255);N[O+1]=c(Q[4]*L+Q[5]*s+Q[6]*r+Q[7]*255);
N[O+2]=c(Q[8]*L+Q[9]*s+Q[10]*r+Q[11]*255)}};$.Iw.Am=function(H,N,Q){return[1,0,0,H,0,1,0,N,0,0,1,Q,0,0,0,1]};
$.Iw.UH=function(H,N,Q){return[H,0,0,0,0,N,0,0,0,0,Q,0,0,0,0,1]};$.Iw.tc_=function(H){return[H[0],H[1],H[2],H[4],H[5],H[6],H[8],H[9],H[10]]};
$.Iw.Cg=function(H){return[H[0],H[1],H[2],0,H[3],H[4],H[5],0,H[6],H[7],H[8],0,0,0,0,1]};$.Iw.US=function(H,N){return[H[0]*N[0]+H[1]*N[1]+H[2]*N[2]+H[3]*N[3],H[4]*N[0]+H[5]*N[1]+H[6]*N[2]+H[7]*N[3],H[8]*N[0]+H[9]*N[1]+H[10]*N[2]+H[11]*N[3],H[12]*N[0]+H[13]*N[1]+H[14]*N[2]+H[15]*N[3]]};
$.Iw.zC=function(H){var N=[];N[0]=H[0];N[1]=H[4];N[2]=H[8];N[3]=H[12];N[4]=H[1];N[5]=H[5];N[6]=H[9];
N[7]=H[13];N[8]=H[2];N[9]=H[6];N[10]=H[10];N[11]=H[14];N[12]=H[3];N[13]=H[7];N[14]=H[11];N[15]=H[15];
return N};$.Iw.multiply=function(H,N){var Q=[];Q[0]=H[0]*N[0]+H[1]*N[4]+H[2]*N[8]+H[3]*N[12];Q[1]=H[0]*N[1]+H[1]*N[5]+H[2]*N[9]+H[3]*N[13];
Q[2]=H[0]*N[2]+H[1]*N[6]+H[2]*N[10]+H[3]*N[14];Q[3]=H[0]*N[3]+H[1]*N[7]+H[2]*N[11]+H[3]*N[15];Q[4]=H[4]*N[0]+H[5]*N[4]+H[6]*N[8]+H[7]*N[12];
Q[5]=H[4]*N[1]+H[5]*N[5]+H[6]*N[9]+H[7]*N[13];Q[6]=H[4]*N[2]+H[5]*N[6]+H[6]*N[10]+H[7]*N[14];Q[7]=H[4]*N[3]+H[5]*N[7]+H[6]*N[11]+H[7]*N[15];
Q[8]=H[8]*N[0]+H[9]*N[4]+H[10]*N[8]+H[11]*N[12];Q[9]=H[8]*N[1]+H[9]*N[5]+H[10]*N[9]+H[11]*N[13];Q[10]=H[8]*N[2]+H[9]*N[6]+H[10]*N[10]+H[11]*N[14];
Q[11]=H[8]*N[3]+H[9]*N[7]+H[10]*N[11]+H[11]*N[15];Q[12]=H[12]*N[0]+H[13]*N[4]+H[14]*N[8]+H[15]*N[12];
Q[13]=H[12]*N[1]+H[13]*N[5]+H[14]*N[9]+H[15]*N[13];Q[14]=H[12]*N[2]+H[13]*N[6]+H[14]*N[10]+H[15]*N[14];
Q[15]=H[12]*N[3]+H[13]*N[7]+H[14]*N[11]+H[15]*N[15];return Q};$.Iw.UK=function(H){var N=[];N[0]=H[5]*H[10]*H[15]-H[5]*H[14]*H[11]-H[6]*H[9]*H[15]+H[6]*H[13]*H[11]+H[7]*H[9]*H[14]-H[7]*H[13]*H[10];
N[1]=-H[1]*H[10]*H[15]+H[1]*H[14]*H[11]+H[2]*H[9]*H[15]-H[2]*H[13]*H[11]-H[3]*H[9]*H[14]+H[3]*H[13]*H[10];
N[2]=H[1]*H[6]*H[15]-H[1]*H[14]*H[7]-H[2]*H[5]*H[15]+H[2]*H[13]*H[7]+H[3]*H[5]*H[14]-H[3]*H[13]*H[6];
N[3]=-H[1]*H[6]*H[11]+H[1]*H[10]*H[7]+H[2]*H[5]*H[11]-H[2]*H[9]*H[7]-H[3]*H[5]*H[10]+H[3]*H[9]*H[6];
N[4]=-H[4]*H[10]*H[15]+H[4]*H[14]*H[11]+H[6]*H[8]*H[15]-H[6]*H[12]*H[11]-H[7]*H[8]*H[14]+H[7]*H[12]*H[10];
N[5]=H[0]*H[10]*H[15]-H[0]*H[14]*H[11]-H[2]*H[8]*H[15]+H[2]*H[12]*H[11]+H[3]*H[8]*H[14]-H[3]*H[12]*H[10];
N[6]=-H[0]*H[6]*H[15]+H[0]*H[14]*H[7]+H[2]*H[4]*H[15]-H[2]*H[12]*H[7]-H[3]*H[4]*H[14]+H[3]*H[12]*H[6];
N[7]=H[0]*H[6]*H[11]-H[0]*H[10]*H[7]-H[2]*H[4]*H[11]+H[2]*H[8]*H[7]+H[3]*H[4]*H[10]-H[3]*H[8]*H[6];N[8]=H[4]*H[9]*H[15]-H[4]*H[13]*H[11]-H[5]*H[8]*H[15]+H[5]*H[12]*H[11]+H[7]*H[8]*H[13]-H[7]*H[12]*H[9];
N[9]=-H[0]*H[9]*H[15]+H[0]*H[13]*H[11]+H[1]*H[8]*H[15]-H[1]*H[12]*H[11]-H[3]*H[8]*H[13]+H[3]*H[12]*H[9];
N[10]=H[0]*H[5]*H[15]-H[0]*H[13]*H[7]-H[1]*H[4]*H[15]+H[1]*H[12]*H[7]+H[3]*H[4]*H[13]-H[3]*H[12]*H[5];
N[11]=-H[0]*H[5]*H[11]+H[0]*H[9]*H[7]+H[1]*H[4]*H[11]-H[1]*H[8]*H[7]-H[3]*H[4]*H[9]+H[3]*H[8]*H[5];N[12]=-H[4]*H[9]*H[14]+H[4]*H[13]*H[10]+H[5]*H[8]*H[14]-H[5]*H[12]*H[10]-H[6]*H[8]*H[13]+H[6]*H[12]*H[9];
N[13]=H[0]*H[9]*H[14]-H[0]*H[13]*H[10]-H[1]*H[8]*H[14]+H[1]*H[12]*H[10]+H[2]*H[8]*H[13]-H[2]*H[12]*H[9];
N[14]=-H[0]*H[5]*H[14]+H[0]*H[13]*H[6]+H[1]*H[4]*H[14]-H[1]*H[12]*H[6]-H[2]*H[4]*H[13]+H[2]*H[12]*H[5];
N[15]=H[0]*H[5]*H[10]-H[0]*H[9]*H[6]-H[1]*H[4]*H[10]+H[1]*H[8]*H[6]+H[2]*H[4]*H[9]-H[2]*H[8]*H[5];var Q=H[0]*N[0]+H[1]*N[4]+H[2]*N[8]+H[3]*N[12];
for(var c=0;c<16;c++)N[c]/=Q;return N};$.Iw.WQ=function(H){var N=[],Q=H[5]*H[10]*H[15]-H[5]*H[14]*H[11]-H[6]*H[9]*H[15]+H[6]*H[13]*H[11]+H[7]*H[9]*H[14]-H[7]*H[13]*H[10],c=-H[4]*H[10]*H[15]+H[4]*H[14]*H[11]+H[6]*H[8]*H[15]-H[6]*H[12]*H[11]-H[7]*H[8]*H[14]+H[7]*H[12]*H[10],_=H[4]*H[9]*H[15]-H[4]*H[13]*H[11]-H[5]*H[8]*H[15]+H[5]*H[12]*H[11]+H[7]*H[8]*H[13]-H[7]*H[12]*H[9],O=-H[4]*H[9]*H[14]+H[4]*H[13]*H[10]+H[5]*H[8]*H[14]-H[5]*H[12]*H[10]-H[6]*H[8]*H[13]+H[6]*H[12]*H[9];
return H[0]*Q+H[1]*c+H[2]*_+H[3]*O};$.Iw.pR=$.Iw.Cg([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
$.ef={};$.ef.Ch=new Uint32Array(1);$.ef.Cq=function(H,N,Q,c,_,O){var L=new Uint32Array(H),s=0,r=$.ef.Ch;
if(r.length<N*4)$.ef.Ch=r=new Uint32Array(N*4);var u=new Float64Array(r.buffer);for(var V=0;V<N;V+=2){var C=_[V],T=_[V+1],e=O[V],t=O[V+1];
r[s]=T;u[s+2>>1]=e;r[s+1]=L[C];L[C]=s+1;s+=4;r[s]=C;u[s+2>>1]=t;r[s+1]=L[T];L[T]=s+1;s+=4}return{cB:r,Fi:u,FZ:L}};
$.ef.UU=function(H,N,Q,c,_,O,L){var s=1,r=$.ef.Cq(H,N,Q,c,_,O),u=r.cB,V=r.Fi,C=r.FZ,T=new Uint32Array(H),e=new $.ef.pX(H),Y=1,w=0;
e.push(Q);e.push(c);var t=new $.ef.pX(H),A=new Uint8Array(H),G=new Uint32Array(H);A[Q]=1;A[c]=2;var j=new Uint32Array(H),d=new Uint32Array(H);
d[Q]=d[c]=0;j[Q]=j[c]=1;while(!0){var f=-1,M=0,D=1e30;while(!e.zN()&&f==-1){var b=e.top(),F=A[b],n=C[b]-1;
while(n!=-1){var J=u[n],Z=A[J],P=n^F-1<<2;if(V[P+2>>1]!=0){if(Z==0){$.ef.pC(b,n,J,A,G,d,j);e.push(J)}else if(Z==F&&j[J]<=j[b]&&d[J]>d[b])$.ef.pC(b,n,J,A,G,d,j);
else if(Z!=F){f=P}}n=u[n+1]-1}if(f!=-1)break;e.pop()}if(f==-1){break}Y++;var y=f;while(y!=-1){T[M]=y;
M++;y=G[u[y^4]]-1}var a=M>>1;for(var g=0;g<a;g++){var U=T[g];T[g]=T[M-g-1];T[M-g-1]=U}y=G[u[f]]-1;while(y!=-1){T[M]=y^4;
M++;y=G[u[y^4]]-1}for(var g=0;g<M;g++)D=Math.min(D,V[T[g]+2>>1]);w+=D;if(w>=L)return{Ml:null,SL:w};for(var g=0;
g<M;g++){var W=T[g],m=W^4,b=u[m],J=u[W];V[W+2>>1]-=D;V[m+2>>1]+=D;if(V[W+2>>1]==0&&A[b]==A[J]){if(A[b]==1){G[J]=0;
t.push(J)}if(A[b]==2){G[b]=0;t.push(b)}}}while(!t.zN()){var b=t.pop(),F=A[b],n=C[b]-1,q=F==1?4:0,S=0,I=0,v=1e9;
while(n!=-1){var J=u[n],h=n^4,P=n^q;if(A[J]==F&&V[P+2>>1]>0&&$.ef.tT_(J,Q,c,G,u,Y,j,d)+1<v){S=J;I=h;
v=d[J]+1}n=u[n+1]-1}if(I!=0){$.ef.pC(S,I,b,A,G,d,j);continue}n=C[b]-1;while(n!=-1){var J=u[n],P=n^q;
if(A[J]==F){if(V[P+2>>1]>0){e.push(J)}if(G[J]==n+1){G[J]=0;t.push(J)}}n=u[n+1]-1}A[b]=0;e.remove(b)}}var i=[];
for(var g=0;g<N;g+=2){var b=_[g],J=_[g+1];if(A[b]==1&&A[J]!=1){i.push(g>>1)}if(A[J]==1&&A[b]!=1){i.push(N+g>>1)}}return{Ml:i,SL:w}};
$.ef.pC=function(H,N,Q,c,_,O,L){c[Q]=c[H];_[Q]=N+1;O[Q]=O[H]+1;L[Q]=L[H]};$.ef.tT_=function(H,N,Q,c,_,O,L,s){var r=H,u=c[H]-1,V=0;
while(u!=-1&&L[H]!=O){H=_[u^4];u=c[H]-1;V++}if(u==-1&&H!=N&&H!=Q)return 1e9;var C=s[H]+V;V=0;u=c[r]-1;
while(r!=H){s[r]=C-V;V++;L[r]=O;r=_[u^4];u=c[r]-1}return C};$.ef.tda=function(H,N,Q,c,_,O){var L=$.ef.Cq(H,N,Q,c,_,O),s=L.cB,r=L.Fi,u=L.FZ,V=0,C=0,T=new Uint32Array(H*2),e=new $.ef.Ci(H),t=0;
while(!0){e.reset();e.push(Q);for(var Y=0;Y<H;Y++)T[Y<<1]=0;while(!e.zN()){var A=e.pop(),G=u[A]-1;while(G!=-1){t=s[G];
if(T[t<<1]==0&&r[G+2>>1]>0&&t!=Q){T[t<<1]=A+1;T[(t<<1)+1]=G;e.push(t)}G=s[G+1]-1}if(T[c<<1]!=0){break}}if(T[c<<1]==0){break}var j=1e30;
t=c;while(!0){var d=T[t<<1]-1;if(d==-1)break;var w=T[(t<<1)+1];j=Math.min(j,r[w+2>>1]);t=d}t=c;while(!0){var d=T[t<<1]-1;
if(d==-1)break;var w=T[(t<<1)+1],f=w^4;r[w+2>>1]-=j;r[f+2>>1]+=j;t=d}V+=j}var b=[];for(var Y=0;Y<N;Y+=2){var d=_[Y],t=_[Y+1];
if((T[d<<1]!=0||d==Q)&&T[t<<1]==0&&t!=Q){b.push(Y>>1)}if((T[t<<1]!=0||t==Q)&&T[d<<1]==0&&d!=Q){b.push(N+Y>>1)}}return{Ml:b,SL:V}};
$.ef.Ci=function(H){H|=H>>1;H|=H>>2;H|=H>>4;H|=H>>8;H|=H>>16;this.kK=new Uint32Array(H+1);this.pU=H;
this._W=0;this._n=0};$.ef.Ci.prototype={push:function(H){var N=this._n;this.kK[N]=H;this._n=N+1&this.pU},pop:function(){var H=this._W,N=this.kK[H];
this._W=H+1&this.pU;return N},zN:function(){return this._W==this._n},reset:function(){this._W=0;this._n=0}};
$.ef.pX=function(H){H|=H>>1;H|=H>>2;H|=H>>4;H|=H>>8;H|=H>>16;this.kK=new Uint32Array(H+1);this.gt=new Uint32Array(H+1);
this.pU=H;this._W=0;this._n=0};$.ef.pX.prototype={top:function(){return this.kK[this._W]},tdi:function(){return this.kK[this._n]},push:function(H){if(this.gt[H]!=0)return;
this.gt[H]=this._n+1;var N=this._n;this.kK[N]=H;this._n=N+1&this.pU},pop:function(){var H=this._W,N=this.kK[H];
this.gt[N]=0;this._W=H+1&this.pU;return N},zN:function(){return this._W==this._n},remove:function(H){var N=this.gt[H]-1;
if(N==-1)return;this.gt[H]=0;if(N==this._W){this.pop();return}var Q=this.pop();this.kK[N]=Q;this.gt[Q]=N+1},pV:function(H){return H+this.pU+1&this.pU}};
$.ef.CX=function(H,N,Q){var c=$.ef.qZ(H,N,Q);if(N<c-1)$.ef.CX(H,N,c-1);if(c<Q)$.ef.CX(H,c,Q)};$.ef.qZ=function(H,N,Q){var c=H[N+Q>>>1];
while(N<=Q){while(H[N]<c)N++;while(H[Q]>c)Q--;if(N<=Q){$.ef.qW(H,N,Q);N++;Q--}}return N};$.ef.qW=function(H,N,Q){var c=H[N];
H[N]=H[Q];H[Q]=c};$.FU={};$.FU.tRT=function(H){for(var N=0;N<H.length;N++)$.FU.zs(H,N)};$.FU.zs=function(H,N){H[N].v.keyShapeInvalidated={t:"bool",v:!0}};
$.FU.tRG=function(H){for(var N=0;N<H.length;N++)H[N].v.keyOriginIndex.v=N};$.FU.kh=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
$.FU.Ne=function(H,N,Q){var c=$.FU.kh(),_=c.v;delete _.keyShapeInvalidated;var O={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
_.keyOriginType={t:"long",v:H};_.keyOriginResolution={t:"doub",v:75};_.keyOriginShapeBBox={t:"Objc",v:O};
$.FU.pz(_,N);if(Q!=null){var L={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};_.keyOriginRRectRadii={t:"Objc",v:L};
$.FU.iC(_,Q)}return c};$.FU.UC=function(H,N,Q,c){var _=$.F.Cc(N),O=$.F.CD(N),L=Math.max(Math.abs(N[0]),Math.abs(N[1])),s=Math.max(Math.abs(N[3]),Math.abs(N[4]));
for(var r=0;r<H.length;r++){var u=H[r].v,V=u.keyShapeInvalidated;if(V&&V.v)continue;if(Q.length!=0&&Q.indexOf(r)==-1)continue;
var C=u.keyOriginType.v;if(!_||!O||c&&C==2&&Math.abs(1-L/s)>.01){$.FU.zs(H,r);continue}var T=$.FU.zu(u);
$.F.apply(N,T);$.FU.pz(u,[Math.min(T[0],T[2]),Math.min(T[1],T[3]),Math.max(T[0],T[2]),Math.max(T[1],T[3])]);
if(C==2){var e=$.FU.iH(u),t=new Jo(N[0],N[1],N[3],N[4],0,0);t.dZ();if(t.o==0){e.push(e.shift());t.rotate(Math.PI/2);
t.dZ()}if(t.o<0){var Y=e[0];e[0]=e[1];e[1]=Y;Y=e[2];e[2]=e[3];e[3]=Y}if(t.KI<0){var Y=e[0];e[0]=e[3];
e[3]=Y;Y=e[1];e[1]=e[2];e[2]=Y}if(c)for(var A=0;A<4;A++)e[A]=e[A]*L;$.FU.iC(u,e)}if(C==4){u.keyOriginLineWeight.v*=L;
var G=$.FU.CQ(u);$.F.apply(N,G);$.FU.ttN(u,G)}}};$.FU.pB=function(H,N){var Q=N.L;for(var c=0;c<H.length;
c++){var _=H[c].v,O=_.keyShapeInvalidated,T;if(O&&O.v)continue;var L=_.keyOriginType.v,s=$.FU.zu(_),r=s[0],u=s[1],V=s[2],C=s[3];
if(L==1)T=$.A.FH.Rect(r,u,V-r,C-u,0);else if(L==2){var e=$.FU.iH(_);T=$.A.FH.Rect(r,u,V-r,C-u,e)}else if(L==4){var t=$.FU.CQ(_);
T=$.A.FH.tu(t[0],t[1],t[2],t[3],_.keyOriginLineWeight.v)}else if(L==5)T=$.A.FH.QJ(r,u,V-r,C-u);var Y=$.A.T_(Q,c),A=$.A.Tu(Q,c);
T[2].AY=Q[Y].AY;var G=Q;Q=Q.slice(0,Y);for(var j=2;j<T.length;j++)Q.push(T[j]);for(var j=Y+A;j<G.length;
j++)Q.push(G[j])}N.L=Q;N.rb=!0};$.FU.tn=function(H){var N=1e9,Q=-N,c=1e9,_=-c,O=null;for(var L=0;L<H.g.length;
L++){var s=H.b[H.g[L]],r=s.add.vogk;if(r==null)continue;var u=s.add.vmsk.g;for(var V=0;V<r.length;V++){var C=r[V].v,T=C.keyShapeInvalidated;
if(T&&T.v)continue;if(H.g.length==1&&u.length!=0&&u.indexOf(V)==-1)continue;var e=C.keyOriginType.v;
if(e!=4){var t=$.FU.zu(C);N=Math.min(N,t[0]);c=Math.min(c,t[1]);Q=Math.max(Q,t[2]);_=Math.max(_,t[3])}if(e==2&&O==null){O=$.FU.iH(C)}}}return[N<Q?[N,c,Q,_]:null,O]};
$.FU.tto=function(H,N,Q){var c=$.FU.tn(H)[0],_;if(c){var O=new Jo;O.translate(-c[0],-c[1]);O.scale(1/(c[2]-c[0]),1/(c[3]-c[1]));
O.scale(N[2]-N[0],N[3]-N[1]);O.translate(N[0],N[1]);_=$.F.Wq(O)}for(var L=0;L<H.g.length;L++){var s=H.b[H.g[L]],r=s.add.vogk;
if(r==null)continue;var u=s.add.vmsk.g;for(var V=0;V<r.length;V++){var C=r[V].v,T=C.keyShapeInvalidated;
if(T&&T.v)continue;if(H.g.length==1&&u.length!=0&&u.indexOf(V)==-1)continue;var e=C.keyOriginType.v;
if(e!=4&&N[0]!=null){var N=$.FU.zu(C);$.F.apply(_,N);$.FU.pz(C,N)}if(e==2&&Q!=null){$.FU.iC(C,Q)}}}};
$.FU.zu=function(H){var N=H.keyOriginShapeBBox.v,Q=N.Left.v.val,c=N.Rght.v.val,_=N.Top.v.val,O=N.Btom.v.val;
return[Q,_,c,O]};$.FU.pz=function(H,N){$.FU.Uk(H.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],N)};
$.FU.iH=function(H){var N=[],Q=["topLeft","topRight","bottomRight","bottomLeft"];for(var c=0;c<4;c++)N.push(H.keyOriginRRectRadii.v[Q[c]].v.val);
return N};$.FU.iC=function(H,N){$.FU.Uk(H.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],N)};
$.FU.Uk=function(H,N,Q){for(var c=0;c<4;c++)if(Q[c]!=null)H[N[c]]={t:"UntF",v:{type:"#Pxl",val:Q[c]}}};
$.FU.CQ=function(H){var N=H.keyOriginLineStart.v,Q=H.keyOriginLineEnd.v;return[N.Hrzn.v,N.Vrtc.v,Q.Hrzn.v,Q.Vrtc.v]};
$.FU.ttN=function(H,N){var Q=H.keyOriginLineStart.v,c=H.keyOriginLineEnd.v;Q.Hrzn.v=N[0];Q.Vrtc.v=N[1];
c.Hrzn.v=N[2];c.Vrtc.v=N[3]};$.K={};$.K.clone=function(H){return{lX:H.lX.slice(0),Z:H.Z.slice(0)}};$.K.CO=function(H){if(H.length<6)return!0;
var N=H.length-4;for(var Q=0;Q<N;Q+=2)if(!$.K.iS(H[Q],H[Q+1],H[Q+2],H[Q+3],H[Q+4],H[Q+5]))return!1;if(!$.K.iS(H[N],H[N+1],H[N+2],H[N+3],H[0],H[1]))return!1;
if(!$.K.iS(H[N+2],H[N+3],H[0],H[1],H[2],H[3]))return!1;return!0};$.K.iS=function(H,N,Q,c,_,O){return(N-c)*(_-Q)+(Q-H)*(O-c)>=0};
$.K.tVJ=function(H){var N={},Q=null,c=0,_={M:2,L:2,Q:4,C:6};for(var O=0;O<H.lX.length;O++){var L=H.lX[O];
if(L.charAt(0)=="#"){if(N[L]==null)N[L]={Z:[],lX:[]};Q=N[L]}else if(L!="X"){Q.lX.push(L);var s=_[L];
if(s==null)s=0;for(var r=0;r<s;r++)Q.Z.push(H.Z[c+r]);c+=s}}return N};$.K.tVw=function(H){var N=[{type:6},{type:8,all:0}],Q=H.Z,c=H.lX,_=0,O,L,s=!0;
for(var r=0;r<c.length;r++){var u=c[r];if(u=="M"){if(O==null){O={type:0,length:0,AY:s?1:-1,Fz:2};N.push(O)}var V=new E(Q[_],Q[_+1]);
L={type:1,kM:V.clone(),P:V,kq:V.clone()};N.push(L);_+=2;s=!1}if(u=="C"){var V=new E(Q[_+4],Q[_+5]),C=N[N.length-1],T;
if(c[r+1]=="Z"&&V.v$(L.P)){T=L}else{T={type:1,kM:V.clone(),P:V,kq:V.clone()};N.push(T)}C.kq=new E(Q[_],Q[_+1]);
T.kM=new E(Q[_+2],Q[_+3]);_+=6}if(u=="Z"){O.length=N.length-N.indexOf(O)-1;O=null}if(u=="X")s=!0}if(O&&O.length==0)O.length=N.length-N.indexOf(O)-1;
return N};$.K.Cp=function(H){var N={Z:[],lX:[]};for(var Q=0;Q<H.length;Q++){if(H[Q].type>5)continue;
var c=H[Q].length;if(Q==H.length-1)break;var _=H[Q].type==3;$.K.t$y(N,H,Q+1,c,_);if(!_)N.lX.push("Z");
Q+=c}return N};$.K.t$y=function(H,N,Q,c,_){var O=N[Q],L=null;H.Z.push(O.P.x,O.P.y);H.lX.push("M");for(var s=Q;
s<Q+c-1;s++){O=N[s];L=N[s+1];if(O.kq.v$(O.P)&&L.kM.v$(L.P)){H.Z.push(L.P.x,L.P.y);H.lX.push("L")}else{H.Z.push(O.kq.x,O.kq.y,L.kM.x,L.kM.y,L.P.x,L.P.y);
H.lX.push("C")}}if(!_){O=N[s];L=N[Q];if(O.kq.v$(O.P)&&L.kM.v$(L.P)){H.Z.push(L.P.x,L.P.y);H.lX.push("L")}else{H.Z.push(O.kq.x,O.kq.y,L.kM.x,L.kM.y,L.P.x,L.P.y);
H.lX.push("C")}}};$.K.tdo=function(H){var N=H.Z,Q=[],c,_=0;for(var O=0;O<H.lX.length;O++){var L=H.lX[O];
if(L=="C"){c.push(N[_++],N[_++],N[_++],N[_++],N[_++],N[_++])}else if(L=="Z"){}else{c=[];if(L!="M"){c.push(L);
O++}c.push(N[_++],N[_++]);Q.push(c)}}return Q};$.K.iv=function(H,N,Q,c){for(var _=0;_<H.length;_+=2){var O=H[_],L=H[_+1],s=N[_],r=N[_+1];
Q[_]=O+(s-O)*c;Q[_+1]=L+(r-L)*c}};$.K.UC=function(H,N,Q){for(var c=0;c<H.length;c+=2){var _=H[c],O=H[c+1];
Q[c]=_*N.o+O*N.lA+N.DX;Q[c+1]=_*N.H+O*N.KI+N.Ug}};$.K.jm=function(H){var N=99999999999,Q=-N,c=99999999999,_=-c;
for(var O=0;O<H.length;O+=2){var L=H[O],s=H[O+1];N=Math.min(N,L);c=Math.min(c,s);Q=Math.max(Q,L);_=Math.max(_,s)}return new p(N,c,Q-N,_-c)};
$.K.Cb=function(H,N){var Q=Math.max(N.x,Math.min(N.x+N.$,H.x)),c=Math.max(N.y,Math.min(N.y+N.z,H.y)),_=H.x-Q,O=H.y-c;
return Math.sqrt(_*_+O*O)};$.K.Cn=function(H){if(H.km())return new p(Math.floor(H.x),Math.floor(H.y),Math.ceil(H.$),Math.ceil(H.z));
var N=Math.floor(H.x),Q=Math.ceil(H.x+H.$),c=Math.floor(H.y),_=Math.ceil(H.y+H.z);return new p(N,c,Q-N,_-c)};
$.K.TD=function(H){return $.K.Cn($.K.jm(H))};$.K.DK=function(H){var N=H.x,Q=H.y,c=H.x+H.$,_=H.y+H.z;
return{lX:["M","L","L","L","L"],Z:[N,Q,c,Q,c,_,N,_,N,Q]}};$.K.concat=function(H,N,Q){if(Q==null)Q=new Jo;
for(var c=0;c<N.Z.length;c+=2){var _=N.Z[c],O=N.Z[c+1];H.Z.push(_*Q.o+O*Q.lA+Q.DX);H.Z.push(_*Q.H+O*Q.KI+Q.Ug)}for(var c=0;
c<N.lX.length;c++)H.lX.push(N.lX[c])};$.K.kX=function(H){var N=H.Z,Q=[],c=[],_=0,O=0,L=0,s=0,r=0,u=0,V=0,C=0,T=0;
for(var e=0;e<H.lX.length;e++){var t=H.lX[e];if(t=="M"){O=N[_];L=N[_+1];_+=2;c.push(t);Q.push(O,L)}else if(t=="C"){s=N[_];
r=N[_+1];u=N[_+2];V=N[_+3];C=N[_+4];T=N[_+5];_+=6;c.push(t);Q.push(s,r,u,V,C,T);O=C;L=T}else if(t=="Q"){s=N[_];
r=N[_+1];u=N[_+2];V=N[_+3];_+=4;var Y=s-O,A=r-L,G=u-s,j=V-r;c.push("C");Q.push(O+2/3*Y,L+2/3*A,s+1/3*G,r+1/3*j,u,V);
O=u;L=V}else if(t=="L"){s=N[_];r=N[_+1];_+=2;var d=s-O,w=r-L;c.push("C");Q.push(O,L,s,r,s,r);O=s;L=r}else c.push(t)}return{lX:c,Z:Q}};
$.K.kb=function(H,N){var Q=H.Z,c=[],_=[],O=0,L=0,s=0,r=0,u=0,V=0,C=0,T=0,e=0;for(var t=0;t<H.lX.length;
t++){var Y=H.lX[t];if(Y=="M"){L=Q[O];s=Q[O+1];O+=2;_.push(Y);c.push(L,s)}else if(Y=="C"){r=Q[O];u=Q[O+1];
V=Q[O+2];C=Q[O+3];T=Q[O+4];e=Q[O+5];O+=6;$.K.iE(L,s,r,u,V,C,T,e,N,_,c,0);L=T;s=e}else _.push(Y)}return{lX:_,Z:c}};
$.K.iE=function(H,N,Q,c,_,O,L,s,r,u,V,C){var T=Math.sqrt((L-H)*(L-H)+(s-N)*(s-N)),e=Math.sqrt((L-_)*(L-_)+(s-O)*(s-O))+Math.sqrt((_-Q)*(_-Q)+(O-c)*(O-c))+Math.sqrt((Q-H)*(Q-H)+(c-N)*(c-N)),t=(T+e)/2;
if(t<=r){u.push("C");V.push(Q,c,_,O,L,s)}else{var Y=0,A=0,G=0,j=0,d=0,w=0,f=0,b=0,F=0,n=0,J=0,Z=0,P=0;
A=(H+Q)/2;G=(N+c)/2;j=(Q+_)/2;d=(c+O)/2;w=(_+L)/2;f=(O+s)/2;b=(A+j)/2;F=(G+d)/2;n=(j+w)/2;J=(d+f)/2;
Z=(b+n)/2;P=(F+J)/2;$.K.iE(H,N,A,G,b,F,Z,P,r,u,V,C+1);$.K.iE(Z,P,n,J,w,f,L,s,r,u,V,C+1)}};$.K.t$z=function(H,N){var Q=N.slice(0),c=H.length/2,_=.553,O=[],L=[];
for(var s=0;s<c;s++){var r=(s+1)%c,u=H[2*s]-H[2*r],V=H[2*s+1]-H[2*r+1];L.push(Math.sqrt(u*u+V*V))}for(var s=0;
s<c;s++){var C=(s-1+c)%c,r=(s+1)%c,T=N[s],e=T+N[C],t=T+N[r];if(e!=0)Q[s]=Math.min(Q[s],L[C]*T/e);if(t!=0)Q[s]=Math.min(Q[s],L[s]*T/t)}for(var s=0;
s<c;s++){var r=(s+1)%c,Y=(s+2)%c,A=Q[s],G=Q[r],j=H[2*s],d=H[2*s+1],w=H[2*r],f=H[2*r+1],b=H[2*Y],F=H[2*Y+1],n=0,J=0,Z=0,P=0;
if(L[s]!=0){n=(w-j)/L[s];J=(f-d)/L[s]}if(L[r]!=0){Z=(b-w)/L[r];P=(F-f)/L[r]}O.push(j+A*n,d+A*J,j+A*n,d+A*J,w-G*n,f-G*J);
O.push(w-G*n,f-G*J,w-G*n*(1-_),f-G*J*(1-_),w+G*Z*(1-_),f+G*P*(1-_))}return O};$.oC=function(){};$.oC.oC=function(H,N,Q){var c=H,_=N,O=Q,L=1;
while(H.f()>110*110){var s=$.I(H.f()*4);$.kw(Q,s,3);var r=$.Ef(s,H),u=$.Ef(N,H);H=u.rect;N=u.nn;Q=$.I(H.f());
$.rY(r.nn,Q,3);L*=2}var V=Date.now(),C=$.oC.CB(H,N,Q);if(L!=1){var V=Date.now(),T=$.I(H.f()*4);$.kw(C,T,3);
var e=l._.Qk([T,H],new Jo(c.$/H.$,0,0,c.z/H.z,0,0),!1);e.rect.x=c.x;e.rect.y=c.y;C=$.I(c.f());$.he(e.buffer,e.rect,C,c);
var V=Date.now();C=$.oC.CB(c,_,C)}return C};$.oC.CB=function(H,N,Q){var c=H.$,_=H.z,O=H.$*H.z,L=new Uint8Array(O),s=new Uint8Array(O),r=$.clone(N),u=$.clone(N),C,T,w=0,f=0,m=0;
for(var V=0;V<O;V++){if(Q[V]==0){L[V]=0;s[V]=0;u[(V<<2)+3]=0}else if(Q[V]==255){L[V]=1;s[V]=2;r[(V<<2)+3]=0}else{L[V]=0;
s[V]=1;u[(V<<2)+3]=0}}for(var e=0;e<2;e++){var t=e==0?r:u,Y=[],A=$.clone(t);for(var V=0;V<A.length;V+=4)if(A[V+3]==0){A[V]=A[V+1]=A[V+2]=0}var G=UPNG.quantize(A.buffer,6).plte;
for(var V=1;V<G.length;V++){var j=G[V].est;Y.push({gJ:j.q,om:[0,0,0,0],eo:0,$M:null,ce:null,gc:0,WQ:0,Fm:null})}if(e==0)T=Y;
else C=Y}var d=new Float32Array(c*_*2);for(var b=0;b<_;b++)for(var F=0;F<c;F++){var V=b*c+F,n=V<<2,J=0,Z=0,P=0,M=0;
if(F!=c-1){var e=V+1,y=e<<2;J=N[n]-N[y];Z=N[n+1]-N[y+1];P=N[n+2]-N[y+2];M=J*J+Z*Z+P*P;d[V+V]=M;w+=M;
f++}if(b!=_-1){var a=V+c,g=a<<2;J=N[n]-N[g];Z=N[n+1]-N[g+1];P=N[n+2]-N[g+2];M=J*J+Z*Z+P*P;d[V+V+1]=M;
w+=M;f++}}var U=w/f;for(var V=0;V<d.length;V++)d[V]=50*Math.exp(-.001*d[V]);var D=new Uint16Array(O),W=new Uint16Array(O),q=Date.now();
while(!0){m++;if(C.length==0||T.length==0)break;$.oC.t$_(C,T,W,D,N,L);if(C.length==0||T.length==0)break;
var S=[],I=[],f=0,v=Date.now(),Jh=0,Jv=0;for(var b=0;b<_;b++)for(var F=0;F<c;F++){var V=b*c+F,n=V<<2,h=L[V],i=s[V];
if((i==0||i==2)&&(F==0||s[V-1]==i)&&(F==c-1||s[V+1]==i)&&(b==0||s[V-c]==i)&&(b==_-1||s[V+c]==i))continue;
if(F!=c-1){S.push(V,V+1);I.push(d[V+V],d[V+V])}if(b!=_-1){S.push(V,V+c);I.push(d[V+V+1],d[V+V+1])}var H=N[n]*(1/255),JI=N[n+1]*(1/255),Jx=N[n+2]*(1/255),Jd=$.oC.CZ(T,D[V],H,JI,Jx),JC=$.oC.CZ(C,W[V],H,JI,Jx);
if(isNaN(Jd))throw"a";if(isNaN(JC))throw"b";if(i==0){Jd=0;JC=1e9}if(i==2){Jd=1e9;JC=0}S.push(O,V);I.push(Jd,0);
S.push(V,O+1);I.push(JC,0)}var JM=$.ef.UU(O+2,S.length,O,O+1,S,I,1e20);if(JM.Ml==null){console.log("no cut");
break}for(var V=0;V<JM.Ml.length;V++){var JW=JM.Ml[V]<<1,Ji=0,Jc=0,JT=0;if(JW<S.length){Ji=S[JW];Jc=S[JW+1];
JT=I[JW]}else{Jc=S[JW];Ji=S[JW+1];JT=I[JW+1]}if(Ji==O&&L[Jc]!=0){Jh++;L[Jc]=0}if(Jc==O+1&&L[Ji]!=1){Jv++;
L[Ji]=1}}if(Jh+Jv<=.02*O||m>5||Date.now()-q>500)break}var Jy=$.I(O*4),Jg=$.I(O);for(var V=0;V<N.length;
V+=4){if(L[V>>2]==0)continue;Jy[V]=N[V];Jy[V+1]=N[V+1];Jy[V+2]=N[V+2];Jy[V+3]=N[V+3];Jg[V>>2]=255}return Jg};
$.oC.CZ=function(H,N,Q,c,_){var O=0,L=H[N],s=Q-L.gJ[0],r=c-L.gJ[1],u=_-L.gJ[2];if(L.eo==0||L.WQ<1e-20)O+=.99;
else{O+=L.gc*(1/Math.sqrt(L.WQ))*Math.exp(-.5*$.oC.tJh(s,r,u,L.Fm))}var V=O>=1?0:-Math.log(O);if(isNaN(V)){console.log(O);
console.log(L);console.log(H);console.log(L.WQ,Math.sqrt(L.WQ),1/Math.sqrt(L.WQ));throw"e"}return V};
$.oC.t$_=function(H,N,Q,c,_,O){for(var L=0;L<2;L++){var s=L==0?N:H;for(var r=0;r<s.length;r++){var u=s[r];
u.eo=0;u.om=[0,0,0,0];u.ce=[0,0,0,0,0,0,0,0,0]}}for(var r=0;r<_.length;r+=4){var V=_[r]*(1/255),C=_[r+1]*(1/255),T=_[r+2]*(1/255),s,e;
c[r>>2]=$.oC.Ck(N,V,C,T);Q[r>>2]=$.oC.Ck(H,V,C,T);if(O[r>>2]==0){s=N;e=c[r>>2]}else{s=H;e=Q[r>>2]}var u=s[e],t=u.ce,Y=u.gJ;
u.eo++;var A=V-Y[0],G=C-Y[1],j=T-Y[2];u.om[0]+=V;u.om[1]+=C;u.om[2]+=T;t[0]+=A*A;t[1]+=A*G;t[2]+=A*j;
t[3]+=G*A;t[4]+=G*G;t[5]+=G*j;t[6]+=j*A;t[7]+=j*G;t[8]+=j*j}for(var L=0;L<2;L++){var s=L==0?H:N,d=0;
for(var r=0;r<s.length;r++)d+=s[r].eo;if(d==0)continue;for(var r=0;r<s.length;r++){var u=s[r],w=1/u.eo,f=u.$M=[];
u.gJ=[u.om[0]*w,u.om[1]*w,u.om[2]*w];u.gc=u.eo/d;var A=u.om[0],G=u.om[1],j=u.om[2],b=[A*A,A*G,A*j,G*A,G*G,G*j,j*A,j*G,j*j],F=[];
for(var n=0;n<9;n++)F[n]=u.ce[n]-b[n]*w;for(var n=0;n<9;n++)f[n]=u.ce[n]*w;var J=$.Iw.Cg(f);u.WQ=$.Iw.WQ(J);
u.Fm=$.Iw.tc_($.Iw.UK(J))}}};$.oC.Ck=function(H,N,Q,c){var _=0,O=1e9;for(var L=0;L<H.length;L++){var s=H[L].gJ,r=N-s[0],u=Q-s[1],V=c-s[2],C=r*r+u*u+V*V;
if(C<O){O=C;_=L}}return _};$.oC.tJh=function(H,N,Q,c){var _=H*c[0]+N*c[3]+Q*c[6],O=H*c[1]+N*c[4]+Q*c[7],L=H*c[2]+N*c[5]+Q*c[8];
return _*H+O*N+L*Q};$.ih=function(){};$.ih.zZ=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=O*L,r=new Int32Array(s),u=0;
for(var V=0;V<s;V++)if(N[V]!=0){r[V]=u;u++}else if(H[(V<<2)+3]<200){r[V]=-2}else r[V]=-1;if(u==0)return;
var C=new $.eD(u,u),T=new Float64Array(3*u),e=1/255,t=[-O,-1,1,O],Y=[],A=[];for(var G=0;G<L;G++)for(var j=0;
j<O;j++){var d=G*O+j,w=d<<2,V=r[d],f=V*3,b=0,F=0,n=0;if(V==-1||V==-2)continue;for(var J=0;J<4;J++){if(J==2){F=n;
Y[n]=0;A[n]=V;n++}var Z=d+t[J],P=Z<<2,M=r[Z];if(J==0&&G==0||J==1&&j==0||J==2&&j==O-1||J==3&&G==L-1||M==-2)continue;
b++;if(M==-1){T[f+0]+=H[P+0];T[f+1]+=H[P+1];T[f+2]+=H[P+2]}else{Y[n]=-1;A[n]=M;n++;if(N[d]==N[Z]){T[f+0]+=H[w+0]-H[P+0];
T[f+1]+=H[w+1]-H[P+1];T[f+2]+=H[w+2]-H[P+2]}}}Y[F]=b;C.zJ(Y,A,n)}var y=new Float64Array(3*u);for(var V=0;
V<s;V++)if(r[V]!=-1){var a=V<<2,g=r[V],U=g*3;y[U]=H[a+0];y[U+1]=H[a+1];y[U+2]=H[a+2]}C.tVa(y,T,c,_);
for(var V=0;V<s;V++){var g=r[V],D=g*3,a=V<<2;if(g==-1)continue;H[a+0]=~~(.5+Math.max(0,Math.min(255,y[D+0])));
H[a+1]=~~(.5+Math.max(0,Math.min(255,y[D+1])));H[a+2]=~~(.5+Math.max(0,Math.min(255,y[D+2])))}};$.rect={};
$.rect.Zx=function(H){var N=new p;for(var Q=0;Q<H.length;Q++)N=N.Fv(H[Q]);return N};$.rect.tJW=function(H,N){var Q=$.rect.Zx,c=new UnionFind(H.length),F=1e3,n=1e3;
for(var _=0;_<H.length;_++)for(var O=_+1;O<H.length;O++){if(!N)continue;var L=H[_],s=H[O],T=1e9,e=1e9;
if(L.p$(s)){c.link(_,O);continue}var r=L.x+L.$,u=L.y+L.z,V=s.x+s.$,C=s.y+s.z;if((r<s.x||V<L.x)&&(u<s.y||C<L.y))continue;
if(!(u<s.y||C<L.y))T=Math.min(Math.abs(r-s.x),Math.abs(L.x-V));if(!(r<s.x||V<L.x))e=Math.min(Math.abs(u-s.y),Math.abs(L.y-C));
var t=Math.min(T,e),Y=Math.min(L.$,L.z,s.$,s.z);if(t<.3*Y)c.link(_,O)}var A=[],G={};for(var _=0;_<H.length;
_++){var j=c.find(_),d=H[_];if(G[j]==null){G[j]=A.length;A.push([])}A[G[j]].push(d)}var w=[],f=[];for(var _=0;
_<A.length;_++){w.push(Q(A[_]));var b=Q(A[_]);b.pV=_;f.push(b)}f.sort(function(W,m){return Math.max(m.z,m.$)-Math.max(W.z,W.$)});
var J=new NETXUS.RectanglePacker(F,n);while(!0){var Z=!1;J.reset(F,n);for(var _=0;_<f.length;_++){var P=J.findCoords(f[_].$,f[_].z);
if(P){f[_].x=P.x;f[_].y=P.y}else{F=Math.floor(F*1.1);n=Math.floor(n*1.1);Z=!0;break}}if(Z)continue;break}for(var _=0;
_<A.length;_++){var M=f[_],y=M.pV,a=w[y],g=A[y],U=M.x-a.x,D=M.y-a.y;for(var O=0;O<g.length;O++)g[O].offset(U,D)}};
$.VU=function(){};$.VU.oK=Math.floor(16*window.devicePixelRatio);$.VU.iq={};$.VU.Tx=0;$.VU.ip=["Pixels","Inches","Centimeters","Millimeters"];
$.VU.ZS=function(H,N,Q){var c=Q.sS.eJ,_=[1,N,N/2.54,N/25.4][c],O=[0,3,2,1][c];H=H/_;return H.toFixed(O)};
$.VU.trO=function(H,N){var Q=Math.round($.VU.oK*.5);$.VU.Tx=Q;var c=document.createElement("canvas");
c.width=c.height=Q;var _=c.getContext("2d");_.font=Q*1.5+"px monospace";var O="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var L=0;L<O.length;L++){_.fillStyle="#"+$.fM(N);_.fillRect(0,0,Q,Q);_.fillStyle="#"+$.fM(H);_.fillText(O[L],0,Q);
$.VU.iq[O[L]]=_.getImageData(0,0,Q,Q).data}};$.VU.tHk=function(H,N,Q){var c=0,_=0,O=4*$.VU.oK;for(var L=9;
L>=0;L--){var s=Math.pow(10,L);if(5*s*H<=O){c=5*s;_=10;break}if(2*s*H<=O){c=2*s;_=4;break}if(1*s*H<=O){c=1*s;
_=10;break}}if(c==0){c=1;_=10}var r=Math.ceil(c*H),u=$.I(r*$.VU.oK*4);$.Mw(u,4278190080|Q);for(var L=0;
L<$.VU.oK;L++)$.VU.iO(u,4*L*r,N);for(var L=0;L<r;L++)$.VU.iO(u,4*(($.VU.oK-1)*r+L),N);if(c==2)_=2;if(c==5)_=5;
if(c>1||c==1&&r>20)for(var L=1;L<_;L++)$.VU.twD(u,L*(r/_),r,(L&1)==1?.8:.7,N);return{er:u,step:c}};$.VU.twD=function(H,N,Q,c,_){var N=Math.round(N);
for(var O=Math.round($.VU.oK*c);O<$.VU.oK-1;O++)$.VU.iO(H,4*(O*Q+N),_)};$.VU.iO=function(H,N,Q){H[N+0]=Q>>16&255;
H[N+1]=Q>>8&255;H[N+2]=Q&255};$.VU.tyr=function(H,N,Q){var c=N&255,_=N>>8&255,O=N>>16&255,G,j,d,w;N=Math.round(c*.6)<<16|Math.round(_*.6)<<8|Math.round(O*.6);
$.VU.trO(Math.round(c*.8)<<16|Math.round(_*.8)<<8|Math.round(O*.8),Q);var L=this.tHk(H.s,N,Q),s=H.kp(0,0),r=H.kp(H.C.$,H.C.z),u=Math.floor(s.x/L.step)*L.step,V=Math.ceil(r.x/L.step)*L.step,C=Math.floor(s.y/L.step)*L.step,T=Math.ceil(r.y/L.step)*L.step,e=H.PM(u,C),t=H.PM(V,C),Y=L.step*H.s,A=Math.ceil(Y);
G=H.gS.data;j=new p(0,0,H.C.$,$.VU.oK);d=new p(0,0,A,$.VU.oK);w=new p(0,Math.round($.VU.oK*.08),$.VU.Tx,$.VU.Tx);
for(var f=0;f<(V-u)/L.step;f++){d.x=Math.round(e.x+f*Y);$.Pg(L.er,d,G,j,d);var b=(u+f*L.step).toString(10);
for(var F=0;F<b.length;F++){w.x=d.x+3+F*Math.round($.VU.Tx*.8);var n=$.VU.iq[b[F]];$.Pg(n,w,G,j,w)}}var J=new Uint32Array(L.er.buffer),Z=new Uint32Array(L.er.length);
for(var P=0;P<A;P++)for(var M=0;M<$.VU.oK;M++){Z[P*$.VU.oK+M]=J[M*A+P]}L.er=new Uint8Array(Z.buffer);
G=H.Tn.data;j=new p(0,0,$.VU.oK,H.C.z);d=new p(0,0,$.VU.oK,A);w=new p(Math.round($.VU.oK*.2),0,$.VU.Tx,$.VU.Tx);
for(var f=0;f<(T-C)/L.step;f++){d.y=Math.round(e.y+f*Y);$.Pg(L.er,d,G,j,d);var b=Math.abs(C+f*L.step).toString(10);
for(var F=0;F<b.length;F++){w.y=d.y+3+F*Math.round($.VU.Tx*1.15);var n=$.VU.iq[b[F]];$.Pg(n,w,G,j,w)}}};
$.scale={};$.scale.ql=document.createElement("canvas");$.scale.Ia=$.scale.ql.getContext("2d");$.scale.tcl=document.createElement("canvas");
$.scale.tdQ=$.scale.tcl.getContext("2d");$.scale.vh=function(H,N,Q){var c=$.scale.ql,_=$.scale.Ia;c.width=N;
c.height=Q;var O=_.createImageData(N,Q),L=H.length;for(var s=0;s<L;s++)O.data[s]=H[s];_.putImageData(O,0,0);
return _.createPattern(c,"repeat")};$.scale.tdn=function(H,N,Q,c,_,O,L,s){var r=$.scale.CN(H,Q,c,_,O,L,s);
$.GQ(r.data,N)};$.scale.tCg=function(H,N,Q,c,_,O,L,s){var r=$.scale.CN(H,Q,c,_,O,L,s);$.sa(r.data,N)};
$.scale.CN=function(H,N,Q,c,_,O,L){var s=$.scale.ql,r=$.scale.Ia;s.width=N;s.height=Q;r.rect(0,0,N,Q);
r.translate(O,L);r.scale(c,_);r.fillStyle=H;r.fill();return r.getImageData(0,0,N,Q)};$.scale.in=function(H,N,Q,c,_,O,L){if(L<1)$.scale.tTX(H,N,Q,c,_,O,Math.round(1/L));
else $.scale.tCh(H,N,Q,c,_,O,L)};$.scale.ke=function(H,N,Q,c,_,O,L,s){if(s)s=s.sj(new p(0,0,N,Q));H=new Uint32Array(H.buffer);
c=new Uint32Array(c.buffer);if(L<1)$.scale.tTB(H,N,Q,c,_,O,Math.round(1/L),s);else $.scale.tTY(H,N,Q,c,_,O,L)};
$.scale.tCh=function(H,N,Q,c,_,O,L){for(var s=0;s<Q;s++)for(var r=0;r<N;r++){var u=H[s*N+r],V=Math.min(L,_-r*L),C=Math.min(L,O-s*L);
for(var T=0;T<C;T++)for(var e=0;e<V;e++)c[(L*s+T)*_+L*r+e]=u}};$.scale.tTX=function(H,N,Q,c,_,O,L){for(var s=0;
s<O;s++)for(var r=0;r<_;r++){var u=0,V=Math.min(L,N-r*L),C=Math.min(L,Q-s*L);for(var T=0;T<C;T++)for(var e=0;
e<V;e++)u+=H[(L*s+T)*N+(L*r+e)];c[s*_+r]=Math.round(u/(V*C))}};$.scale.tTY=function(H,N,Q,c,_,O,L){for(var s=0;
s<Q;s++)for(var r=0;r<N;r++){var u=H[s*N+r],V=Math.min(L,_-r*L),C=Math.min(L,O-s*L);for(var T=0;T<C;
T++)for(var e=0;e<V;e++)c[(L*s+T)*_+L*r+e]=u}};$.scale.tTB=function(H,N,Q,c,_,O,L,s){var r=0,u=_,V=0,C=O;
if(s){r=Math.floor(s.x/L);u=Math.ceil((s.x+s.$)/L);V=Math.floor(s.y/L);C=Math.ceil((s.y+s.z)/L)}for(var T=V;
T<C;T++)for(var e=r;e<u;e++){var t=0,Y=0,A=0,G=0,j=Math.min(L,N-e*L),d=Math.min(L,Q-T*L);for(var w=0;
w<d;w++)for(var f=0;f<j;f++){var b=H[(L*T+w)*N+L*e+f],F=b>>>24;t+=F;Y+=F*(b>>>16&255);A+=F*(b>>>8&255);
G+=F*(b&255)}if(t!=0){var n=1/t;c[T*_+e]=t/(j*d)<<24|Y*n<<16|A*n<<8|G*n}else c[T*_+e]=0}};$.t={};$.t.tPM=function(H,N,Q){var c=128,_=0,O=Q.$,L=Q.z;
for(var s=0;s<L;s++)for(var r=0;r<O;r++){if(H[_]>=c&&(r==0||H[_-1]<c||(r==O-1||H[_+1]<c)||(s==0||H[_-O]<c)||(s==L-1||H[_+O]<c)))N[_]=255;
_++}};$.t.tGb=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=0,r=0,u=O,V=L;if(_){s=_.x-Q.x;r=_.y-Q.y;u=s+_.$;
V=r+_.z}var C=new Uint8Array(N.buffer),T=new Uint32Array(N.buffer);for(var e=r;e<V;e++){for(var t=s;
t<u;t++){var Y=e*O+t;if(H[Y]>>7==1&&(e==0||H[Y-O]>>7==0||t==0||H[Y-1]>>7==0||t==O-1||H[Y+1]>>7==0||e==L-1||H[Y+O]>>7==0)){T[Y]=4278190080|((t+e&4)>>>2)*c}}}};
$.t.txj=function(H,N,Q,c,_,O){var L=Q.$,s=Q.z,r=0,u=0,V=L,C=s;if(_){r=_.x-Q.x;u=_.y-Q.y;V=r+_.$;C=u+_.z}var T=new Uint8Array(N.buffer),e=new Uint32Array(N.buffer);
for(var t=u;t<C;t++){for(var Y=r;Y<V;Y++){var A=t*L+Y,G=H[A];if(O==1)e[A]=255-G>>>1<<24|255&c;else e[A]=255<<24|(G<<16|G<<8|G)&c}}};
$.lO={};$.lO.Zh=function(H,N,Q){var c,_;if(Q=="front"){c=H.rect.clone();_=$.lO.tRV}if(Q=="union"){c=H.rect.Fv(N.rect);
_=$.lO.Fv}if(Q=="difference"){c=N.rect.clone();_=$.lO.ttA}if(Q=="intersection"){c=H.rect.sj(N.rect);
_=$.lO.sj}if(Q=="xor"){c=H.rect.Fv(N.rect);_=$.lO.tVx}if(c.km())return null;var O=$.I(c.f());$.Jg(N.channel,N.rect,O,c);
var L=$.I(c.f());$.Jg(H.channel,H.rect,L,c);_(L,O,O);var s=$.hV(O,c);if(s.km())return null;if(!s.v$(c)){var r=$.I(s.f());
$.Jg(O,c,r,s);O=r;c=s}return{channel:O,rect:c}};$.lO.tRV=function(H,N,Q){for(var c=0;c<H.length;c++)Q[c]=H[c]};
$.lO.Fv=function(H,N,Q){for(var c=0;c<H.length;c++)Q[c]=Math.min(H[c]+N[c],255)};$.lO.ttA=function(H,N,Q){for(var c=0;
c<H.length;c++)Q[c]=Math.max(N[c]-H[c],0)};$.lO.sj=function(H,N,Q){var c=1/255;for(var _=0;_<H.length;
_++)Q[_]=H[_]*N[_]*c};$.lO.tVx=function(H,N,Q){var c=1/255;for(var _=0;_<H.length;_++)Q[_]=Math.min(H[_]+N[_],255)-H[_]*N[_]*c};
$.eD=function(H,N){this.m=[];this.LV=[0];this.Nq=[];this.oI=[];this.VB=[];this.rows=H;this.cols=N;this.mP=!1};
$.eD.prototype.zJ=function(H,N,Q){var c=this.LV.length-1;for(var _=0;_<Q;_++){var O=H[_],L=N[_];if(L==c){this.oI.push(O);
this.VB.push(O==0?0:1/O)}else{this.m.push(O);this.Nq.push(L*3)}}this.LV.push(this.m.length)};$.eD.prototype.freeze=function(){if(this.mP)return;
this.mP=!0;this.mp=new Float64Array(this.m)};$.eD.prototype.tdB=function(H,N){this.freeze();var Q=this.rows,c=this.mp,_=this.LV,O=this.Nq,L=this.VB;
for(var s=0;s<3500;s++){var r=0;for(var u=0;u<Q;u++){var V=N[u],C=_[u],T=_[u+1];if(T-C==4)V-=c[C]*H[O[C]]+c[C+1]*H[O[C+1]]+c[C+2]*H[O[C+2]]+c[C+3]*H[O[C+3]];
else for(var e=C;e<T;e++)V-=c[e]*H[O[e]];H[u]=L[u]*V}}};$.eD.prototype.tVa=function(H,N,Q,c){var _=Date.now(),O=1.96;
this.freeze();if(Q==null)Q=5e-5;if(c==null)c=1e9;var L=1-O,s=this.rows,r=this.mp,u=this.LV,V=this.Nq,C=this.VB;
while(!0){var T=0;for(var e=0;e<s;e++){var t=e*3,Y=N[t],A=N[t+1],G=N[t+2],j=u[e],d=u[e+1];if(d-j==4){var w=r[j],f=r[j+1],b=r[j+2],F=r[j+3],n=V[j],J=V[j+1],Z=V[j+2],P=V[j+3];
Y-=w*H[n+0]+f*H[J+0]+b*H[Z+0]+F*H[P+0];A-=w*H[n+1]+f*H[J+1]+b*H[Z+1]+F*H[P+1];G-=w*H[n+2]+f*H[J+2]+b*H[Z+2]+F*H[P+2]}else for(var M=j;
M<d;M++){var w=r[M],n=V[M];Y-=w*H[n+0];A-=w*H[n+1];G-=w*H[n+2]}var y=C[e]*O,a=H[t+0]*L+Y*y,g=H[t+1]*L+A*y,U=H[t+2]*L+G*y,D=a-H[t+0],W=g-H[t+1],m=U-H[t+2];
T+=.4*D*D+.5*W*W+.1*m*m;H[t+0]=a;H[t+1]=g;H[t+2]=U}if(T/s<Q||Date.now()>_+c)break}};$.kv={};$.kv.oS=function(H,N,Q){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:H},Vrtc:{t:"doub",v:N},Cnty:{t:"bool",v:Q}}}};
$.kv.UC=function(H,N){for(var Q=0;Q<H.length;Q++){var c=H[Q].v,_=N.Sk(new E(c.Hrzn.v,c.Vrtc.v));c.Hrzn.v=Math.round(_.x);
c.Vrtc.v=Math.round(_.y)}};$.kv.WK={};$.kv.WK.UU=function(H,N){var Q=H.length;for(var c=0;c<Q;c++){var _=0,O=Number.NEGATIVE_INFINITY;
for(var L=c;L<Q;L++)if(Math.abs(H[L][c])>O){_=L;O=Math.abs(H[L][c])}$.kv.WK.t$l(H,c,_);for(var L=c+1;
L<Q;L++){if(H[c][c]==0)return 1;var s=H[L][c]/H[c][c];for(var r=c;r<Q+1;r++)H[L][r]-=H[c][r]*s}}for(var L=Q-1;
L>=0;L--){if(H[L][L]==0)return 1;var u=H[L][Q]/H[L][L];N[L]=u;for(var r=L-1;r>=0;r--){H[r][Q]-=H[r][L]*u;
H[r][L]=0}}return 0};$.kv.WK.t$I=function(H,N){var Q=[];for(var c=0;c<H;c++){Q.push([]);for(var _=0;
_<N;_++)Q[c].push(0)}return Q};$.kv.WK.tdA=function(H){for(var N=0;N<H.length;N++)console.log(JSON.stringify(H[N]))};
$.kv.WK.t$l=function(H,N,Q){var c=H[N];H[N]=H[Q];H[Q]=c};$.kv.Cm=function(H,N,Q){var c=H.length-1,_=$.kv.WK.t$I(c+1,c+2);
for(var O=1;O<c;O++){_[O][O-1]=1/(H[O]-H[O-1]);_[O][O]=2*(1/(H[O]-H[O-1])+1/(H[O+1]-H[O]));_[O][O+1]=1/(H[O+1]-H[O]);
_[O][c+1]=3*((N[O]-N[O-1])/((H[O]-H[O-1])*(H[O]-H[O-1]))+(N[O+1]-N[O])/((H[O+1]-H[O])*(H[O+1]-H[O])))}_[0][0]=2/(H[1]-H[0]);
_[0][1]=1/(H[1]-H[0]);_[0][c+1]=3*(N[1]-N[0])/((H[1]-H[0])*(H[1]-H[0]));_[c][c-1]=1/(H[c]-H[c-1]);_[c][c]=2/(H[c]-H[c-1]);
_[c][c+1]=3*(N[c]-N[c-1])/((H[c]-H[c-1])*(H[c]-H[c-1]));$.kv.WK.UU(_,Q)};$.kv.t$f=function(H,N,Q,c){if(H<=N[0])return Q[0];
if(H>=N[N.length-1])return Q[N.length-1];var _=1;while(N[_]<H)_++;var O=N[_],L=N[_-1],s=Q[_],r=Q[_-1],u=(H-L)/(O-L),V=c[_-1]*(O-L)-(s-r),C=-c[_]*(O-L)+(s-r),T=(1-u)*r+u*s+u*(1-u)*(V*(1-u)+C*u);
return T};$.kv.C_=function(H,N,Q,c){var _={Wp:[H[0]],ik:[N[0]],LM:[]};c[0]=_;for(var O=1;O<H.length-1;
O++){_.Wp.push(H[O]);_.ik.push(N[O]);if(Q[O]==!1){$.kv.Cm(_.Wp,_.ik,_.LM);_={Wp:[H[O]],ik:[N[O]],LM:[]}}c[O]=_}_.Wp.push(H[O]);
_.ik.push(N[O]);$.kv.Cm(_.Wp,_.ik,_.LM);c[O]=_};$.kv.Tt=function(H,N,Q,c){if(H<=N[0])return Q[0];if(H>=N[N.length-1])return Q[N.length-1];
var _=1;while(N[_]<H)_++;var O=c[_-1];return $.kv.t$f(H,O.Wp,O.ik,O.LM)};$.kv.T$=function(H){var N={Wp:[],ik:[],pe:[]};
for(var Q=0;Q<H.length;Q++){N.Wp[Q]=H[Q].v.Hrzn.v;N.ik[Q]=H[Q].v.Vrtc.v;N.pe[Q]=H[Q].v.Cnty?H[Q].v.Cnty.v:!0}return N};
$.kv.__=function(H,N,Q){var c=0,_=255;if(Q){c=-1e9;_=1e9}var O=$.kv.T$(H),L=[];$.kv.C_(O.Wp,O.ik,O.pe,L);
var s=[];for(var r=0;r<N;r++)s[r]=1/255*Math.max(c,Math.min(_,$.kv.Tt(r*(255/(N-1)),O.Wp,O.ik,L)));return s};
$.kv.tJt=function(H,N,Q){var c=Math.round(H.length/20),_=N-H.length,O=Q?(H[c]-H[0])/c:0,L=Q?H[0]-_*O:H[H.length-1],s=[];
for(var r=0;r<_;r++)s.push(L+r*O);return Q?s.concat(H):H.concat(s)};$.kv.tH=function(H,N,Q){var c=$.kv.T$(H),_=[];
$.kv.C_(c.Wp,c.ik,c.pe,_);var O=new Uint8Array(N),L=N/256;for(var s=0;s<N;s++)O[s]=Math.max(0,Math.min(N-1,$.kv.Tt(s*L,c.Wp,c.ik,_)));
if(Q){O[0]=0;if(O[1]>100)O[1]=.4*O[1];if(O[2]>150)O[1]=.7*O[2]}return O};$.kv.TJ=function(H,N){var Q=new Uint8Array(H.length);
for(var c=0;c<H.length;c++)Q[c]=N[H[c]];return Q};$.kv.uU=function(H,N,Q){var c=z.B("canvas","");c.width=N;
c.height=Q;var _=c.getContext("2d"),O=$.kv.tH(H,256);_.scale(N/255,Q/255);_.fillStyle="#fff";_.fillRect(0,0,255,255);
_.fillStyle="#333";_.beginPath();_.moveTo(0,255);for(var L=0;L<O.length;L++)_.lineTo(L,255-O[L]);_.lineTo(255,255);
_.closePath();_.fill();return c.toDataURL()};$.style={};$.style.stroke=function(H,N,Q,c){var _=Q.$,O=Q.z,L=new Float64Array(_*O);
$.style.td(H,L,_,O);$.style.il(N,Q,L,Q,c)};$.style.il=function(H,N,Q,c,_){var O=N.sj(c),L=O.$,s=O.z;
_+=.5;var r=O.x-N.x,u=O.y-N.y,V=N.$,C=O.x-c.x,T=O.y-c.y,e=c.$;for(var t=0;t<s;t++){var Y=(t+T)*e+C,A=(t+u)*V+r;
for(var G=0;G<L;G++){var j=Math.max(0,Math.min(1,_-Q[Y+G]));H[A+G]=Math.round(j*255)}}};$.style.tde=function(H,N,Q,c){for(var _=0;
_<Q;_++)for(var O=0;O<N;O++){var L=_*N+O,s=0,r=0,u=H[L];if(O==0||_==0){s=H[L+1]-u;r=H[L+N]-u}else if(O==Q-1||_==N-1){s=u-H[L-1];
r=u-H[L-N]}else{s=H[L+1]-H[L-1];r=H[L+N]-H[L-N]}if(s!=0||r!=0){var V=1/Math.sqrt(s*s+r*r);s*=V;r*=V}c[L+L]=s;
c[L+L+1]=r}};$.style.td=function(H,N,Q,c){var _=$.style.ij(H,Q,c);for(var O=0;O<c;O++)for(var L=0;L<Q;
L++){var s=O*Q+L,r=_[s*2],u=_[s*2+1],V=(O+u)*Q+L+r;if(r==0&&u==0){N[s]=0;continue}var C=Math.sqrt(r*r+u*u),T=H[V]*(1/255),e=1/C,t=Math.abs(r)*e,Y=Math.abs(u)*e;
if(Y>t){var A=Y;Y=t;t=A}N[s]=C+$.style.tJJ(t,Y,T)}};$.style.ij=function(H,N,Q){var c=!0;for(var _=0;
_<H.length;_++)c=c&&(H[_]==0||H[_]==255);var O=new Int16Array(N*Q*2);if(c)$.style.tIo(H,O,N,Q);else $.style.tHq(H,O,N,Q);
return O};$.style.tJJ=function(H,N,Q){return(.5-Q)*H};$.style.tHq=function(H,N,Q,c){var _=Q*c;for(var O=0;
O<_;O++)if(H[O]==0){N[O*2]=16383;N[O*2+1]=16383}for(var L=1;L<=c-1;L++){var O=L*Q;for(var s=0;s<=Q-1;
s++)$.style.TH(N,H,Q,O+s<<1,-1);for(var s=1;s<=Q-1;s++)$.style.ZY(N,H,Q,O+s<<1,-1);for(var s=Q-2;s>=0;
s--)$.style.ZY(N,H,Q,O+s<<1,1)}for(var L=c-2;L>=0;L--){var O=L*Q;for(var s=0;s<=Q-1;s++)$.style.TH(N,H,Q,O+s<<1,1);
for(var s=1;s<=Q-1;s++)$.style.ZY(N,H,Q,O+s<<1,-1);for(var s=Q-2;s>=0;s--)$.style.ZY(N,H,Q,O+s<<1,1)}};
$.style.ZY=function(H,N,Q,c,_){var O=(c>>>1)+_<<1,L=H[c],s=H[c+1],r=H[O]+_,u=H[O+1],V=r*r+u*u,C=L*L+s*s;
if(u!=16383&&(L==16383||Math.sqrt(V)+(.5-N[(c>>>1)+u*Q+r]*(1/255))<Math.sqrt(C)+(.5-N[(c>>>1)+s*Q+L]*(1/255)))){H[c]=r;
H[c+1]=u}};$.style.TH=function(H,N,Q,c,_){var O=(c>>>1)+_*Q<<1,L=H[c],s=H[c+1],r=H[O],u=H[O+1]+_,V=r*r+u*u,C=L*L+s*s;
if(r!=16383&&(L==16383||Math.sqrt(V)+(.5-N[(c>>>1)+u*Q+r]*(1/255))<Math.sqrt(C)+(.5-N[(c>>>1)+s*Q+L]*(1/255)))){H[c]=r;
H[c+1]=u}};$.style.tIo=function(H,N,Q,c){var _=Q*c;for(var O=0;O<_;O++)if(H[O]==0){N[O*2]=16383;N[O*2+1]=16383}for(var L=1;
L<=c-1;L++){var O=L*Q;for(var s=0;s<=Q-1;s++)$.style.Tw(N,H,Q,O+s<<1,-1);for(var s=1;s<=Q-1;s++)$.style.ZB(N,H,Q,O+s<<1,-1);
for(var s=Q-2;s>=0;s--)$.style.ZB(N,H,Q,O+s<<1,1)}for(var L=c-2;L>=0;L--){var O=L*Q;for(var s=0;s<=Q-1;
s++)$.style.Tw(N,H,Q,O+s<<1,1);for(var s=1;s<=Q-1;s++)$.style.ZB(N,H,Q,O+s<<1,-1);for(var s=Q-2;s>=0;
s--)$.style.ZB(N,H,Q,O+s<<1,1)}};$.style.ZB=function(H,N,Q,c,_){var O=(c>>>1)+_<<1,L=H[c],s=H[c+1],r=H[O]+_,u=H[O+1],V=r*r+u*u,C=L*L+s*s;
if(u!=16383&&(L==16383||V<C)){H[c]=r;H[c+1]=u}};$.style.Tw=function(H,N,Q,c,_){var O=(c>>>1)+_*Q<<1,L=H[c],s=H[c+1],r=H[O],u=H[O+1]+_,V=r*r+u*u,C=L*L+s*s;
if(r!=16383&&(L==16383||V<C)){H[c]=r;H[c+1]=u}};$.style.tdu=function(H,N,Q,c,_){var O=Q*c,L=(Q+c+1)*1.01;
for(var s=0;s<O;s++)if(H[s]<=_)N[s]=L;for(var r=1;r<Q;r++)N[r]=Math.min(N[r],N[r-1]);for(var u=1;u<c;
u++){var s=u*Q;N[s]=Math.min(N[s],Math.min(N[s-Q]+1,N[s-Q+1]+Math.SQRT2));for(var r=1;r<Q-1;r++){var V=N[++s],C=Math.min(N[s-1]+1,Math.min(N[s-Q-1]+Math.SQRT2,Math.min(N[s-Q]+1,N[s-Q+1]+Math.SQRT2)));
if(C<V)N[s]=C}s++;N[s]=Math.min(N[s],Math.min(N[s-1]+1,Math.min(N[s-Q-1]+Math.SQRT2,N[s-Q]+1)))}for(var r=Q-2;
r>=0;r--)N[r+O-Q]=Math.min(N[r+O-Q],N[r+O-Q+1]);for(var u=c-2;u>=0;u--){var s=u*Q+Q-1;N[s]=Math.min(N[s],Math.min(N[s+Q]+1,N[s+Q-1]+Math.SQRT2));
for(var r=Q-2;r>=1;r--){var V=N[--s],C=Math.min(N[s+1]+1,Math.min(N[s+Q-1]+Math.SQRT2,Math.min(N[s+Q]+1,N[s+Q+1]+Math.SQRT2)));
if(C<V)N[s]=C}s--;N[s]=Math.min(N[s],Math.min(N[s+1]+1,Math.min(N[s+Q]+1,N[s+Q+1]+Math.SQRT2)))}};$.style.tGV=function(H,N,Q,c,_){var O=new Int32Array(Q*c);
$.style.tyh(H,O,Q,c,_);$.style.tDJ(O,N,Q,c)};$.style.tyh=function(H,N,Q,c,_){var O=new Int32Array(c);
for(var L=0;L<Q;L++){var s=Q+c;for(var r=c-1;r>=0;r--){if(H[r*Q+L]>_)s=0;else s++;O[r]=s}s=Q+c;for(var r=0;
r<c;r++){if(H[r*Q+L]>_)s=0;else s++;N[r*Q+L]=s<O[r]?-s:O[r]}}};$.style.tDJ=function(H,N,Q,c){var _=(Q+c)*(Q+c),O=new Float64Array(Q),L=new Uint16Array(Q);
for(var s=0;s<c;s++){var r=s*Q,u=0;L[0]=0;O[0]=-_;O[1]=+_;for(var V=1;V<Q;V++){var C=H[V+r]*H[V+r]+V*V,T=(C-(H[L[u]+r]*H[L[u]+r]+L[u]*L[u]))/(2*V-2*L[u]);
while(T<=O[u]){u--;T=(C-(H[L[u]+r]*H[L[u]+r]+L[u]*L[u]))/(2*V-2*L[u])}u++;L[u]=V;O[u]=T;O[u+1]=_}u=0;
for(var V=0;V<Q;V++){while(O[u+1]<V)u++;var e=L[u]-V,t=H[L[u]+r],Y=s*Q+V<<1;N[Y]=e;N[Y+1]=t}}};$.style.tDI=function(H,N){for(var Q=0;
Q<H.length;Q++){var c=H[Q],_;if(c<5)_=!1;else _=$.style.LC(Q)<64+c*.5;var O=255*Math.sqrt(Math.sqrt(c/255));
H[Q]=(1-N)*c+N*(_?O:0)}};$.style.LC=function(H){H=H^61^H>>16;H=H+(H<<3);H=H^H>>4;H=H*668265261;H=H^H>>15;
return H&255};$.kg={};$.kg.WB=function(H,N,Q){var c=H.canvas;if(c.width!=N||c.height!=Q)z.UZ(c,N,Q,H)};
$.kg.ib=function(H,N,Q,c,_,O){$.kg.WB(H,N,Q);if(O==null)O=!1;var L=_.channel,s=_.rect,r=!_.isEnabled;
N=Math.floor(N*z.h());Q=Math.floor(Q*z.h());if(N*Q==0)return;var u=H.createImageData(N,Q),V=u.data,C=1/N,T=1/Q;
for(var e=0;e<Q;e++)for(var t=0;t<N;t++){var Y=e*N+t,A=Y*4,G=Math.round(c.x+t*C*c.$),j=Math.round(c.y+e*T*c.z),d=0;
if(G<s.x||G>=s.x+s.$||j<s.y||j>=s.y+s.z)d=_.color;else d=L[(j-s.y)*s.$+(G-s.x)];d=255*(255-_.JU)+d*_.JU>>>8;
if(O)d=170+Math.round(.4*(d-170));V[A]=d;V[A+1]=d;V[A+2]=d;V[A+3]=255}H.putImageData(u,0,0);if(r)$.kg.iA(H,N,Q)};
$.kg.tDc=function(H,N,Q,c){H.fillStyle="#eeeeee";H.fillRect(.6*N,.6*Q,N,Q);H.lineWidth=1.5;var _=.65*N,O=.95*N,L=.65*Q,s=.95*Q,r=.75*N,u=.85*N,V=.75*Q,C=.85*Q;
H.beginPath();H.moveTo(_,L);H.lineTo(O,L);H.lineTo(O,s);H.lineTo(_,s);H.lineTo(_,L);H.moveTo(r,V);H.lineTo(u,V);
H.lineTo(u,C);H.lineTo(r,C);H.lineTo(r,V);H.closePath();H.stroke()};$.kg.tDT=function(H,N,Q){var c,_,O;
N=Math.floor(z.h()*N);Q=Math.floor(z.h()*Q);c=Math.ceil(Math.min(N,Q)*.4);_=N-c;O=Q-c;H.scale(1/z.h(),1/z.h());
H.fillStyle="#eeeeee";H.fillRect(_,O,N,Q);H.lineWidth=1;H.strokeRect(_+2.5,O+2.5,N-_-5,Q-O-5);var L=H.createImageData(3,3);
$.Mw(L.data,4278190080);L.data[4*4]=L.data[4*4+1]=L.data[4*4+2]=238;H.putImageData(L,_+1,O+1);H.putImageData(L,N-4,O+1);
H.putImageData(L,_+1,Q-4);H.putImageData(L,N-4,Q-4)};$.kg.Ze=function(H,N,Q,c,_,O,L){$.kg.WB(H,N,Q);
N=Math.floor(N*z.h());Q=Math.floor(Q*z.h());if(N*Q==0)return;var s=H.createImageData(N,Q),r=s.data,u=1/N,V=1/Q,C=1/255;
$.Y$(r,N,Q,4);var T=O.x,e=O.x+O.$,t=O.y,Y=O.y+O.z;for(var A=0;A<Q;A++)for(var G=0;G<N;G++){var j=A*N+G,d=j*4,w=Math.round(c.x+G*u*c.$),f=Math.round(c.y+A*V*c.z);
if(w<T||w>=e||f<t||f>=Y){}else{var b=r[d],F=r[d+1],n=r[d+2],J=r[d+3],Z=(f-O.y)*O.$+(w-O.x)<<2;J=_[Z+3]*C;
b=_[Z+0]*J+b*(1-J);F=_[Z+1]*J+F*(1-J);n=_[Z+2]*J+n*(1-J);r[d]=b;r[d+1]=F;r[d+2]=n;r[d+3]=255}}H.putImageData(s,0,0);
if(L)$.kg.iA(H,N,Q)};$.kg.tcD=function(H,N,Q,c){$.kg.WB(H,N,Q);H.fillStyle=$.kg.NG(c.Clr.v);H.fillRect(0,0,N,Q);
$.kg.iU(H,N,Q)};$.kg.tcf=function(H,N,Q,c){$.kg.WB(H,N,Q);H.fillStyle="#ffffff";H.fillRect(0,0,N,Q);
H.fillStyle="#000000";H.font=""+Q*.7+"px serif";H.fillText("T",(N-Q*.43)/2,Q*.75);H.fillText("T",(N-Q*.43)/2,Q*.75)};
$.kg.tcj=function(H,N,Q){$.kg.WB(H,N,Q);H.clearRect(0,0,N,Q);H.font=Q*.7+"px serif";H.fillText(":(",(N-Q*.43)/2,Q*.7)};
$.kg.tLY=function(H,N,Q,c){$.kg.WB(H,N,Q);var _=JO.get(c),O=tg.get(JO.names[_]).substring(0,3);H.fillStyle="#ffffff";
H.fillRect(0,0,N,Q);H.fillStyle="#000000";H.font=Q*.55+"px sans-serif";var L=H.measureText(O);H.fillText(O,(N-L.width)/2,Q*.67);
H.fillRect(0,0,N,Q*.1);H.fillRect(0,Q*.9,N,Q*.1)};$.kg.tCq=function(H,N,Q,c){$.kg.WB(H,N,Q);var _=H.canvas.width,O=H.canvas.height,L=H.getImageData(0,0,_,O);
$.e.AH(c.Grad.v,new Uint8Array(L.data.buffer),new p(0,0,_,O),[1/_,0,0,1/O],_/2,O/2,!1,0,16711680,65280);
H.putImageData(L,0,0);$.kg.iU(H,N,Q)};$.kg.td$=function(H,N,Q,c,_){$.kg.WB(H,N,Q);var O=H,L=Ja.bE(c.Ptrn.v,_.add.Patt),s=L.lU;
$.kg.Ze(H,N,Q,s,L.nn,s,!1);$.kg.iU(O,N,Q)};$.kg.iA=function(H,N,Q){H.strokeStyle="#bb0000";H.lineWidth=3;
H.beginPath();H.moveTo(N*.15,Q*.15);H.lineTo(N*.85,Q*.85);H.moveTo(N*.85,Q*.15);H.lineTo(N*.15,Q*.85);
H.closePath();H.stroke()};$.kg.iA=function(H,N,Q){H.strokeStyle="#bb0000";H.lineWidth=3;H.beginPath();
H.moveTo(N*.15,Q*.15);H.lineTo(N*.85,Q*.85);H.moveTo(N*.85,Q*.15);H.lineTo(N*.15,Q*.85);H.closePath();
H.stroke()};$.kg.iU=function(H,N,Q){H.fillStyle="#eeeeee";H.fillRect(0,Q*.75,N,Q*.25);H.beginPath();
H.moveTo(0,Q*.75);H.lineTo(N,Q*.75);H.moveTo(N*.1,Q*.875);H.lineTo(N*.9,Q*.875);H.moveTo(N*.65,Q*.825);
H.lineTo(N*.65,Q*.95);H.closePath();H.stroke()};$.kg.NG=function(H){var N=$.e.NG(H),Q=Math.round(N.T)<<16|Math.round(N.q)<<8|Math.round(N.H);
return"#"+$.fM(Q)};$.A={};$.A.iF=function(H,N,Q){var c=[],_=-1;for(var O=0;O<H.length;O++){var L=H[O];
if((L.type==0||L.type==3)&&L.AY!=-1)_++;if(L.type>5||L.type==0||L.type==3)continue;if(N!=null&&N.indexOf(_)==-1)continue;
if(Q!=null&&Q.indexOf(O)==-1)continue;c.push(L.kM.x);c.push(L.kM.y);c.push(L.P.x);c.push(L.P.y);c.push(L.kq.x);
c.push(L.kq.y)}return c};$.A.im=function(H,N,Q,c){var _=0,O=-1;for(var L=0;L<N.length;L++){var s=N[L];
if((s.type==0||s.type==3)&&s.AY!=-1)O++;if(s.type>5||s.type==0||s.type==3)continue;if(Q!=null&&Q.indexOf(O)==-1)continue;
if(c!=null&&c.indexOf(L)==-1)continue;s.kM.kR(H[_],H[_+1]);s.P.kR(H[_+2],H[_+3]);s.kq.kR(H[_+4],H[_+5]);
_+=6}};$.A.Nj=function(H,N,Q,c){var _=$.A.iF(H,Q,c);$.K.UC(_,N,_);$.A.im(_,H,Q,c)};$.A.tGJ=function(H,N,Q,c){var _=$.A.iF(H,Q,c);
$.F.apply(N,_);$.A.im(_,H,Q,c)};$.A.tGk=function(H,N){var Q=$.A.tRf(H,40);for(var c=0;c<Q.length;c++)H[c]=Q[c];
var _=$.A.iF(H);$.nH.apply(N,_,$.K.jm(_));$.A.im(_,H)};$.A.tRf=function(H,N){var Q=[];for(var c=0;c<H.length;
c++){var _=H[c];if(_.type>5){Q.push(JSON.parse(JSON.stringify(_)));continue}var O=$.A.ttG(H,c+1,_.length);
O=$.K.kb(O,N);var L=$.A.ttK(O);c+=_.length;_=JSON.parse(JSON.stringify(_));_.length=L.length;Q.push(_);
for(var s=0;s<L.length;s++)Q.push(L[s])}return Q};$.A.ttG=function(H,N,Q){var c={lX:["M"],Z:[]},_=H[N],O=H[N+Q-1];
c.Z.push(_.P.x,_.P.y);for(var L=1;L<Q;L++){var s=H[N+L-1],r=H[N+L];c.lX.push("C");c.Z.push(s.kq.x,s.kq.y,r.kM.x,r.kM.y,r.P.x,r.P.y)}c.lX.push("C");
c.Z.push(O.kq.x,O.kq.y,_.kM.x,_.kM.y,_.P.x,_.P.y);return c};$.A.ttK=function(H){var N=[],Q=H.lX,c=H.Z,_=0,O=c.length;
N.push({type:2,kM:new E(c[O-4],c[O-3]),P:new E(c[0],c[1]),kq:new E(c[2],c[3])});for(var L=0;L<Q.length-2;
L++){var s=L*6+4;N.push({type:2,kM:new E(c[s],c[s+1]),P:new E(c[s+2],c[s+3]),kq:new E(c[s+4],c[s+5])})}return N};
$.A.tte=function(H){for(var N=0;N<H.length;N++){if(H[N].type>5)continue;var Q=H[N].length;if(!(Q==4||Q==6||Q==8)){N+=Q;
continue}for(var c=0;c<Q;c++){var _=H[N+1+c],O=H[N+1+(c+1)%Q],L=Math.min(_.P.x,O.P.x),s=Math.min(_.P.y,O.P.y),r=0,u=0;
if(_.P.x<O.P.x){r=_.P.y-s;u=r-(O.P.x-L)}else{r=O.P.y-s;u=r-(_.P.x-L)}if(Math.abs(u)<.2*r)return r}}return-1};
$.A.gw=function(H,N){var Q=null,c=-1;for(var _=0;_<H.length;_++){if(H[_].type>5)continue;var O=H[_].length;
if((H[_].type==0||H[_].type==3)&&H[_].AY!=-1)c++;if(N!=null&&N.indexOf(c)==-1)continue;if(_==H.length-1)break;
var L=H[_].type==3;if(Q==null)Q=$.A.TL(H,_+1,O,L);else{var s=$.A.TL(H,_+1,O,L);if(N!=null||H[_].AY==0||H[_].AY==-1||H[_].AY==1){var r=Math.min(Q.x,s.x),u=Math.min(Q.y,s.y),V=Math.max(Q.x+Q.$,s.x+s.$),C=Math.max(Q.y+Q.z,s.y+s.z);
Q.x=r;Q.y=u;Q.$=V-r;Q.z=C-u}else if(H[_].AY==2)Q=Q;else if(H[_].AY==3)Q=Q.sj(s)}_+=O}if(Q==null||Q.$<0||Q.z<0)Q=new p(0,0,0,0);
return Q};$.A.tVz=new Float64Array(4);$.A.TL=function(H,N,Q,c){var _=$.A.tVz;_[0]=1e30;_[1]=1e30;_[2]=-1e30;
_[3]=-1e30;var O=H[N+Q-1];if(!c)$.A.Tg(O.P.x,O.P.y,O.kq.x,O.kq.y,H[N].kM.x,H[N].kM.y,H[N].P.x,H[N].P.y,_);
for(var L=N;L<N+Q-1;L++){var s=H[L],r=H[L+1];if(s.P.v$(s.kq)&&r.kM.v$(r.P)){_[0]=Math.min(_[0],Math.min(s.P.x,r.P.x));
_[1]=Math.min(_[1],Math.min(s.P.y,r.P.y));_[2]=Math.max(_[2],Math.max(s.P.x,r.P.x));_[3]=Math.max(_[3],Math.max(s.P.y,r.P.y))}else $.A.Tg(s.P.x,s.P.y,s.kq.x,s.kq.y,r.kM.x,r.kM.y,r.P.x,r.P.y,_)}return new p(_[0],_[1],_[2]-_[0],_[3]-_[1])};
$.A.Tg=function(H,N,Q,c,_,O,L,s,r){var u=1e30,V=1e30,C=-1e30,T=-1e30,e=40,t=Q-H,Y=c-N,A=_-Q,G=O-c,j=L-_,d=s-O,w=1/e;
for(var f=0;f<e+1;f++){var b=f*w,F=H+b*t,n=N+b*Y,J=Q+b*A,Z=c+b*G,P=_+b*j,M=O+b*d,y=F+b*(J-F),a=n+b*(Z-n),g=J+b*(P-J),U=Z+b*(M-Z),D=y+b*(g-y),W=a+b*(U-a);
if(D<u)u=D;if(W<V)V=W;if(D>C)C=D;if(W>T)T=W}r[0]=Math.min(r[0],u);r[1]=Math.min(r[1],V);r[2]=Math.max(r[2],C);
r[3]=Math.max(r[3],T)};$.A.eX=function(H){$.A.tN();var N=new paper.CompoundPath(H),Q=$.A.oV(N);return Q};
$.A.Tp=function(H){var N=2,Q=$.A.qh(H),c=!1,_=!1;for(var O=2;O<H.length;O++){var L=H[O].AY;if(L!=null){if(L==2||L==0)c=!0;
if(L==-1)_=!0}}if(_){var s=$.K.Cp(H);return{Ni:Typr.U.pathToSVG({crds:s.Z,cmds:s.lX},N),SB:c?1:0}}if(c&&H.length<5e3&&Q>1)H=$.A.TO(H);
var r=$.A.AJ(H),s=new paper.CompoundPath({fillRule:"nonzero"});for(var O=0;O<r.length;O++){var u=r[O][0],V=r[O][1];
if(!c){if(u.clockwise)u.reverse()}s.addChild(u)}return{Ni:s.exportSVG({precision:N}).getAttribute("d"),SB:0}};
$.A.TO=function(H){$.A.tN();var N,Q=$.A.AJ(H),c=[];for(var _=0;_<Q.length;_++){var O=Q[_][0],L=Q[_][1];
if(Math.abs(O.area)<1e-5)c.push(O);else if(N==null)N=O;else{N=N[L](O);N.remove()}}if(N==null)N=new paper.CompoundPath(c);
else{if(N.segments)N=new paper.CompoundPath(N);for(var _=0;_<c.length;_++){N.children.push(c[_])}}var s=H.slice(0,2);
s=s.concat($.A.oV(N));return s};$.A.tN=function(){if($.A.tTL==null){var H=z.B("canvas");paper.setup(H);
$.A.tTL=!0}};$.A.tJV=function(H,N){$.A.tN();var Q=[],c=$.A.AJ(H),_=new paper.Path.Rectangle(new paper.Rectangle(N.x,N.y,N.$,N.z));
_.remove();_.fillColor=new paper.Color(1,0,0);for(var O=0;O<c.length;O++)if(_.intersects(c[O][0])||_.contains(c[O][0].segments[0].point))Q.push(O);
return Q};$.A.oc=function(H,N,Q,c){$.A.tN();var _=Q?{curves:!0,tolerance:c}:null,O=new paper.Point(N.x,N.y),L=$.A.AJ(H);
for(var s=L.length-1;s>=0;s--){var r=L[s][0],u=r.hitTest(O,_);if(u!=null)return{U_:s,mX:Q?u.location.index:null}}return{U_:-1}};
$.A.ot=function(H,N){var Q=[[],[],[]];for(var c=0;c<H.length;c++){var _=H[c];if(_.type>5||_.type==0||_.type==3)continue;
if(N.Eo(_.P))Q[0].push(c);if(N.Eo(_.kM))Q[1].push(c);if(N.Eo(_.kq))Q[2].push(c)}return Q};$.A.tJl=function(H,N,Q){var c=H.slice(0,2),_=[],O=null,L=-1;
for(var s=2;s<H.length;s++){if(H[s].type==0||H[s].type==3){if(O!=null&&O.length==0){if(Q)_.pop();c.pop();
if(H[s].AY==-1)H[s].AY=O.AY}O=H[s];c.push(O);if(Q&&O.AY!=-1){L++;_.push(JSON.parse(JSON.stringify(Q[L])))}}else{if(N.indexOf(s)==-1)c.push(H[s]);
else{O.length--;if(Q)$.FU.zs(_,_.length-1)}}}if(Q){while(Q.length>_.length)Q.pop();for(var s=0;s<Q.length;
s++)Q[s]=_[s]}return c};$.A.trl=function(H,N){var Q=H.slice(0,2),c=-1;for(var _=2;_<H.length;_++){if((H[_].type==0||H[_].type==3)&&H[_].AY!=-1)c++;
if(N.indexOf(c)==-1)Q.push(H[_])}return Q};$.A.trf=function(H,N){var Q=H.slice(0,2),c=-1;for(var _=2;
_<H.length;_++){if((H[_].type==0||H[_].type==3)&&H[_].AY!=-1)c++;if(N.indexOf(c)!=-1)Q.push(H[_])}return Q};
$.A.tGL=function(H){var N=0;for(var Q=0;Q<H.length;Q++)if(H[Q].type==0||H[Q].type==3)N=Q;return H[N]};
$.A.qh=function(H){var N=-1;for(var Q=0;Q<H.length;Q++)if((H[Q].type==0||H[Q].type==3)&&H[Q].AY!=-1)N++;
return N+1};$.A.T_=function(H,N){var Q=-1;for(var c=0;c<H.length;c++)if((H[c].type==0||H[c].type==3)&&H[c].AY!=-1){Q++;
if(Q==N)return c}return-1};$.A.TY=function(H,N){var Q=-1;for(var c=0;c<H.length;c++)if((H[c].type==0||H[c].type==3)&&H[c].AY!=-1){if(c>=N)return Q;
Q++}return Q};$.A.Tu=function(H,N){var Q=-1,c=0;for(var _=0;_<H.length;_++){if((H[_].type==0||H[_].type==3)&&H[_].AY!=-1)Q++;
if(Q==N)c++}return c};$.A.oV=function(H){var N=H.segments?[H]:H.children,Q=[];for(var c=0;c<N.length;
c++){var _=N[c],O=_.segments,L=_.closed?0:3,s=Q.length,r=null;if(O.length<=1)continue;Q.push({type:L,length:O.length,AY:0,Fz:2});
for(var u=0;u<O.length;u++){var V=O[u],C=new E(V.handleIn.x,V.handleIn.y),T=new E(V.handleOut.x,V.handleOut.y),e=new E(V.point.x,V.point.y),t={type:L+1,kM:e.add(C),P:e,kq:e.add(T)};
if(r==null)r=t;Q.push(t);if(u+1==O.length&&E.Ln(r.P,t.P)<1e-5){Q.pop();Q[s].length--;r.kM=t.kM;if(L==3)for(var Y=s;
Y<Q.length;Y++)Q[Y].type-=3}}}return Q};$.A.AJ=function(H){$.A.tN();var N=[],Q,c=new paper.Color(1,0,0);
for(var _=0;_<H.length;_++){if(H[_].type>5)continue;var O=H[_].length,L;if(_==H.length-1)break;var s=H[_].type==3;
if(_==2){if(!$.A.eQ(H))L="subtract";else L="unite"}else{if(H[_].AY==0)L="exclude";if(H[_].AY==1)L="unite";
if(H[_].AY==2)L="subtract";if(H[_].AY==3)L="intersect"}if(H[_].AY!=-1)Q=[];for(var r=0;r<O;r++){var u=H[_+1+r],V=u.kM.Tr(u.P),C=u.kq.Tr(u.P);
Q.push([[u.P.x,u.P.y],[V.x,V.y],[C.x,C.y]])}if(H[_+1+O]==null||H[_+1+O].AY!=-1){var T=new paper.Path(Q);
T.remove();T.closed=!s;T.fillRule="evenodd";T.fillColor=c;N.push([T,L])}_+=O}return N};$.A.tGP=function(H){for(var N=0;
N<H.length;N++){var Q=H[N];if(Q.P==null)continue;if(!Q.P.v$(Q.kM)||!Q.P.v$(Q.kq))return!1}return!0};
$.A.tGd=function(H){if(H.length<=5)return 0;var N=0,Q=H.length-3-1;for(var c=0;c<Q;c++){var _=H[3+c],O=H[3+c+1];
if(_.type==0||O.type==0)return 0;N+=(O.P.x-_.P.x)*(_.P.y+O.P.y)}N+=(H[3].P.x-H[3+Q].P.x)*(H[3+Q].P.y+H[3+1].P.y);
return-N*.5};$.A.eQ=function(H){if(H.length==2)return H[1].all==0;var N=H[2];if(H[1].all==1){if(N.AY==1||N.AY==3)return!0;
return!1}else{if(N.AY==1||N.AY==3||N.AY==0)return!0;return!1}};$.A.tHH=0;$.A.PV=0;$.A.tGx=0;$.A.tHY=function(H,N,Q,c){var _=$.lZ,O=$.C;
_.width=Q.$;_.height=Q.z;if(!$.A.eQ(H))O.fillRect(0,0,Q.$,Q.z);var L=Q.f();$.A.tHH+=L;if(L>$.A.PV){$.A.PV=L}if(c!=null){var s=!1,r=!1,u=0;
for(var V=0;V<H.length;V++){var C=H[V].AY;if(C!=null)u++;if(C==-1)s=!0;if(C>0)r=!0}if(!s&&u<20)H=$.A.TO(H)}var T=$.A.qh(H);
for(var V=0;V<H.length;V++){if(H[V].type>5)continue;var e=H[V].length;if(e==0)continue;if(V==H.length-1)break;
var t=H[V].type==3;if(V==2){if(!$.A.eQ(H))O.globalCompositeOperation="destination-out";else O.globalCompositeOperation="source-over"}else{var Y;
if(H[V].AY==0)Y="xor";if(H[V].AY==1)Y="source-over";if(H[V].AY==2)Y="destination-out";if(H[V].AY==3)Y="source-in";
if(H[V].AY!=-1&&c==null)O.globalCompositeOperation=Y}if(H[V].AY!=-1){O.beginPath();if(c){var A=c.strokeStyleLineWidth.v.val,G=c.strokeStyleLineAlignment.v.strokeStyleLineAlignment,j=c.strokeStyleLineCapType.v.strokeStyleLineCapType,d=c.strokeStyleLineJoinType.v.strokeStyleLineJoinType,w=c.strokeStyleMiterLimit.v,f=[],b=c.strokeStyleLineDashSet.v;
for(var F=0;F<b.length;F++)f.push(b[F].v.val*A);O.setLineDash(f);O.lineCap=["butt","round","square"][B.nO.Ky.indexOf(j)];
O.lineJoin=["miter","round","bevel"][B.nO.join.indexOf(d)];O.lineWidth=B.nO.e$.indexOf(G)==1?A:A*=2;
O.miterLimit=w}}$.A.twI(O,H,V+1,e,-Q.x,-Q.y,t);if(t){}else O.closePath();if(H[V+1+e]==null||H[V+1+e].AY!=-1){if(c)O.stroke();
else O.fill("evenodd")}V+=e}if(Q.km())return;var n=O.getImageData(0,0,Q.$,Q.z);$.rY(n.data,N,3)};$.A.twI=function(H,N,Q,c,_,O,L){var s=N[Q],r=null;
H.moveTo(s.P.x+_,s.P.y+O);for(var u=Q;u<Q+c-1;u++){s=N[u];r=N[u+1];H.bezierCurveTo(s.kq.x+_,s.kq.y+O,r.kM.x+_,r.kM.y+O,r.P.x+_,r.P.y+O)}if(!L){s=N[u];
r=N[Q];H.bezierCurveTo(s.kq.x+_,s.kq.y+O,r.kM.x+_,r.kM.y+O,r.P.x+_,r.P.y+O)}};$.A.AG=function(H,N,Q){var c=[],_=Q?4:1,O=!1;
if(N!=null)for(var L=0;L<N.length;L++)if(N[L]!=0){O=!0;break}if(N!=null&&O){var s=$.K.t$z(H,N),r=s.length/6;
for(var L=0;L<r;L++){var u=L*6,V=(L-1+r)%r*6,C=s[u],T=s[u+1],e=s[u+2],t=s[u+3],Y=s[V+4],A=s[V+5];c.push({type:_,kM:new E(Y,A),P:new E(C,T),kq:new E(e,t)})}}else{for(var L=0;
L<H.length;L+=2){var G=new E(H[L],H[L+1]);c.push({type:_,kM:G.clone(),P:G.clone(),kq:G.clone()})}}return c};
$.A.tIO=function(H,N){$.A.tN();var Q=new paper.Path;Q.remove();var c=H.length-1,_=Math.sqrt((H[c-1]-H[0])*(H[c-1]-H[0])+(H[c]-H[1])*(H[c]-H[1]))<3;
Q.closed=_;for(var O=0;O<H.length;O+=2)Q.add(new paper.Point(H[O],H[O+1]));Q.simplify(N);var L=[{type:6},{type:8,all:0}];
L=L.concat($.A.oV(Q));return L};$.A.FH={};$.A.FH.eO=function(H,N,Q){var c=[{type:6},{type:8,all:0}],_=null;
c.push({type:Q?3:0,AY:1,length:0,ev:0,Nb:0,Fz:1});if(N==0)_==null;else if(N instanceof Array)_=N;else{_=[];
for(var O=0;O<H.length;O+=2)_.push(N)}c=c.concat($.A.AG(H,_,Q));c[2].length=c.length-3;return c};$.A.FH.tD$=function(H,N,Q,c,_){var O=[],L=[],s=.553,r=1,u=-1;
O.push({type:1,kM:new E(0,s),P:new E(0,0),kq:new E(0,-s)});_+=2;for(var V=0;V<_;V++){var C={type:1};
if(V==0){C.P=new E(1,-1);C.kM=new E(1-s,-1);C.kq=new E(1+s,-1)}else{var T=-(V+2)*Math.PI/2,e=1+((V&1)==1?V-1:V),t=Math.sin(T),Y=Math.cos(T);
r+=e*(t-Y);u+=e*(Y+t);C.P=new E(r,u);C.kM=new E(r+e*Y*s,u-e*t*s);if((V&1)==1)e+=2;C.kq=new E(r-e*Y*s,u+e*t*s)}var A={type:1,kM:new E(-C.kq.x,-C.kq.y),P:new E(-C.P.x,-C.P.y),kq:new E(-C.kM.x,-C.kM.y)};
O.push(C);if(V<_-2)L.push(A)}L.reverse();O=O.concat(L);var G=[{type:6},{type:8,all:0}];G.push({type:0,AY:1,length:O.length,ev:0,Nb:0,Fz:1});
G=G.concat(O);var j=new Jo(Q/_,0,0,Q/_,0,0);j.rotate(c);j.translate(H,N);$.A.Nj(G,j);return G};$.A.FH.Rect=function(H,N,Q,c,_){var O=[H,N,H+Q,N,H+Q,N+c,H,N+c];
return $.A.FH.eO(O,_)};$.A.FH.tcv=function(H,N,Q,c,_,O){var L=[],s=2*Math.PI/_;for(var r=0;r<_;r++)L.push(Math.cos(r*s),Math.sin(r*s));
var u=new Jo(Q,0,0,Q,0,0);u.rotate(c);u.translate(H,N);$.K.UC(L,u,L);return $.A.FH.eO(L,O)};$.A.FH.tLI=function(H,N,Q,c,_,O,L){var s=[],r=Math.PI/_;
for(var u=0;u<_*2;u++){var V=(u&1)==0?1:L;s.push(V*Math.cos(u*r),V*Math.sin(u*r))}var C=new Jo(Q,0,0,Q,0,0);
C.rotate(c);C.translate(H,N);$.K.UC(s,C,s);return $.A.FH.eO(s,O)};$.A.FH.tu=function(H,N,Q,c,_){var O=Math.sqrt((Q-H)*(Q-H)+(c-N)*(c-N));
_/=2;var L=[-_,0,_,0,_,O,-_,O],s=new Jo(1,0,0,1,0,0);s.rotate(Math.atan2(-c+N,Q-H)+Math.PI/2);s.translate(H,N);
$.K.UC(L,s,L);return $.A.FH.eO(L,0)};$.A.FH.QJ=function(H,N,Q,c){var _=[{type:6},{type:8,all:0}],C=.553;
_.push({type:0,AY:1,length:4,ev:0,Nb:0,Fz:1});var O=H,L=N,s=H+Q,r=N+c,H=(O+s)/2,N=(L+r)/2,u=(O-s)/2,V=(L-r)/2;
_.push({type:1,kM:new E(H-C*u,N-V),P:new E(H,N-V),kq:new E(H+C*u,N-V)});_.push({type:1,kM:new E(H+u,N-C*V),P:new E(H+u,N),kq:new E(H+u,N+C*V)});
_.push({type:1,kM:new E(H+C*u,N+V),P:new E(H,N+V),kq:new E(H-C*u,N+V)});_.push({type:1,kM:new E(H-u,N+C*V),P:new E(H-u,N),kq:new E(H-u,N-C*V)});
return _};$.A.FH.tGW=function(H,N,Q,c,_){var O=[{type:6},{type:8,all:0}];O.push({type:3,AY:1,length:5,ev:0,Nb:0,Fz:1});
var L=Math.min(c,_),s=Math.max(c,_),r=(s-L)/4,u=Math.cos(r/2),V=Math.sin(r/2),C=(4-u)/3,T=(1-u)*(3-u)/(3*V),e=C,t=-T,Y=u,A=-V,G=new E(u,V),j=new E(C,T),d=new E(e,t),w=new E(Y,A),f=new Jo;
f.rotate(r);O.push({type:4,kM:G.clone(),P:G.clone(),kq:j.clone()});O.push({type:4,kM:d.clone(),P:w.clone(),kq:w.clone()});
for(var b=0;b<3;b++){G=f.Sk(G);j=f.Sk(j);d=f.Sk(d);w=f.Sk(w);O[O.length-1].kq=j;O.push({type:4,kM:d.clone(),P:w.clone(),kq:w.clone()})}f.rotate(-Math.PI/2-r/2);
f.concat(new Jo(Q,0,0,Q,H,N));$.A.Nj(O,f);return O};$.UB={};$.UB.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
$.UB.vn=function(H){var N=H.warpStyle.v.warpStyle;if(N=="warpNone")return!0;else if(N=="warpCustom"){var Q=!1,c=H.customEnvelopeWarp.v.meshPoints.v.arr,_=c[0].arr,O=c[1].arr;
for(var L=0;L<4;L++)for(var s=0;s<4;s++){if(Math.abs(_[L]-_[s*4+L])>1||Math.abs(O[L*4]-O[L*4+s])>1)Q=!0}return!Q}else return H.warpValue.v==0&&H.warpPerspective.v==0&&H.warpPerspectiveOther.v==0};
$.UB.I=function(H){var N={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(H){N.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:H.y}},Left:{t:"UntF",v:{type:"#Pxl",val:H.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:H.y+H.z}},Rght:{t:"UntF",v:{type:"#Pxl",val:H.x+H.$}}}};
N.uOrder={t:"long",v:4};N.vOrder={t:"long",v:4}}return N};$.UB.tC$=function(H,N,Q,c){for(var _=0;_<H.length;
_+=2){var O=H[_],L=H[_+1],s=(O-N.x)/N.$,r=(L-N.y)/N.z,u=(1-Q)/2,V=1-u,C=u+s*(V-u);r=.5+(r-.5)*C*2;var T=(1-c)/2,e=1-T,t=T+r*(e-T);
s=.5+(s-.5)*t*2;O=N.x+s*N.$;L=N.y+r*N.z;H[_]=O;H[_+1]=L}};$.UB.P$=function(H,N){var Q=[],c=[];for(var _=0;
_<H.length;_+=2){Q.push(H[_]);c.push(H[_+1])}var O=[];O.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:Q});
O.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:c});N.warpStyle.v.warpStyle="warpCustom";N.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:O}}}}};
$.UB.cq=function(H,N){if(N==null){var Q=H.bounds.v,c=Q.Left.v.val,_=Q.Rght.v.val,O=Q.Top.v.val,L=Q.Btom.v.val;
N=new p(c,O,_-c,L-O)}if(N.km())N.$=N.z=1;var s=[],r=H.warpStyle.v.warpStyle;if(r=="warpCustom"){var u=H.customEnvelopeWarp.v.meshPoints.v.arr,V=u[0].arr,C=u[1].arr;
for(var T=0;T<16;T++)s.push(V[T],C[T])}else s=$.UB.UB(N,r,H.warpRotate.v.Ornt=="Hrzn",H.warpValue.v/100,H.warpPerspective.v/100,H.warpPerspectiveOther.v/100);
return s};$.UB.UB=function(H,N,Q,c,_,O){var L=$.nH.I(H.x,H.y,H.$,H.z);if(N=="warpNone")return L;var s=JSON.parse(JSON.stringify(H)),r=new Jo;
if(!Q){r.translate(-H.x,-H.y);r.rotate(-Math.PI/2);r.translate(H.z,0);$.K.UC(L,r,L);H=new p(0,0,H.z,H.$);
L=$.nH.LB(L,!1)}$.UB.tPQ(L,H,N,c,_,O);if(!Q){L=$.nH.LB(L,!0);H=s;r.UK();$.K.UC(L,r,L)}if(c==0)$.UB.tC$(L,H,_,O);
else{var r=new Jo(1/H.$,0,0,1/H.z,-H.x,-H.y);r.translate(-.5,-.5);$.K.UC(L,r,L);$.UB.tRi(L,O,_);r.UK();
$.K.UC(L,r,L)}return L};$.UB.tPQ=function(H,N,Q,c,_,O){for(var L=0;L<4;L++){for(var s=0;s<4;s++){var r=2*(4*L+s),u=H[r]-N.x,V=H[r+1]-N.y,C=u,T=V;
if(c!=0){var e=N.$/2,t=N.z/2;C-=e;T-=t;var Y=C,A=C,G=-t,j=t,d=Math.abs(c),w=Math.tan((1-d)*Math.PI/2),f=Math.sqrt(w*w+1),b=Math.atan2(1,w),F=C/e*b,n=e*f,J=e*f+N.z,Z=Math.cos(b),P=Math.sin(b),M=$.UB.tRZ(Z,P),y=$.UB.tVf(Z,P),a=-w*e+M*n;
if(Q=="warpArc"){Y=Math.sin(F)*J;G=w*e-Math.cos(b)*J+t;A=Math.sin(F)*n;j=w*e-Math.cos(b)*n+t;if(s==1||s==2){Y=s==1?-y*J:y*J;
A=s==1?-y*n:y*n;G=w*e+t-M*J;j=w*e+t-M*n}if(c<0){var g=Y;Y=A;A=g;g=G;G=-j;j=-g}}if(Q=="warpArcLower"){if(s==1||s==2){A=s==1?-y*n:y*n;
j=c<0?t-a:t+a}}if(Q=="warpArcUpper"||Q=="warpArch"||Q=="warpBulge"){if(s==1||s==2){Y=s==1?-y*n:y*n;G=c<0?-t+a:-t-a}if(Q=="warpArch"){A=Y;
j=G+2*t}if(Q=="warpBulge"){A=Y;j=-G}}if(Q=="warpFish"||Q=="warpFlag"||Q=="warpWave"){if(s==1){G-=c*4*t;
j+=c*4*t}if(s==2){G+=c*4*t;j-=c*4*t}if(Q=="warpFlag"||Q=="warpWave")G=j-2*t}if(Q=="warpRise"){if(s<2)G=-t+c*t*4;
j=G+2*t}var U=(T+t)/N.z;C=Y+U*(A-Y);T=G+U*(j-G);if(Q=="warpWave"){if(L==0)T=-t;if(L==3)T=t;if(L==1||L==2)T=2*t*(L/3-.5)*(1/3)+T*(2/3)}if(Q=="warpFisheye"){if((L==1||L==2)&&(s==1||s==2)){C=C+4*C*c;
T=T+4*T*c}}if(Q=="warpInflate"){var D=2/3;if((L==1||L==2)&&(s==1||s==2)){C=C+.5*C*c;T=T+.5*T*c}else if(L==1||L==2)C=C+D*C*c;
else if(s==1||s==2)T=T+D*T*c}if(Q=="warpSqueeze"){var D=2/3;if((L==1||L==2)&&(s==1||s==2)){if(c>0)C=C-D*C*c;
else T=T+D*T*c}else if(L==1||L==2)C=C-D*C*c;else if(s==1||s==2)T=T+D*T*c}if(Q=="warpTwist"){if((L==1||L==2)&&(s==1||s==2)){var W=c*Math.PI/2,f=1+Math.abs(c)*2,m=C*Math.cos(W)-T*Math.sin(W),q=C*Math.sin(W)+T*Math.cos(W);
C=m*f;T=q*f}}if(Q=="warpShellLower"||Q=="warpShellUpper"){if(Q=="warpShellUpper"){L=3-L;T=-T}if(L>2||L==2&&(s==0||s==3)){if(c>0){var S=n+L/3*2*t;
C=Math.sin(F)*S;T=-w*e-t+Math.cos(F)*S;if(s==1||s==2){C=s==1?-y*S:y*S;T=-w*e-t+M*S}}else{if((s==1||s==2)&&L==3){C=s==1?-y*n:y*n;
T=w*e-M*n+t}else if(L==2){T=t-t*(2/3)*Math.cos(F);C=C+t*(2/3)*Math.sin(F)}}}if(Q=="warpShellUpper"){L=3-L;
T=-T}}C+=e;T+=t}u=C,V=T;H[r]=u+N.x;H[r+1]=V+N.y}}};$.UB.tRi=function(H,N,Q){var c=[];for(var _=0;_<4;
_++)c.push(1-Q+_/3*2*Q);var O=[];for(var _=0;_<4;_++)O.push(1-N+_/3*2*N);var L=[0,0,0,0],s=[0,0,0,0];
for(var r=0;r<4;r++)for(var _=0;_<4;_++){var u=2*(4*r+_),V=H[u],C=H[u+1];L[_]+=V/4;s[_]+=C/4}for(var r=0;
r<4;r++)for(var _=0;_<4;_++){var T=c[_],u=2*(4*r+_),V=H[u],C=H[u+1],e=L[_],t=s[_];H[u]=e+T*(V-e);H[u+1]=t+T*(C-t)}var Y=H.slice(0);
for(var r=0;r<4;r++)for(var _=1;_<3;_++){var u=2*(4*r+_),V=H[u],C=H[u+1],A=u+(_==1?-2:2),G=H[A],j=H[A+1];
H[u]=V-G;H[u+1]=C-j}var d=H[0],w=H[1],f=H[8],b=H[9],F=H[16],n=H[17],J=H[24],Z=H[25],P=H[6],M=H[7],y=H[14],a=H[15],g=H[22],U=H[23],D=H[30],W=H[31],m=P-d,q=M-w,S=y-f,I=a-b,v=g-F,h=U-n,i=D-J,JI=W-Z;
for(var r=0;r<4;r++){var Jx=2*r*4,Jd=0,JC=0,JM=r==1?.33:.66,Jh=1-JM;if(r==0){Jd=m;JC=q}if(r==1){Jd=Jh*m+JM*-i;
JC=Jh*q+JM*-JI}if(r==2){Jd=Jh*m+JM*-i;JC=Jh*q+JM*-JI}if(r==3){Jd=-i;JC=-JI}H[Jx]=H[Jx]+Jd/2;H[Jx+1]=H[Jx+1]+JC/2;
H[Jx+6]=H[Jx+6]-Jd/2;H[Jx+7]=H[Jx+7]-JC/2}for(var r=0;r<4;r++)for(var _=1;_<3;_++){var u=2*(4*r+_),V=H[u],C=H[u+1],A=u+(_==1?-2:2),G=H[A],j=H[A+1],T=2*r/3;
H[u]=G+T*V;H[u+1]=j+T*C}for(var r=1;r<3;r++)for(var _=1;_<3;_++){var u=2*(4*r+_),V=H[u],C=H[u+1],Jv=r==1?-8:-16,JW=r==1?16:8,Ji=H[u+Jv],Jc=H[u+Jv+1],JT=H[u+JW],Jy=H[u+JW+1],T=r/3;
V=(1-T)*Ji+T*JT;C=(1-T)*Jc+T*Jy;H[u]=V;H[u+1]=C}$.K.iv(Y,H,H,N)};$.UB.tRZ=function(H,N){return(4-H)*(1/3)};
$.UB.tVf=function(H,N){return(1-H)*(3-H)/(3*N)};$.raw={};$.raw.normalize=function(H){if(H.t50706!=null)return;
H.t50706=[1,2,0,0];H.t50717=[(1<<H.t258[0])-1];H.t50721=[1.31197,-.49679,.01156,-.41723,1.44237,.04528,.06723,.2171,.72651];
H.t50723=[1,0,0,0,1,0,0,0,1];H.t50728=[.5,1,.5];H.t50778=[17];if(H.NT&&H.NT.t37500){var N=new Uint8Array(H.NT.t37500.slice(10))}};
$.raw.tJR=function(H){var N=H.width,Q=H.height,c=new Float32Array(N*Q),_=0,O=0,G=0;$.raw.tJI(H,c);$.raw.o$(2,H,c,N,Q);
var L=N,s=Q;if(H.t50829){var r=H.t50829;_=r[1];O=r[0];L=r[3];s=r[2]}if(H.t50719){var u=H.t50719;_+=u[0]>>1<<1;
O+=u[1]>>1<<1}if(H.t50720){var V=H.t50720;L=_+V[0];s=O+V[1]}var C=L-_,T=s-O,e=new Float32Array(C*T*3);
if(H.t277[0]!=1)throw"More than 1 sample per pixel!";var t=H.t33421,Y=H.t33421;if(t.length!=2||t[0]!=2||t[1]!=2)throw"Unknown CFA pattern size";
var A=H.t33422.join(",");if(A=="0,1,1,2")G=0;else if(A=="1,0,2,1")G=1;else if(A=="2,1,1,0")G=2;else if(A=="1,2,0,1")G=3;
else throw"Unknown CFA pattern";for(var j=0;j<T;j+=2)for(var d=0;d<C;d+=2){var w=(j+O)*N+d+_,f=c[w-1],b=c[w],F=c[w+1];
w+=N;var n=c[w-1],J=c[w],Z=c[w+1],P=(j*C+d)*3;if(G==0){e[P]=b;e[P+1]=f;e[P+2]=n;e[P+3]=b;e[P+4]=F;e[P+5]=Z;
P+=C*3;e[P]=b;e[P+1]=J;e[P+2]=n;e[P+3]=b;e[P+4]=J;e[P+5]=Z}else if(G==1){e[P]=f;e[P+1]=b;e[P+2]=J;e[P+3]=F;
e[P+4]=b;e[P+5]=J;P+=C*3;e[P]=f;e[P+1]=n;e[P+2]=J;e[P+3]=F;e[P+4]=Z;e[P+5]=J}else if(G==2){e[P]=n;e[P+1]=f;
e[P+2]=b;e[P+3]=Z;e[P+4]=F;e[P+5]=b;P+=C*3;e[P]=n;e[P+1]=J;e[P+2]=b;e[P+3]=Z;e[P+4]=J;e[P+5]=b}else if(G==3){e[P]=J;
e[P+1]=b;e[P+2]=f;e[P+3]=J;e[P+4]=Z;e[P+5]=F;P+=C*3;e[P]=J;e[P+1]=n;e[P+2]=f;e[P+3]=J;e[P+4]=Z;e[P+5]=F}}$.raw.o$(3,H,e,C,T);
var M=H.tCC,y=C,a=T;if(M==1){}else{if(M==6){y=T;a=C}else if(M==8){y=T;a=C}else throw"unknown orientation "+M;
var g=e.slice(0);for(var j=0;j<a;j++)for(var d=0;d<y;d++){var U=d,D=j;if(M==6){D=T-1-d;U=j}if(M==8){U=C-1-j;
D=d}var w=(D*C+U)*3,P=(j*y+d)*3;e[P]=g[w];e[P+1]=g[w+1];e[P+2]=g[w+2]}}return{nn:e,gW:y,gi:a}};$.raw.PJ=function(H,N,Q,c){var _=H.nn,O=Math.round(_.length/3),L=tP.tyd(c[0],c[1]),s=$.raw.tHz(Q,L),r=$.Iw.multiply($.Iw.pR,s),u=Math.pow(2,c[2]+(Q.t50730?Q.t50730[0]:0)),A,G,j,d,w,f,b,F,n;
r=$.Iw.multiply(r,$.Iw.UH(u,u,u));var V=JO.yz("brit",[c[3],c[4],!1]),C=Q.t50728,T=[C[1]/C[0],C[2]/C[0],C[0]/C[1],C[2]/C[1],C[0]/C[2],C[1]/C[2]],e=new Float64Array(1e3);
for(var t=0;t<1e3;t++)e[t]=$.hU(t*(1/999));e[999]=1;var Y=Date.now();for(var t=0;t<O;t++){var J=t<<2,Z=J-t;
A=_[Z];G=_[Z+1];j=_[Z+2];if(A==1||G==1||j==1){var P=Math.min(A,Math.min(G,j));if(P==A){G=Math.max(G,T[0]*A);
j=Math.max(j,T[1]*A)}else if(P==G){A=Math.max(A,T[2]*G);j=Math.max(j,T[3]*G)}else{A=Math.max(A,T[4]*j);
G=Math.max(G,T[5]*j)}}b=r[0]*A+r[1]*G+r[2]*j;F=r[4]*A+r[5]*G+r[6]*j;n=r[8]*A+r[9]*G+r[10]*j;if(b<0)b=0;
else if(b>1)b=1;if(F<0)F=0;else if(F>1)F=1;if(n<0)n=0;else if(n>1)n=1;b=e[~~(b*999)];F=e[~~(F*999)];
n=e[~~(n*999)];N[J]=V.oB[~~(b*1023)];N[J+1]=V.oF[~~(F*1023)];N[J+2]=V.UY[~~(n*1023)]}};$.raw.tJI=function(H,N){var Q=H.width,c=H.height,_=new Uint16Array(N.length),O=null,L=0,C=0,T=0;
$.raw.trj(H,_);$.raw.o$(1,H,_,Q,c);if(H.t50712){O=H.t50712;L=O.length-1;if(O[L]>65535)throw"too big values"}var s=H.t50713,r=H.t50714,u=H.t50715,V=H.t50716;
if(r==null)r=[0,0,0,0];if(s==null||s[0]+s[1]!=4)r=[r[0],r[0],r[0],r[0]];var e=Q,t=c;if(H.t50829){var Y=H.t50829;
C=Y[1];T=Y[0];e=Y[3];t=Y[2]}u=new Float32Array(u?u:Q);V=new Float32Array(V?V:c);var A=H.t50717[0];if(O)A=Math.min(A,O[L]);
var G=1/(A-r[0]),j=H.data,d=N.length;for(var w=T;w<t;w++){for(var f=C;f<e;f++){var b=w*Q+f,F=_[b];if(O!=null){if(F>L)F=L;
F=O[F]}var n=r[0]+u[f-C]+V[w-T];N[b]=Math.max(0,Math.min(1,(F-n)/(A-n)))}}};$.raw.trj=function(H,N){var Q=N.length,c=H.data,_=H.t258[0];
if(_!=16&&_!=14&&_!=12&&_!=10&&_!=8)throw"Unsupported Bits Per Sample:"+_;for(var O=0;O<Q;O+=2){var L=0,s=0,r=0;
if(_==16){L=O<<1;s=c[L+1]<<8|c[L];r=c[L+3]<<8|c[L+2]}else if(_==14){var u=O*14,V=u>>>3,C=c[V]<<24|c[V+1]<<16|c[V+2]<<8|c[V+3];
if((u&7)==0){s=C>>>18;r=C>>>4&16383}else{s=C>>>14&16383;r=C&16383}}else if(_==12){L=O+(O>>>1);s=c[L]<<4|c[L+1]>>4;
r=(c[L+1]&15)<<8|c[L+2]}else if(_==10){var u=O*10,V=u>>>3;if((u&7)==0){s=(c[V]<<2|c[V+1]>>6)&1023;r=(c[V+1]<<4|c[V+2]>>4)&1023}else{s=(c[V]<<6|c[V+1]>>2)&1023;
r=(c[V+1]<<8|c[V+2]>>0)&1023}}else if(_==8){L=O;s=c[L];r=c[L+1]}N[O]=s;N[O+1]=r}};$.raw.o$=function(H,N,Q,c,_){var O=N["t"+[51008,51009,51022][H-1]],V=0;
if(O==null)return;var L=c*_,s=x.j,r=x.FD,u=new Uint8Array(O),C=x.j(u,V);V+=4;for(var T=0;T<C;T++){var e=s(u,V);
V+=4;var t=s(u,V);V+=4;var Y=s(u,V);V+=4;var A=s(u,V);V+=4;if(!1){}else if(e==1&&H==3){var G=V,j=s(u,G);
G+=4;var d=r(u,G);G+=8;var w=r(u,G);G+=8;var f=r(u,G);G+=8;var b=r(u,G);G+=8;var F=r(u,G);G+=8;var n=r(u,G);
G+=8;G+=(j-1)*8*6;var J=r(u,G);G+=8;var Z=r(u,G);G+=8;var P=J*c,M=Z*_,y=Math.max(P,c-P),a=Math.max(M,_-M),g=Math.sqrt(y*y+a*a),U=1/g,D=Q.slice(0);
for(var W=0;W<_;W++)for(var m=0;m<c;m++){var q=(m+.5-P)*U,S=(W+.5-M)*U,I=q*q+S*S,v=d+w*I+f*I*I+b*I*I*I,h=F*(2*q*S)+n*(I+2*q*q),i=n*(2*q*S)+F*(I+2*S*S),JI=Math.floor(P+g*(v*q+h)),Jx=Math.floor(M+g*(v*S+i)),Jd=(Jx*c+JI)*3,JC=(W*c+m)*3;
Q[JC]=D[Jd];Q[JC+1]=D[Jd+1];Q[JC+2]=D[Jd+2]}}else if(e==3&&H==3){var G=V,JM=r(u,G);G+=8;var Jh=r(u,G);
G+=8;var Jv=r(u,G);G+=8;var JW=r(u,G);G+=8;var Ji=r(u,G);G+=8;var J=r(u,G);G+=8;var Z=r(u,G);G+=8;var P=J*c,M=Z*_,y=Math.max(P,c-P),a=Math.max(M,_-M),g=Math.sqrt(y*y+a*a),U=1/g;
for(var W=0;W<_;W++)for(var m=0;m<c;m++){var q=(m+.5-P)*U,S=(W+.5-M)*U,I=q*q+S*S,Jc=1+(JM+(Jh+(Jv+(JW+Ji*I)*I)*I)*I)*I,JC=(W*c+m)*3;
Q[JC]=Jc*Q[JC];Q[JC+1]=Jc*Q[JC+1];Q[JC+2]=Jc*Q[JC+2]}}else if(e==4&&H==1){var G=V,JT=s(u,G);G+=4;var Jy=s(u,G);
G+=4;for(var Jg=0;Jg<L;Jg++)if(Q[Jg]==JT)Q[Jg]=Q[Jg-2]+Q[Jg+2]>>1}else if(e==5&&H==1){var G=V,Jn=s(u,G);
G+=4;var Jq=s(u,G);G+=4;var tJ=s(u,G);G+=4;for(var Jg=0;Jg<Jq;Jg++){var ty=s(u,G);G+=4;var JA=s(u,G);
G+=4;var Jg=ty*c+JA;Q[Jg]=Q[Jg-2]+Q[Jg+2]>>1}}else if(e==7&&H==1){var G=V,td=x.uq(u,G);G+=16;var Jk=s(u,G);
G+=4;var rR=s(u,G);G+=4;var Je=s(u,G),JU=s(u,G+4);G+=8;var JK=s(u,G);G+=4;var rH=new Uint16Array(JK);
for(var Jg=0;Jg<JK;Jg++)rH[Jg]=x.NU(u,G+2*Jg);var rL=td.$,Ju=td.z;for(var W=0;W<Ju;W+=Je)for(var m=0;
m<rL;m+=JU){var Jg=(td.y+W)*c+(td.x+m);Q[Jg]=rH[Q[Jg]]}}else if(e==9&&H==2){var G=V,td=x.uq(u,G);G+=16;
var Jk=s(u,G);G+=4;var rR=s(u,G);G+=4;var Je=s(u,G),JU=s(u,G+4);G+=8;var JZ=s(u,G),Jl=s(u,G+4);G+=8;
var rD=r(u,G),tb=r(u,G+8);G+=16;var rv=r(u,G),rG=r(u,G+8);G+=16;var Js=s(u,G);G+=4;if(Js!=1)throw"more than one map plane";
var rI=JZ*Jl,tv=new Float32Array(rI);for(var tt=0;tt<rI;tt++)tv[tt]=x.Fg(u,G+tt*4);var rL=td.$,Ju=td.z,rE=.9999*(Jl-1)/rL,rX=.9999*(JZ-1)/Ju;
for(var W=0;W<Ju;W+=Je)for(var m=0;m<rL;m+=JU){var Jg=(td.y+W)*c+(td.x+m),rQ=m*rE,ra=W*rX,rx=Math.floor(rQ),rU=Math.floor(ra),rJ=rQ-rx,tG=ra-rU,JC=rU*Jl+rx,rT=tv[JC]*(1-rJ)+tv[JC+1]*rJ,JR=tv[JC+Jl]*(1-rJ)+tv[JC+1+Jl]*rJ,rO=rT*(1-tG)+JR*tG;
Q[Jg]=Math.min(1,Q[Jg]*rO)}}else console.log("Unknown opcode "+e+" in OpcodeList"+H+". Length: "+A);
V+=A}};$.raw.tHz=function(H,N){var Q=tP.PX(N),c=$.raw.Pr(H,N),_=$.Iw.UK(c),O=tP.tyu(Q,tP.PX(tP.tIS)),L=$.Iw.multiply(O,_);
return L};$.raw.tHs=function(H){var N=H.t50728.slice(0),c=1;N.push(0);var Q={x:.34567,y:.3585};do{var _=$.Iw.UK($.raw.Pr(H,Q)),O=$.Iw.US(_,N),L=tP.tyb(O);
c=Math.abs(Q.x-L.x)+Math.abs(Q.y-L.y);Q=L}while(c>1e-7);return Q};$.raw.Pr=function(H,N){var Q=tP.Pp(N),c=$.raw.twi,_=H.t50779?H.t50779[0]:0,O=c(H.t50721,H.t50722,H.t50778[0],_,Q.No),L=c(H.t50723,H.t50724,H.t50778[0],_,Q.No);
L=L||[1,0,0,0,1,0,0,0,1];var s=H.t50727?[H.t50727[0],0,0,0,H.t50727[1],0,0,0,H.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return $.Iw.multiply($.Iw.Cg(s),$.Iw.multiply($.Iw.Cg(L),$.Iw.Cg(O)))};$.raw.twi=function(H,N,Q,c,_){if(!H&&!N){return null}else if(H&&!N){return H}else if(_<Q){return H}else if(_>c){return N}else{var O=(1/_-1/c)/(1/Q-1/c),L=1-O,s=[];
for(var r=0;r<9;r++)s[r]=H[r]*O+N[r]*L;return s}};var tP={};tP.tIS={x:.34567,y:.3585};tP.PC=[{T:0,An:.18006,Dq:.26352,yC:-.24341},{T:10,An:.18066,Dq:.26589,yC:-.25479},{T:20,An:.18133,Dq:.26846,yC:-.26876},{T:30,An:.18208,Dq:.27119,yC:-.28539},{T:40,An:.18293,Dq:.27407,yC:-.3047},{T:50,An:.18388,Dq:.27709,yC:-.32675},{T:60,An:.18494,Dq:.28021,yC:-.35156},{T:70,An:.18611,Dq:.28342,yC:-.37915},{T:80,An:.1874,Dq:.28668,yC:-.40955},{T:90,An:.1888,Dq:.28997,yC:-.44278},{T:100,An:.19032,Dq:.29326,yC:-.47888},{T:125,An:.19462,Dq:.30141,yC:-.58204},{T:150,An:.19962,Dq:.30921,yC:-.70471},{T:175,An:.20525,Dq:.31647,yC:-.84901},{T:200,An:.21142,Dq:.32312,yC:-1.0182},{T:225,An:.21807,Dq:.32909,yC:-1.2168},{T:250,An:.22511,Dq:.33439,yC:-1.4512},{T:275,An:.23247,Dq:.33904,yC:-1.7298},{T:300,An:.2401,Dq:.34308,yC:-2.0637},{T:325,An:.24792,Dq:.34655,yC:-2.4681},{T:350,An:.25591,Dq:.34951,yC:-2.9641},{T:375,An:.264,Dq:.352,yC:-3.5814},{T:400,An:.27218,Dq:.35407,yC:-4.3633},{T:425,An:.28039,Dq:.35577,yC:-5.3762},{T:450,An:.28863,Dq:.35714,yC:-6.7262},{T:475,An:.29685,Dq:.35823,yC:-8.5955},{T:500,An:.30505,Dq:.35907,yC:-11.324},{T:525,An:.3132,Dq:.35968,yC:-15.628},{T:550,An:.32129,Dq:.36011,yC:-23.325},{T:575,An:.32931,Dq:.36038,yC:-40.77},{T:600,An:.33724,Dq:.36051,yC:-116.45}];
tP.Pp=function(H){var N=tP.PC,Q=2*H.x/(1.5-H.x+6*H.y),c=3*H.y/(1.5-H.x+6*H.y),_=0,O=0,L=0;for(;L<31;
L++){_=c-N[L].Dq-N[L].yC*(Q-N[L].An);if(L>0&&_<0){break}O=_}_/=Math.sqrt(1+N[L].yC*N[L].yC);O/=Math.sqrt(1+N[L-1].yC*N[L-1].yC);
var s=O/(O-_),r=1e6/((N[L].T-N[L-1].T)*s+N[L-1].T),u=Q-((N[L].An-N[L-1].An)*s+N[L-1].An),V=c-((N[L].Dq-N[L-1].Dq)*s+N[L-1].Dq),C=Math.sqrt(1+N[L].yC*N[L].yC),T=1/C,e=N[L].yC/C,t=Math.sqrt(1+N[L-1].yC*N[L-1].yC),Y=1/t,A=N[L-1].yC/t,G=(T-Y)*s+Y,j=(e-A)*s+A,d=Math.sqrt(G*G+j*j);
G/=d;j/=d;var w=(u*G+V*j)*-3e3;return{No:r,Lv:w}};tP.tyd=function(H,N){var Q=tP.PC,c=1e6/H,_=1;for(;
_<31;_++){if(c<Q[_].T){break}}var O=(Q[_].T-c)/(Q[_].T-Q[_-1].T),L=(Q[_-1].An-Q[_].An)*O+Q[_].An,s=(Q[_-1].Dq-Q[_].Dq)*O+Q[_].Dq,r=Math.sqrt(1+Q[_].yC*Q[_].yC),u=1/r,V=Q[_].yC/r,C=Math.sqrt(1+Q[_-1].yC*Q[_-1].yC),T=1/C,e=Q[_-1].yC/C,t=(T-u)*O+u,Y=(e-V)*O+V,A=Math.sqrt(t*t+Y*Y);
t/=A;Y/=A;L+=t*N/-3e3;s+=Y*N/-3e3;return{x:1.5*L/(L-4*s+2),y:s/(L-4*s+2)}};tP.tyb=function(H){var N=H[0]+H[1]+H[2];
return{x:H[0]/N,y:H[1]/N}};tP.PX=function(H){return{x:H.x/H.y,y:1,Xh:(1-H.x-H.y)/H.y}};tP.tyu=function(H,N){var Q=$.Iw.Cg([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),c=[H.x,H.y,H.Xh,0],_=[N.x,N.y,N.Xh,0];
c=$.Iw.US(Q,c);_=$.Iw.US(Q,_);var O=_[0]/c[0],L=_[1]/c[1],s=_[2]/c[2],r=$.Iw.Cg([O,0,0,0,L,0,0,0,s]),u=$.Iw.UK(Q);
return $.Iw.multiply($.Iw.multiply(u,r),Q)};$.H_={};$.H_.H_=function(H,N,Q){var c=H.$,_=H.z,O=1/c,L=c*_,s=Date.now(),r=!1;
if(r)console.log("expand known",Date.now()-s);s=Date.now();var u=$.H_.Pl(Q,c,_,255),V=$.H_.Pl(Q,c,_,0),C=function(Jk,rR){var Je=Jk<<2,JU=rR<<2;
return N[Je]+N[Je+1]+N[Je+2]-(N[JU]+N[JU+1]+N[JU+2])};u.sort(C);V.sort(C);var T=$.I(L),e=$.I(L),t=[],Y=new Uint32Array(c*_);
$.Mw(Y,4294967295);for(var A=0;A<L;A++)if(Q[A]==0)e[A]=255;else if(Q[A]==255)T[A]=255;else{Y[A]=t.length;
t.push(A)}if(r)console.log("Unknown:",t.length,u.length,V.length);if(r)console.log(Date.now()-s);s=Date.now();
var G=$.style.ij(T,c,_),j=$.style.ij(e,c,_),d=new Float32Array(t.length),w=new Float32Array(t.length),f=new Uint32Array(t.length),b=new Uint32Array(t.length),F=new Float32Array(t.length);
if(r)console.log("D trf",Date.now()-s);s=Date.now();for(var A=0;A<t.length;A++){var n=t[A],J=~~(n*O),Z=n-J*c,P=G[n<<1],M=G[(n<<1)+1];
d[A]=1/Math.sqrt(P*P+M*M);var y=j[n<<1],a=j[(n<<1)+1];w[A]=1/Math.sqrt(y*y+a*a);var g=Math.floor(Math.random()*u.length),U=Math.floor(Math.random()*V.length);
f[A]=g;b[A]=U;F[A]=$.H_.SL(n,u[g],V[U],c,O,N,d[A],w[A],1e9)}var D=[-c,-1,1,c],W=$.H_.SL;for(var m=0;
m<10;m++){var q=Math.pow(.5,m);for(var A=0;A<t.length;A++){var n=t[A],J=~~(n*O),Z=n-J*c,S=d[A],I=w[A],v=F[A],g=f[A],U=b[A],JC=1;
for(var h=0;h<4;h++){if(h==0&&J==0||h==1&&Z==0||h==2&&Z==c-1||h==3&&J==_-1)continue;var i=Y[n+D[h]];
if(i==4294967295)continue;var JI=f[i],Jx=b[i];if(JI==g&&Jx==U)continue;var Jd=W(n,u[JI],V[Jx],c,O,N,S,I,v);
if(Jd<v){v=Jd;g=JI;U=Jx}}for(var JM=0;JM<1;JM++){var Jh=~~(u.length*JC),Jv=~~(V.length*JC);JC*=.5;var JW=Math.max(0,g-Jh),Ji=Math.min(g+Jh,u.length-1),Jc=Math.max(0,U-Jv),JT=Math.min(U+Jv,V.length-1),Jy=JW+~~(Math.random()*(Ji-JW)),Jg=Jc+~~(Math.random()*(JT-Jc)),Jd=W(n,u[Jy],V[Jg],c,O,N,S,I,v);
if(Jd<v){v=Jd;g=Jy;U=Jg}}F[A]=v;f[A]=g;b[A]=U}}if(r)console.log(Date.now()-s);s=Date.now();var Jn=Q.slice(0);
for(var A=0;A<t.length;A++)Jn[t[A]]=~~(.5+255*$.H_.alpha(t[A],u[f[A]],V[b[A]],N));Jn=$.Mr.tca(Jn,N,new p(0,0,c,_),16,.01*.01);
if(r)console.log("guided filter",Date.now()-s);s=Date.now();for(var A=0;A<L;A++)if(Q[A]==255||Q[A]==0)Jn[A]=Q[A];
var Jq=N.slice(0);for(var A=0;A<t.length;A++){var tJ=t[A],g=u[f[A]],v=F[A],ty=tJ<<2,JA=Jn[tJ],td=(JA>=250?tJ:g)<<2;
Jq[ty]=N[td];Jq[ty+1]=N[td+1];Jq[ty+2]=N[td+2]}$.kw(Jn,Jq,3);if(r)console.log(Date.now()-s);s=Date.now();
return Jq};$.H_.SL=function(H,N,Q,c,_,O,L,s,r){var u=~~(H*_),V=H-u*c,C=~~(N*_),T=N-C*c,e=~~(Q*_),t=Q-e*c,Y=Math.sqrt((V-T)*(V-T)+(u-C)*(u-C))*L,A=Math.sqrt((V-t)*(V-t)+(u-e)*(u-e))*s,y=0;
if(Y+A>=r)return 1e9;var G=H<<2,j=N<<2,d=Q<<2,w=O[G],f=O[G+1],b=O[G+2],F=O[j],n=O[j+1],J=O[j+2],Z=O[d],P=O[d+1],M=O[d+2];
if(F!=Z||n!=P||J!=M){var a=F-Z,g=n-P,U=J-M,D=w-Z,W=f-P,m=b-M,q=(D*a+W*g+m*U)/(a*a+g*g+U*U);q=Math.max(0,Math.min(1,q));
var S=w-(q*F+(1-q)*Z),I=f-(q*n+(1-q)*P),v=b-(q*J+(1-q)*M);y=Math.sqrt(S*S+I*I+v*v)}return y+Y+A};$.H_.alpha=function(H,N,Q,c){var _=H<<2,O=N<<2,L=Q<<2,s=c[_],r=c[_+1],u=c[_+2],V=c[O],C=c[O+1],T=c[O+2],e=c[L],t=c[L+1],Y=c[L+2];
if(V==e&&C==t&&T==Y)return 1;var A=V-e,G=C-t,j=T-Y,d=s-e,w=r-t,f=u-Y,b=(d*A+w*G+f*j)/(A*A+G*G+j*j);return Math.max(0,Math.min(1,b))};
$.H_.tGz=function(H){};$.H_.Pl=function(H,N,Q,c){var _=[];for(var O=0;O<Q;O++)for(var L=0;L<N;L++){var s=O*N+L;
if(H[s]==c&&(O!=0&&H[s-N]!=c&&H[s-N]!=255-c||O>1&&H[s-N-N]!=c&&H[s-N-N]!=255-c||O!=Q-1&&H[s+N]!=c&&H[s+N]!=255-c||O<Q-2&&H[s+N+N]!=c&&H[s+N+N]!=255-c||L!=0&&H[s-1]!=c&&H[s-1]!=255-c||L>1&&H[s-1-1]!=c&&H[s-1-1]!=255-c||L!=N-1&&H[s+1]!=c&&H[s+1]!=255-c||L<N-2&&H[s+1+1]!=c&&H[s+1+1]!=255-c))_.push(s)}return _};
$.H_.tGZ=function(H,N,Q,c){var _=H.slice(0),O=Math.round((Q+c)/400);for(var L=0;L<c;L++)for(var s=0;
s<Q;s++){var r=L*Q+s;if(H[r]==0||H[r]==255)continue;var u=N[r<<2],V=N[(r<<2)+1],C=N[(r<<2)+2],T=Math.max(0,s-O),e=Math.min(s+O+1,Q),t=Math.max(0,L-O),Y=Math.min(L+O+1,c);
for(var A=t;A<Y;A++)for(var G=T;G<e;G++){var j=A*Q+G;if(H[j]==0||H[j]==255){var d=N[j<<2]-u,w=N[(j<<2)+1]-V,f=N[(j<<2)+2]-C;
if(d*d+w*w+f*f<15){_[r]=H[j];A=Y;break}}}}return _};$.Mr={};$.Mr.tGN=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=O*L,r=$.Mr.Pf,u=$.I(s*4),V;
$.Mw(u,4294967295);var C=Q,T=H,e=N,t=c;$.kw(H,u,0);V=$.Ef(u,Q);V=$.Ef(V.nn,V.rect);C=V.rect;t=c>>>2;
console.log(C,t);T=$.I(C.f());$.rY(V.nn,T,0);$.kw(N,u,0);V=$.Ef(u,Q);V=$.Ef(V.nn,V.rect);e=$.I(C.f());
$.rY(V.nn,e,0);var Y=$.Mr.ty_(T,e,C,t,_),A=Y[0],G=Y[1],j=new p(0,0,C.$*2,C.z*2);A=r(A,C,j,!0);A=r(A,j,Q,!0);
G=r(G,C,j,!0);G=r(G,j,Q,!0);var d=$.I(s);for(var w=0;w<s;w++)d[w]=Math.max(0,Math.min(255,Math.floor(.5+(A[w]*N[w]+255*G[w]))));
return d};$.Mr.Pf=function(H,N,Q,c){var _=Q.$,O=Q.z,L=N.$,s=N.z,r=$.Mr.ui,u=new Float32Array(_*O);for(var V=0;
V<s;V++){var C=(V+V)*_;for(var T=0;T<L;T++){if(!0||T==0||V==0||T==L-1||V==s-1)u[C]=u[C+1]=u[C+_]=u[C+_+1]=H[V*L+T];
else{u[C]=r(T+.25,V+.25,H,L,s);u[C+1]=r(T+.75,V+.25,H,L,s);u[C+_]=r(T+.25,V+.75,H,L,s);u[C+_+1]=r(T+.75,V+.75,H,L,s)}C+=2}}return u};
$.Mr.ui=function(H,N,Q,c,_){H-=.499999;N-=.499999;var O=Math.floor(H),L=Math.floor(N),s=L*c+O,r=H-O,u=N-L,V=(1-u)*(1-r),C=(1-u)*r,T=u*(1-r),e=u*r;
if(Q[s]==null||Q[s+c+1]==null){console.log(H,N,c,_);throw"e"}return V*Q[s+0]+C*Q[s+1]+T*Q[s+c+0]+e*Q[s+c+1]};
$.Mr.ty_=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=O*L,r=$.Mr.Pj,u=$.Mr.I,V=$.blur.Wf,C=$.Mr.oi,N=r(N),H=r(H),T=u(s);
V(N,T,Q,c);var e=u(s);V(H,e,Q,c);var t=u(s);C(N,N,t);V(t,t,Q,c);var Y=u(s);C(N,H,Y);V(Y,Y,Q,c);var A=u(s),G=u(s);
for(var j=0;j<s;j++){var d=T[j],w=e[j],f=t[j]-d*d,b=Y[j]-d*w,F=b/(f+_),n=w-F*d;A[j]=F;G[j]=n}var J=u(s);
V(A,J,Q,c);var Z=u(s);V(G,Z,Q,c);return[J,Z]};$.Mr.tca=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=O*L,r=$.Mr.Pf,u=Date.now(),V=!1,C=Q,T=H,e=N,t=c;
C=new p(0,0,O>>>2,L>>>2);t=c>>>2;T=$.Mr.tLV(H,O,L);e=$.Mr.tLJ(N,O,L);if(V)console.log(Date.now()-u);
u=Date.now();var Y=$.Mr.tLy(T,e,C,t,_),A=Y[0],G=Y[1],j=Y[2],d=Y[3];if(V)console.log(Date.now()-u);u=Date.now();
var w=$.I(s);for(var f=0;f<L;f++)for(var b=0;b<O;b++){var F=f*O+b,n=(f>>>2)*(O>>>2)+(b>>>2),J=F<<2,Z=A[n]*N[J]+G[n]*N[J+1]+j[n]*N[J+2]+d[n]*255;
w[F]=Math.max(0,Math.min(255,~~(.5+Z)))}if(V)console.log(Date.now()-u);u=Date.now();return w};$.Mr.tLV=function(H,N,Q){var c=N>>>2,_=Q>>>2,O=$.I(N*Q);
for(var L=0;L<_;L++)for(var s=0;s<c;s++)O[L*c+s]=H[L*N+s<<2];return O};$.Mr.tLJ=function(H,N,Q){var c=N>>>2,_=Q>>>2,O=$.I(N*Q*4);
for(var L=0;L<_;L++)for(var s=0;s<c;s++){var r=L*c+s<<2,u=L*N+s<<4;O[r]=H[u];O[r+1]=H[u+1];O[r+2]=H[u+2];
O[r+3]=H[u+3]}return O};$.Mr.tLy=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=O*L,r=$.Mr.Pj,u=$.Mr.I,V=$.blur.Wf,C=$.Mr.oi,H=r(H),T=new $.wf(O*L);
$.GQ(N,T);var N=[r(T.T),r(T.q),r(T.H)],e=$.Mr.tLf(H,N,Q,c,_),t=u(s);V(H,t,Q,c);var Y=u(s);C(N[0],H,Y);
V(Y,Y,Q,c);var A=u(s);C(N[1],H,A);V(A,A,Q,c);var G=u(s);C(N[2],H,G);V(G,G,Q,c);var j=u(s),d=u(s),w=u(s),f=u(s);
for(var b=0;b<s;b++){var F=t[b],n=e.NX[b],J=e.NQ[b],Z=e.FE[b],P=Y[b]-n*F,M=A[b]-J*F,y=G[b]-Z*F;j[b]=e.mQ[b]*P+e.FO[b]*M+e.mw[b]*y;
d[b]=e.FO[b]*P+e.mO[b]*M+e.md[b]*y;w[b]=e.mw[b]*P+e.md[b]*M+e.mn[b]*y;f[b]=F-j[b]*n-d[b]*J-w[b]*Z}V(j,j,Q,c);
V(d,d,Q,c);V(w,w,Q,c);V(f,f,Q,c);return[j,d,w,f]};$.Mr.tLf=function(H,N,Q,c,_){var O=Q.$,L=Q.z,s=O*L,r=$.Mr.I,u=$.blur.Wf,V=$.Mr.oi,C={};
C.NX=r(s);u(N[0],C.NX,Q,c);C.NQ=r(s);u(N[1],C.NQ,Q,c);C.FE=r(s);u(N[2],C.FE,Q,c);var T=r(s);V(N[0],N[0],T);
u(T,T,Q,c);var e=r(s);V(N[0],N[1],e);u(e,e,Q,c);var t=r(s);V(N[0],N[2],t);u(t,t,Q,c);var Y=r(s);V(N[1],N[1],Y);
u(Y,Y,Q,c);var A=r(s);V(N[1],N[2],A);u(A,A,Q,c);var G=r(s);V(N[2],N[2],G);u(G,G,Q,c);C.mQ=T;C.FO=e;C.mw=t;
C.mO=Y;C.md=A;C.mn=G;for(var j=0;j<s;j++){var d=C.NX[j],w=C.NQ[j],f=C.FE[j],b=T[j]-d*d+_,F=e[j]-d*w,n=t[j]-d*f,J=Y[j]-w*w+_,Z=A[j]-w*f,P=G[j]-f*f+_,M=J*P-Z*Z,y=Z*n-F*P,a=F*Z-J*n,g=b*P-n*n,U=n*F-b*Z,D=b*J-F*F,W=M*b+y*F+a*n,m=1/W;
C.mQ[j]=M*m;C.FO[j]=y*m;C.mw[j]=a*m;C.mO[j]=g*m;C.md[j]=U*m;C.mn[j]=D*m}return C};$.Mr.I=function(H){return new Float32Array(H)};
$.Mr.Pj=function(H){var N=H.length,Q=new Float32Array(N);for(var c=0;c<N;c++)Q[c]=H[c]*(1/255);return Q};
$.Mr.oi=function(H,N,Q){for(var c=0;c<H.length;c++)Q[c]=H[c]*N[c]};$.Bm={};$.Bm.tLZ=function(H,N,Q,c,_){var O=$.Bm.PK(H.buffer,N,Q).$e,L=Date.now(),s=new Uint32Array(O.length);
for(var r=0;r<O.length;r++)s[r]=O[r].lA;var u=UPNG.quantize.getKDtree(new Uint8Array(s.buffer),c),V=[N,1,-N,-1,N+1,-N+1,-N-1,N-1,N+N,2,-N-N,-2,N+N-1,N+N+1,N+2,-N+2,-N-N+1,-N-N-1,-N-2,N-2,N+N+2,-N-N+2-N-N-2,N+N-2],C=new Uint8Array(N*Q),T=H;
for(var e=0;e<Q;e++)for(var t=0;t<N;t++){var r=e*N+t<<2,Y=T[r]*(1/255),A=T[r+1]*(1/255),G=T[r+2]*(1/255),j=T[r+3]*(1/255),d=$.Bm.Ax(u,Y,A,G,j,_);
if(d==null){var w=[],f=0;while(f<20){var b=e*N+t+V[f]<<2,F=T[b]*(1/255),n=T[b+1]*(1/255),J=T[b+2]*(1/255),Z=T[b+3]*(1/255),P=$.Bm.Ax(u,F,n,J,Z,.005);
if(P!=null){if(w.indexOf(P)==-1){w.push(P);P.NA=1}else P.NA++}f++}w.sort(function(j,G){return G.NA-j.NA});
while(w.length!=0&&w[w.length-1].NA<3)w.pop();if(w.length==0)d=$.Bm.Ax(u,Y,A,G,j,100);else if(w.length==1)d=w[0];
else if(w.length==2){var M=w[0],y=w[1],a=M.est.q,g=y.est.q,U=g[0]-a[0],D=g[1]-a[1],W=g[2]-a[2],m=g[3]-a[3],q=Y-a[0],S=A-a[1],I=G-a[2],v=j-a[3],h=U*U+D*D+W*W+m*m,i=q*q+S*S+I*I+v*v,JI=(q*U+S*D+I*W+v*m)/h,Jx=i-JI*JI*h;
if(Jx<.5)d=JI<.5?M:y;else{d=$.Bm.Ax(u,Y,A,G,j,100)}}else{var M=w[0],y=w[1],Jd=w[2],a=M.est.q,g=y.est.q,JC=Jd.est.q,JM=a[0]-JC[0],Jh=a[1]-JC[1],Jv=a[2]-JC[2],JW=a[3]-JC[3],Ji=g[0]-JC[0],JT=g[1]-JC[1],Jy=g[2]-JC[2],Jg=g[3]-JC[3],Jn=JC[0]-Y,Jq=JC[1]-A,tJ=JC[2]-G,ty=JC[3]-j,JA=JM*JM+Jh*Jh+Jv*Jv+JW*JW,td=JM*Ji+Jh*JT+Jv*Jy+JW*Jg,Jk=Jn*JM+Jq*Jh+tJ*Jv+ty*JW,rR=JM*Ji+Jh*JT+Jv*Jy+JW*Jg,Je=Ji*Ji+JT*JT+Jy*Jy+Jg*Jg,JU=Jn*Ji+Jq*JT+tJ*Jy+ty*Jg,JK=1/(td*rR-JA*Je),JI=(Je*Jk-JU*td)*JK,rH=(JU*JA-Jk*rR)*JK,rL=1-JI-rH,Ju=Math.max(JI,rH,rL);
if(Ju==JI)d=M;else if(Ju==rH)d=y;else d=Jd}}C[r>>2]=d.ind}return{gB:C,$e:u[1]}};$.Bm.PK=function(H,N,Q){var c=[],_={},O=N-1,L=Q-1,s=0,r=new Uint32Array(H),u=[-N-1,-N,-N+1,-1,1,N-1,N,N+1,N+N,2,-N-N,-2,N+N-1,N+N+1,N+2,-N+2,-N-N+1,-N-N-1,-N-2,N-2,N+N+2,-N-N+2-N-N-2,N+N-2];
for(var V=1;V<L;V++)for(var C=1;C<O;C++){var T=V*N+C,e=r[T],t=!0;for(var Y=0;Y<8;Y++)t=t&&r[T+u[Y]]==e;
if(t){s++;var A=_[e];if(A==null){_[e]=c.length;c.push({lA:e,eo:1})}else c[A].eo++}}return{$e:c,tTx:s}};
$.Bm.Ax=function(H,N,Q,c,_,O){var L=UPNG.quantize.getNearest(H[0],N,Q,c,_);return $.Bm.tCo(L,N,Q,c,_)<O?L:null};
$.Bm.tCo=function(H,N,Q,c,_){var O=H.est.q,L=N-O[0],s=Q-O[1],r=c-O[2],u=_-O[3];return L*L+s*s+r*r+u*u};
$.Bm.tGu=function(H,N,Q,c){var _=$.Bm.tG$(H,N,Q,c),O=_.gB,L=_.$e,s=_.tTO,r=UPNG.quantize.getKDtree(new Uint8Array(s.buffer.slice(0)),200),u=[];
for(var V=0;V<L.length;V++){var C=L[V].vc,T=C[0],e=C[1],t=C[2],Y=C[3];if(Math.min(T,e,t,Y)<0)throw"e";
var A=UPNG.quantize.getNearest(r[0],T/255,e/255,t/255,Y/255);u.push(r[1].indexOf(A))}for(var V=0;V<N*Q;
V++)O[V]=u[O[V]];return{gB:O,$e:r[1]}};$.Bm.tG$=function(H,N,Q,c){var _=N*Q,O=2*_,L=$.Bm.txa(H,N,Q),s=65535+1,r=new Uint32Array(s),C=0;
for(var u=0;u<O;u++)r[L[u]]++;var V=new Uint32Array(s);for(var u=0;u<s;u++){V[u]=C;C+=r[u]}var T=new Uint32Array(O);
for(var u=0;u<O;u++){var e=L[u];T[V[e]]=u;V[e]++}var t=new UnionFind(_),Y=new Uint16Array(_),A=new Uint32Array(_);
for(var u=0;u<_;u++)A[u]=1;var G=_,j=1e5/(c*10);for(var d=0;d<O;d++){var w=T[d],f=L[w];if(f==65535)continue;
var u=w>>1,b=u+((w&1)==0?1:N),F=t.find(u),n=t.find(b),J=Math.min(Y[F]+j/Math.sqrt(A[F]),Y[n]+j/Math.sqrt(A[n]));
if(F!=n&&f<=J){t.link(u,b);G--;var Z=t.find(u);A[Z]=A[F]+A[n];Y[Z]=f}}var P=[],M={},y=new Uint16Array(_);
for(var u=0;u<_;u++){var Z=t.find(u),a=M[Z];if(a==null){M[Z]=a=P.length;P.push({eo:0,vc:[0,0,0,0]})}P[a].eo++;
for(var b=0;b<4;b++)P[a].vc[b]+=H[(u<<2)+b];y[u]=a}var g=new Uint32Array(P.length);for(var u=0;u<P.length;
u++){var a=P[u];for(var b=0;b<4;b++)a.vc[b]=Math.round(a.vc[b]/a.eo);g[u]=a.vc[3]<<24|a.vc[2]<<16|a.vc[1]<<8|a.vc[0]}return{gB:y,$e:P,tTO:g}};
$.Bm.txa=function(H,N,Q){var c=new Uint16Array(N*Q*2);for(var _=0;_<Q;_++)for(var O=0;O<N;O++){var L=_*N+O;
c[L+L]=O<N-1?$.Bm.Pz(H,L,L+1):65535;c[L+L+1]=_<Q-1?$.Bm.Pz(H,L,L+N):65535}return c};$.Bm.Pz=function(H,N,Q){var c=N<<2,_=Q<<2,O=H[c],L=H[c+1],s=H[c+2],r=H[c+3],u=H[_],V=H[_+1],C=H[_+2],T=H[_+3],e=O-u,t=L-V,Y=s-C,A=r-T;
return e*e+t*t+Y*Y+A*A>>2};var $N=function(){function H(){this.f=0;this.Dj=0;this.hc={};this.MO=[];this.LE=1e5;
this.Lp=1e5;this.Li=-1;this.Lo=-1;this.color=0}function N(_){this.pu=_;this.qd=new Array(_);this.lA=new Array(_*6);
this.tTV=0;this.sE=new Array(_*2);this.alpha=new Array(_);this.Lb=new Array(_);this.Lz=new Array(_)}function Q(_,O,L,s){function r(G,j,_,O){return _[O*j+G]}function u(A){var n=_.length;
while(A<n&&_[A]==0)A++;return A<n?A:-1}function V(G,j,n){for(var A=2;A<5;A++){var J=0;for(var Z=-A+1;
Z<=A-1;Z++){J+=r(G+Z,j+A-1,_,O)==n?1:-1;J+=r(G+A-1,j+Z-1,_,O)==n?1:-1;J+=r(G+Z-1,j-A,_,O)==n?1:-1;J+=r(G-A,j+Z,_,O)==n?1:-1}if(J>0)return 1;
else if(J<0)return 0}return 0}function C(n,t){var Y=new H,G=n,j=t,J=0,Z=1,P;Y.color=_[t*O+n];Y.sign=r(n,t,_,O)==Y.color?"+":"-";
while(1){Y.MO.push(G,j);if(G>Y.Li)Y.Li=G;if(G<Y.LE)Y.LE=G;if(j>Y.Lo)Y.Lo=j;if(j<Y.Lp)Y.Lp=j;Y.Dj++;G+=J;
j+=Z;Y.f-=G*Z;if(G==n&&j==t)break;var M=r(G+(J+Z-1>>1),j+(Z-J-1>>1),_,O)==Y.color,y=r(G+(J-Z-1>>1),j+(Z+J-1>>1),_,O)==Y.color;
if(y&&!M){if(s.TU=="right"||s.TU=="black"&&Y.sign=="+"||s.TU=="white"&&Y.sign=="-"||s.TU=="majority"&&V(G,j,Y.color)||s.TU=="minority"&&!V(G,j,Y.color)){P=J;
J=-Z;Z=P}else{P=J;J=Z;Z=-P}}else if(y){P=J;J=-Z;Z=P}else if(!M){P=J;J=Z;Z=-P}}return Y}var T=0,e=[];
while(!0){var T=u(T);if(T==-1)break;var t=Math.floor(T/O),Y=C(T-t*O,t);for(var A=0;A<Y.MO.length-2;A+=2){var G=Y.MO[A],j=Y.MO[A+1],d=j*O+G;
if(G==Y.MO[A+2]&&j+1==Y.MO[A+3]&&_[d]!=0)$N.fill(d,_,O,0)}if(Y.f>s.tPc)e.push(Y)}for(var A=0;A<e.length;
A++)e[A].parent=-1;var w=Date.now();for(var A=1;A<e.length;A++){var f=e[A];for(var b=A-1;b>=0;b--){var F=e[b];
if(f.LE<F.LE||f.Li>F.Li||f.Lp<F.Lp||f.Lo>F.Lo)continue;if(!$N.ttc(F.MO,f.MO[0]+.5,f.MO[1]+.5))continue;
f.parent=b;break}}return e}function c(_,O){function L(J,Z,P,M,y){this.x=J;this.y=Z;this.$u=P;this.Jh=M;
this.Jp=y}function s(J,Z){return(Z+J)%Z}function r(J,Z,P,M){return J*M-P*Z}function u(J,Z,P,M){return J*P+Z*M}function V(J,Z,P){if(J<=P)return J<=Z&&Z<P;
else return J<=Z||Z<P}function C(J,Z,P){var M=0;M+=Z*J[0]*Z;M+=Z*J[1]*P;M+=Z*J[2];M+=P*J[3]*Z;M+=P*J[4]*P;
M+=P*J[5];M+=J[6]*Z;M+=J[7]*P;M+=J[8];return M}function T(J,Z,P){return Z+J*(P-Z)}function e(J,Z,P,M){var y=Math.sign(P-J),a=-Math.sign(M-Z);
return y*(P-J)-a*(M-Z)}function t(J,Z){return Math.sqrt(J*J+Z*Z)}function Y(J,Z,P,M,y){var a=1-J;return a*a*a*Z+3*(a*a*J)*P+3*(J*J*a)*M+J*J*J*y}function A(J,Z,P,M,y,a,g,U){var D=r(J,Z,g,U),W=r(P,M,g,U),m=r(y,a,g,U),q=D-2*W+m,S=-2*D+2*W,I=D,v=S*S-4*q*I;
if(q==0||v<0)return-1;var h=Math.sqrt(v),i=(-S+h)/(2*q),JI=(-S-h)/(2*q);if(i>=0&&i<=1)return i;else if(JI>=0&&JI<=1)return JI;
else return-1}function G(n){var F,J,Z;n.Tk=n.MO[0];n.mf=n.MO[1];n.ma=[];var P=n.ma;P.push(new L(0,0,0,0,0));
for(F=0;F<n.Dj;F++){J=n.MO[F<<1]-n.Tk;Z=n.MO[(F<<1)+1]-n.mf;P.push(new L(P[F].x+J,P[F].y+Z,P[F].$u+J*Z,P[F].Jh+J*J,P[F].Jp+Z*Z))}}function j(n){var J=n.Dj,Z=n.MO,P,M=new Array(J),y=new Array(J),a=new Array(4),g,U,D,W,m,q,S,I,v,h,i,F,JI,Jx,Jd,JC,JM,Jh,Jv=0;
n.PP=new Array(J);for(F=J-1;F>=0;F--){if(Z[F<<1]!=Z[Jv<<1]&&Z[(F<<1)+1]!=Z[(Jv<<1)+1])Jv=F+1;y[F]=Jv}for(F=J-1;
F>=0;F--){var JW=s(F+1,J)<<1;a[0]=a[1]=a[2]=a[3]=0;P=(3+3*(Z[JW]-Z[F<<1])+(Z[JW+1]-Z[(F<<1)+1]))/2;a[P]++;
g=0;U=0;D=0;W=0;Jv=y[F];Jx=F;while(1){i=0;P=(3+3*Math.sign(Z[Jv*2]-Z[Jx*2])+Math.sign(Z[Jv*2+1]-Z[Jx*2+1]))/2;
a[P]++;if(a[0]&&a[1]&&a[2]&&a[3]){M[F]=Jx;i=1;break}v=Z[Jv*2]-Z[F*2];h=Z[Jv*2+1]-Z[F*2+1];if(r(g,U,v,h)<0||r(D,W,v,h)>0){break}if(Math.abs(v)<=1&&Math.abs(h)<=1){}else{m=v+(h>=0&&(h>0||v<0)?1:-1);
q=h+(v<=0&&(v<0||h<0)?1:-1);if(r(g,U,m,q)>=0){g=m;U=q}m=v+(h<=0&&(h<0||v<0)?1:-1);q=h+(v>=0&&(v>0||h<0)?1:-1);
if(r(D,W,m,q)<=0){D=m;W=q}}Jx=Jv;Jv=y[Jx];if(!V(Jv,F,Jx)){break}}if(i==0){S=Math.sign(Z[Jv*2]-Z[Jx*2]);
I=Math.sign(Z[Jv*2+1]-Z[Jx*2+1]);v=Z[Jx*2]-Z[F*2];h=Z[Jx*2+1]-Z[F*2+1];Jd=r(g,U,v,h);JC=r(g,U,S,I);JM=r(D,W,v,h);
Jh=r(D,W,S,I);JI=1e7;if(JC<0){JI=Math.floor(Jd/-JC)}if(Jh>0){JI=Math.min(JI,Math.floor(-JM/Jh))}M[F]=s(Jx+JI,J)}}JI=M[J-1];
n.PP[J-1]=JI;for(F=J-2;F>=0;F--){if(V(F+1,M[F],JI)){JI=M[F]}n.PP[F]=JI}for(F=J-1;V(s(F+1,J),JI,n.PP[F]);
F--){n.PP[F]=JI}}function d(n){function J(n,F,Z){var y=n.Dj,v=n.MO,h=n.ma,i,JI,Jx,Jd,JC,M,JM,Jh,I,Jv,JW,Ji,Jc,JT,Jy=0;
if(Z>=y){Z-=y;Jy=1}if(Jy==0){i=h[Z+1].x-h[F].x;JI=h[Z+1].y-h[F].y;Jd=h[Z+1].Jh-h[F].Jh;Jx=h[Z+1].$u-h[F].$u;
JC=h[Z+1].Jp-h[F].Jp;M=Z+1-F}else{i=h[Z+1].x-h[F].x+h[y].x;JI=h[Z+1].y-h[F].y+h[y].y;Jd=h[Z+1].Jh-h[F].Jh+h[y].Jh;
Jx=h[Z+1].$u-h[F].$u+h[y].$u;JC=h[Z+1].Jp-h[F].Jp+h[y].Jp;M=Z+1-F+y}JW=(v[F<<1]+v[Z<<1])/2-v[0];Ji=(v[(F<<1)+1]+v[(Z<<1)+1])/2-v[1];
JT=v[Z<<1]-v[F<<1];Jc=-(v[(Z<<1)+1]-v[(F<<1)+1]);JM=(Jd-2*i*JW)/M+JW*JW;Jh=(Jx-i*Ji-JI*JW)/M+JW*Ji;I=(JC-2*JI*Ji)/M+Ji*Ji;
Jv=Jc*Jc*JM+2*Jc*JT*Jh+JT*JT*I;return Math.sqrt(Jv)}var F,Z,P,M,y=n.Dj,a=new Array(y+1),g=new Array(y+1),U=new Array(y),D=new Array(y+1),W=new Array(y+1),m=new Array(y+1),q,S,I;
for(F=0;F<y;F++){I=s(n.PP[s(F-1,y)]-1,y);if(I==F){I=s(F+1,y)}if(I<F){U[F]=y}else{U[F]=I}}Z=1;for(F=0;
F<y;F++){while(Z<=U[F]){D[Z]=F;Z++}}F=0;for(Z=0;F<y;Z++){W[Z]=F;F=U[F]}W[Z]=y;P=Z;F=y;for(Z=P;Z>0;Z--){m[Z]=F;
F=D[F]}m[0]=0;a[0]=0;for(Z=1;Z<=P;Z++){for(F=m[Z];F<=W[Z];F++){S=-1;for(M=W[Z-1];M>=D[F];M--){q=J(n,M,F)+a[M];
if(S<0||q<S){g[F]=M;S=q}}a[F]=S}}n.om=P;n.mj=new Array(P);for(F=y,Z=P-1;F>0;Z--){F=g[F];n.mj[Z]=F}}function w(n){function J(n,F,q,U,D,Jg){var M=n.Dj,Jn=n.ma,Jq=0,I;
while(q>=M){q-=M;Jq+=1}while(F>=M){F-=M;Jq-=1}while(q<0){q+=M;Jq-=1}while(F<0){F+=M;Jq+=1}var tJ=Jn[q+1].x-Jn[F].x+Jq*Jn[M].x,ty=Jn[q+1].y-Jn[F].y+Jq*Jn[M].y,JA=Jn[q+1].Jh-Jn[F].Jh+Jq*Jn[M].Jh,td=Jn[q+1].$u-Jn[F].$u+Jq*Jn[M].$u,Jk=Jn[q+1].Jp-Jn[F].Jp+Jq*Jn[M].Jp,S=q+1-F+Jq*M;
U[Jg]=tJ/S;U[Jg+1]=ty/S;var rR=(JA-tJ*tJ/S)/S,Je=(td-tJ*ty/S)/S,JU=(Jk-ty*ty/S)/S,JK=(rR+JU+Math.sqrt((rR-JU)*(rR-JU)+4*Je*Je))/2;
rR-=JK;JU-=JK;if(Math.abs(rR)>=Math.abs(JU)){I=Math.sqrt(rR*rR+Je*Je);if(I!=0){D[Jg]=-Je/I;D[Jg+1]=rR/I}}else{I=Math.sqrt(JU*JU+Je*Je);
if(I!=0){D[Jg]=-JU/I;D[Jg+1]=Je/I}}if(I==0){D[Jg]=D[Jg+1]=0}}var Z=n.om,P=n.mj,M=n.Dj,y=n.MO,a=n.Tk,g=n.mf,U=new Array(Z*2),D=new Array(Z*2),W=new Array(Z),m=new Array(3),F,q,S,I,JI,Jx,Jd,JC,JM,Jh,Jv;
n.hc=new N(Z);for(F=0;F<Z;F++){q=P[s(F+1,Z)];q=s(q-P[F],M)+P[F];U[F<<1]=0;U[(F<<1)+1]=0;D[F<<1]=0;D[(F<<1)+1]=0;
J(n,P[F],q,U,D,F<<1)}for(F=0;F<Z;F++){W[F]=[0,0,0,0,0,0,0,0,0];var v=D[F<<1]*D[F<<1]+D[(F<<1)+1]*D[(F<<1)+1],h=1/v;
if(v!=0){m[0]=D[(F<<1)+1];m[1]=-D[F<<1];m[2]=-m[1]*U[(F<<1)+1]-m[0]*U[F<<1];for(I=0;I<3;I++){W[F][I*3+0]=m[I]*m[0]*h;
W[F][I*3+1]=m[I]*m[1]*h;W[F][I*3+2]=m[I]*m[2]*h}}}var i=[0,0,0,0,0,0,0,0,0];for(F=0;F<Z;F++){i[0]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=0;
var JW=y[P[F]<<1]-a,Ji=y[(P[F]<<1)+1]-g,Jc=0,JT=0;q=s(F-1,Z);for(I=0;I<9;I+=3){i[I+0]=W[q][I+0]+W[F][I+0];
i[I+1]=W[q][I+1]+W[F][I+1];i[I+2]=W[q][I+2]+W[F][I+2]}while(1){var Jy=i[0]*i[4]-i[1]*i[3];if(Jy!=0){Jc=(-i[2]*i[4]+i[5]*i[0])/Jy;
JT=(i[2]*i[3]-i[5]*i[0])/Jy;break}if(i[0]>i[4]){m[0]=-i[1];m[1]=i[0]}else if(i[4]){m[0]=-i[4];m[1]=i[3]}else{m[0]=1;
m[1]=0}var v=m[0]*m[0]+m[1]*m[1],h=1/v;m[2]=-m[1]*Ji-m[0]*JW;for(I=0;I<3;I++){i[I*3+0]+=m[I]*m[0]*h;
i[I*3+1]+=m[I]*m[1]*h;i[I*3+2]+=m[I]*m[2]*h}}JI=Math.abs(Jc-JW);Jx=Math.abs(JT-Ji);if(JI<=.5&&Jx<=.5){n.hc.sE[F<<1]=Jc+a;
n.hc.sE[(F<<1)+1]=JT+g;continue}Jd=C(i,JW,Ji);JM=JW;Jh=Ji;if(i[0]!=0){for(Jv=0;Jv<2;Jv++){JT=Ji-.5+Jv;
Jc=-(i[1]*JT+i[2])/ i[0];JI=Math.abs(Jc-JW);JC=C(i,Jc,JT);if(JI<=.5&&JC<Jd){Jd=JC;JM=Jc;Jh=JT}}}if(i[4]!=0){for(Jv=0;
Jv<2;Jv++){Jc=JW-.5+Jv;JT=-(i[3]*Jc+i[5])/ i[4];Jx=Math.abs(JT-Ji);JC=C(i,Jc,JT);if(Jx<=.5&&JC<Jd){Jd=JC;
JM=Jc;Jh=JT}}}for(I=0;I<2;I++){for(S=0;S<2;S++){Jc=JW-.5+I;JT=Ji-.5+S;JC=C(i,Jc,JT);if(JC<Jd){Jd=JC;
JM=Jc;Jh=JT}}}n.hc.sE[F<<1]=JM+a;n.hc.sE[(F<<1)+1]=Jh+g}}function f(n){var J=n.hc.pu,Z=n.hc,F,P,M,y,a,g,U,D,W;
for(F=0;F<J;F++){P=s(F+1,J);M=s(F+2,J);var m=Z.sE[F<<1],q=Z.sE[(F<<1)+1],S=Z.sE[M<<1],I=Z.sE[(M<<1)+1],v=Z.sE[P<<1],h=Z.sE[(P<<1)+1],i=T(.5,S,v),JI=T(.5,I,h);
a=e(m,q,S,I);if(a!=0){y=r(v-m,h-q,S-m,I-q)/a;y=Math.abs(y);g=y>1?1-1/y:0;g=g*(1/.75)}else{g=4/3}Z.Lb[P]=g;
var Jx=3*P<<1;if(g>=O.tPY){Z.qd[P]=0;Z.lA[Jx+0]=Z.lA[Jx+1]=0;Z.lA[Jx+2]=v;Z.lA[Jx+3]=h;Z.lA[Jx+4]=i;
Z.lA[Jx+5]=JI}else{if(g<.55){g=.55}else if(g>1){g=1}var Jd=.5+.5*g;Z.qd[P]=1;Z.lA[Jx]=T(Jd,m,v);Z.lA[Jx+1]=T(Jd,q,h);
Z.lA[Jx+2]=T(Jd,S,v);Z.lA[Jx+3]=T(Jd,I,h);Z.lA[Jx+4]=i;Z.lA[Jx+5]=JI}Z.alpha[P]=g;Z.Lz[P]=.5}Z.tPz=1}function b(n){function J(){this.PU=0;
this.ml=0;this.mZ=0;this.mk=0;this.me=0;this.yC=0;this._u=0;this.alpha=0}function Z(n,F,m,rH,rL,JC,JM){var M=n.hc.pu,Ju=n.hc.lA,JZ=n.hc.sE;
if(F==m)return 1;var Jl=F,v=s(F+1,M),rV=s(Jl+1,M),JA=JZ[F<<1],td=JZ[(F<<1)+1],rD=JZ[v<<1],tb=JZ[(v<<1)+1],rv=JC[rV];
if(rv==0)return 1;var rG=t(JA-rD,td-tb);for(Jl=rV;Jl!=m;Jl=rV){var rV=s(Jl+1,M),Js=s(Jl+2,M),rI=JZ[rV<<1],tv=JZ[(rV<<1)+1],tt=JZ[Js<<1],rE=JZ[(Js<<1)+1];
if(JC[rV]!=rv)return 1;if(Math.sign(r(rD-JA,tb-td,tt-rI,rE-tv))!=rv)return 1;if(u(rD-JA,tb-td,tt-rI,rE-tv)<rG*t(rI-tt,tv-rE)*-.999847695156)return 1}var rX=s(F,M)*3+2<<1,rQ=s(F+1,M)<<1,ra=s(m,M)<<1,rx=s(m,M)*3+2<<1,Jy=Ju[rX],Jg=Ju[rX+1],rU=JZ[rQ],rJ=JZ[rQ+1],tG=JZ[ra],rT=JZ[ra+1],JR=Ju[rx],rO=Ju[rx+1],Jh=JZ[0],Jv=JZ[1];
rX=m*3+2<<1;var rg=Ju[rX],rc=Ju[rX+1],h=JM[m]-JM[F];h-=r(rg-Jh,rc-Jv,rg-Jh,rc-Jv)/2;if(F>=m){h+=JM[M]}var rm=rU-Jy,rn=rJ-Jg,rK=tG-Jy,V$=rT-Jg,Vc=JR-Jy,rb=rO-Jg,rl=r(rm,rn,rK,V$),rB=r(rm,rn,Vc,rb),HI=r(rK,V$,Vc,rb),Hw=rl+HI-rB;
if(rB==rl)return 1;var Jd=HI/(HI-Hw),Jx=rB/(rB-rl),rf=rB*Jd/2;if(rf==0)return 1;var VI=h/rf,i=2-Math.sqrt(4-VI/.3);
rH.ml=T(Jd*i,Jy,rU);rH.mZ=T(Jd*i,Jg,rJ);rH.mk=T(Jx*i,JR,tG);rH.me=T(Jx*i,rO,rT);rH.alpha=i;rH.yC=Jd;
rH._u=Jx;rU=rH.ml;rJ=rH.mZ;tG=rH.mk;rT=rH.me;rH.PU=0;for(Jl=s(F+1,M);Jl!=m;Jl=rV){rV=s(Jl+1,M);var rN=JZ[Jl<<1],rp=JZ[(Jl<<1)+1],rI=JZ[rV<<1],tv=JZ[(rV<<1)+1];
Jd=A(rU-Jy,rJ-Jg,tG-rU,rT-rJ,JR-tG,rO-rT,rI-rN,tv-rp);if(Jd<-.5)return 1;var rZ=Y(Jd,Jy,rU,tG,JR),$u=Y(Jd,Jg,rJ,rT,rO),rG=t(rI-rN,tv-rp);
if(rG==0)return 1;var rz=r(rI-rN,tv-rp,rZ-rN,$u-rp)/rG;if(Math.abs(rz)>rL)return 1;if(u(rI-rN,tv-rp,rZ-rN,$u-rp)<0||u(rN-rI,rp-tv,rZ-rI,$u-tv)<0){return 1}rH.PU+=rz*rz}for(Jl=F;
Jl!=m;Jl=rV){rV=s(Jl+1,M);var rX=Jl*3+2<<1,rQ=rV*3+2<<1,Hy=Ju[rX],HR=Ju[rX+1],tq=Ju[rQ],HH=Ju[rQ+1];
Jd=A(rU-Jy,rJ-Jg,tG-rU,rT-rJ,JR-tG,rO-rT,tq-Hy,HH-HR);if(Jd<-.5)return 1;var rZ=Y(Jd,Jy,rU,tG,JR),$u=Y(Jd,Jg,rJ,rT,rO),rG=t(tq-Hy,HH-HR);
if(rG==0)return 1;var rz=r(tq-Hy,HH-HR,rZ-Hy,$u-HR)/rG,rh=r(tq-Hy,HH-HR,JZ[rV<<1]-Hy,JZ[(rV<<1)+1]-HR)/rG;
rh*=.75*n.hc.alpha[rV];if(rh<0){rz=-rz;rh=-rh}if(rz<rh-rL)return 1;if(rz<rh){rH.PU+=(rz-rh)*(rz-rh)}}return 0}var P=n.hc,M=P.pu,y=P.sE,a=new Array(M+1),g=new Array(M+1),U=new Array(M+1),D=new Array(M+1),W,F,m,q,S=new J,I,v,h,i,JI,Jx,Jd,JC=new Array(M),JM=new Array(M+1);
for(F=0;F<M;F++){if(P.qd[F]=="CURVE"){var Jh=y[s(F-1,M)<<1],Jv=y[(s(F-1,M)<<1)+1],JW=y[F<<1],Ji=y[(F<<1)+1],Jc=y[s(F+1,M)<<1],JT=y[(s(F+1,M)<<1)+1];
JC[F]=Math.sign(r(JW-Jh,Ji-Jv,Jc-JW,JT-Ji))}else{JC[F]=0}}h=0;JM[0]=0;var Jy=P.sE[0],Jg=P.sE[1];for(F=0;
F<M;F++){v=s(F+1,M);if(P.qd[v]=="CURVE"){i=P.alpha[v];var Jn=F*3+2<<1,Jq=v*3+2<<1,tJ=P.lA[Jn],ty=P.lA[Jn+1],JA=y[v<<1],td=y[(v<<1)+1],Jk=P.lA[Jq],rR=P.lA[Jq+1];
h+=.3*i*(4-i)*r(JA-tJ,td-ty,Jk-tJ,rR-ty)/2;h+=r(tJ-Jy,ty-Jg,Jk-Jy,rR-Jg)/2}JM[F+1]=h}a[0]=-1;g[0]=0;
U[0]=0;for(m=1;m<=M;m++){a[m]=m-1;g[m]=g[m-1];U[m]=U[m-1]+1;for(F=m-2;F>=0;F--){q=Z(n,F,s(m,M),S,O.tdt,JC,JM);
if(q){break}if(U[m]>U[F]+1||U[m]==U[F]+1&&g[m]>g[F]+S.PU){a[m]=F;g[m]=g[F]+S.PU;U[m]=U[F]+1;D[m]=S;S=new J}}}W=U[M];
JI=new N(W);Jx=new Array(W);Jd=new Array(W);m=M;for(F=W-1;F>=0;F--){var Je=s(m,M),JU=F*3+0<<1,JK=Je*3+0<<1;
if(a[m]==m-1){JI.qd[F]=P.qd[Je];JI.lA[JU]=P.lA[JK];JI.lA[JU+1]=P.lA[JK+1];JI.lA[JU+2]=P.lA[JK+2];JI.lA[JU+3]=P.lA[JK+3];
JI.lA[JU+4]=P.lA[JK+4];JI.lA[JU+5]=P.lA[JK+5];JI.sE[F<<1]=P.sE[Je<<1];JI.sE[(F<<1)+1]=P.sE[(Je<<1)+1];
JI.alpha[F]=P.alpha[Je];JI.Lb[F]=P.Lb[Je];JI.Lz[F]=P.Lz[Je];Jx[F]=Jd[F]=1}else{JI.qd[F]="CURVE";JI.lA[JU]=D[m].ml;
JI.lA[JU+1]=D[m].mZ;JI.lA[JU+2]=D[m].mk;JI.lA[JU+3]=D[m].me;JI.lA[JU+4]=P.lA[JK+4];JI.lA[JU+5]=P.lA[JK+5];
JI.sE[F<<1]=T(D[m]._u,P.lA[JK+4],y[Je<<1]);JI.sE[(F<<1)+1]=T(D[m]._u,P.lA[JK+5],y[(Je<<1)+1]);JI.alpha[F]=D[m].alpha;
JI.Lb[F]=D[m].alpha;Jx[F]=D[m]._u;Jd[F]=D[m].yC}m=a[m]}for(F=0;F<W;F++){v=s(F+1,W);JI.Lz[F]=Jx[F]/(Jx[F]+Jd[v])}JI.tPz=1;
n.hc=JI}for(var F=0;F<_.length;F++){var n=_[F];G(n);j(n);d(n);w(n);f(n);if(O.tPg)b(n)}}return{tTz:Q,tTA:c}}();
$N.ttR=function(H,N,Q,c){var _={TU:"minority",tPc:c,tPg:!0,tPY:1,tdt:.2},O=$N.tTz(H,N,Q,_);$N.tTA(O,_);
return O};$N.ttr=function(H){var N=[];for(var Q=0;Q<H.length;Q++){var c=H[Q],_=c.hc,O=["M"],L=[_.lA[(_.pu-1)*6+4],_.lA[(_.pu-1)*6+5]];
for(var s=0;s<_.pu;s++){var r=s*6;if(_.qd[s]==1){O.push("C");for(var u=0;u<6;u++)L.push(_.lA[r+u])}else if(_.qd[s]==0){O.push("L");
for(var u=2;u<4;u++)L.push(_.lA[r+u])}}N.push({parent:c.parent,color:c.color,path:{Z:L,lX:O}})}return N};
$N.txt=function(H,N,Q,c,_){function O(Y){function A(r){var t="C "+(Y.lA[r*3+0<<1]*N).toFixed(1)+" "+(Y.lA[(r*3+0<<1)+1]*N).toFixed(1)+",";
t+=(Y.lA[r*3+1<<1]*N).toFixed(1)+" "+(Y.lA[(r*3+1<<1)+1]*N).toFixed(1)+",";t+=(Y.lA[r*3+2<<1]*N).toFixed(1)+" "+(Y.lA[(r*3+2<<1)+1]*N).toFixed(1)+" ";
return t}function G(r){var w="L "+(Y.lA[r*3+1<<1]*N).toFixed(1)+" "+(Y.lA[(r*3+1<<1)+1]*N).toFixed(1)+" ";
w+=(Y.lA[r*3+2<<1]*N).toFixed(1)+" "+(Y.lA[(r*3+2<<1)+1]*N).toFixed(1)+" ";return w}var j=Y.pu,r,d="M"+(Y.lA[(j-1)*3+2<<1]*N).toFixed(1)+" "+(Y.lA[((j-1)*3+2<<1)+1]*N).toFixed(1)+" ";
for(r=0;r<j;r++){if(Y.qd[r]==1){d+=A(r)}else if(Y.qd[r]==0){d+=G(r)}}return d}var Q=Q*N,c=c*N,L=H.length,s=[];
for(var r=0;r<256;r++)s.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var u="<svg id=\"svg\" version=\"1.1\" width=\""+Q+"\" height=\""+c+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var r=0;r<L;r++){var V=_[H[r].color-1].tTc.tTT;if((V>>>24&255)==0)continue;u+="<path d=\"";var C=H[r].hc;
u+=O(C);var T=V>>0&255,e=V>>8&255,t=V>>16&255,V="rgb("+T+","+e+","+t+")";u+="\" fill=\""+V+"\" fill-rule=\"evenodd\"/>"}u+="</svg>";
return u};$N.ttc=function(H,N,Q){var c=H.length>>1,_,O=H[2*c-3]-Q,L=H[2*c-2]-N,s=H[2*c-1]-Q,r=s>O,V=0;
for(var u=0;u<c;u++){_=L;O=s;L=H[2*u]-N;s=H[2*u+1]-Q;if(O==s)continue;r=s>O}for(var u=0;u<c;u++){_=L;
O=s;L=H[2*u]-N;s=H[2*u+1]-Q;if(O<0&&s<0)continue;if(O>0&&s>0)continue;if(_<0&&L<0)continue;if(O==s&&Math.min(_,L)<=0)return!0;
if(O==s)continue;var C=_+(L-_)*-O/(s-O);if(C==0)return!0;if(C>0)V++;if(O==0&&r&&s>O)V--;if(O==0&&!r&&s<O)V--;
r=s>O}return(V&1)==1};$N.fill=function(H,N,Q,c){var _=N[H],O=[H],L=0;while(L<O.length){if(O.length>Q*Q*2)throw"e";
var s=O[L];L++;N[s]=c;if(N[s-Q]==_){O.push(s-Q);N[s-Q]=254}if(N[s-1]==_){O.push(s-1);N[s-1]=254}if(N[s+1]==_){O.push(s+1);
N[s+1]=254}if(N[s+Q]==_){O.push(s+Q);N[s+Q]=254}}};var o={};o.Yv=!1;o.PZ=!1;o.VC=!1;o.ql=document.createElement("canvas");
o.Ia=null;o.Av=null;o.QK=0;(function(){var H={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},N;
if(!N)N=o.ql.getContext("webgl",H);if(!N)N=o.ql.getContext("experimental-webgl",H);if(N){o.Yv=!0;o.PZ=!0;
o.Ia=N;o.Av=N.createFramebuffer();N.bindFramebuffer(N.FRAMEBUFFER,o.Av);N.disable(N.BLEND);N.disable(N.DEPTH_TEST);
var Q=N.createBuffer();N.bindBuffer(N.ARRAY_BUFFER,Q);N.bufferData(N.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),N.STATIC_DRAW);
N.enableVertexAttribArray(0);N.vertexAttribPointer(0,2,N.FLOAT,!1,0,0)}}());o.ttb=function(H){var N=o.Ia;
if(H>N.getParameter(N.MAX_TEXTURE_SIZE)){o.Yv=!1;alert("Disabling WebGL")}};o.Vb=function(H,N){return new Float32Array([(H.x-N.x)/N.$,(H.y-N.y)/N.z,H.$/N.$,H.z/N.z])};
o.en=function(){return this.ql};o.jl=function(H,N){var Q=o.Ia;Q.bindFramebuffer(Q.FRAMEBUFFER,o.Av);
Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,H.La,0);Q.viewport(0,0,H.$,H.z);
if(N){Q.enable(Q.SCISSOR_TEST);Q.scissor(N.x,N.y,N.$,N.z)}else Q.disable(Q.SCISSOR_TEST)};o.PA=function(H,N,Q){if(Q)throw"error";
var c=o.Ia;c.disable(c.SCISSOR_TEST);c.bindFramebuffer(c.FRAMEBUFFER,null);c.viewport(0,0,H,N);if(Q){c.enable(c.SCISSOR_TEST);
c.scissor(Q.x,Q.y,Math.round(Q.$),Math.round(Q.z))}else c.disable(c.SCISSOR_TEST)};o.clear=function(){var H=o.Ia;
H.clearColor(0,0,0,0);H.clear(H.COLOR_BUFFER_BIT)};o.sk=function(H,N){if(N==null)N=0;var Q=(N>>0&255)==0,c=(N>>8&255)==0,_=(N>>16&255)==0,O=(N>>24&255)==0,L=(H>>0&255)*(1/255),s=(H>>8&255)*(1/255),r=(H>>16&255)*(1/255),u=(H>>24&255)*(1/255),V=o.Ia;
V.colorMask(Q,c,_,O);V.clearColor(L,s,r,u);V.clear(V.COLOR_BUFFER_BIT);V.colorMask(!0,!0,!0,!0)};o.h_=function(H,N,Q,c,_){var O=N.sj(c);
if(_)O=O.sj(_);if(O.km())return;var L=o.Ia;o.jl(H);L.bindTexture(L.TEXTURE_2D,Q.La);L.copyTexSubImage2D(L.TEXTURE_2D,0,O.x-c.x,O.y-c.y,O.x-N.x,O.y-N.y,O.$,O.z)};
o.tx$=function(H,N,Q){var c=o.Pe[H];if(c==null||c.$!=N||c.z!=Q){if(c)c.delete();c=new o.wf(N,Q)}o.Pe[H]=c;
return c};o.Pe=[];o.YB=function(){this.uX=null;this.Hr=null};o.YB.TV=null;o.YB.prototype.SW=function(H){if(this.Hr)return;
this.Hr={};var N=o.Ia,Q=this.uX,c=this.Hr;for(var _=0;_<H.length;_++){var O=H[_];c[O]=N.getUniformLocation(Q,O)}};
o.YB.prototype.ON=function(){};o.YB.prototype.sA=function(H,N){var Q=o.Ia,c=Q.createShader(Q.FRAGMENT_SHADER);
Q.shaderSource(c,H);Q.compileShader(c);if(!Q.getShaderParameter(c,Q.COMPILE_STATUS))console.log(Q.getShaderInfoLog(c));
var _=Q.createShader(Q.VERTEX_SHADER);Q.shaderSource(_,N);Q.compileShader(_);if(!Q.getShaderParameter(_,Q.COMPILE_STATUS))console.log(Q.getShaderInfoLog(_));
var O=Q.createProgram();Q.attachShader(O,_);Q.attachShader(O,c);Q.linkProgram(O);if(!Q.getProgramParameter(O,Q.LINK_STATUS))console.log("Could not initialise shaders");
this.uX=O};o.YB.prototype.QN=function(){if(o.YB.TV!=this){o.Ia.useProgram(this.uX);o.YB.TV=this}};o.Vu=function(H,N){o.Ob++;
o.QK+=H*N;if(o.VC)console.log("GL.Channels instances: "+o.Ob+", memory: "+o.QK);var Q=o.Ia;this.$=H;
this.z=N;this.La=Q.createTexture();this.QZ=null;this.AU(this.La,H,N)};o.Vu.prototype.AU=function(H,N,Q){var c=o.Ia;
c.bindTexture(c.TEXTURE_2D,H);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);
c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,N,Q,0,c.ALPHA,c.UNSIGNED_BYTE,null)};o.Vu.prototype.set=function(H){var N=o.Ia;
N.bindTexture(N.TEXTURE_2D,this.La);N.pixelStorei(N.UNPACK_ALIGNMENT,1);N.texImage2D(N.TEXTURE_2D,0,N.ALPHA,this.$,this.z,0,N.ALPHA,N.UNSIGNED_BYTE,H);
N.pixelStorei(N.UNPACK_ALIGNMENT,4)};o.Vu.prototype.delete=function(){var H=o.Ia;if(this.La){H.deleteTexture(this.La);
o.Ob--;o.QK-=this.$*this.z}if(o.VC)if(o.VC)console.log("GL.Channels instances: "+o.Ob+", memory: "+o.QK*4)};
o.Ob=0;o.wf=function(H,N,Q){if(Q==null)Q=!1;o.Ob++;o.QK+=H*N*4;if(o.VC)console.log("GL.Channels instances: "+o.Ob+", memory: "+o.QK);
var c=o.Ia;this.tdy=Q;this.$=H;this.z=N;this.La=c.createTexture();this.QZ=null;this.AU(this.La,H,N)};
o.wf.prototype.set=function(H,N){var Q=o.Ia;Q.disable(Q.SCISSOR_TEST);Q.bindTexture(Q.TEXTURE_2D,this.La);
if(H==null||H instanceof Uint8Array){var c=this.$*this.z;if(N==null||N.f()*10>c)Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,this.$,this.z,0,Q.RGBA,Q.UNSIGNED_BYTE,H);
else{var _=$.I(N.f()*4);$.Pg(H,new p(0,0,this.$,this.z),_,N);Q.texSubImage2D(Q.TEXTURE_2D,0,N.x,N.y,N.$,N.z,Q.RGBA,Q.UNSIGNED_BYTE,_)}}else Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,Q.RGBA,Q.UNSIGNED_BYTE,H)};
o.wf.prototype.get=function(H){var N=o.Ia;o.jl(this);N.readPixels(0,0,this.$,this.z,N.RGBA,N.UNSIGNED_BYTE,H)};
o.wf.prototype.EX=function(H){if(H.km())return;var N=o.Ia;if(this.QZ==null){this.QZ=N.createTexture();
this.AU(this.QZ,this.$,this.z);o.Ob++;o.QK+=this.$*this.z*4}N.bindFramebuffer(N.FRAMEBUFFER,o.Av);N.bindTexture(N.TEXTURE_2D,this.QZ);
if(H){var Q=Math.max(H.x,0),c=Math.max(H.y,0);N.copyTexSubImage2D(N.TEXTURE_2D,0,Q,c,Q,c,H.$,H.z)}else N.copyTexImage2D(N.TEXTURE_2D,0,N.RGBA,0,0,this.$,this.z,0)};
o.wf.prototype.AU=function(H,N,Q){var c=o.Ia;c.bindTexture(c.TEXTURE_2D,H);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.tdy?c.LINEAR:c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,N,Q,0,c.RGBA,c.UNSIGNED_BYTE,null)};
o.wf.prototype.delete=function(){var H=o.Ia;if(this.La){H.deleteTexture(this.La);o.Ob--;o.QK-=this.$*this.z*4}if(this.QZ){H.deleteTexture(this.QZ);
o.Ob--;o.QK-=this.$*this.z*4}if(o.VC)if(o.VC)console.log("GL.Channels instances: "+o.Ob+", memory: "+o.QK*4)};
o.wf.prototype.clone=function(){var H=o.Ia,N=new o.wf(this.$,this.z);o.jl(this);H.bindTexture(H.TEXTURE_2D,N.La);
H.copyTexImage2D(H.TEXTURE_2D,0,H.RGBA,0,0,this.$,this.z,0);return N};o._G={tVe:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",t$J:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",ol:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Y_:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",PN:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",YH:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",If:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",oI:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",t$D:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",YG:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",trS:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",sg:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Pu:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",pI:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",En:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",yU:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",sM:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",pq:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }"};
o.vs=function(H,N,Q,c,_){if(o.vs.js==null)o.vs.js=new o.vs.VS;var O=N.T.length;if(o.vs.oz["m"+O]==null){o.vs.oz["m"+O]={tdx:new o.wf(O,1),nn:$.I(O*4)}}var L=o.vs.oz["m"+O];
$.kw(N.T,L.nn,0);$.kw(N.q,L.nn,1);$.kw(N.H,L.nn,2);var s=L.tdx;s.set(L.nn);var r=o.vs.js,u=o.Ia;o.jl(H,_);
H.EX(_);r.QN();r.ON(H.QZ,s.La,Q?1:0,c?1:0);u.drawArrays(u.TRIANGLES,0,6)};o.vs.js=null;o.vs.oz={};o.vs.VS=function(){o.YB.call(this);
var H="\t\t\tprecision mediump float;\t\t\t"+o._G.If+"\t\t\t"+o._G.ol+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.vs.VS.prototype=new o.YB;o.vs.VS.prototype.ON=function(H,N,Q,c){this.SW(["source","map","toGray","presLum"]);
var _=o.Ia,O=this.Hr;_.uniform1f(O.toGray,Q);_.uniform1f(O.presLum,c);_.uniform1i(O.source,0);_.uniform1i(O.map,1);
_.activeTexture(_.TEXTURE0);_.bindTexture(_.TEXTURE_2D,H);_.activeTexture(_.TEXTURE1);_.bindTexture(_.TEXTURE_2D,N);
_.activeTexture(_.TEXTURE0)};o.NN=function(H,N,Q,c,_,O){if(o.NN.js==null){o.NN.js=new o.NN.VS;o.NN.ck=new o.wf(256,1);
o.NN.dc=$.I(256*4)}N.o=$.I(256);var L=o.NN.dc;$.GL(N,L);var s=o.NN.ck;s.set(L);var r=o.NN.js,u=o.Ia;
o.jl(H,Q);H.EX(Q);r.QN();r.ON(H.QZ,s.La,c,_,O);u.drawArrays(u.TRIANGLES,0,6)};o.NN.js=null;o.NN.ck=null;
o.NN.dc=null;o.NN.VS=function(){o.YB.call(this);var H="\t\t\tprecision mediump float;\t\t\t"+o._G.yU+"\t\t\t"+o._G.pI+"\t\t\t"+o._G.En+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = cfa*src.rgb + cfb*(1.0-src.rgb);\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat ns; \t\t\t\tif(colorize==1) ns = sc; \t\t\t\telse {\t\t\t\t\tif(sc>0.0) sc = tan((3.14159265359/2.0)*sc);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tfloat alc = abs(lc); \t\t\t\t\t\t\t\tvec3 zrgb = hslToRgb(nh, min(1.0,ns*(1.0-alc)), l + (lc>0.0 ? 1.0 : -1.0)*min(l, 1.0-l)*s); \t\t\t\tvec3 nrgb = hslToRgb(nh, min(1.0,ns), l); \t\t\t\trgb = nrgb * (1.0-alc) + zrgb * alc; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.NN.VS.prototype=new o.YB;o.NN.VS.prototype.ON=function(H,N,Q,c,_){this.SW(["source","map","cfa","cfb","colorize"]);
var O=o.Ia,L=this.Hr;O.uniform1f(L.cfa,Q);O.uniform1f(L.cfb,c);O.uniform1i(L.colorize,_);O.uniform1i(L.source,0);
O.uniform1i(L.map,1);O.activeTexture(O.TEXTURE0);O.bindTexture(O.TEXTURE_2D,H);O.activeTexture(O.TEXTURE1);
O.bindTexture(O.TEXTURE_2D,N);O.activeTexture(O.TEXTURE0)};o.EQ=function(H,N,Q,c){if(o.EQ.js==null)o.EQ.js=new o.EQ.VS;
var _=o.EQ.js,O=o.Ia;o.jl(H,c);H.EX(c);_.QN();_.ON(H.QZ,N,Q);O.drawArrays(O.TRIANGLES,0,6)};o.EQ.js=null;
o.EQ.VS=function(){o.YB.call(this);var H="\t\t\tprecision mediump float;\t\t\t"+o._G.yU+"\t\t\t"+o._G.sM+"\t\t\t"+o._G.pq+"\t\t\t"+o._G.pI+"\t\t\t"+o._G.En+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.EQ.VS.prototype=new o.YB;o.EQ.VS.prototype.ON=function(H,N,Q){this.SW(["source","vib","sat"]);
var c=o.Ia,_=this.Hr;c.uniform1f(_.vib,N);c.uniform1f(_.sat,Q);c.uniform1i(_.source,0);c.activeTexture(c.TEXTURE0);
c.bindTexture(c.TEXTURE_2D,H)};o.El=function(H,N,Q){if(o.El.js==null)o.El.js=new o.El.VS;var c=o.El.js,_=o.Ia;
o.jl(H,Q);H.EX(Q);c.QN();c.ON(H.QZ,N);_.drawArrays(_.TRIANGLES,0,6)};o.El.js=null;o.El.VS=function(){o.YB.call(this);
var H="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = vec4(texture2D(source, sCoord).rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*src).rgb,src.w); \t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.El.VS.prototype=new o.YB;o.El.VS.prototype.ON=function(H,N){this.SW(["source","trf"]);
var Q=o.Ia,c=this.Hr;Q.uniformMatrix4fv(c.trf,!1,new Float32Array($.Iw.zC(N)));Q.uniform1i(c.source,0);
Q.activeTexture(Q.TEXTURE0);Q.bindTexture(Q.TEXTURE_2D,H)};o.Wk=function(H,N,Q){if(o.Wk.js==null){o.Wk.js=new o.Wk.VS}var c=o.Wk.js,_=o.Ia;
o.jl(H,Q);H.EX(Q);c.QN();c.ON(H.QZ,N);_.drawArrays(_.TRIANGLES,0,6)};o.Wk.js=null;o.Wk.VS=function(){o.YB.call(this);
var H="\t\t\tprecision mediump float;\t\t\t"+o._G.ol+"\t\t\t"+o._G.Y_+"\t\t\t"+o._G.PN+"\t\t\t"+o._G.pI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.Wk.VS.prototype=new o.YB;o.Wk.VS.prototype.ON=function(H,N){this.SW(["source","cfs"]);
var Q=o.Ia,c=this.Hr;Q.uniform3fv(c.cfs,N);Q.uniform1i(c.source,0);Q.activeTexture(Q.TEXTURE0);Q.bindTexture(Q.TEXTURE_2D,H);
Q.activeTexture(Q.TEXTURE0)};o.qj=function(H,N,Q,c){if(o.qj.js==null){o.qj.js=new o.qj.VS}var _=o.qj.js,O=o.Ia;
o.jl(H,c);H.EX(c);_.QN();_.ON(H.QZ,N,Q);O.drawArrays(O.TRIANGLES,0,6)};o.qj.js=null;o.qj.VS=function(){o.YB.call(this);
var H="\t\t\tprecision mediump float;\t\t\t"+o._G.yU+"\t\t\t"+o._G.Y_+"\t\t\t"+o._G.PN+"\t\t\t"+o._G.pI+"\t\t\t"+o._G.En+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.qj.VS.prototype=new o.YB;o.qj.VS.prototype.ON=function(H,N,Q){this.SW(["source","wght","prms"]);
var c=o.Ia,_=this.Hr;c.uniform1fv(_.wght,new Float32Array(N));c.uniform1fv(_.prms,new Float32Array(Q));
c.uniform1i(_.source,0);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,H);c.activeTexture(c.TEXTURE0)};
o.a={};o.a.oU={};o.a.XR=null;o.a.X$=null;o.a.Xr=null;o.a.dv=function(H,N,Q,c,_,O,L,s){if(s==null)s=Ja.wU();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(H)==-1){L=L*s.fill;s.fill=1;s.style=!1}if(o.a.oU[H]==null)o.a.oU[H]=new o.a.VS(H);
var r=o.a.oU[H],u=Q.sj(_).sj(O);u.offset(-_.x,-_.y);if(u.km())return;var V=o.Ia;o.jl(c,u);c.EX(u);r.QN();
r.ON(N.La,c.QZ,o.Vb(Q,_),L,s.fill,s.style?1:0,s.VE?1:0);V.drawArrays(V.TRIANGLES,0,6)};o.a.Ak=function(H,N,Q,c,_,O,L,s,r,u){if(o.a.XR==null)o.a.XR=new o.a.eY(!0,!0);
if(o.a.X$==null)o.a.X$=new o.a.eY(!0,!1);if(o.a.Xr==null)o.a.Xr=new o.a.eY(!1,!0);var V=u?1:0,C=H?_?o.a.XR:o.a.X$:o.a.Xr,T=N?N.sj(c).sj(s):c.sj(s);
if(T.km())return;T.offset(-c.x,-c.y);var e=o.Ia;o.jl(Q,T);Q.EX(T);C.QN();if(H==null)C.ON(null,Q.QZ,_.La,o.Vb(c,c),o.Vb(O,c),L/255,r,V);
else if(_)C.ON(H.La,Q.QZ,_.La,o.Vb(N,c),o.Vb(O,c),L/255,r,V);else C.ON(H.La,Q.QZ,null,o.Vb(N,c),null,L/255,r,V);
e.drawArrays(e.TRIANGLES,0,6)};o.a.txJ=function(H,N,Q){if(o.a.mb==null)o.a.mb=new o.a.XT;var c=o.a.mb,_=new p(0,0,H.$,H.z),O=o.Ia;
o.jl(N);N.EX(_);c.QN();c.ON(_,H.La,N.QZ,Q.La);O.drawArrays(O.TRIANGLES,0,6)};o.a.Xc={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
o.a.VS=function(H){o.YB.call(this);var N="\t\t\tprecision mediump float;\t\t\t"+o._G.ol+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+o._G.YH+"\t\t\t"+o._G.If+"\t\t\t"+o._G.oI+"\t\t\t"+o._G.tVe+"\t\t\t"+o._G.t$J+"\t\t\t"+o._G.t$D+"\t\t\t"+o._G.YG+"\t\t\t"+o._G.trS+"\t\t\t"+o._G.sg+"\t\t\t"+o._G.hash+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+o.a.Xc[H]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",Q="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(H=="diss")N+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else N+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.sA(N,Q)};o.a.VS.prototype=new o.YB;o.a.VS.prototype.ON=function(H,N,Q,c,_,O,L){this.SW("srct alpha source target fill style keepBGA".split(" "));
var s=o.Ia,r=this.Hr;s.uniform4fv(r.srct,Q);s.uniform1f(r.alpha,c);s.uniform1f(r.fill,_);s.uniform1f(r.style,O);
s.uniform1f(r.keepBGA,L);s.uniform1i(r.source,0);s.uniform1i(r.target,1);s.activeTexture(s.TEXTURE0);
s.bindTexture(s.TEXTURE_2D,H);s.activeTexture(s.TEXTURE1);s.bindTexture(s.TEXTURE_2D,N);s.activeTexture(s.TEXTURE0)};
o.a.eY=function(H,N){o.YB.call(this);this.tTG=H;this.LZ=N;var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+o._G.Pu+"\t\t\t"+o._G.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(H?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(N?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(H?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(Q,c)};o.a.eY.prototype=new o.YB;o.a.eY.prototype.ON=function(H,N,Q,c,_,O,L,s){if(this.LZ)this.SW("srct wrct wcolor awg dissv source target weight".split(" "));
else this.SW(["srct","awg","dissv","source","target"]);var r=o.Ia,u=this.Hr;r.uniform4fv(u.srct,c);if(this.LZ){r.uniform4fv(u.wrct,_);
r.uniform1f(u.wcolor,O)}r.uniform1f(u.awg,L);r.uniform1f(u.dissv,s);r.uniform1i(u.source,0);r.uniform1i(u.target,1);
if(this.LZ)r.uniform1i(u.weight,2);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,H);r.activeTexture(r.TEXTURE1);
r.bindTexture(r.TEXTURE_2D,N);if(this.LZ){r.activeTexture(r.TEXTURE2);r.bindTexture(r.TEXTURE_2D,Q)}r.activeTexture(r.TEXTURE0)};
o.a.XT=function(){o.YB.call(this);var H="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.sA(H,N)};o.a.XT.prototype=new o.YB;o.a.XT.prototype.ON=function(H,N,Q,c){this.SW(["rct","prev","next","alpha"]);
var _=o.Ia,O=this.Hr;_.uniform4fv(O.rct,[0,0,1,1]);_.uniform1i(O.prev,0);_.uniform1i(O.next,1);_.uniform1i(O.alpha,2);
_.activeTexture(_.TEXTURE0);_.bindTexture(_.TEXTURE_2D,N);_.activeTexture(_.TEXTURE1);_.bindTexture(_.TEXTURE_2D,Q);
_.activeTexture(_.TEXTURE2);_.bindTexture(_.TEXTURE_2D,c);_.activeTexture(_.TEXTURE0)};function E(H,N){if(!H)H=0;
if(!N)N=0;this.x=H;this.y=N}E.prototype.add=function(H){return new E(this.x+H.x,this.y+H.y)};E.prototype.clone=function(){return new E(this.x,this.y)};
E.prototype.py=function(H){this.x=H.x;this.y=H.y};E.prototype.v$=function(H){return this.x==H.x&&this.y==H.y};
E.prototype.normalize=function(H){var N=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=H/N;this.y*=H/N};
E.prototype.offset=function(H,N){this.x+=H;this.y+=N};E.prototype.kR=function(H,N){this.x=H;this.y=N};
E.prototype.Tr=function(H){return new E(this.x-H.x,this.y-H.y)};E.Ln=function(H,N){return E.trE(H.x,H.y,N.x,N.y)};
E.iv=function(H,N,Q){return new E(H.x+Q*(N.x-H.x),H.y+Q*(N.y-H.y))};E.txy=function(H,N){return new E(H*Math.cos(N),H*Math.sin(N))};
E.trE=function(H,N,Q,c){return Math.sqrt((Q-H)*(Q-H)+(c-N)*(c-N))};E.XP={};E.PR={};E.XP.create=function(){var H=new Float32Array(4);
return H};E.PR.create=function(H){var N=new Float32Array(16);N[0]=N[5]=N[10]=N[15]=1;if(H)E.PR.set(H,N);
return N};E.XP.add=function(H,N,Q){Q[0]=H[0]+N[0];Q[1]=H[1]+N[1];Q[2]=H[2]+N[2];Q[3]=H[3]+N[3]};E.XP.set=function(H,N){N[0]=H[0];
N[1]=H[1];N[2]=H[2];N[3]=H[3]};E.PR.set=function(H,N){N[0]=H[0];N[1]=H[1];N[2]=H[2];N[3]=H[3];N[4]=H[4];
N[5]=H[5];N[6]=H[6];N[7]=H[7];N[8]=H[8];N[9]=H[9];N[10]=H[10];N[11]=H[11];N[12]=H[12];N[13]=H[13];N[14]=H[14];
N[15]=H[15]};E.PR.multiply=function(H,N,Q){var c=H[0],_=H[1],O=H[2],L=H[3],s=H[4],r=H[5],u=H[6],V=H[7],C=H[8],T=H[9],e=H[10],t=H[11],Y=H[12],A=H[13],G=H[14],j=H[15],d=N[0],w=N[1],f=N[2],b=N[3];
Q[0]=d*c+w*s+f*C+b*Y;Q[1]=d*_+w*r+f*T+b*A;Q[2]=d*O+w*u+f*e+b*G;Q[3]=d*L+w*V+f*t+b*j;d=N[4];w=N[5];f=N[6];
b=N[7];Q[4]=d*c+w*s+f*C+b*Y;Q[5]=d*_+w*r+f*T+b*A;Q[6]=d*O+w*u+f*e+b*G;Q[7]=d*L+w*V+f*t+b*j;d=N[8];w=N[9];
f=N[10];b=N[11];Q[8]=d*c+w*s+f*C+b*Y;Q[9]=d*_+w*r+f*T+b*A;Q[10]=d*O+w*u+f*e+b*G;Q[11]=d*L+w*V+f*t+b*j;
d=N[12];w=N[13];f=N[14];b=N[15];Q[12]=d*c+w*s+f*C+b*Y;Q[13]=d*_+w*r+f*T+b*A;Q[14]=d*O+w*u+f*e+b*G;Q[15]=d*L+w*V+f*t+b*j;
return Q};E.PR.inverse=function(H,N){var Q=H[0],c=H[1],_=H[2],O=H[3],L=H[4],s=H[5],r=H[6],u=H[7],V=H[8],C=H[9],T=H[10],e=H[11],t=H[12],Y=H[13],A=H[14],G=H[15],j=Q*s-c*L,d=Q*r-_*L,w=Q*u-O*L,f=c*r-_*s,b=c*u-O*s,F=_*u-O*r,n=V*Y-C*t,J=V*A-T*t,Z=V*G-e*t,P=C*A-T*Y,M=C*G-e*Y,y=T*G-e*A,a=j*y-d*M+w*P+f*Z-b*J+F*n;
if(!a){return null}a=1/a;N[0]=(s*y-r*M+u*P)*a;N[1]=(_*M-c*y-O*P)*a;N[2]=(Y*F-A*b+G*f)*a;N[3]=(T*b-C*F-e*f)*a;
N[4]=(r*Z-L*y-u*J)*a;N[5]=(Q*y-_*Z+O*J)*a;N[6]=(A*w-t*F-G*d)*a;N[7]=(V*F-T*w+e*d)*a;N[8]=(L*M-s*Z+u*n)*a;
N[9]=(c*Z-Q*M-O*n)*a;N[10]=(t*b-Y*w+G*j)*a;N[11]=(C*w-V*b-e*j)*a;N[12]=(s*J-L*P-r*n)*a;N[13]=(Q*P-c*J+_*n)*a;
N[14]=(Y*d-t*f-A*j)*a;N[15]=(V*f-C*d+T*j)*a;return N};E.PR.txD=function(H,N,Q){var c=N[0],_=N[1];Q[0]=c*H[0]+_*H[4]+H[12];
Q[1]=c*H[1]+_*H[5]+H[13]};E.PR.txP=function(H,N,Q){var c=N[0],_=N[1],O=N[2],L=N[3];Q[0]=H[0]*c+H[4]*_+H[8]*O+H[12]*L;
Q[1]=H[1]*c+H[5]*_+H[9]*O+H[13]*L;Q[2]=H[2]*c+H[6]*_+H[10]*O+H[14]*L;Q[3]=H[3]*c+H[7]*_+H[11]*O+H[15]*L};
function Jo(H,N,Q,c,_,O){if(typeof H==="undefined"){H=1;N=0;Q=0;c=1;_=0;O=0}this.o=H;this.H=N;this.lA=Q;
this.KI=c;this.DX=_;this.Ug=O}Jo.prototype.ka=function(){return Math.sqrt(Math.abs(this.o*this.KI-this.H*this.lA))};
Jo.prototype.dZ=function(){var H=this,N=Math.round;H.o=N(H.o);H.H=N(H.H);H.lA=N(H.lA);H.KI=N(H.KI);H.DX=N(H.DX);
H.Ug=N(H.Ug)};Jo.prototype.Sk=function(H){return new E(H.x*this.o+H.y*this.lA+this.DX,H.x*this.H+H.y*this.KI+this.Ug)};
Jo.prototype.translate=function(H,N){this.DX+=H;this.Ug+=N};Jo.prototype.rotate=function(H){var N=new Jo(Math.cos(H),-Math.sin(H),Math.sin(H),Math.cos(H),0,0);
this.concat(N)};Jo.prototype.scale=function(H,N){var Q=new Jo(H,0,0,N,0,0);this.concat(Q)};Jo.prototype.concat=function(H){this.py(new Jo(this.o*H.o+this.H*H.lA,this.o*H.H+this.H*H.KI,this.lA*H.o+this.KI*H.lA,this.lA*H.H+this.KI*H.KI,this.DX*H.o+this.Ug*H.lA+H.DX,this.DX*H.H+this.Ug*H.KI+H.Ug))};
Jo.prototype.UK=function(){var H=this.o*this.KI-this.H*this.lA;this.py(new Jo(this.KI/H,-this.H/H,-this.lA/H,this.o/H,(this.lA*this.Ug-this.KI*this.DX)/H,(this.H*this.DX-this.o*this.Ug)/H))};
Jo.prototype.clone=function(){return new Jo(this.o,this.H,this.lA,this.KI,this.DX,this.Ug)};Jo.prototype.py=function(H){this.o=H.o;
this.H=H.H;this.lA=H.lA;this.KI=H.KI;this.DX=H.DX;this.Ug=H.Ug};function JY(){}JY._r=function(H,N,Q,c){var _=Q,O=x.vq(H,Q);
Q+=4+2*O.length;if(O!="\0")N.__name=O;if(c)console.log("---------------------",O,O.length);N.classID=JY.pM(H,Q);
if(c)console.log("- reading descriptor",N.classID,Q);Q+=4+Math.max(4,N.classID.length);var L=x.eI(H,Q);
Q+=4;if(c)console.log(3,Q);for(var s=0;s<L;s++){var r=JY.pM(H,Q);Q+=4+Math.max(4,r.length);if(c)console.log(r);
var u=JY.du(H,Q,c);N[r]=u;Q+=u.size;delete u.size}return Q-_};JY.Ny=function(H,N,Q,c){var _=Q,O=N.__name;
if(O==null)O="\0";x.ES(H,Q,O);Q+=4+2*O.length;JY.pp(H,Q,N.classID);Q+=4+Math.max(4,N.classID.length);
x.qe(H,Q,Object.keys(N).length-1-(N.__name==null?0:1));Q+=4;for(var L in N){if(L=="classID")continue;
if(L=="__name")continue;JY.pp(H,Q,L);Q+=4+Math.max(4,L.length);Q+=JY.d_(H,Q,N[L])}return Q-_};JY.du=function(H,N,Q){var c=N,_=x.sx(H,N,4);
N+=4;var O={size:0,t:_,v:null};if(Q)console.log("reading key",_,c);switch(_){case"obj ":case"VlLs":O.v=[];
var L=x.j(H,N);N+=4;for(var s=0;s<L;s++){var r=JY.du(H,N,Q);N+=r.size;delete r.size;O.v.push(r)}break;
case"Enmr":var u=x.vq(H,N);N+=4+u.length*2;var V=JY.pM(H,N);N+=4+Math.max(4,V.length);var C=JY.pM(H,N);
N+=4+Math.max(4,C.length);var T=JY.pM(H,N);N+=4+Math.max(4,T.length);O.v={class:V,type:C,enum:T};break;
case"UntF":O.v={type:x.sx(H,N,4),val:x.FD(H,N+4)};N+=12;break;case"doub":O.v=x.FD(H,N);N+=8;break;case"bool":O.v=H[N]==1;
N+=1;break;case"long":O.v=x.eI(H,N);N+=4;break;case"Objc":O.v={};var e=JY._r(H,O.v,N,Q);N+=e;break;case"TEXT":O.v=x.vq(H,N);
N+=4+O.v.length*2;O.v=O.v.substring(0,O.v.length-1);break;case"enum":var C=JY.pM(H,N);N+=4+Math.max(4,C.length);
var t=JY.pM(H,N);N+=4+Math.max(4,t.length);O.v={};O.v[C]=t;break;case"tdta":var Y=x.eI(H,N);N+=4;O.v=[];
for(var s=0;s<Y;s++)O.v.push(H[N+s]);N+=Y;break;case"ObAr":var A=x.j(H,N);N+=4;var G=x.vq(H,N);N+=4+2*G.length;
var j=JY.pM(H,N);N+=4+Math.max(4,j.length);O.v={classID:j,arr:[]};var d=x.j(H,N);N+=4;for(var s=0;s<d;
s++){var j=JY.pM(H,N);N+=4+Math.max(4,j.length);var C=x.sx(H,N,4);N+=4;var w=x.sx(H,N,4);N+=4;var f={id:j,type:C,uID:w,arr:[]};
O.v.arr.push(f);var b=x.j(H,N,4);N+=4;for(var F=0;F<b;F++){var n=x.FD(H,N);N+=8;f.arr.push(n)}}break;
case"Pth ":var J=N,Y=x.j(H,N);N+=4;var Z=x.sx(H,N,4);N+=4;var P=x.UD(H,N);N+=4;var M=x.tyF(H,N);N+=4+M.length*2;
O.v={sig:Z,pth:M};break;default:{console.log("unknown oskey: "+_+", "+c);throw"e";return O}}if(Q)console.log(O.v,c);
O.size=N-c;return O};JY.d_=function(H,N,Q){var c=N,_=Q.t;Q=Q.v;x.np(H,N,_);N+=4;switch(_){case"obj ":case"VlLs":x.qe(H,N,Q.length);
N+=4;for(var O=0;O<Q.length;O++){var L=JY.d_(H,N,Q[O]);N+=L}break;case"Enmr":x.ES(H,N,"\0");N+=6;JY.pp(H,N,Q.class);
N+=4+Math.max(4,Q.class.length);JY.pp(H,N,Q.type);N+=4+Math.max(4,Q.type.length);JY.pp(H,N,Q.enum);N+=4+Math.max(4,Q.enum.length);
break;case"UntF":x.np(H,N,Q.type);x.GP(H,N+4,Q.val);N+=12;break;case"doub":x.GP(H,N,Q);N+=8;break;case"bool":x.tk(H,N,Q?1:0,1);
N+=1;break;case"long":x.qe(H,N,Q);N+=4;break;case"Objc":var L=JY.Ny(H,Q,N);N+=L;break;case"TEXT":x.ES(H,N,Q+"\0");
N+=4+Q.length*2+2;break;case"enum":var s=Object.keys(Q)[0],r=Q[s];JY.pp(H,N,s);N+=4+Math.max(4,s.length);
JY.pp(H,N,r);N+=4+Math.max(4,r.length);break;case"tdta":x.u(H,N,Q.length);N+=4;x.$h(H,N,Q);N+=Q.length;
break;case"ObAr":x.u(H,N,Q.arr[0].arr.length);N+=4;x.ES(H,N,"\0");N+=6;JY.pp(H,N,Q.classID);N+=4+Math.max(4,Q.classID.length);
x.u(H,N,Q.arr.length);N+=4;for(var u=0;u<Q.arr.length;u++){var V=Q.arr[u];JY.pp(H,N,V.id);N+=4+Math.max(4,V.id.length);
x.np(H,N,V.type);N+=4;x.np(H,N,V.uID);N+=4;x.u(H,N,V.arr.length);N+=4;for(var O=0;O<V.arr.length;O++){x.GP(H,N,V.arr[O]);
N+=8}}break;case"Pth ":var C=Q.pth.length*2+4+8;x.u(H,N,C);N+=4;x.np(H,N,Q.sig);N+=4;x.GI(H,N,C);N+=4;
x.tcS(H,N,Q.pth);N+=Q.pth.length*2+4;break;default:console.log("unknown oskey: "+_);N=c;break}return N-c};
JY.pM=function(H,N){var Q=x.eI(H,N);if(Q>1e3)return"blbost...";if(Q==0)Q=4;return x.sx(H,N+4,Q).trim()};
JY.pp=function(H,N,Q){if(Q.length<=4&&Q!="warp"&&Q!="list"&&Q!="Comp")x.qe(H,N,0);else x.qe(H,N,Q.length);
x.np(H,N+4,Q);if(Q.length<4){var c="";for(var _=Q.length;_<4;_++)c+=" ";x.np(H,N+4+Q.length,c)}};JY.trk=function(H){var N={};
for(var Q in H){if(Q=="classID")N[Q]=H[Q];else if(Q=="__name")N[Q]=H[Q];else N[Q]=JY.GR(H[Q])}return N};
JY.GR=function(H){if(H.yC=="Objc")return JY.trk(H.v);else if(H.yC=="VlLs"){var N=[];for(var Q=0;Q<H.v.length;
Q++)N.push(JY.GR(H.v[Q]));return N}else if(H.yC=="UntF")return H.v.val;else return H.v};function tE(){}tE.Gr=function(H,N,Q,c,_,O){while(N<Q){var L=x.sx(H,N,4);
N+=4;if(L!="8BIM"&&L!="8B64"){console.log("layer information signature error! "+L,"PSB = "+_);alert("Error in Photoshop file: wrong signature.");
throw"e"}var s=x.sx(H,N,4);N+=4;var r=x.eI(H,N);N+=4;if(_&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn".split(" ").indexOf(s)!=-1){r=r<<32|x.eI(H,N);
N+=4}if(_&&["pths"].indexOf(s)!=-1){r=r<<32|x.eI(H,N);N+=4}var u=["lrFX","PlLd"];if(u.indexOf(s)!=-1){if(r%4!=0)r+=4-r%4;
N+=r;continue}switch(s){case"iOpa":c[s]=H[N];break;case"brst":c[s]=[1,1,1];for(var V=0;V<r;V+=4)c[s][x.j(H,N+V)]=0;
break;case"knko":c[s]=H[N];break;case"infx":c[s]=H[N];break;case"clbl":c[s]=H[N];break;case"lmgm":c[s]=H[N];
break;case"vmgm":c[s]=H[N];break;case"lyid":c[s]=x.j(H,N);break;case"lsct":c[s]={type:x.j(H,N)};if(r>=12)c[s].kE=x.sx(H,N+8,4);
break;case"lsdk":c.lsct={type:x.j(H,N)};break;case"lyvr":c[s]=x.j(H,N);break;case"lnsr":var C={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
c[s]=x.sx(H,N,4);break;case"lspf":c[s]=x.j(H,N);break;case"lclr":c[s]=x.NU(H,N);break;case"luni":c[s]=x.vq(H,N);
break;case"fxrp":c[s]=new E(x.FD(H,N),x.FD(H,N+8));break;case"artb":case"artd":c[s]={};JY._r(H,c[s],N+4);
break;case"SoCo":c[s]={};JY._r(H,c[s],N+4);break;case"GdFl":c[s]={};JY._r(H,c[s],N+4);tE.Xx(c[s],s);
break;case"PtFl":c[s]={};JY._r(H,c[s],N+4);tE.Xx(c[s],s);break;case"CgEd":c[s]={};JY._r(H,c[s],N+4);
break;case"brit":c[s]={};c[s].Pk=x.kF(H,N);c[s].dy=x.kF(H,N+2);c[s].ul=x.kF(H,N+4);c[s].uz=H[N+6];break;
case"levl":var T=H.buffer.slice(N,N+r);c[s]=$R.Fp(T);break;case"curv":c[s]=HC.Nd(H,N,r);break;case"expA":var e=x.NU(H,N);
c[s]=[x.Fg(H,N+2),x.Fg(H,N+6),x.Fg(H,N+10)];break;case"vibA":c[s]={};JY._r(H,c[s],N+4);break;case"hue2":c[s]=$p.Nd(H,N,r);
break;case"blnc":c[s]={fY:[],If:H[N+18]==1};for(var V=0;V<3;V++){var t=[];c[s].fY.push(t);for(var Y=0;
Y<3;Y++)t.push(x.kF(H,N+V*6+Y*2))}break;case"blwh":c[s]={};JY._r(H,c[s],N+4);break;case"phfl":c[s]={};
var e=x.NU(H,N);if(e==3)c[s].mB=[x.Fg(H,N+2),x.Fg(H,N+6),x.Fg(H,N+10)];if(e==2)c[s].color={L_:x.NU(H,N+2),Dq:[x.kF(H,N+4),x.kF(H,N+6),x.kF(H,N+8),x.kF(H,N+10)]};
var A=N+2+(e==3?12:10);c[s].mC=x.j(H,A);A+=4;c[s].uT=H[A]==1;break;case"mixr":c[s]={_J:x.NU(H,N+2)==1,R:[]};
for(var V=0;V<20;V++)c[s].R.push(x.kF(H,N+4+V*2));break;case"clrL":c[s]={};JY._r(H,c[s],N+6);break;case"nvrt":c[s]=1;
break;case"post":c[s]=x.NU(H,N);break;case"thrs":c[s]=x.NU(H,N);break;case"grdm":var G={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{yC:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}};
c[s]={rev:H[N+2]==1,mz:H[N+3]==1,e:G};var j=N+4;G.Nm.v=x.vq(H,j);j+=4+G.Nm.v.length*2;var d=x.NU(H,j);
j+=2;for(var V=0;V<d;V++){var w=x.j(H,j),f=x.j(H,j+4),b=x.NU(H,j+8);if(b!=0)console.log("Unknown mode of color in Gradient Map adjustment layer");
var F=[];for(var Y=0;Y<4;Y++)F.push(255*x.NU(H,j+10+Y*2)/65535);var n={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:F[0]},Grn:{t:"doub",v:F[1]},Bl:{t:"doub",v:F[2]}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:w},Mdpn:{t:"long",v:f}}};
G.Clrs.v.push(n);j+=20}var J=x.NU(H,j);j+=2;for(var V=0;V<J;V++){var w=x.j(H,j),f=x.j(H,j+4),Z=x.NU(H,j+8),n={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*Z/255)}},Lctn:{t:"long",v:w},Mdpn:{t:"long",v:f}}};
G.Trns.v.push(n);j+=10}var P=x.NU(H,j);j+=2;G.Intr.v=x.NU(H,j);j+=2;var M=x.NU(H,j);j+=2;c[s].mode=x.NU(H,j);
j+=2;c[s].dP=x.j(H,j);j+=4;c[s].mU=x.NU(H,j)==1;j+=2;c[s].mN=x.NU(H,j)==1;j+=2;c[s].mF=x.j(H,j);j+=4;
c[s].mu=x.NU(H,j);j+=2;c[s]._V=[];for(var V=0;V<4;V++)c[s]._V.push(x.NU(H,j+V*2));j+=8;c[s]._C=[];for(var V=0;
V<4;V++)c[s]._C.push(x.NU(H,j+V*2));j+=8;var y=x.NU(H,j);j+=2;break;case"selc":c[s]=Hp.Nd(H,N,r);break;
case"vmsk":case"vsms":var a=c.vmsk=new R.hT,g=x.eI(H,N+4),U=(g>>0&1)==1;a.WZ=(g>>1&1)==0;a.isEnabled=(g>>2&1)==0;
a.L=to.GN(H,N+8,r-8,O.$,O.z);break;case"shmd":c[s]={};var D=x.j(H,N),A=N+4;for(var V=0;V<D;V++){var L=x.sx(H,A,4);
A+=4;var W=x.sx(H,A,4);A+=4;A+=4;var m=x.j(H,A);A+=4;if(W=="cust"||W=="cmls"||W=="extn"||W=="mlst"){var q={};
JY._r(H,q,A+4,!1);c[s][W]=q;if(W=="cmls")JL.YU.tJU(c[s][W])}else{console.log("unknown shmd key: "+W+", size: "+m)}A+=m}break;
case"shpa":var e=x.j(H,N),S=x.j(H,N+4);if(S!=0)console.log("some patterns present!");break;case"TySh":var I=c[s]={},e=x.NU(H,N);
I.UC=x.FB(H,N+2);var v=x.NU(H,N+2+48);I.ho={};var h=JY._r(H,I.ho,N+56),i=X.Yl();for(var JI in i)if(I.ho[JI]==null)I.ho[JI]=i[JI];
I.O$={};var Jx=JY._r(H,I.O$,N+56+h+6);I._B=x.tLz(H,N+56+h+6+Jx);var Jd=I.ho.EngineData.v;I.Bd=HG.Fp(I.ho.EngineData.v);
if(I.Bd.ResourceDict==null)I.Bd.ResourceDict=JSON.parse(JSON.stringify(I.Bd.DocumentResources));delete I.ho.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var JC=x.j(H,N),JM=x.j(H,N+4);c.lmfx={};var h=JY._r(H,c.lmfx,N+8);
tE.Xd(c.lmfx);break;case"FMsk":c[s]=x.$g(H,N,r);break;case"Txt2":c[s]={};c[s].raw=x.$g(H,N,r);c[s].gz=VB.Fp(c[s].raw);
break;case"Patt":c[s]=[];var Jh=N,Jv=N;while(Jv-Jh<r){var JW=Jv,Ji={},M=x.j(H,Jv);Jv+=4;Jv=$_.kB(H,Jv,Ji);
c[s].push(Ji);if(M%4!=0)M+=4-M%4;Jv=JW+M+4}break;case"SoLd":var Jc=x.sx(H,N,4),JT=x.j(H,N+4),Jy=x.j(H,N+8);
c[s]={};var Jg=JY._r(H,c[s],N+12);if(c[s].nonAffineTransform==null)c[s].nonAffineTransform=JSON.parse(JSON.stringify(c[s].Trnf));
break;case"vstk":case"pths":var JT=x.j(H,N);c[s]={};var Jg=JY._r(H,c[s],N+4);break;case"vscg":var W=x.sx(H,N,4),JT=x.j(H,N+4);
c[W]={};var Jg=JY._r(H,c[W],N+8);tE.Xx(c[W],W);break;case"vogk":var Jn=x.j(H,N),JT=x.j(H,N+4);c[s]={};
var Jg=JY._r(H,c[s],N+8);c[s]=c[s].keyDescriptorList.v;for(var V=0;V<c[s].length;V++){}break;case"lnk2":case"lnkD__":case"lnk3__":c[s]=[];
var j=N;while(j<N+r){var Jq=new R.JY;c[s].push(Jq);var M=x.pK(H,j);j+=8;var Jh=j;Jq.type=x.sx(H,j,4);
j+=4;if(Jq.type!="liFD"){alert("Unknown Linked Layer type: "+Jq.type);throw"error"}Jq.dm=x.j(H,j);j+=4;
var tJ=x.$T(H,j);j+=1+tJ.oJ.length;Jq.VB=tJ.oJ;Jq.Xl=x.vq(H,j);j+=4+Jq.Xl.length*2;Jq.uV=x.sx(H,j,4);
j+=4;Jq.gZ=x.sx(H,j,4);j+=4;var ty=x.pK(H,j);j+=8;Jq.open=H[j];j+=1;if(Jq.open!=0){var JA={},h=JY._r(H,JA,j+4);
if(h%4!=0)h+=4-h%4;console.log(JA);j+=h+4}Jq.open=0;Jq.raw=x.$g(H,j,ty);j=Jh+M;if(M%4!=0)j+=4-M%4}break;
case"FEid":var j=N;c[s]=[];var td=j+r,e=x.j(H,j);j+=4;while(j<td){j+=4;var M=x.j(H,j);j+=4;var Jk={};
c[s].push(Jk);Jk.id=x.$T(H,j).oJ;j+=Jk.id.length+1;var e=x.j(H,j);j+=4;j+=4;var rR=x.j(H,j);j+=4;Jk.rect=x.uq(H,j);
j+=16;var Je=x.j(H,j);j+=4;var JU=x.j(H,j);j+=4;var JK=new $.wf(0);for(var V=0;V<JU+2;V++){var rH=x.j(H,j);
j+=4;if(rH!=0){j+=4;var rL=x.j(H,j),Ju=null;j+=4;if(V<3||V==25)Ju=Vz.Xv(!0,H,Jk.rect.$,Jk.rect.z,j,rL);
if(V==0)JK.T=Ju;if(V==1)JK.q=Ju;if(V==2)JK.H=Ju;if(V==25)JK.o=Ju;j+=rL}}Jk.buffer=$.I(Jk.rect.f()*4);
$.GL(JK,Jk.buffer);$.bt(Jk);var JZ=H[j];j++;if(JZ!=0){Jk.d=new R.qu;Jk.d.rect=x.uq(H,j);j+=16;j+=4;var Jl=x.j(H,j);
j+=4;Jk.d.channel=Vz.Xv(!0,H,Jk.d.rect.$,Jk.d.rect.z,j,Jl);Jk.d.color=255;Jk.d.hJ();j+=Jl}if(M%4!=0)j+=4-M%4}break;
default:console.log("unknown layer tag: "+s+", size: "+r);break}var rV="Txt2 artd extd luni pths extn".split(" ");
if(rV.indexOf(s)==-1)if(r%4!=0)console.log("size not multiple of 4!!!",s);if(s!="luni"&&s!="TySh")if(r%4!=0)r+=4-r%4;
N+=r}var rD=[];for(var V=0;V<rD.length;V++)delete c[rD[V]];return N};tE.GT=function(H,N,Q,c){for(var _ in Q)if(Q[_]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+_+"\" tag was present with a null value.");delete Q[_]}for(var _ in Q){x.np(H,N,"8BIM");
N+=4;var O=N,L=0;x.np(H,N,_);N+=4;x.qe(H,N,0);N+=4;switch(_){case"iOpa":x.tk(H,N,Q[_],1);L=4;break;case"brst":L=0;
for(var s=0;s<3;s++)if(Q[_][s]==0){x.u(H,N+L,s);L+=4}break;case"knko":x.tk(H,N,Q[_],1);L=4;break;case"infx":x.tk(H,N,Q[_],1);
L=4;break;case"clbl":x.tk(H,N,Q[_],1);L=4;break;case"lmgm":x.tk(H,N,Q[_],1);L=4;break;case"vmgm":x.tk(H,N,Q[_],1);
L=4;break;case"lyid":x.u(H,N,Q[_]);L=4;break;case"lsct":x.u(H,N,Q[_].type);L=4;if(Q[_].kE){x.np(H,N+4,"8BIM");
x.np(H,N+8,Q[_].kE);L=12}break;case"lyvr":x.u(H,N,Q[_]);L=4;break;case"lnsr":x.np(H,N,Q[_]);L=4;break;
case"lspf":x.u(H,N,Q[_]);L=4;break;case"lclr":x.kW(H,N,Q[_]);L=8;break;case"luni":x.ES(H,N,Q[_]);L=4+2*Q[_].length;
break;case"fxrp":x.GP(H,N,Q[_].x);x.GP(H,N+8,Q[_].y);L=16;break;case"artb":case"artd":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;
break;case"SoCo":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;break;case"GdFl":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;
break;case"PtFl":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;break;case"CgEd":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;
break;case"brit":H.VX(N,8);x._s(H.data,N+0,Q[_].Pk);x._s(H.data,N+2,Q[_].dy);x._s(H.data,N+4,Q[_].ul);
H.data[N+6]=Q[_].uz;L=8;break;case"levl":var r=new th;L=$R.QU(r,Q[_]);x.$h(H,N,r.data);break;case"curv":L=HC.Nv(H,N,Q[_]);
break;case"expA":L=14;H.VX(N,14);x.Ag(H.data,N,1);x.q_(H.data,N+2,Q[_][0]);x.q_(H.data,N+6,Q[_][1]);
x.q_(H.data,N+10,Q[_][2]);break;case"vibA":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;break;case"hue2":L=$p.Nv(H,N,Q[_]);
break;case"blnc":L=19;H.VX(N,L);for(var s=0;s<3;s++){var u=Q[_].fY[s];for(var V=0;V<3;V++)u.push(x._s(H.data,N+s*6+V*2,u[V]))}H.data[N+18]=Q[_].If?1:0;
break;case"blwh":x.u(H,N,16);L=JY.Ny(H,Q[_],N+4)+4;break;case"phfl":var C=Q[_].mB!=null?3:2;x.kW(H,N,C);
var T=Q[_].mB,e=Q[_].color;if(C==3){x.XU(H,N+2,T[0]);x.XU(H,N+6,T[1]);x.XU(H,N+10,T[2])}if(C==2){x.kW(H,N+2,e.L_);
x.kW(H,N+4,e.Dq[0]);x.kW(H,N+6,e.Dq[1]);x.kW(H,N+8,e.Dq[2]);x.kW(H,N+10,e.Dq[3])}var t=N+2+(C==3?12:10);
H.VX(t,5);x.nW(H.data,t,Q[_].mC);t+=4;H.data[t]=Q[_].uT?1:0;t++;L=t-N;break;case"mixr":L=44;H.VX(N,L);
x.Ag(H.data,N,1);x.Ag(H.data,N+2,Q[_]._J?1:0);for(var s=0;s<20;s++)x._s(H.data,N+4+s*2,Q[_].R[s]);break;
case"clrL":x.kW(H,N,1);x.u(H,N+2,16);L=JY.Ny(H,Q[_],N+6)+6;break;case"nvrt":L=0;break;case"post":x.kW(H,N,Q[_]);
L=2;break;case"thrs":x.kW(H,N,Q[_]);L=2;break;case"grdm":var Y=Q[_].e;H.VX(N,4);x.Ag(H.data,N,1);H.data[N+2]=Q[_].rev?1:0;
H.data[N+3]=Q[_].mz?1:0;var A=N+4;x.ES(H,A,Y.Nm.v);A+=4+Y.Nm.v.length*2;var G=Y.Clrs.v.length;x.kW(H,A,G);
A+=2;for(var s=0;s<G;s++){var e=Y.Clrs.v[s];x.u(H,A,e.v.Lctn.v);x.u(H,A+4,e.v.Mdpn.v);x.kW(H,A+8,0);
var j=$.e.Ta($.e.NG(e.v.Clr.v)),d=[j.Rd.v,j.Grn.v,j.Bl.v,0];for(var V=0;V<4;V++)x.kW(H,A+10+V*2,Math.round(65535*(d[V]/255)));
A+=20}var w=Y.Trns.v.length;x.kW(H,A,w);A+=2;for(var s=0;s<w;s++){var e=Y.Trns.v[s];x.u(H,A,e.v.Lctn.v);
x.u(H,A+4,e.v.Mdpn.v);x.kW(H,A+8,Math.round(255*e.v.Opct.v.val/100));A+=10}x.kW(H,A,2);A+=2;x.kW(H,A,Y.Intr.v);
A+=2;x.kW(H,A,32);A+=2;x.kW(H,A,Q[_].mode);A+=2;x.u(H,A,Q[_].dP);A+=4;x.kW(H,A,Q[_].mU?1:0);A+=2;x.kW(H,A,Q[_].mN?1:0);
A+=2;x.u(H,A,Q[_].mF);A+=4;x.kW(H,A,Q[_].mu);A+=2;for(var s=0;s<4;s++)x.kW(H,A+s*2,Q[_]._V[s]);A+=8;
for(var s=0;s<4;s++)x.kW(H,A+s*2,Q[_]._C[s]);A+=8;A+=2;L=A-N;break;case"selc":L=Hp.Nv(H,N,Q[_]);break;
case"FMsk":x.$h(H,N,Q[_]);L=Q[_].length;break;case"Txt2":var f=new th,b=VB.nX(Q[_].gz,f),F=$.I(b,!0);
for(var s=0;s<b;s++)F[s]=f.data[s];x.$h(H,N,F);L=F.length;break;case"vmsk":var n=Q[_],J=0;x.u(H,N,3);
if(!n.WZ)J+=1<<1;if(!n.isEnabled)J+=1<<2;x.u(H,N+4,J);L=8;var Z=n.L.length;H.VX(N+8,Z*26);to.GF(H.data,N+8,n.L,c.$,c.z);
L+=Z*26;break;case"shmd":x.u(H,N,Object.keys(Q[_]).length);var t=N+4;for(var P in Q[_]){x.np(H,t,"8BIM");
t+=4;x.np(H,t,P);t+=4;x.u(H,t,0);t+=4;x.u(H,t,0);t+=4;x.u(H,t,16);t+=4;var M=JY.Ny(H,Q[_][P],t);if(M%4!=0)M+=4-M%4;
x.u(H,t-8,M+4);t+=M}L=t-N;break;case"TySh":var t=N;x.eL(H,t,1);t+=2;var y=Q[_],f=new th;y.Bd.DocumentResources=JSON.parse(JSON.stringify(y.Bd.ResourceDict));
var b=HG.nX(y.Bd,f),F=$.I(b,!0);for(var s=0;s<b;s++)F[s]=f.data[s];y.ho.EngineData={t:"tdta",v:F};var a=y.Bd.EngineDict.Editor.Text;
y.ho.Txt.v=a.substring(0,a.length-1);x.tLX(H,t,y.UC);t+=48;x.eL(H,t,50);t+=2;x.u(H,t,16);t+=4;t+=JY.Ny(H,y.ho,t);
x.eL(H,t,1);t+=2;x.u(H,t,16);t+=4;t+=JY.Ny(H,y.O$,t);x.tTr(H,t,y._B);t+=16;L=t-N;break;case"lmfx":x.u(H,N,0);
x.u(H,N+4,16);var g=JSON.parse(JSON.stringify(Q[_])),U=!1;tE.XG(g);for(var s=0;s<B.vz.length;s++)if(g[B.vz[s]]!=null)U=!0;
x.np(H,O,U?"lmfx":"lfx2");L=JY.Ny(H,g,N+8)+8;break;case"Patt":var D=N,W=N;for(var s=0;s<Q[_].length;
s++){var m=Q[_][s],A=W;x.u(H,W,0);W+=4;W=$_.ku(H,W,m);var q=W-A-4;if(q%4!=0)q+=4-q%4;x.u(H,A,q);W=A+q+4}L=W-D;
break;case"SoLd":x.np(H,N,"soLD");x.u(H,N+4,4);x.u(H,N+8,16);L=JY.Ny(H,Q[_],N+12)+12;break;case"vstk":case"pths":x.u(H,N,16);
L=JY.Ny(H,Q[_],N+4)+4;break;case"vscg__":x.np(H,N,Q[_].key);x.u(H,N+4,16);L=JY.Ny(H,Q[_].R,N+8)+8;break;
case"vogk":x.u(H,N,1);x.u(H,N+4,16);$.FU.tRG(Q[_]);for(var s=0;s<Q[_].length;s++){var S=Q[_][s].v.keyOriginResolution;
if(S)S.v=c.go}var I={classID:"null",keyDescriptorList:{t:"VlLs",v:Q[_]}};L=JY.Ny(H,I,N+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var A=N;
for(var s=0;s<Q[_].length;s++){var v=Q[_][s],h=A;x.XA(H,A,0);A+=8;x.np(H,A,v.type);A+=4;x.u(H,A,v.dm);
A+=4;H.VX(A,1);H.data[A]=v.VB.length;A++;x.np(H,A,v.VB);A+=v.VB.length;x.ES(H,A,v.Xl);A+=4+v.Xl.length*2;
x.np(H,A,v.uV);A+=4;x.np(H,A,v.gZ);A+=4;x.XA(H,A,v.raw.length);A+=8;H.VX(A,1);H.data[A]=v.open;A++;x.$h(H,A,v.raw);
A+=v.raw.length;x.u(H,A,1);A+=4;A+=11;var q=A-h-8;x.XA(H,h,q);if(q%4!=0){H.VX(A,4-q%4);A+=4-q%4}}L=A-N;
break;case"FEid":var A=N;x.u(H,A,3);A+=4;for(var i=0;i<Q[_].length;i++){var JI=Q[_][i];A+=4;var Jx=A;
A+=4;x.Fb(H,A,JI.id);A+=JI.id.length+1;x.u(H,A,1);A+=4;A+=4;var Jd=A;A+=4;x.lW(H,A,JI.rect);A+=16;x.u(H,A,8);
A+=4;x.u(H,A,24);A+=4;var JC=new $.wf(JI.rect.f());$.GQ(JI.buffer,JC);for(var s=0;s<24+2;s++){var JM=null;
if(s==0)JM=JC.T;if(s==1)JM=JC.q;if(s==2)JM=JC.H;if(s==25)JM=JC.o;x.u(H,A,JM!=null?1:0);A+=4;if(JM!=null){A+=4;
var Jh=A;A+=4;H.VX(A,JI.rect.f()+2);A=Vz.XQ(JM,H.data,JI.rect.$,JI.rect.z,A,3);x.u(H,Jh,A-(Jh+4))}}x.u(H,Jd,A-(Jd+4));
H.VX(A,1);H.data[A]=JI.d?1:0;A++;if(JI.d!=null){var Jv=JI.d.rect,JW=JI.d.channel;Jv=JI.rect;JW=$.I(Jv.f());
$.set(JW,JI.d.color);$.Jg(JI.d.channel,JI.d.rect,JW,Jv);x.lW(H,A,Jv);A+=16;A+=4;var Ji=A;A+=4;H.VX(A,Jv.f()+2);
A=Vz.XQ(JW,H.data,Jv.$,Jv.z,A,3);x.u(H,Ji,A-(Ji+4))}var q=A-(Jx+4);x.u(H,Jx,q);if(q%4!=0)A+=4-q%4}L=A-N;
break;default:console.log("unknown layer tag: "+_+", size: "+L);N-=12;continue}var Jc=["Txt2","artd","extd","luni","pths"];
if(Jc.indexOf(_)==-1)if(L%4!=0)L+=4-L%4;x.qe(H,N-4,L);if(_!="luni"&&_!="TySh")if(L%4!=0)L+=4-L%4;N+=L}return N};
tE.Xd=function(H){for(var N=0;N<B.order.length;N++){var Q=B.order[N],c=B.vz[N];if(H[c]==null)H[c]={t:"VlLs",v:[]};
if(H[Q]!=null){H[c].v.push(H[Q]);delete H[Q]}var _=[];for(var O=0;O<H[c].v.length;O++){var L=H[c].v[O];
if(L.v.present==null||L.v.present.v==!0)_.push(L)}H[c].v=_}};tE.XG=function(H){for(var N=0;N<B.order.length;
N++){var Q=B.order[N],c=B.vz[N],_=H[c].v.length;if(_==0){delete H[c];continue}if(_==1){H[Q]=H[c].v[0];
delete H[c];continue}}};tE.Xx=function(H,N){if(N=="GdFl"){if(H.Angl==null)H.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(H.Algn==null)H.Algn={v:!0,t:"bool"};if(H.Scl==null)H.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(H.Ofst==null)H.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(H.Rvrs==null)H.Rvrs={v:!1,t:"bool"};if(H.Dthr==null)H.Dthr={v:!1,t:"bool"}}if(N=="PtFl"){if(H.Algn==null)H.Algn={v:!0,t:"bool"};
if(H.Scl==null)H.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(H.phase==null)H.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
tE.clone=function(H,N){var Q={};if(H=="TySh"){Q.UC=N.UC.clone();Q.ho=JSON.parse(JSON.stringify(N.ho));
Q.O$=JSON.parse(JSON.stringify(N.O$));Q._B=N._B.clone();Q.Bd=JSON.parse(JSON.stringify(N.Bd));return Q}else if(H=="fxrp")return N.clone();
else if(H=="vmsk")return N.clone();else return JSON.parse(JSON.stringify(N))};function VF(H,N){}VF.Fp=function(H,N,Q,c){c=VF.tHM(H,N,Q,c);
return c};VF.nX=function(H,N,Q,c,_){c=VF.tHA(H,N,Q,c,_);return c};VF.tHM=function(H,N,Q,c){var _=c;H.rect=x.uq(Q,c);
c+=16;var O=x.NU(Q,c);c+=2;H.Gy=[];var L=N.uk;for(var s=0;s<O;s++){H.Gy[s]={id:x.kF(Q,c),length:(L?x.pK:x.j)(Q,c+2)};
c+=L?10:6}var r=x.sx(Q,c,4);c+=4;if(r!="8BIM"){console.log("Invalid Blend mode signature: "+r);alert("Error in Photoshop file: wrong signature.");
throw"e"}H.kE=x.sx(Q,c,4);c+=4;H.opacity=Q[c];c+=1;H.fB=Q[c]==1;c+=1;H._c=Q[c];c+=1;if(Q[c]!=0)console.log("error in filler!");
c+=1;var u=x.j(Q,c);c+=4;var V=c;c=VF.tHU(H,Q,c);c=VF.tyt(H,Q,c);var C=x.$T(Q,c);H.name=C.oJ;c+=C.length;
if(C.length%4!=0)c+=4-C.length%4;c=tE.Gr(Q,c,V+u,H.add,L,N);if(H._P){var T=H._P;if(H.Ab()){H.Ab().JU=T[0];
H.Ab().jQ=T[1]}if(H.add.vmsk){H.add.vmsk.JU=T[2];H.add.vmsk.jQ=T[3]}}if(H.add.lsct){if(H.add.lsct.kE)H.kE=H.add.lsct.kE;
H.add.lsct=H.add.lsct.type}return c};VF.tHA=function(H,N,Q,c,_){var O=c;x.lW(Q,c,H.rect);c+=16;var L=H.fp();
x.kW(Q,c,L.length);c+=2;_.push(c);for(var s=0;s<L.length;s++){x.eL(Q,c,L[s]);x.u(Q,c+2,0);c+=6}x.np(Q,c,"8BIM");
c+=4;x.np(Q,c,H.kE);c+=4;x.tk(Q,c,H.opacity,1);c+=1;x.tk(Q,c,H.fB?1:0,1);c+=1;x.tk(Q,c,H._c,1);c+=1;
x.tk(Q,c,0,1);c+=1;var r=c;x.u(Q,c,0);c+=4;var u=c;c=VF.twv(H,Q,c);c=VF.tyG(H,Q,c);var V=x.Fb(Q,c,H.name);
c+=V;if(V%4!=0)c+=4-V%4;if(H.add.lsct){H.add.lsct={type:H.add.lsct};if(H.kE=="pass"){H.add.lsct.kE="pass";
H.kE="norm"}}if(H.kE=="pass")H.add.lsct={type:H.add.lsct,kE:"pass"};c=tE.GT(Q,c,H.add,N);if(H.add.lsct){if(H.add.lsct.kE)H.kE=H.add.lsct.kE;
H.add.lsct=H.add.lsct.type}var C=c-u;x.u(Q,r,C);return c};VF.tHU=function(H,N,Q){var c=x.j(N,Q);Q+=4;
if(c==0)return Q;var _=Q;H.d=new R.qu;H.d.rect=x.uq(N,Q);Q+=16;H.d.color=N[Q];Q+=1;var O=VF.GK(H.d,N,Q);
Q+=1;if(O){var L=!1,r=255,u=0,V=255,C=0;for(var s=0;s<H.Gy.length;s++)if(H.Gy[s].id==-3)L=!0;if(L){H.qz=VF.Gv(N,Q);
Q+=18}var T=Q,e=N[Q];Q++;if(e>>0&1){r=N[Q];Q++}if(e>>1&1){u=x.FD(N,Q);Q+=8}if(e>>2&1){V=N[Q];Q++}if(e>>3&1){C=x.FD(N,Q);
Q+=8}if((Q-T&1)==1)Q++;H._P=[r,u,V,C]}else{if(c==20)Q+=2;else{H.qz=VF.Gv(N,Q);Q+=18}}return _+c};VF.twv=function(H,N,Q){x.u(N,Q,0);
Q+=4;if(H.d==null)return Q;var c=Q,_=!0;x.u(N,Q,0);x.lW(N,Q,H.d.rect);Q+=16;x.tk(N,Q,H.d.color);Q+=1;
VF.Gz(H.d,N,Q,_);Q+=1;if(_){if(H.qz){VF.twE(N,Q,H.qz);Q+=18}x.tk(N,Q,15);Q+=1;var O=H.Ab(),L=H.add.vmsk;
x.tk(N,Q,O?O.JU:255);Q+=1;x.GP(N,Q,O?O.jQ:0);Q+=8;x.tk(N,Q,L?L.JU:255);Q+=1;x.GP(N,Q,L?L.jQ:0);Q+=8;
Q++;x.u(N,c-4,Q-c)}return Q};VF.Gv=function(H,N){var Q=new R.qu;VF.GK(Q,H,N);N+=1;Q.color=H[N];N+=1;
Q.rect=x.uq(H,N);N+=16;return Q};VF.twE=function(H,N,Q){VF.Gz(Q,H,N,!1);N+=1;x.tk(H,N,Q.color);N+=1;
x.lW(H,N,Q.rect);N+=16};VF.GK=function(H,N,Q){var c=N[Q];H.WZ=(c>>0&1)==0;H.isEnabled=(c>>1&1)==0;H.iV=(c>>3&1)==1;
return c>>4&1};VF.Gz=function(H,N,Q,c){var _=0;if(!H.WZ)_+=1<<0;if(!H.isEnabled)_+=1<<1;if(H.iV)_+=1<<3;
if(c)_+=1<<4;x.tk(N,Q,_)};VF.tyt=function(H,N,Q){var c=x.j(N,Q);Q+=4;if(c!=5*8)console.log("unexpected Layer Blending Ranges content, size:",c);
H.gA=[];for(var _=0;_<c/4;_++){H.gA.push(x.NU(N,Q));Q+=2;H.gA.push(x.NU(N,Q));Q+=2}return Q};VF.tyG=function(H,N,Q){x.u(N,Q,H.gA.length*2);
Q+=4;for(var c=0;c<H.gA.length;c++){x.kW(N,Q,H.gA[c]);Q+=2}return Q};function Vz(){}Vz.Fp=function(H,N,Q,c){c=Vz.tyx(N.uk,N._a,H,Q,c);
return c};Vz.QU=function(H,N,Q,c,_){Q=Vz.tyM(H,N,Q,c,_);return Q};Vz.tyx=function(H,N,Q,c,_){var O=Q.Gy,L={},s=_;
for(var r=0;r<O.length;r++){var u=O[r],V=u.id,C=u.length,T;if(V==-3)T=Q.qz.rect;else if(V==-2)T=Q.d.rect;
else T=Q.rect;var e=Vz.Xv(H,c,T.$,T.z,_,C);_+=C;if(V==-3)Q.qz.channel=e;else if(V==-2)Q.d.channel=e;
else L["c"+V]=e}var t=new $.wf(0);t.o=null;if(N==3){t.T=L.c0;t.q=L.c1;t.H=L.c2;t.o=L["c-1"]}else if(N==1){t.T=L.c0;
t.q=L.c0;t.H=L.c0;t.o=L["c-1"]}else if(N==4){var Y=L.c0,A=L.c1,G=L.c2,j=L.c3,d=Y.length,w=1/255;for(var r=0;
r<d;r++){var f=Y[r],b=A[r],F=G[r],n=j[r]*w;Y[r]=Math.round(f*n);A[r]=Math.round((.2*f+.8*b)*n);G[r]=Math.round((.2*b+.8*F)*n)}t.T=Y;
t.q=A;t.H=G;t.o=L["c-1"];console.log("converting from CMYK to RGB")}if(t.o==null&&t.T!=null){t.o=$.clone(t.T);
$.set(t.o,255)}Q.buffer=$.I(Math.max(0,Q.rect.f()*4));$.GL(t,Q.buffer);return _};Vz.tyM=function(H,N,Q,c,_){var O=H.fp(),L=new $.wf(H.rect.f());
$.GQ(H.buffer,L);for(var s=0;s<O.length;s++){var r=O[s],u,V;if(r==-3)u=H.qz.rect;else if(r==-2)u=H.d.rect;
else u=H.rect;if(r==-3)V=H.qz.channel;if(r==-2)V=H.d.channel;if(r==-1)V=L.o;if(r==0)V=L.T;if(r==1)V=L.q;
if(r==2)V=L.H;N.VX(Q,u.f()*3+4);var C=Q;Q=Vz.XQ(V,N.data,u.$,u.z,Q,_[1]?3:1);var T=Q-C;if(T%2!=0){T+=T%2;
Q++}x.nW(N.data,c+s*6+2,T)}return Q};Vz.Xv=function(H,N,Q,c,_,O){var L=x.kF(N,_);_+=2;return Vz.UI(H,N,Q,c,_,L,O-2)};
Vz.XQ=function(H,N,Q,c,_,O){x._s(N,_,O);_+=2;_=Vz.UE(H,N,Q,c,_,O);return _};Vz.UI=function(H,N,Q,c,_,O,L){var s,r=Q*c,u=r&3,V=r+(u==0?0:4-u);
if(O==0){if(_+V<=N.length)s=N.slice(_,_+V);else{s=$.I(r);for(var C=0;C<r;C++)s[C]=N[_+C]}_+=r}else if(O==1){s=$.I(r);
var T=H?4:2,e=Vz.GZ(N,s,Q,c,_,_+T*c,T);_+=T*c+e}else if(O==2||O==3){var t=new Uint8Array(N.buffer,_+2,L-6),Y=pako.inflateRaw(t);
if(O==3){for(var A=0;A<c;A++){var G=A*Q+1,j=G+Q-1,d=Y[G-1];Y[G-1]=d;for(var w=G;w<j;w++){d+=Y[w];Y[w]=d&255}}}if(Y.length==V)s=Y;
else{s=$.I(V);for(var C=0;C<Y.length;C++)s[C]=Y[C]}}else console.log("Unknown compression: "+O);return s};
Vz.UE=function(H,N,Q,c,_,O){var L=Q*c;if(O==0)for(var s=0;s<L;s++)N[_++]=H[s];else if(O==1){var r=Vz.GA(H,N,Q,c,_,_+2*c);
_+=2*c+r}else if(O==2||O==3){if(O==3){var u=new Uint8Array(H.length);for(var V=0;V<c;V++){var C=V*Q+1,T=C+Q-1,e=H[C-1];
u[C-1]=e;for(var t=C;t<T;t++){u[t]=H[t]+(256-e)&255;e=H[t]}}H=u}N[_]=120;N[_+1]=156;_+=2;var Y=pako.deflateRaw(H,{tTg:4});
x.xH(N,_,Y);_+=Y.length+4}else console.log("Unknown compression: "+O);return _};Vz.GZ=function(H,N,Q,c,_,O,L){var s=O,r=c|0;
if(L==2)for(var u=0;u<r;u++){var V=x.NU(H,_+(u<<1));Vz.GU(H,O,V,N,u*Q,Q);O+=V}else for(var u=0;u<r;u++){var V=x.j(H,_+(u<<2));
Vz.GU(H,O,V,N,u*Q,Q);O+=V}return O-s};Vz.GA=function(H,N,Q,c,_,O){var L=O;for(var s=0;s<c;s++){var r=Vz.tyg(H,s*Q,Q,N,O);
x.Ag(N,_+s*2,r);O+=r}return O-L};Vz.tyg=function(H,N,Q,c,_){var O,L,s,r,u,V,C;r=N+Q;for(s=N,L=_;Q>0;
s=O,Q-=V){C=Q<128?Q:128;if(s<=r-3&&H[s+1]==H[s+0]&&H[s+2]==H[s+0]){for(O=s+3;O<s+C&&H[O]==H[s+0];)++O;
V=O-s;c[L++]=1+256-V;c[L++]=H[s+0]}else{for(O=s;O<s+C;)if(O<=r-3&&H[O+1]==H[O+0]&&H[O+2]==H[O+0])break;
else++O;V=O-s;c[L++]=V-1;for(var T=0;T<V;T++)c[L+T]=H[s+T];L+=V}}return L-_};Vz.GU=function(H,N,Q,c,_,O){for(var L=0;
L<Q;){var s=H[N++];if(s>=128){var r=H[N++],u=_+(257-s);c.fill(r,_,u);_=u;L+=2}else{var u=_+(1+s);while(_<u)c[_++]=H[N++];
L+=1+1+s}}};function rS(){}rS.Fp=function(H,N){N.uk=!1;N.tdq=8;var Q=new Uint8Array(H),c=0,_=0,t=0;_=rS.XO(N,Q,c);
c=_;_=rS.tDF(N,Q,c);c=_;_=rS.tLN(N,Q,c);c=_;_=rS.tCT(N,Q,c);c=_;_=rS.tRz(N,Q,c);c=_;if(N.b.length==0){var O=N.Zs();
O.Vp("Background");N.b.push(O);O.buffer=$.clone(N.buffer);O.rect=new p(0,0,N.$,N.z)}if(N.TP.r1005){N.go=x.NU(N.TP.r1005,0)}if(N.TP.r1026){var Q=N.TP.r1026;
for(var L=0;L<Q.length;L+=2){var _=N.b[L>>>1];if(_)_.nb=x.NU(Q,L)}}if(N.TP.r1032){var Q=N.TP.r1032,s=x.j(Q,12);
for(var L=0;L<s;L++){var r=Q[16+L*5+4],u=x.j(Q,16+L*5)/32;N.UL[r].push(u)}}if(N.TP.r1065){var Q=N.TP.r1065;
N.qO={};JY._r(N.TP.r1065,N.qO,4,!1)}if(N.TP.r1069){var Q=N.TP.r1069,V=[];for(var L=2;L<Q.length;L+=4){var C=x.j(Q,L);
for(var T=0;T<N.b.length;T++){var _=N.b[T];if(_.add.lyid==C&&_.add.lsct!=3)V.push(T)}}N.g=V}delete N.uk;
var e=new p(0,0,N.$,N.z),Y=N.add.Txt2,A=Y;if(A){A=A.gz;if(A._DocumentResources==null)A=rW.tdG(A)}if(Y&&Y.gz._DocumentResources!=null){var G="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),j=Y.gz._DocumentResources._TextFrameSet._Resources;
for(var L=0;L<j.length;L++){}}for(var L=0;L<N.b.length;L++){var _=N.b[L],d=_.add.vmsk,w=_.Ab();if(_.kl()&&_.hy(N).d){var f=_.hy(N);
f.d.isEnabled=_.add.SoLd.filterFX.v.filterMaskEnable.v}if(d&&_.TT()&&_.add.vstk==null){_.add.vstk=JSON.parse(JSON.stringify(B.nO.default));
_.add.vstk.strokeEnabled.v=!1}if(d&&_.add.vogk==null)_.Ls();if(w==null&&_.d!=null){if(_.d.iV==!1){_.d.iV=!0;
_.qz=_.d.clone()}else{d.qz=_.d;d.rb=!1;_.d.jQ=d.jQ;_.d.JU=d.JU}}if(w!=null&&d!=null&&(w.jQ+d.jQ!=0||w.JU+d.JU!=2*255))_.Sa(N);
if(_.TT()&&(_.rect.km()||d&&d.jQ!=0))_.JV(N);if(_.add.TySh&&A){var b=_.add.TySh.Bd,F=X.BR(b),n=b.EngineDict.ParagraphRun.RunArray,J=A._DocumentObjects._TextObjects;
if(J.length<=t){console.log("Txt2 incomplete");continue}J=J[t]._Model._ParagraphRun._RunArray;var Z=Math.min(J.length,n.length);
for(var T=0;T<Z;T++){var P=n[T].ParagraphSheet.Properties,M=A._DocumentResources._ParagraphSheetSet._Resources,y=J[T]._RunData._ParagraphSheet;
if(typeof y=="string")y=M[parseInt(y.slice(1))]._Resource;var a=y._Parent==null?y:M[parseInt(y._Parent.slice(1))]._Resource,g=y._Features._ParagraphDirection;
if(g==null)g=a._Features._ParagraphDirection;if(g)P._Direction=parseInt(g.slice(1))}var U=A._DocumentResources,D=U._TextFrameSet._Resources,W=D[t]._Resource,m=new Jo(1,0,0,1,0,0);
if(W._0){var q=parseFloat(W._0[0].slice(1)),S=parseFloat(W._0[1].slice(1));m.translate(q,S)}if(F){m.translate(F[0],F[1]);
X.Yc(b,[0,0,F[2]-F[0],F[3]-F[1]])}else{if(W._Bezier&&W._Bezier._Points){var I=W._Bezier._Points,q=parseFloat(I[0].slice(1)),S=parseFloat(I[1].slice(1));
if(q!=0||S!=0){m.translate(q,S)}}}if(W._Data&&W._Data._FrameMatrix){var v=W._Data._FrameMatrix;v=v.map(function(h){return parseFloat(h.slice(1))});
m.concat(new Jo(v[0],v[1],v[2],v[3],v[4],v[5]))}m.concat(_.add.TySh.UC);_.add.TySh.UC=m;t++}}JL.YU.lS(N,!0)};
rS.txd=function(H,N,Q,c){for(var _=0;_<c;_++)if(H[Q+_]!=N[Q+_])return!1;return!0};rS.nX=function(H,N,Q){JL.YU.tT(H);
JL.YU.lS(H,!1);var c=[],_=[],O=[],L=[],s=[],b=0;for(var r=0;r<H.b.length;r++){var u=H.b[r],V=new p(0,0,H.$,H.z);
if(u.kl()&&u.hy(H).d){u.add.SoLd.filterFX.v.filterMaskEnable.v=u.hy(H).d.isEnabled}if(u.add.SoLd){_.push(u.add.SoLd.Idnt.v);
O.push(u.add.SoLd.placed.v)}if(u.add.TySh){u.add.TySh.ho.TextIndex={t:"long",v:c.length};c.push(u.add.TySh.Bd)}if(u.add.PtFl)L.push(u.add.PtFl.Ptrn.v.Idnt.v);
if(u.add.lmfx){for(var C=0;C<B.vz.length;C++){var T=u.add.lmfx[B.vz[C]].v;for(var e=0;e<T.length;e++)if(T[e].v.Ptrn)L.push(T[e].v.Ptrn.v.Idnt.v)}}var t=u.add.vstk;
if(t&&t.strokeStyleContent.v.classID=="patternLayer"){L.push(t.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(u.TT()){s[r]=[u.rect,u.buffer];
u.rect=new p;u.buffer=$.I(0)}}if(c.length>0){var Y=H.add.Txt2?H.add.Txt2.gz:null;H.add.Txt2={};H.add.Txt2.gz=rM.tPy(c,null,Y)}var A=H.add.lnk2;
if(A){var G=H.add.lnk2=[];for(var r=0;r<A.length;r++)if(_.indexOf(A[r].VB)!=-1)G.push(A[r]);if(G.length==0)delete H.add.lnk2}var j=H.add.FEid;
if(j){var d=H.add.FEid=[];for(var r=0;r<j.length;r++)if(O.indexOf(j[r].id)!=-1)d.push(j[r]);if(d.length==0)delete H.add.FEid}var w=H.add.Patt;
if(w){var f=H.add.Patt=[];for(var r=0;r<w.length;r++)if(L.indexOf(w[r].id)!=-1)f.push(w[r])}b=rS.tyq(H,N,b);
b=rS.tcT(H,N,b);b=rS.tLs(H,N,b);b=rS.tTF(H,N,b,Q);b=rS.tth(H,N,b,Q[0]);for(var r=0;r<H.b.length;r++){var u=H.b[r];
if(u.TT()){u.rect=s[r][0];u.buffer=s[r][1]}}if(A)H.add.lnk2=A;if(j)H.add.FEid=j;if(w)H.add.Patt=w;JL.YU.lS(H,!0);
return b};rS.XO=function(H,N,Q){var c=x.sx(N,Q,4);Q+=4;if(c!="8BPS")alert("invalid header signature: "+c);
var _=x.NU(N,Q);Q+=2;H.uk=_==2;if(_!=1&&_!=2)alert("invalid version: "+_);Q+=6;H.FR=x.NU(N,Q);Q+=2;H.z=x.eI(N,Q);
Q+=4;H.$=x.eI(N,Q);Q+=4;var O=x.NU(N,Q);Q+=2;if(O!=8)alert(O+" Bits/Channel are not supported!");H.tdq=O;
H._a=x.NU(N,Q);Q+=2;var L=H._a,s="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" ");
if(L!=3){if(L==1||L==4)alert("Project will be converted from "+s[L]+" to "+s[3]+" mode.");else{alert("Color mode "+s[L]+" is not supported yet :(");
return null}}return Q};rS.tyq=function(H,N,Q){N.VX(0,64);x.Fo(N.data,Q,"8BPS");Q+=4;x.Ag(N.data,Q,1);
Q+=2;x.nW(N.data,Q,0);Q+=4;x.Ag(N.data,Q,0);Q+=2;x.Ag(N.data,Q,H.FR);Q+=2;x.nU(N.data,Q,H.z);Q+=4;x.nU(N.data,Q,H.$);
Q+=4;x.Ag(N.data,Q,8);Q+=2;x.Ag(N.data,Q,3);Q+=2;return Q};rS.tDF=function(H,N,Q){var c=x.eI(N,Q);Q+=4;
Q+=c;return Q};rS.tcT=function(H,N,Q){x.qe(N,Q,0);Q+=4;return Q};rS.tLN=function(H,N,Q){var c=x.j(N,Q),_=0,C="";
Q+=4;var O=[];while(_<c){var L=x.sx(N,Q+_,4);_+=4;var s=x.NU(N,Q+_);_+=2;var r=x.$T(N,Q+_);_+=r.length;
if(L!="8BIM"){O.push(s);console.log("Unknown Image Resources signature: "+L+", ID: "+s)}var u=x.j(N,Q+_);
_+=4;if(H.TP["r"+s]!=null)console.log("--- two resources with same ID");H.TP["r"+s]=x.$g(N,Q+_,u);_+=u;
if(u%2!=0)_++}for(var V=0;V<O.length;V++)delete H.TP["r"+O[V]];if(H.Ej()==null)H.wh(30);return Q+c};
rS.tLs=function(H,N,Q){H.TP.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);x.Ag(H.TP.r1005,0,H.go);
x.Ag(H.TP.r1005,8,H.go);H.TP.r1026=new Uint8Array(H.b.length*2);for(var c=0;c<H.b.length;c++)x.Ag(H.TP.r1026,c*2,H.b[c].nb);
var _=H.UL,O=_[0].length+_[1].length,L=H.TP.r1032=$.I(16+5*O,!0),s=16,A=0;x.nW(L,0,1);x.nW(L,4,576);
x.nW(L,8,576);x.nW(L,12,O);for(var c=0;c<2;c++)for(var r=0;r<_[c].length;r++){x.nW(L,s,Math.round(_[c][r]*32));
L[s+4]=c;s+=5}var u=new th;x.u(u,0,16);var V=JY.Ny(u,H.qO,4);H.TP["r"+1065]=u.data.slice(0,V+4);var C=H.g;
L=H.TP["r"+1069]=$.I(2+C.length*4,!0);x.Ag(L,0,C.length);for(var c=0;c<C.length;c++)x.nW(L,2+4*c,H.b[C[c]].add.lyid);
var T=new Date,e=[T.getFullYear(),T.getMonth()+1,T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds()];
for(var c=0;c<6;c++)e[c]=(e[c]+"").padStart(2,"0");var t=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[e[0]+":"+e[1]+":"+e[2]+" "+e[3]+":"+e[4]+":"+e[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
H.TP["r"+1058]=new Uint8Array(UTIF.encode(t));var Y=Q;x.u(N,Q,4294967295);Q+=4;for(var G in H.TP){x.np(N,Q+A,"8BIM");
A+=4;var j=parseInt(G.substring(1));x.kW(N,Q+A,j);A+=2;var d=x.Fb(N,Q+A,"");A+=d;var w=H.TP["r"+j],f=w.length;
x.u(N,Q+A,f);A+=4;x.$h(N,Q+A,w);A+=f;if(f%2==1)A++}x.u(N,Y,A);return Q+A};rS.tCT=function(H,N,Q){var c=Q,_,O=H.uk?8:4;
if(H.uk)_=x.pK(N,Q);else _=x.j(N,Q);Q+=O;if(_==0)return c+O;Q=rS.tPF(H,N,Q);Q=rS.txv(H,N,Q);Q=tE.Gr(N,Q,c+O+_,H.add,H.uk,H);
return c+O+_};rS.tTF=function(H,N,Q,c){var _=Q;x.u(N,Q,0);Q+=4;Q=rS.tdP(H,N,Q,c);Q=rS.tRl(H,N,Q);Q=tE.GT(N,Q,H.add,H);
x.u(N,_,Q-_-4);return Q};rS.tPF=function(H,N,Q){var c=Q,_,O=H.uk?8:4,L;if(H.uk)_=x.pK(N,Q);else _=x.j(N,Q);
Q+=O;L=x.kF(N,Q);Q+=2;if(_==0){console.log("no layers!");return Q-2}var s=Math.abs(L);for(var r=0;r<s;
r++){var u=new R;Q=VF.Fp(u,H,N,Q);H.b[r]=u}for(var r=0;r<s;r++){var u=H.b[r];Q=Vz.Fp(u,H,N,Q)}if(_%2!=0)_++;
return c+_+O};rS.tdP=function(H,N,Q,c){var _=Q;x.u(N,Q,0);Q+=4;var O=H.b.length;x.kW(N,Q,-O);Q+=2;var L=[];
for(var s=0;s<O;s++)Q=VF.nX(H.b[s],H,N,Q,L);for(var s=0;s<O;s++)Q=Vz.QU(H.b[s],N,Q,L[s],c);var r=Q-_-4;
if(r%2!=0)r++;x.u(N,_,r);return _+r+4};rS.txv=function(H,N,Q){var c=x.j(N,Q);Q+=4;Q+=c;return Q};rS.tRl=function(H,N,Q){var c=x.u(N,Q,0);
Q+=4;return Q};rS.tRz=function(H,N,Q){var c=x.NU(N,Q),_;Q+=2;H.buffer=$.I(H.$*H.z*4);$.Mw(H.buffer,4278190080);
var O=Q;for(var L=0;L<H.FR;L++){if(c==0){_=Vz.UI(H.uk,N,H.$,H.z,Q,c);Q+=H.$*H.z}else if(c==1){_=$.I(H.$*H.z);
var s=H.uk?4:2;if(L==0)Q+=H.FR*H.z*s;Q+=Vz.GZ(N,_,H.$,H.z,O+L*H.z*s,Q,s)}else console.log("unknown compression of image data: ",c);
$.kw(_,H.buffer,L);if(H.FR==1&&L==0){$.kw(_,H.buffer,1);$.kw(_,H.buffer,2)}}H.FR=4;return Q};rS.tth=function(H,N,Q,c){var _=1,O=16,L=H.$,s=H.z,u,V;
x.kW(N,Q,_);Q+=2;var r=L*s;if(!c){V=new $.wf(L*s);$.GQ(H.buffer,V);for(var C=0;C<r;C++){var T=V.o[C]*(1/255);
V.T[C]=~~(V.T[C]*T+255*(1-T));V.q[C]=~~(V.q[C]*T+255*(1-T));V.H[C]=~~(V.H[C]*T+255*(1-T))}}else u=$.I(r);
var e=Q;for(var t=0;t<H.FR;t++){N.VX(Q,L*s+4);if(!c)u=t==0?V.T:t==1?V.q:t==2?V.H:V.o;if(_==0||_==2||_==3)Q=Vz.UE(u,N.data,L,s,Q,_);
else{if(t==0)Q+=H.FR*s*2;var Y=Q;Q+=Vz.GA(u,N.data,L,s,e+t*s*2,Q)}}return Q};function HG(){}HG.Fp=function(H){var N={};
HG.Uo(H,N,0,0);return N};HG.nX=function(H,N){var Q=0;Q=HG.kH(H,N,Q,0);return Q};HG.Uo=function(H,N,Q,c){while(H[Q]!="<".charCodeAt(0))Q++;
Q+=2;while(!0){if(H[Q]=="/".charCodeAt(0)){Q++;var _=x.indexOf(H," ".charCodeAt(0),Q,Q+50),O=x.indexOf(H,"\n".charCodeAt(0),Q,Q+50);
if(O==-1)O=Infinity;if(_==-1)_=Infinity;var L=x.sx(H,Q,Math.min(O,_)-Q),s=HG.eb(H,Math.min(O,_)+1,c+1,L);
N[L]=s.R;Q=Math.min(O,_)+1;Q+=s.size}else if(H[Q]==">".charCodeAt(0)){Q+=2;break}else{var r=H[Q];if(r==10||r==9||r==32)Q++;
else{console.log("unknown byte: "+r+", char: "+String.fromCharCode(r),Q);Q++}}}return Q};HG.kH=function(H,N,Q,c){x.np(N,Q,"<<\n");
Q+=3;var _=HG.ttB;for(var O in H){x.tk(N,Q,"\t".charCodeAt(0),c+1);Q+=c+1;x.np(N,Q,"/"+O);Q+=1+O.length;
if(_(H[O])||H[O]instanceof Array){x.np(N,Q," ");Q++}else{x.np(N,Q,"\n");Q++;x.tk(N,Q,"\t".charCodeAt(0),c+1);
Q+=c+1}Q=HG.qY(H[O],N,Q,c+1);x.np(N,Q,"\n");Q++}x.tk(N,Q,"\t".charCodeAt(0),c);Q+=c;x.np(N,Q,">>");Q+=2;
return Q};HG.eb=function(H,N,Q,c){var _=N,O={size:0,R:0};while(!0){while(H[N]==" ".charCodeAt(0)||H[N]=="\t".charCodeAt(0)||H[N]=="\n".charCodeAt(0))N++;
if(H[N]=="<".charCodeAt(0)){O.R={};N=HG.Uo(H,O.R,N,Q+1);break}else if(H[N]=="(".charCodeAt(0)){N+=3;
var L=N;while(!0){if(H[L]==")".charCodeAt(0)&&(H[L+1]=="\n".charCodeAt(0)||H[L+1]==" ".charCodeAt(0)))break;
else L++}O.R=x.Gm(H,N,L);N=L+2;break}else if(H[N]=="[".charCodeAt(0)){N++;O.R=[];while(H[N]==" ".charCodeAt(0)||H[N]=="\t".charCodeAt(0)||H[N]=="\n".charCodeAt(0))N++;
while(H[N]!="]".charCodeAt(0)){var s=HG.eb(H,N,Q+1,c);O.R.push(s.R);N+=s.size;while(H[N]==" ".charCodeAt(0)||H[N]=="\t".charCodeAt(0)||H[N]=="\n".charCodeAt(0))N++}N++;
break}else{var r=x.indexOf(H," ".charCodeAt(0),N,N+50),u=x.indexOf(H,"\n".charCodeAt(0),N,N+50);if(u==-1)u=Infinity;
if(r==-1)r=Infinity;var V=x.sx(H,N,Math.min(r,u)-N).trim(),C=parseFloat(V);if(!isNaN(C)){O.R=parseFloat(V);
N=Math.min(r,u)+1;break}else if(V=="true"||V=="false"){O.R=V=="true";N=Math.min(r,u)+1;break}else console.log("unknown identifier: "+V);
N=Math.min(r,u)+1}}O.size=N-_;return O};HG.qY=function(H,N,Q,c){if(H instanceof Array){var _=H.length==0||typeof H[0]=="number";
if(_){x.np(N,Q,"[ ");Q+=2;for(var O=0;O<H.length;O++){var L=H[O]+" ";x.np(N,Q,L);Q+=L.length}x.np(N,Q,"]");
Q+=1}else{x.np(N,Q,"[\n");Q+=2;for(var O=0;O<H.length;O++){x.tk(N,Q,"\t".charCodeAt(0),c);Q+=c;Q=HG.qY(H[O],N,Q,c);
x.np(N,Q,"\n");Q++}x.tk(N,Q,"\t".charCodeAt(0),c);Q+=c;x.np(N,Q,"]");Q+=1}}else if(H instanceof Object){Q=HG.kH(H,N,Q,c)}else if(typeof H=="string"){x.np(N,Q,"(");
Q++;x.tk(N,Q,254);Q++;x.tk(N,Q,255);Q++;Q=x.Gs(N,Q,H);x.np(N,Q,")");Q+=1}else{var L=H+"";x.np(N,Q,L);
Q+=L.length}return Q};HG.ttB=function(H){var N=typeof H;return N=="string"||N=="number"||N=="boolean"};
function JV(){}JV.Fp=function(H){var N=new Uint8Array(H),Q=0,c={Fy:[],nw:[],list:[]},_=x.NU(N,Q);Q+=2;
var O=x.NU(N,Q);Q+=2;var L=x.sx(N,Q,8);Q+=8;var s=x.j(N,Q);Q+=4;if(s>0)c.Fy=JV.tJ$(N,Q,s,O,_);Q+=s;var r=x.sx(N,Q,8);
Q+=8;var u=x.j(N,Q);Q+=4;if(u>0)c.nw=JV.trx(N,Q,u);Q+=u;var V=x.sx(N,Q,8);Q+=8;var C=x.j(N,Q);Q+=4;if(C>0){var T={};
JY._r(N,T,Q+4);c.list=T.Brsh.v}Q+=C;var e=c.list;for(var t=0;t<e.length;t++){HP._o.check(e[t].v)}return c};
JV.QU=function(H){var N=new th,Q=0,c=0;x.kW(N,Q,6);Q+=2;x.kW(N,Q,2);Q+=2;x.np(N,Q,"8BIMsamp");Q+=8;Q+=4;
c=Q;Q=JV.tJf(N,Q,H.Fy);x.u(N,c-4,Q-c);x.np(N,Q,"8BIMpatt");Q+=8;Q+=4;c=Q;Q=JV.tHW(N,Q,H.nw);x.u(N,c-4,Q-c);
var _={classID:"null",Brsh:{t:"VlLs",v:H.list}};x.np(N,Q,"8BIMdesc");Q+=8;Q+=4;c=Q;x.u(N,Q,16);Q+=4;
Q+=JY.Ny(N,_,Q);x.u(N,c-4,Q-c);return N.data.slice(0,Q).buffer};JV.tJ$=function(H,N,Q,c,_){var O=N+Q,L=[];
while(N<O){var s={};L.push(s);var r=x.j(H,N);N+=4;var u=N,V=x.$T(H,N);N+=V.length;s.id=V.oJ;if(c==1){N+=9;
s.lU=x.uq(H,N);N+=16}else{N+=7;var C=x.j(H,N);N+=4;s.lU=x.uq(H,N);N+=16;var T=x.j(H,N);N+=4;N+=T*4;var e=x.j(H,N);
N+=4;var t=x.j(H,N);N+=4;var Y=x.uq(H,N);N+=16}var A=x.NU(H,N);N+=2;var G=H[N];N+=1;s.channel=Vz.UI(!1,H,s.lU.$,s.lU.z,N,G);
if(r%4!=0)r+=4-r%4;N=u+r}return L};JV.tJf=function(H,N,Q){for(var c=0;c<Q.length;c++){var _=Q[c],O=N+4,s=56,u=1;
N+=4;x.Fb(H,N,_.id);N+=_.id.length+2;H.VX(N,1);H.data[N]=1;N+=3;x.u(H,N,3);N+=4;var L=N;N+=4;x.lW(H,N,_.lU);
N+=16;x.u(H,N,s);N+=4;N+=s*4;x.u(H,N-4,1);var r=N;N+=4;x.u(H,N,8);N+=4;x.lW(H,N,_.lU);N+=16;x.kW(H,N,8);
N+=2;H.VX(N,1);H.data[N]=u;N++;H.VX(N,_.lU.f()*2);N=Vz.UE(_.channel,H.data,_.lU.$,_.lU.z,N,u);H.VX(N,8);
N+=8;var V=N-O;x.u(H,O-4,V);x.u(H,L,V-49);x.u(H,r,V-305);if(V%4!=0)N+=4-V%4}return N};JV.trx=function(H,N,Q){var c=N+Q,_=[];
while(N<c){var O={};_.push(O);var L=x.j(H,N);N+=4;var s=N;N=$_.kB(H,N,O);if(L%4!=0)L+=4-L%4;N=s+L}return _};
JV.tHW=function(H,N,Q){for(var c=0;c<Q.length;c++){var _=Q[c];N+=4;var O=N;N=$_.ku(H,N,_);var L=N-O;
x.u(H,O-4,L);if(L%4!=0)O+=4-L%4;N=O+L}return N};function HC(){}HC.Fp=function(H){var N=new Uint8Array(H),Q=[],c=0,_=x.NU(N,c);
c+=2;if(_!=4){throw"Unknown version of curves: "+_}var O=x.NU(N,c);c+=2;for(var L=0;L<O;L++){var s=HC.Gk(N,c);
c+=2+2*s.length;Q.push(s)}if(c==N.length)return Q;var r=x.sx(N,c,4);c+=4;var u=x.NU(N,c);c+=2;var V=x.NU(N,c);
c+=2;if(V!=0)throw"extra curves for channels";return Q};HC.Nd=function(H,N,Q){var c=N,_=[],O=H[N];N+=3;
var L=x.j(H,N);N+=4;for(var s=0;s<4;s++){var r=L>>>s&1;if(r){if(O==0){var u=HC.Gk(H,N);N+=2+2*u.length}else{var u=HC.two(H,N);
N+=256}_.push(u)}else _.push(O==0?[0,0,255,255]:HC.tHN())}return _};HC.tHN=function(){var H=[];for(var N=0;
N<256;N++)H.push(N);return H};HC.Gk=function(H,N){var Q=[],c=x.NU(H,N);N+=2;for(var _=0;_<c;_++){var O=x.NU(H,N);
N+=2;var L=x.NU(H,N);N+=2;Q.push(L,O)}return Q};HC.twT=function(H,N,Q){var c=Q.length/2;x.kW(H,N,c);
N+=2;for(var _=0;_<c;_++){x.kW(H,N,Q[_*2+1]);N+=2;x.kW(H,N,Q[_*2+0]);N+=2}};HC.two=function(H,N){var Q=[];
for(var c=0;c<256;c++)Q.push(H[N+c]);return Q};HC.twX=function(H,N,Q){H.VX(N,256);for(var c=0;c<256;
c++)H.data[N+c]=Q[c]};HC.Nv=function(H,N,Q){var c=N,_=Q[0].length==256?1:0;H.VX(N,3);H.data[N]=_;H.data[N+1]=0;
H.data[N+2]=1;N+=3;x.u(H,N,15);N+=4;for(var O=0;O<4;O++){var L=Q[O];if(_==0){HC.twT(H,N,L);N+=2+2*L.length}else{HC.twX(H,N,L);
N+=256}}return N-c};function $p(){}$p.Nd=function(H,N,Q){var c={},_=x.NU(H,N);N+=2;c.bc=H[N]==1;N++;
N++;c.qq=[x.kF(H,N),x.kF(H,N+2),x.kF(H,N+4)];N+=6;c.ry=[x.kF(H,N),x.kF(H,N+2),x.kF(H,N+4)];N+=6;c.gV=[];
for(var O=0;O<6;O++){var L={};L.gX=[x.kF(H,N),x.kF(H,N+2),x.kF(H,N+4),x.kF(H,N+6)];N+=8;L.fY=[x.kF(H,N),x.kF(H,N+2),x.kF(H,N+4)];
N+=6;c.gV.push(L)}return c};$p.Nv=function(H,N,Q){var c=2+2+12+6*14,_=H.data;H.VX(N,c);x.Ag(_,N,2);N+=2;
_[N]=Q.bc?1:0;N++;N++;x._s(_,N+0,Q.qq[0]);x._s(_,N+2,Q.qq[1]);x._s(_,N+4,Q.qq[2]);N+=6;x._s(_,N+0,Q.ry[0]);
x._s(_,N+2,Q.ry[1]);x._s(_,N+4,Q.ry[2]);N+=6;for(var O=0;O<6;O++){var L=Q.gV[O].gX,s=Q.gV[O].fY;x._s(_,N+0,L[0]);
x._s(_,N+2,L[1]);x._s(_,N+4,L[2]);x._s(_,N+6,L[3]);N+=8;x._s(_,N+0,s[0]);x._s(_,N+2,s[1]);x._s(_,N+4,s[2]);
N+=6}return c};function $R(){}$R.Fp=function(H){var N=new Uint8Array(H),Q=2,c=[];for(var _=0;_<29;_++){var O=[];
c.push(O);for(var L=0;L<5;L++)O.push(x.NU(N,Q+_*10+L*2))}Q+=29*10;if(Q==N.length)return c;var s=x.sx(N,Q,4);
Q+=4;var r=x.NU(N,Q);Q+=2;var u=x.NU(N,Q);Q+=2;var V=u-29;for(var _=0;_<V;_++){var O=[];c.push(O);for(var L=0;
L<5;L++)O.push(x.NU(N,Q+_*10+L*2))}return c};$R.QU=function(H,N){var Q=0;H.VX(0,2+29*10);x.Ag(H.data,Q,2);
Q+=2;for(var c=0;c<29;c++){var _=N[c];for(var O=0;O<5;O++)x.Ag(H.data,Q+c*10+O*2,_[O])}Q+=29*10;if(N.length==29)return Q;
H.VX(Q,8+10*(N.length-29));x.Fo(H.data,Q,"Lvls");Q+=4;x.Ag(H.data,Q,3);Q+=2;x.Ag(H.data,Q,N.length);
Q+=2;var L=N.length-29;for(var c=0;c<L;c++){var _=N[29+c];for(var O=0;O<5;O++)x.Ag(H.data,Q+c*10+O*2,_[O])}Q+=10*L;
return Q};function $j(){}$j.Fp=function(H){var N=new Uint8Array(H),Q=2,c={Gd:[],tP:[]},_=x.sx(N,Q,4);
Q+=4;var O=x.NU(N,Q);Q+=2;var L=x.j(N,Q);Q+=4;while(Q<L){var s=x.j(N,Q);Q+=4;if((s&3)!=0)s+=4-(s&3);
var r=Q,u={};c.Gd.push(u);Q=$_.kB(N,Q,u);Q=r+s}var V=x.j(N,Q);Q+=4;for(var C=0;C<V;C++){var s=x.j(N,Q);
Q+=4;var r=Q,T={VI:{},PH:{}};c.tP.push(T);Q+=4;Q+=JY._r(N,T.VI,Q);Q+=4;Q+=JY._r(N,T.PH,Q);Q=r+s;var e=T.PH.blendOptions,t=T.PH.Lefx;
if(e&&Object.keys(e.v).length>1){}if(t){if(t.v.masterFXSwitch==null)t.v.masterFXSwitch={t:"bool",v:!0};
tE.Xd(t.v)}}return c};$j.QU=function(H){var N=new th,Q=0;x.kW(N,Q,2);Q+=2;x.np(N,Q,"8BSL");Q+=4;x.kW(N,Q,3);
Q+=2;var c=Q;Q+=4;for(var _=0;_<H.Gd.length;_++){Q+=4;var O=Q;Q=$_.ku(N,Q,H.Gd[_]);var L=Q-O;x.u(N,O-4,L);
if((L&3)!=0)L+=4-(L&3);Q=O+L}x.u(N,c,Q-c-4);var s=H.tP.length;x.u(N,Q,s);Q+=4;for(var _=0;_<s;_++){Q+=4;
var O=Q,r=H.tP[_];x.u(N,Q,16);Q+=4;Q+=JY.Ny(N,r.VI,Q);var u=r.PH.Lefx;if(u){r.PH.Lefx=JSON.parse(JSON.stringify(u));
tE.XG(r.PH.Lefx.v)}x.u(N,Q,16);Q+=4;Q+=JY.Ny(N,r.PH,Q);if(u)r.PH.Lefx=u;x.u(N,O-4,Q-O)}return N.data.slice(0,Q).buffer};
function Hp(){}Hp.Nd=function(H,N,Q){var c=x.NU(H,N);N+=2;var _={};_.ir=x.NU(H,N)==1;N+=2;_.uF=[];for(var O=0;
O<10;O++){var L=[];_.uF.push(L);for(var s=0;s<4;s++)L.push(x.kF(H,N+s*2));N+=8}return _};Hp.Nv=function(H,N,Q){H.VX(N,84);
x.Ag(H.data,N,1);N+=2;x.Ag(H.data,N,Q.ir?1:0);N+=2;for(var c=0;c<10;c++){var _=Q.uF[c];for(var O=0;O<4;
O++)x._s(H.data,N+O*2,_[O]);N+=8}return 84};function to(){}to.Fp=function(H){H=new Uint8Array(H);var N=0,Q=[],c=Date.now(),_=x.sx(H,0,4);
N+=4;var O=x.j(H,N);N+=4;var L=x.j(H,N);N+=4;for(var s=0;s<L;s++){var r=x.vq(H,N);N+=r.length*2+4;if((r.length&1)==1)N+=2;
var u=x.j(H,N);N+=4;var V=x.j(H,N);N+=4;var C=N,T=x.$T(H,C).oJ;C+=T.length+1;var e=x.uq(H,C);C+=16;var t=to.GN(H,C,V-(C-N));
Q.push({Ff:r,VI:T,L:t,SZ:e});N+=V}return Q};to.QU=function(H){var N=new th,Q=0;x.np(N,Q,"cush");Q+=4;
x.u(N,Q,2);Q+=4;x.u(N,Q,H.length);Q+=4;for(var c=0;c<H.length;c++){var _=H[c];x.ES(N,Q,_.Ff);Q+=4+_.Ff.length*2;
if((_.Ff.length&1)==1)Q+=2;x.u(N,Q,1);Q+=4;Q+=4;var O=Q;x.Fb(N,Q,_.VI);Q+=_.VI.length+1;x.lW(N,Q,_.SZ);
Q+=16;N.VX(Q,_.L.length*26);to.GF(N.data,Q,_.L,1,1);Q+=_.L.length*26;var L=Q-O;if((L&3)!=0)L+=4-(L&3);
x.u(N,O-4,L);Q=O+L}return N.data.slice(0,Q).buffer};to.GN=function(H,N,Q,c,_){if(c==null)c=1;if(_==null)_=1;
var O=[],L=Math.floor(Q/26);for(var s=0;s<L;s++){var r=N+s*26,u={},V=0;O.push(u);u.type=x.kF(H,r);r+=2;
if(u.type==6){V=24}if(u.type==8){u.all=x.kF(H,r);r+=2;V=22}if(u.type==0||u.type==3){u.length=x.kF(H,r);
r+=2;u.AY=x.kF(H,r);r+=2;u.Fz=x.kF(H,r);r+=2;u.ev=x.j(H,r);r+=4;u.Nb=x.j(H,r);r+=4;V=10}if(u.type==1||u.type==2||u.type==4||u.type==5){var C,T;
T=x.$w(H,r);r+=4;C=x.$w(H,r);r+=4;u.kM=new E(C*c,T*_);T=x.$w(H,r);r+=4;C=x.$w(H,r);r+=4;u.P=new E(C*c,T*_);
T=x.$w(H,r);r+=4;C=x.$w(H,r);r+=4;u.kq=new E(C*c,T*_);V=0}for(var e=0;e<V;e++)if(H[r+e]!=0){console.log("Unexpected non-zero byte!",u,e,H[r+e])}}return O};
to.GF=function(H,N,Q,c,_){var O=Q.length;for(var L=0;L<O;L++){var s=N+L*26,r=Q[L];x._s(H,s,r.type);s+=2;
if(r.type==6){}if(r.type==8)x._s(H,s,r.all);if(r.type==0||r.type==3){x._s(H,s,r.length);s+=2;x._s(H,s,r.AY);
s+=2;x._s(H,s,r.Fz);s+=2}if(r.type==1||r.type==2||r.type==4||r.type==5){x.xl(H,s,r.kM.y/_);s+=4;x.xl(H,s,r.kM.x/c);
s+=4;x.xl(H,s,r.P.y/_);s+=4;x.xl(H,s,r.P.x/c);s+=4;x.xl(H,s,r.kq.y/_);s+=4;x.xl(H,s,r.kq.x/c);s+=4}}};
function Va(){}Va.Fp=function(H){var N=new Uint8Array(H),Q=[],c=0;c=Va.bI(N,c,Q);if(c+3<N.length){Q=[];
c=Va.bI(N,c,Q)}return Q};Va.bI=function(H,N,Q){var c=x.NU,_=x.kF,O=c(H,N);N+=2;var L=c(H,N);N+=2;var s=1/65535,r=255/65535,u=100/65535;
for(var V=0;V<L;V++){var C=c(H,N),A=null;N+=2;var T=c(H,N);N+=2;var e=c(H,N);N+=2;var t=c(H,N);N+=2;
var Y=c(H,N);N+=2;if(C==0)A={T:T*r,q:e*r,H:t*r};else if(C==1){A=$.pq(T*s,e*s,t*s);A.T*=255;A.q*=255;
A.H*=255}else if(C==2)A=$.e.NG({classID:"CMYC",Cyn:{t:"doub",v:100-T*u},Mgnt:{t:"doub",v:100-e*u},Ylw:{t:"doub",v:100-t*u},Blck:{t:"doub",v:100-Y*u}});
else if(C==7){var G=[T,_(H,N-6),_(H,N-4)],j=JO.jd(G);A={T:j[0],q:j[1],H:j[2]}}else throw"e "+C+", "+V;
if(O==2){A.qm=x.vq(H,N);N+=4+A.qm.length*2}Q.push(A)}return N};Va.QU=function(H){var N=new th,Q=0,c=x.kW;
c(N,Q,2);Q+=2;c(N,Q,H.length);Q+=2;var _=65535/255;for(var O=0;O<H.length;O++){var L=H[O];c(N,Q,0);Q+=2;
c(N,Q,Math.round(L.T*_));Q+=2;c(N,Q,Math.round(L.q*_));Q+=2;c(N,Q,Math.round(L.H*_));Q+=2;c(N,Q,0);Q+=2;
var s=L.qm?L.qm:"";x.ES(N,Q,s);Q+=4+s.length*2}return N.data.slice(0,Q).buffer};function Vl(){}Vl.Fp=function(H){var N=new Uint8Array(H),Q=0,c=x.j(N,Q),r;
Q+=4;var _=x.sx(N,Q,8);Q+=8;var O=x.UD(N,Q);Q+=4;var L=x.UD(N,Q);Q+=4;var s=x.UD(N,Q);Q+=4;if(c==2){r=new Float32Array(H,32,H.byteLength-32>>>2)}else if(c==3){r=new Float32Array(L*s*2);
var u=0,V=0,C=!0;Q=32;while(Q<N.length){var T=x.UD(N,Q);Q+=4;if(C)V+=T;else{for(var e=0;e<T;e++){r[u+V+e<<1]=x.xJ(N,Q);
r[(u+V+e<<1)+1]=x.xJ(N,Q+4);Q+=8}V+=T}C=!C;if(T!=0&&V==L){u+=L;V=0;C=!0;if(u==L*s)break}}}else throw"unknown Mesh version: "+c;
return{JX:L,ht:s,map:r}};Vl.nX=function(H){var N=H.JX,Q=H.ht,c=H.map,_=new Uint8Array(32+Q*N*8+Q*8),O=0,L=0;
x.nW(_,O,3);O+=4;x.Fo(_,O,"yfqLhseM");O+=8;x.Fc(_,O,2);O+=4;x.Fc(_,O,N);O+=4;x.Fc(_,O,Q);O+=4;x.Fc(_,O,0);
O+=4;x.Fc(_,O,1);O+=4;for(var s=0;s<Q;s++){x.Fc(_,O,0);O+=4;x.Fc(_,O,N);O+=4;for(var r=0;r<N;r++){x.Xk(_,O,c[L]);
x.Xk(_,O+4,c[L+1]);L+=2;O+=8}}return _.buffer};function Hu(){}Hu.Fp=function(H){var N=new Uint8Array(H),Q=0,c=x.sx(N,Q,4);
Q+=4;var _=x.NU(N,Q);Q+=2;var O=x.j(N,Q);Q+=4;var L=[];for(var s=0;s<O;s++){var r=x.j(N,Q);Q+=4;var u={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
L.push(u);u.Nm.v=x.vq(N,Q);Q+=4+u.Nm.v.length*2;var V=x.NU(N,Q);Q+=2;var C=x.NU(N,Q);Q+=2;for(var T=0;
T<C;T++){var e=$.kv.oS(0,0,!0);e.v.Vrtc.v=x.NU(N,Q);Q+=2;e.v.Hrzn.v=x.NU(N,Q);Q+=2;u.Crv.v.push(e)}if(r==1){}else if(r==2){for(var T=0;
T<C;T++){u.Crv.v[T].v.Cnty.v=N[Q]==1;Q+=1}}else throw"error";var t=x.j(N,Q);Q+=4;var Y=x.j(N,Q);Q+=4}return L};
Hu.QU=function(H){var N=new th,Q=0;x.np(N,Q,"8BFS");Q+=4;x.kW(N,Q,1);Q+=2;x.u(N,Q,H.length);Q+=4;for(var c=0;
c<H.length;c++){x.u(N,Q,2);Q+=4;var _=H[c];x.ES(N,Q,_.Nm.v);Q+=4+_.Nm.v.length*2;x.kW(N,Q,2);Q+=2;var O=_.Crv.v.length;
x.kW(N,Q,O);Q+=2;for(var L=0;L<O;L++){var s=_.Crv.v[L];x.kW(N,Q,s.v.Vrtc.v);Q+=2;x.kW(N,Q,s.v.Hrzn.v);
Q+=2}N.VX(Q,O);for(var L=0;L<O;L++){N.data[Q]=_.Crv.v[L].v.Cnty.v;Q++}x.u(N,Q,0);Q+=4;x.u(N,Q,0);Q+=4}return N.data.slice(0,Q).buffer};
function $_(){}$_.Fp=function(H){var N=new Uint8Array(H),Q=4,c=x.NU(N,Q);Q+=2;var _=x.j(N,Q);Q+=4;var O=[];
for(var L=0;L<_;L++){var s={};O.push(s);Q=$_.kB(N,Q,s)}return O};$_.QU=function(H){var N=new th,Q=0;
x.np(N,Q,"8BPT");Q+=4;x.kW(N,Q,1);Q+=2;x.u(N,Q,H.length);Q+=4;for(var c=0;c<H.length;c++){Q=$_.ku(N,Q,H[c])}return N.data.slice(0,Q).buffer};
$_.kB=function(H,N,Q){var c=x.j(H,N);N+=4;if(c!=1)alert("Unknown version of pattern");var _=x.j(H,N);
N+=4;if(_!=1&&_!=2&&_!=3)console.log("Unsupported mode of pattern: "+_);var O=x.NU(H,N);N+=2;var L=x.NU(H,N);
N+=2;Q.lU=new p(0,0,L,O);Q.name=x.vq(H,N);N+=4+2*Q.name.length;Q.name=Q.name.substring(0,Q.name.length-1);
var s=H[N];N++;Q.id=x.sx(H,N,s);N+=Q.id.length;var r=-1;if(_==2){r=N;N+=3*256+4}var u=new $.wf(L*O);
N=$_.twQ(H,N,u);if(_==2){for(var V=0;V<u.T.length;V++){var C=3*u.T[V];u.T[V]=H[r+C+0];u.q[V]=H[r+C+1];
u.H[V]=H[r+C+2]}}Q.nn=$.I(Q.lU.f()*4);$.GL(u,Q.nn);return N};$_.ku=function(H,N,Q){x.u(H,N,1);N+=4;x.u(H,N,3);
N+=4;x.kW(H,N,Q.lU.z);N+=2;x.kW(H,N,Q.lU.$);N+=2;x.ES(H,N,Q.name+"\0");N+=4+2*Q.name.length+2;x.tk(H,N,Q.id.length);
N++;x.np(H,N,Q.id);N+=Q.id.length;var c=new $.wf(Q.lU.f());$.GQ(Q.nn,c);N=$_.twO(H,N,c,Q);return N};
$_.twQ=function(H,N,Q){var c=N,_={lU:null,kj:[],sO:null,Gx:null},O=x.j(H,N);N+=4;var L=x.j(H,N);N+=4;
_.lU=x.uq(H,N);N+=16;var s=x.j(H,N);N+=4;for(var r=0;r<s+2;r++){var u=x.j(H,N);N+=4;if(u==0)continue;
var V=x.j(H,N);N+=4;if(V==0)continue;var C=x.j(H,N);N+=4;var T=x.uq(H,N);N+=16;var e=x.NU(H,N);N+=2;
var t=H[N];N++;var Y=Vz.UI(!1,H,T.$,T.z,N,t);if(r<s)_.kj.push(Y);if(r==s)_.sO=Y;if(r==s+1)_.Gx=Y;N+=V-23}if(_.kj[0])Q.T=_.kj[0];
if(_.kj[1])Q.q=_.kj[1];else Q.q=$.clone(_.kj[0]);if(_.kj[2])Q.H=_.kj[2];else Q.H=$.clone(_.kj[0]);if(_.Gx)Q.o=_.Gx;
else $.set(Q.o,255);return N};$_.twO=function(H,N,Q,c){var _=N,O={lU:c.lU,kj:[Q.T,Q.q,Q.H],sO:null,Gx:Q.o};
x.u(H,N,3);N+=4;x.u(H,N,0);N+=4;x.lW(H,N,O.lU);N+=16;x.u(H,N,24);N+=4;for(var L=0;L<24+2;L++){var s=N,r=L<3||L==25?1:0;
x.u(H,N,r);N+=4;if(r==0)continue;x.u(H,N,0);N+=4;x.u(H,N,8);N+=4;x.lW(H,N,O.lU);N+=16;x.kW(H,N,8);N+=2;
x.tk(H,N,1,1);N++;var u=L<3?O.kj[L]:O.Gx;H.VX(N,c.lU.f()+2);N=Vz.UE(u,H.data,c.lU.$,c.lU.z,N,1);x.u(H,s+4,N-s-8)}x.u(H,_+4,N-_-8);
return N};function wJ(){}wJ.Fp=function(H){var N=new Uint8Array(H),Q=0,c=x.sx(N,Q,4);Q+=4;var _=x.NU(N,Q);
Q+=2;var O={},L=JY._r(N,O,Q+4),s=O.GrdL.v,r=[];for(var u=0;u<s.length;u++)r[u]=s[u].v.Grad.v;return r};
wJ.QU=function(H){var N=new th,Q=0;x.np(N,Q,"8BGR");Q+=4;x.kW(N,Q,5);Q+=2;x.u(N,Q,16);Q+=4;var c={classID:"null",GrdL:{t:"VlLs",v:[]}},_=c.GrdL.v;
for(var O=0;O<H.length;O++)_[O]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:H[O]}}};
Q+=JY.Ny(N,c,Q);return N.data.slice(0,Q).buffer};function x(){}x.Xn=function(H){var N="";for(var Q=3;
Q>=0;Q--)N+=String.fromCharCode(H>>Q*8&255);return N};x.twj=function(H){var N=0;for(var Q=H.length-1;
Q>=0;Q--)N|=H.charCodeAt(Q)<<(3-Q)*8;return N};x.indexOf=function(H,N,Q,c){if(Q==null)Q=0;if(c==null)c=H.length;
c=Math.min(c,H.length);for(var _=Q;_<c;_++)if(H[_]==N)return _;return-1};x.txG=function(H,N,Q){if(Q==null)Q=0;
if(typeof N=="string"){var c=[];for(var _=0;_<N.length;_++)c.push(N.charCodeAt(_));N=c}for(var _=Q;_<H.length;
_++){var O=!0;for(var L=0;L<N.length;L++)if(N[L]!=H[_+L]){O=!1;break}if(O)return _}return-1};x.Gm=function(H,N,Q){var c=[],O="";
while(N<Q){var _=H[N++];if(_=="\\".charCodeAt(0))c.push(H[N++]);else c.push(_)}for(var L=0;L<c.length;
L+=2)O+=String.fromCharCode(c[L]<<8|c[L+1]);return O};x.tIw=function(H,N,Q){var c=new Uint8Array(2);
for(var _=0;_<Q.length;_++){x.Ag(c,0,Q.charCodeAt(_));if(c[0]==")".charCodeAt(0)||c[0]=="(".charCodeAt(0)||c[0]=="\\".charCodeAt(0)){H[N]="\\".charCodeAt(0);
N++}H[N]=c[0];N++;if(c[1]==")".charCodeAt(0)||c[1]=="(".charCodeAt(0)||c[1]=="\\".charCodeAt(0)){H[N]="\\".charCodeAt(0);
N++}H[N]=c[1];N++}return N};x.Gs=function(H,N,Q){H.VX(N,4*Q.length);return x.tIw(H.data,N,Q)};x.tIC=function(H,N,Q){var c="";
for(var _=0;_<Q;_++){var O=H[N++]|H[N++]<<8;c+=String.fromCharCode(O)}return c};x.Gu=function(H,N,Q){var c="";
for(var _=0;_<Q;_++){var O=H[N++]<<8|H[N++];c+=String.fromCharCode(O)}return c};x.tIe=function(H,N,Q){for(var c=0;
c<Q.length;c++){var _=Q.charCodeAt(c);x.ey(H,N+2*c,_)}};x.xt=function(H,N,Q){for(var c=0;c<Q.length;
c++){var _=Q.charCodeAt(c);x.Ag(H,N+2*c,_)}};x.txp=function(H,N,Q){H.VX(N,2*Q.length);x.xt(H.data,N,Q)};
x.tIN=function(H,N,Q){var c="";for(var _=0;_<Q;_++)c+="%"+("0"+H[N+_].toString(16)).slice(-2);return decodeURIComponent(c)};
x.XZ=function(H,N){var Q=x.j(H,N);N+=4;if(Q>65535)return"";var c=x.tIN(H,N,Q-1);return{_u:c,NK:4+Q}};
x.tyF=function(H,N){var Q=x.UD(H,N);N+=4;if(Q>65535)return"";var c=x.tIC(H,N,Q);return c};x.vq=function(H,N){var Q=x.j(H,N);
N+=4;if(Q>65535)return"";var c=x.Gu(H,N,Q);return c};x.tDE=function(H,N,Q){x.Fc(H,N,Q.length);N+=4;x.tIe(H,N,Q)};
x.tcw=function(H,N,Q){x.nW(H,N,Q.length);N+=4;x.xt(H,N,Q)};x.ES=function(H,N,Q){H.VX(N,4+2*Q.length);
x.tcw(H.data,N,Q)};x.tcS=function(H,N,Q){H.VX(N,4+2*Q.length);x.tDE(H.data,N,Q)};x.tcE=function(H,N,Q){var c=[];
for(var _=0;_<Q;_++)c.push(String.fromCharCode(H[N+_]));return c};x.txi=function(H,N,Q){var c=!1,_=H.length-Q.length;
for(var O=N;O<_;O++){for(var L=0;L<Q.length;L++){if(H[O+L]!=Q.charCodeAt(L))break;if(L==Q.length-1)return O}}};
x.sx=function(H,N,Q){var c="";for(var _=0;_<Q;_++)c+=String.fromCharCode(H[N+_]);return c};x.Fo=function(H,N,Q){for(var c=0;
c<Q.length;c++)H[N+c]=Q.charCodeAt(c)};x.np=function(H,N,Q){H.VX(N,Q.length);x.Fo(H.data,N,Q)};x.tcA=function(H,N,Q){var c="";
for(var _=0;_<Q;_++){var O=H[N+_];if(O<10)c+="  ";else if(O<100)c+=" ";c+=O+", "}return c};x.NU=function(H,N){return H[N]<<8|H[N+1]};
x.Ag=function(H,N,Q){H[N]=Q>>8&255;H[N+1]=Q&255};x.kW=function(H,N,Q){H.VX(N,4);x.Ag(H.data,N,Q)};x.$R=function(H,N){return H[N+1]<<8|H[N]};
x.ey=function(H,N,Q){H[N+1]=Q>>8&255;H[N]=Q&255};x.Fl=function(H,N,Q){H.VX(N,4);x.ey(H.data,N,Q)};x.kF=function(H,N){x.ed[0]=H[N+1];
x.ed[1]=H[N];return x.Xe[0]};x.tcU=function(H,N){x.ed[0]=H[N];x.ed[1]=H[N+1];return x.Xe[0]};x._s=x.Ag;
x.eL=x.kW;x.eI=function(H,N){x.NZ[0]=H[N+3];x.NZ[1]=H[N+2];x.NZ[2]=H[N+1];x.NZ[3]=H[N];return x.$F[0]};
x.nU=function(H,N,Q){x.$F[0]=Q;H[N+3]=x.NZ[0];H[N+2]=x.NZ[1];H[N+1]=x.NZ[2];H[N+0]=x.NZ[3]};x.qe=function(H,N,Q){H.VX(N,4);
x.nU(H.data,N,Q)};x.eC=function(H,N){x.NZ[0]=H[N+0];x.NZ[1]=H[N+1];x.NZ[2]=H[N+2];x.NZ[3]=H[N+3];return x.$F[0]};
x.x$=function(H,N,Q){x.$F[0]=Q;H[N+0]=x.NZ[0];H[N+1]=x.NZ[1];H[N+2]=x.NZ[2];H[N+3]=x.NZ[3]};x.tLC=function(H,N,Q){H.VX(N,4);
x.x$(H.data,N,Q)};x.j=function(H,N){var Q=H[N]*(256*256*256)+(H[N+1]<<16|H[N+2]<<8|H[N+3]);return Q};
x.nW=function(H,N,Q){H[N]=Q>>24&255;H[N+1]=Q>>16&255;H[N+2]=Q>>8&255;H[N+3]=Q>>0&255};x.u=function(H,N,Q){H.VX(N,4);
x.nW(H.data,N,Q)};x.pK=function(H,N){return x.j(H,N)<<32|x.j(H,N+4)};x.tLP=function(H,N,Q){x.nW(H,N,Q>>16>>16);
x.nW(H,N+4,Q&4294967295)};x.XA=function(H,N,Q){H.VX(N,8);x.tLP(H.data,N,Q)};x.UD=x.eC;x.Fc=x.x$;x.GI=x.tLC;
x.FD=function(H,N){var Q=new Uint8Array(8);for(var c=0;c<8;c++)Q[c]=H[N+7-c];var _=new Float64Array(Q.buffer);
return _[0]};x.tLv=function(H,N){var Q=new Uint8Array(8);for(var c=0;c<8;c++)Q[c]=H[N+c];var _=new Float64Array(Q.buffer);
return _[0]};x.GC=function(H,N,Q){var c=new Float64Array(1);c[0]=Q;var _=new Uint8Array(c.buffer);for(var O=0;
O<4;O++){var L=_[O];_[O]=_[7-O];_[7-O]=L}for(var O=0;O<8;O++)H[N+O]=_[O]};x.GP=function(H,N,Q){H.VX(N,8);
x.GC(H.data,N,Q)};x.Fg=function(H,N){x.NZ[0]=H[N+3];x.NZ[1]=H[N+2];x.NZ[2]=H[N+1];x.NZ[3]=H[N+0];return x.eG[0]};
x.xJ=function(H,N){x.NZ[0]=H[N+0];x.NZ[1]=H[N+1];x.NZ[2]=H[N+2];x.NZ[3]=H[N+3];return x.eG[0]};x.q_=function(H,N,Q){x.eG[0]=Q;
H[N+0]=x.NZ[3];H[N+1]=x.NZ[2];H[N+2]=x.NZ[1];H[N+3]=x.NZ[0]};x.XU=function(H,N,Q){H.VX(N,4);x.q_(H.data,N,Q)};
x.Xk=function(H,N,Q){x.eG[0]=Q;H[N+0]=x.NZ[0];H[N+1]=x.NZ[1];H[N+2]=x.NZ[2];H[N+3]=x.NZ[3]};x.txo=function(H,N,Q){H.VX(N,4);
x.Xk(H.data,N,Q)};x.$w=function(H,N){var Q=x.eI(H,N)/16777215;return Q};x.xl=function(H,N,Q){x.nU(H,N,Math.floor(Q*16777215))};
x.tRg=function(H,N,Q){H.VX(N,4);x.xl(H.data,N,Q)};x.$T=function(H,N){var Q=H[N],c=x.sx(H,N+1,Q);Q+=1-Q%2;
return{oJ:c,length:Q+1}};x.tLq=function(H,N,Q){var c=Q.length;H[N]=c;x.Fo(H,N+1,Q);if(c%2==0){H[N+1+c]=0;
++c}return c+1};x.Fb=function(H,N,Q){H.VX(N,Q.length+2);return x.tLq(H.data,N,Q)};x.FB=function(H,N){var Q=new Jo;
Q.o=x.FD(H,N+0*8);Q.H=x.FD(H,N+1*8);Q.lA=x.FD(H,N+2*8);Q.KI=x.FD(H,N+3*8);Q.DX=x.FD(H,N+4*8);Q.Ug=x.FD(H,N+5*8);
return Q};x.eT=function(H,N,Q){x.GC(H,N+0*8,Q.o);x.GC(H,N+1*8,Q.H);x.GC(H,N+2*8,Q.lA);x.GC(H,N+3*8,Q.KI);
x.GC(H,N+4*8,Q.DX);x.GC(H,N+5*8,Q.Ug)};x.tLX=function(H,N,Q){H.VX(N,48);x.eT(H.data,N,Q)};x.tLz=function(H,N){var Q=x.Fg(H,N),c=x.Fg(H,N+4),_=x.Fg(H,N+8),O=x.Fg(H,N+12);
return new p(Q,c,_-Q,O-c)};x.tCy=function(H,N,Q){x.q_(H,N,Q.x);x.q_(H,N+4,Q.y);x.q_(H,N+8,Q.x+Q.$);x.q_(H,N+12,Q.y+Q.z)};
x.tTr=function(H,N,Q){H.VX(N,16);x.tCy(H.data,N,Q)};x.uq=function(H,N){var Q=x.eI(H,N),c=x.eI(H,N+4),_=x.eI(H,N+8),O=x.eI(H,N+12);
return new p(c,Q,O-c,_-Q)};x.xr=function(H,N,Q){x.nU(H,N,Q.y);x.nU(H,N+4,Q.x);x.nU(H,N+8,Q.y+Q.z);x.nU(H,N+12,Q.x+Q.$)};
x.lW=function(H,N,Q){H.VX(N,16);x.xr(H.data,N,Q)};x.$g=function(H,N,Q){var c=new Uint8Array(Q);for(var _=0;
_<Q;_++)c[_]=H[N+_];return c};x.xH=function(H,N,Q){H.set(Q,N)};x.$h=function(H,N,Q){H.VX(N,Q.length);
x.xH(H.data,N,Q)};x.tPU=function(H,N,Q,c){if(!c)c=1;for(var _=0;_<c;_++)H[N+_]=Q};x.tk=function(H,N,Q,c){if(!c)c=1;
H.VX(N,c);x.tPU(H.data,N,Q,c)};x.Xe=new Int16Array(1);x.ed=new Uint8Array(x.Xe.buffer);x.$F=new Int32Array(1);
x.NZ=new Uint8Array(x.$F.buffer);x.eG=new Float32Array(x.$F.buffer);function p(H,N,Q,c){if(!H)H=0;if(!N)N=0;
if(!Q)Q=0;if(!c)c=0;this.x=H;this.y=N;this.$=Q;this.z=c}p.prototype.f=function(){return this.$*this.z};
p.prototype.clone=function(){return new p(this.x,this.y,this.$,this.z)};p.prototype.contains=function(H,N){return H>=this.x&&H<=this.x+this.$&&(N>=this.y&&N<=this.y+this.z)};
p.prototype.Eo=function(H){return this.contains(H.x,H.y)};p.prototype.pk=function(H){return this.x<=H.x&&this.y<=H.y&&H.x+H.$<=this.x+this.$&&H.y+H.z<=this.y+this.z};
p.prototype.py=function(H){this.x=H.x;this.y=H.y;this.$=H.$;this.z=H.z};p.prototype.v$=function(H){return this.x==H.x&&this.y==H.y&&this.$==H.$&&this.z==H.z};
p.prototype.FA=function(H,N){this.x-=H;this.y-=N;this.$+=2*H;this.z+=2*N};p.prototype.tRS=function(H){this.FA(H.x,H.y)};
p.prototype.sj=function(H){var N=Math.max(this.x,H.x),Q=Math.max(this.y,H.y),c=Math.min(this.x+this.$,H.x+H.$),_=Math.min(this.y+this.z,H.y+H.z);
if(c<N||_<Q)return new p;else return new p(N,Q,c-N,_-Q)};p.prototype.p$=function(H){if(H.y+H.z<this.y||H.x>this.x+this.$||H.y>this.y+this.z||H.x+H.$<this.x)return!1;
return!0};p.prototype.km=function(){return this.$<=0||this.z<=0};p.prototype.offset=function(H,N){this.x+=H;
this.y+=N};p.prototype.xf=function(H){this.offset(H.x,H.y)};p.prototype.tRv=function(){this.x=this.y=this.$=this.z=0};
p.prototype.kR=function(H,N,Q,c){this.x=H;this.y=N;this.$=Q;this.z=c};p.prototype.Fv=function(H){if(this.km())return H.clone();
if(H.km())return this.clone();var N=this.clone();N.tdH(H);return N};p.Bt=new Float32Array(2);p.prototype.tdH=function(H){if(H.km())return;
if(this.km()){this.py(H);return}this.eM(H.x,H.y);this.eM(H.x+H.$,H.y+H.z)};p.prototype.eM=function(H,N){var Q=Math.min(this.x,H),c=Math.min(this.y,N);
this.$=Math.max(this.x+this.$,H)-Q;this.z=Math.max(this.y+this.z,N)-c;this.x=Q;this.y=c};p.prototype.tRq=function(H,N,Q,c){if(this.$==0&&this.z==0)this.tdh(H,N);
else this.eM(H,N);this.eM(Q,c)};p.prototype.tdh=function(H,N){this.x=H;this.y=N;this.$=this.z=0};function VB(){}VB.Fp=function(H){var N={};
VB.xd(H,N,0,0);return N};VB.nX=function(H,N){var Q=0;x.np(N,Q," ");Q++;Q=VB.xv(H,N,Q,0);Q--;N.VX(Q,2);
N.data[Q]=N.data[Q+1]=0;Q+=2;return Q};VB.Uo=function(H,N,Q,c){while(H[Q]!="<".charCodeAt(0)){Q++;console.log("\u0161ipka")}Q+=2;
Q=VB.xd(H,N,Q,c);return Q};VB.kH=function(H,N,Q,c){x.np(N,Q,"<< ");Q+=3;Q=VB.xv(H,N,Q,c);x.np(N,Q,">>");
Q+=2;return Q};VB.Jy=function(H){return H==9||H==10||H==32};VB.xd=function(H,N,Q,c){while(!0){while(VB.Jy(H[Q])||H[Q]==0)Q++;
if(Q>=H.length)break;if(H[Q]=="/".charCodeAt(0)){Q++;var _=Q;while(!VB.Jy(H[_]))_++;var O=x.sx(H,Q,_-Q);
Q=_+1;var L=VB.eb(H,Q,c,O);N["_"+O]=L.R;Q+=L.size}else if(H[Q]==">".charCodeAt(0)){Q+=2;break}else{var s=H[Q];
console.log(x.sx(H,Q,Q+100));console.log("unknown byte: "+s+", char: "+String.fromCharCode(s)+", offset: "+Q);
Q++;throw"e";return-1}}return Q};VB.xv=function(H,N,Q,c){for(var _ in H){var O=_.substring(1,_.length);
x.np(N,Q,"/"+O);Q+=1+O.length;x.np(N,Q," ");Q++;Q=VB.qY(H[_],N,Q,c+1);x.np(N,Q," ");Q++}return Q};VB.eb=function(H,N,Q,c){var _=N,O={type:"",size:0,R:0};
while(VB.Jy(H[N]))N++;if(H[N]=="<".charCodeAt(0)){O.type="Object";O.R={};N=VB.Uo(H,O.R,N,Q+1)}else if(H[N]=="(".charCodeAt(0)){O.type="String";
N++;if(H[N]==")".charCodeAt(0)){O.R="s";N++}else{N+=2;var L=N,VG=0;while(!0){if(H[L]==")".charCodeAt(0)&&H[L-1]!="\\".charCodeAt(0))break;
else L+=1}O.R="s"+x.Gm(H,N,L);N=L+2}}else if(H[N]=="[".charCodeAt(0)){N++;O.R=[];O.type="Array";while(VB.Jy(H[N]))N++;
while(H[N]!="]".charCodeAt(0)){var s=VB.eb(H,N,Q+1,c);if(s==-1)return-1;O.R.push(s.R);N+=s.size;delete s.size;
while(VB.Jy(H[N]))N++}N++}else{var r=N;while(!VB.Jy(H[r]))r++;var u=x.sx(H,N,r-N),V=parseFloat(u);if(!isNaN(V)&&u.indexOf(".")!=-1){O.type="Float";
var C=parseFloat(u);O.R="f"+C}else if(!isNaN(V)&&u.indexOf(".")==-1){O.type="Integer";O.R="i"+parseInt(u)}else if(u=="true"||u=="false"){O.type="Boolean";
O.R=u=="true"}else if(u.charAt(0)=="/"){O.type="BString";O.R=u}else{console.log("unknown value",JSON.stringify(u));
throw"e"}N=r+1}O.size=N-_;return O};VB.tdX=function(H){if(H==Math.round(H))return H+".0";var N=H.toFixed(5);
if(0<H&&H<1)N=N.substring(1,N.length);if(-1<H&&H<0)N="-"+N.substring(2,N.length);return N};VB.qY=function(H,N,Q,c){if(H instanceof Array){x.np(N,Q,"[ ");
Q+=2;for(var _=0;_<H.length;_++){Q=VB.qY(H[_],N,Q,c);x.np(N,Q," ");Q++}x.np(N,Q,"]");Q+=1}else if(H instanceof Object){Q=VB.kH(H,N,Q,c)}else if(typeof H=="string"&&H.charAt(0)=="s"){x.np(N,Q,"(");
Q++;x.tk(N,Q,254);Q++;x.tk(N,Q,255);Q++;Q=x.Gs(N,Q,H.substring(1));x.np(N,Q,")");Q++}else if(typeof H=="string"&&H.charAt(0)=="/"){x.np(N,Q,H);
Q+=H.length}else if(typeof H=="string"&&H.charAt(0)=="f"){var O=parseFloat(H.substring(1)),L=VB.tdX(O);
x.np(N,Q,L);Q+=L.length}else if(typeof H=="string"&&H.charAt(0)=="i"){x.np(N,Q,H.substring(1));Q+=H.length-1}else{var L=H+"";
x.np(N,Q,L);Q+=L.length}return Q};function tw(){}tw.Fp=function(H,N){var Q=new Uint8Array(H),c=0,_=x.sx(Q,c,9),s=4,r=100;
c+=9;var O=x.sx(Q,c,4);c+=4;c++;N.$=x.j(Q,c);c+=4;N.z=x.j(Q,c);c+=4;var L=x.j(Q,c);c+=4;if(L!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(O)==-1){r=x.j(Q,c);c+=4;if(parseInt(O.slice(1))>=7){r=r}else alert("Unknown XCF version: "+O);
s=8}var u={};c=tw.Xm(Q,c,u);var V=[];c=tw.XF(Q,c,V,s);var C=[];c=tw.XF(Q,c,C,s);N.iw=0;for(var T=0;T<V.length;
T++)tw.tdF(Q,V[T],N,u,s,r);while(N.iw>0){N.b.push(N.sd());N.iw--}N.b.reverse();delete N.iw;N.buffer=$.I(N.$*N.z*4);
if(N.b.length==0)console.log("No layers!!!");for(var T=0;T<C.length;T++){var e=tw.xn(Q,C[T],u,s,r);if(e.aO[rA.tVg])N.t={channel:e.y_,rect:new p(0,0,N.$,N.z)}}};
tw.tdF=function(H,N,Q,c,_,O){var L=Q.Zs(),s=x.j(H,N),C=0;N+=4;var r=x.j(H,N);N+=4;L.rect=new p(0,0,s,r);
var u=x.j(H,N);N+=4;var V=x.XZ(H,N);N+=V.NK;L.Vp(V._u);var T={};N=tw.Xm(H,N,T);if(T[rA.xN]){var e=T[rA.xN];
C=e.length/4-1}if(T[rA.Xs]){L.rect.x=x.eI(T[rA.Xs],0);L.rect.y=x.eI(T[rA.Xs],4)}if(T[rA.xB]){L.opacity=x.j(T[rA.xB],0)}if(T[rA.tVm]){L.add.lsct=tR.Gp;
L.rect=new p(0,0,0,0);L.buffer=$.I(0);L._c=24}if(T[rA.xZ]){var t=x.j(T[rA.xZ],0);L.kE=rA.t$r[t];if(L.oP()&&L.kE=="norm")L.kE="pass"}if(T[rA.xA]){if(x.j(T[rA.xA],0)==0)L._c+=2}if(T[rA.xF]){var Y=x.j(T[rA.xF],0);
L.add.lsct=Y&1==1?tR.Gp:tR.Vc}if(T[rA.Xu]){var A=T[rA.Xu];for(var G in A){var j=A[G];if(G=="gimp-text-layer"){var d=tw.td_(j),w=d.text,f=d.font,b=d.color,F=d["font-size"];
if(w==null&&d.markup){var n=new DOMParser,J=n.parseFromString(d.markup,"image/svg+xml");while(J.firstChild!=null&&J.firstChild.tagName!=null){J=J.firstChild;
var Z=J.getAttribute("font"),P=J.getAttribute("foreground"),M=J.getAttribute("size");if(Z!=null)f=Z;
if(P!=null){P=CSS.bI(P);b=[1,P.T/255,P.q/255,P.H/255]}if(M!=null){F=""+parseFloat(M)/245}}w=J.textContent}L.add.TySh=X.YD(0,0);
L.add.TySh._B=new p(0,0,100,100);L.add.TySh.UC=new Jo(1,0,0,1,L.rect.x,L.rect.y);var y=L.add.TySh.Bd;
X.el(y,0,w);var a=X.Sr(y,0,1),g=d.justify,U=d["line-spacing"];if(b)a.hj.FillColor={Type:1,Values:[1,parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3])]};
if(F){F=Math.round(parseFloat(F));a.hj.FontSize=F;L.add.TySh.UC.Ug+=Math.min(17,F*.17)}if(U){U=Math.round(parseFloat(U)+a.hj.FontSize*1.2);
a.hj.Leading=U;a.hj.AutoLeading=!1}if(g)a.re.Justification=["left","right","center","fill"].indexOf(g);
if(f&&f!="Sans-serif"){var D=f.toLowerCase(),W="bold italic semi extra regular condensed light".split(" "),m=D.length;
for(var q=0;q<W.length;q++){var S=D.indexOf(W[q]);if(S!=-1&&S<m&&D[S-1]==" ")m=S}if(m!=D.length)f=f.slice(0,m-1).split(" ").join("")+"-"+f.slice(m).split(" ").join("");
X.kP(a,f)}X.zX(y,0,w.length,a);var I=d["box-width"],v=d["box-height"],h=I?parseFloat(I):L.rect.$,i=v?parseFloat(v):L.rect.z;
X.kN(y,1);X.Yc(y,[0,0,Math.ceil(h),Math.ceil(i)])}else console.log("Unknown property "+G)}}while(Q.iw>C){Q.b.push(Q.sd());
Q.iw--}Q.iw=C;if(L.add.lsct==tR.Gp||L.add.lsct==tR.Vc)Q.iw++;var JI=_==4?x.j:x.pK;if(L.XX()){L.buffer=$.I(L.rect.f()*4);
var Jx=new $.wf(L.rect.f()),Jd=JI(H,N);N+=_;var JC=JI(H,N);N+=_;tw.xb(H,Jd,Jx,c,_,O);$.GL(Jx,L.buffer);
if(JC!=0){L.d=new R.qu;L.d.color=0;L.d.rect=L.rect.clone();L.d.channel=tw.xn(H,JC,c,_,O).y_;if(T[rA.xe])L.d.isEnabled=x.j(T[rA.xe],0)==1}}Q.b.push(L)};
tw.td_=function(H){var N="("+tm.hI(H,0,H.length-1)+")",Q=[],c={};tw.xO(N,1,Q);tw.tRJ(Q,c);return c};
tw.tRJ=function(H,N){for(var Q=0;Q<H.length;Q++){var c=H[Q],_=c[0];if(c.length==2)N[_]=c[1];else N[_]=c.slice(1)}};
tw.xO=function(H,N,Q){while(!0){if(N>=H.length)throw"e";var c=H.charAt(N);N++;if(c=="("){var _=[];N=tw.xO(H,N,_);
Q.push(_)}else if(c==" "||c=="\n"||c=="\r"){}else if(c==")")return N;else if(c=="\""){var O=N;while(!0){var L=H[N];
N++;if(L=="\"")break;if(L=="\\")N++}Q.push(JSON.parse(H.slice(O-1,N)))}else{var O=N-1;while(H[N]!=" "&&H[N]!=")")N++;
Q.push(H.slice(O,N))}}};tw.xn=function(H,N,Q,c,_){var O=x.j(H,N);N+=4;var L=x.j(H,N);N+=4;var s=x.XZ(H,N);
N+=s.NK;var r={};N=tw.Xm(H,N,r);var u=new $.wf(O*L),V=c==4?x.j:x.pK,C=V(H,N);N+=c;tw.xb(H,C,u,Q,c,_);
return{y_:u.T,aO:r}};tw.xb=function(H,N,Q,c,_,O){var L=x.j(H,N);N+=4;var s=x.j(H,N);N+=4;var r=x.j(H,N);
N+=4;var u=_==4?x.j:x.pK,V=u(H,N);N+=_;tw.tRH(H,V,Q,c,r,_,O)};tw.tRH=function(H,N,Q,c,_,O,L){var s=x.j(H,N),V=0,j=0;
N+=4;var r=x.j(H,N);N+=4;var u=new p(0,0,s,r);if(L==100)V=1;else if(L==150)V=1;else if(L==600)V=4;else alert("unsupported bit depth "+L);
var C=_/V,V=Math.round(_/C),T=[];N=tw.XF(H,N,T,O);var e=new $.wf(64*64*V),t=new p,Y=c[rA.tVB][0],A=[e.T,e.q,e.H,e.o];
if(C==3)$.set(e.o,255);var G=Date.now();for(var d=0;d<r;d+=64)for(var w=0;w<s;w+=64){var f=Math.min(s-w,64),b=Math.min(r-d,64),F=f*b;
t.kR(w,d,f,b);tw.tRc(H,T[j++],F*V,Y,C,A);if(L==600){var n=tw.tRI(),J=new Uint32Array(1),Z=new Float32Array(J.buffer);
for(var P=0;P<C;P++){var M=A[P];for(var y=0;y<F;y++){J[0]=M[y]<<24|M[F+y]<<16|M[(F<<1)+y]<<8|M[(F<<1)+F+y]<<0;
var a=Z[0];if(a<0)a=0;else if(a>1)a=1;M[y]=n[~~(.5+a*1e3)]}}}$.h_(e,t,Q,u)}};tw.tRI=function(){var H=tw.tdp;
if(H!=null)return H;H=tw.tdp=new Uint8Array(1001);for(var N=0;N<1001;N++)H[N]=~~(.49+255*$.hU(N*.001));
return H};tw.tRc=function(H,N,Q,c,_,O){if(c==1){for(var L=0;L<_;L++){var s=O[L],r=0;while(r<Q){var u=H[N];
N++;if(u<127){var V=H[N];N++;u++;for(var C=0;C<u;C++)s[r+C]=V}else if(u==127){var T=H[N];N++;var e=H[N];
N++;var V=H[N];N++;u=T<<8|e;for(var C=0;C<u;C++)s[r+C]=V}else if(u==128){var T=H[N];N++;var e=H[N];N++;
u=T<<8|e;for(var C=0;C<u;C++)s[r+C]=H[N+C];N+=u}else{u=256-u;for(var C=0;C<u;C++)s[r+C]=H[N+C];N+=u}r+=u}}}else alert("Unknown compression "+c)};
tw.XF=function(H,N,Q,c){var _=c==4?x.j:x.pK;while(!0){var O=_(H,N);N+=c;if(O==0)break;else Q.push(O)}return N};
tw.Xm=function(H,N,Q){while(!0){var c=x.j(H,N);N+=4;var _=x.j(H,N);N+=4;if(c==rA.tRN)break;else if(c==rA.Xu)Q[c]=tw.tRB(H,N,N+_);
else Q[c]=x.$g(H,N,_);N+=_}return N};tw.tRB=function(H,N,Q){var c={};while(N<Q){var _=x.XZ(H,N);N+=_.NK;
var O=x.j(H,N);N+=4;if(O!=1)console.log("unknown flags",O);var L=x.j(H,N);N+=4;c[_._u]=x.$g(H,N,L);N+=L}return c};
var rA={tRN:0,tRp:1,tRj:2,tt$:3,tVg:4,ttJ:5,xB:6,xZ:7,xA:8,ttI:9,tty:10,xe:11,ttE:12,ttl:13,tVR:14,Xs:15,tVt:16,tVB:17,tVV:18,tVD:19,tVc:20,Xu:21,tVL:22,tVE:23,tVh:24,tVW:25,tVq:26,tVp:27,tVi:28,tVm:29,xN:30,xF:31,tVo:32,tVn:33,tVl:34,tVU:35,tVk:36,tV_:37,t$R:38,t$t:0,t$g:1,t$a:2,t$o:3,t$X:1,tJc:2,tJL:0,tJM:1,tJo:1};
rA.t$r="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function r$(){}r$.Fp=function(H,N){var Q=r$,c=Vm.parse(H),O=0;if(c.pages.length>1)console.log(c.pages.length,"pages");
var _=[],L=new p;for(var s=0;s<c.pages.length;s++){var r=c.pages[s],u=r.layers,V=Q.jm(u,s),T=!1;if(V.f()>8e3*8e3||V.$>3e4||V.z>3e4){Q.Mv(u,!0);
var C=Q.jm(u,s);if(C.f()>=V.f())Q.Mv(u,!1)}V=Q.jm(u,s);for(var e=0;e<u.length;e++){var t=u[e];if(Q.pG(t)=="artboard")T=!0}if(!T){console.log("no artboard");
var Y={};for(var A in r)Y[A]=r[A];Y._class="group";r.layers=[Y]}_.push(V.clone());if(V.km())continue;
V.x=0;V.y=O;O+=V.z+200;L=L.Fv(V)}var G={};if(c.foreignSymbols)for(var j=0;j<c.foreignSymbols.length;
j++){var d=c.foreignSymbols[j].symbolMaster;G[d.symbolID]={CR:d}}Q.ME(c.pages,G,N);for(var w in G){var t=G[w].CR,f=Q.MW(t.layers)}var b=r$.xu(L,8192*8192);
N.iI=!0;N.$=Math.round(L.$/b);N.z=Math.round(L.z/b);N.buffer=$.I(N.$*N.z*4);N.HT(c.pages[0].layers.length);
N.rp={};O=0;for(var s=0;s<c.pages.length;s++){var F=c.pages[s],V=_[s],n=new Jo(b,0,0,b,V.x,V.y-O);Q.QR(F.layers,N,n,c,G,{},[]);
O+=V.z+200}delete N.rp;if(b!=1)alert("File scaled down "+b+"x")};r$.tJN=0;r$.pG=function(H){return H._class?H._class:H.$class};
r$.xu=function(H,N){var Q=1;while(Math.round(H.$/Q)*Math.round(H.z/Q)>N)Q++;if(Q!=1&&!window.confirm("Your image is quite large ("+H.$+" x "+H.z+" px).\n"+"Press OK to scale it down "+Q+"x, or Cancel to keep the size."))Q=1;
return Q};r$.jm=function(H,N){var Q=[],c=r$;for(var _=0;_<H.length;_++){var O=H[_],L=c.uq(O.frame);if(N==0||c.pG(O)=="artboard")Q.push(L)}return $.rect.Zx(Q)};
r$.Mv=function(H,N){var Q=[],c=r$;for(var _=0;_<H.length;_++){var O=H[_],L=c.uq(O.frame);L.$+=150;L.z+=150;
Q.push(L)}var s=$.rect.Zx(Q);$.rect.tJW(Q,N);var r=$.rect.Zx(Q);if(r.f()*1.5<s.f()||s.$>3e4&&r.$<=3e4||s.z>3e4&&r.z<=3e4){alert("Re-arranging artboards");
for(var _=0;_<H.length;_++){var u=Q[_],O=H[_],V=O.frame;V.x=u.x;V.y=u.y}}};r$.ME=function(H,N,Q){var c=r$;
for(var _=0;_<H.length;_++){var O=H[_],L=c.pG(O);if(["page","artboard","group"].indexOf(L)!=-1)c.ME(O.layers,N,Q);
else if(L=="symbolMaster")N[O.symbolID]={CR:O}}};r$.MW=function(H){var N=r$;for(var Q=0;Q<H.length;Q++){var c=H[Q],_=N.pG(c),O=null;
if(["page","artboard","group"].indexOf(_)!=-1)O=N.MW(c.layers);if(_=="symbolMaster"||_=="symbolInstance")O=c;
if(O!=null)return O}return null};r$.QR=function(H,N,Q,c,_,O,L){var s=r$,r=[];for(var u=0;u<H.length;
u++){var V=H[u],C=V.frame?s.uq(V.frame):null,T=V.style,j="",F=null;if(T==null){console.log("no styles")}var e=s.Mm(V,Q),t=s.pG(V),Y=t=="shapeGroup"||t=="shapePath"||t=="rectangle"||t=="oval"||t=="triangle",A=["page","artboard","group"].indexOf(t)!=-1;
if(t=="shapeGroup"){for(var G=0;G<V.layers.length;G++)if(s.pG(V.layers[G])=="shapeGroup")A=!0}var d=V.exportOptions;
if(d){var w=d.exportFormats;if(w==null)w=d.sizes;if(t!="artboard"&&(w&&w.length!=0)){var f=w[0].scale;
j="-e"+(f==1?"":f)+"-"}}var b=N.Zs();b.cE(V.isVisible);b.Vp(j+V.name.slice(0,250));if(T!=null)F=s.tJH(c,N,T,C,e,b.getName(),Y||t=="artboard");
if(V.shouldBreakMaskChain){while(r.length!=0)s.MF(r.pop(),N)}if(A){b.add.lsct=V.layerListExpandedType==2?tR.Gp:tR.Vc;
b.kE="pass";b._c=24;b.cE(V.isVisible);N.b.push(N.sd());if(t=="artboard"){var n=C.clone(),J=e.ka();n.x=-Math.floor(e.DX/J);
n.y=-Math.floor(e.Ug/J);n.$=Math.floor(n.$/J);n.z=Math.floor(n.z/J);b.L$(n);var Z=V.backgroundColor,P=Math.round(255*Z.blue)<<16|Math.round(255*Z.green)<<8|Math.round(255*Z.red);
if(P!=16777215){var M=N.Zs();M.Vp("Artboard Background");M.rect=n;M.buffer=$.I(M.rect.f()*4);$.Mw(M.buffer,255<<24|P);
N.b.push(M)}}s.QR(V.layers,N,e,c,_,O,L)}else if(Y){b.add.vmsk=new R.hT;b.add.vstk=JSON.parse(JSON.stringify(B.nO.default));
b.add.vstk.strokeEnabled.v=!1;b.add.vogk=[];var y=F!=null&&F.frameFXMulti.v.length==1,a=T.fills,g=s.Mj(c,a,C,e,b.getName(),N,s.Mi(L,V.do_objectID+"_image"));
if(g.length==0){if(y)b.add.vstk.fillEnabled.v=!1;else b.add.iOpa=0;b.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.e.Ta({T:0,q:0,H:0})}}}else{var U=g[0],D=null,W=null;
if(U.type=="SoFi"){D="SoCo";W=B.IS}if(U.type=="GrFl"){D="GdFl";W=B.fT}if(U.type=="patternFill"){D="PtFl";
W=B.fP}if(D!=null){b.add[D]={classID:"null"};for(var G=0;G<W.length;G++){var m=W[G];b.add[D][m]=U.R.v[m]}var q=U.R.v.Opct.v.val;
b.add.iOpa=Math.round(255*q/100)}}b._c|=16;b.add.vmsk.L=s.fW(V.layers?V.layers:[V],V.layers?e:Q,b.add.vogk);
var S=V.style.blur;if(S&&S.isEnabled&&S.type<=1)b.add.vmsk.jQ=S.radius;if(b.add.vmsk.L.length==2){console.log("shape with no content:",b.getName())}if(y){var I=F.frameFXMulti.v[0].v,v=b.add.vstk,h=T.borders[0];
F.frameFXMulti.v=[];Ja.Ki(I,v);var i=T.borderOptions,JI=T.miterLimit;if(i){v.strokeStyleLineCapType.v.strokeStyleLineCapType=B.nO.Ky[i.lineCapStyle];
v.strokeStyleLineJoinType.v.strokeStyleLineJoinType=B.nO.join[i.lineJoinStyle];v.strokeStyleLineDashSet.v=Ja.Yo(i.dashPattern,1/I.Sz.v.val);
if(JI!=null)v.strokeStyleMiterLimit.v=JI}}b.Sa(N)}else if(t=="bitmap"){var Jx=V.image.bdata,Jd=N.Pd(Jx,b.getName(),0,0);
Jd._c=b._c;b=Jd;var S=T.blur,JC=T.colorControls;if(S||JC){b.add.SoLd.filterFX=VJ.lu();N.wx({id:b.add.SoLd.placed.v,rect:new p,buffer:$.I(1),d:new R.qu});
var a=b.add.SoLd.filterFX.v.filterFXList.v;if(S){var JM=VJ.$m("GsnB",{});JM.v.enab.v=S.isEnabled;JM.v.Fltr.v.Rds.v.val=S.radius;
a.push(JM)}if(JC){var Jh=JC.brightness,Jv=JC.contrast,JW=JC.hue,Ji=JC.saturation;if(JW!=0||Ji!=1){var JM=VJ.$m("hue2",{});
JM.v.enab.v=JC.isEnabled;JM.v.Fltr.v.Adjs.v.push({t:"Objc",v:JO.nr([Math.round(JW*180/Math.PI),Math.round((Ji-1)*100),0])});
a.push(JM)}if(Jh!=0||Jv!=1){var JM=VJ.$m("brit",{});JM.v.enab.v=JC.isEnabled;Jv=Jv-1;if(Jv>0)Jv/=2;JO.nt("brit",[Math.round(Jh*255),Math.round(Jv*100),!0],JM.v.Fltr.v);
a.push(JM)}}}C.x=C.y=0;var Jc=$.K.DK(C).Z;e.UK();$.K.UC(Jc,e,Jc);b.add.SoLd.Trnf=l._.Sz(Jc);b.add.SoLd.nonAffineTransform=l._.Sz(Jc);
b.fc(N,!1)}else if(t=="text"){if(V.attributedString==null)continue;var JT=e.clone(),Jy,Jg,JA=0;JT.UK();
JT.o=JT.KI=Math.min(JT.o,JT.KI);b.add.lnsr="rend";b.add.TySh=X.YD(0,0);b.add.TySh._B=new p(0,0,C.$,C.z);
b.add.TySh.UC=JT;var Jn=V.attributedString;if(Jn.archivedAttributedString)Jn=Jn.archivedAttributedString;
var Jq=Jn.NSString;if(Jq==null)Jq=Jn.string;if(Jq["NS.string"])Jq=Jq["NS.string"];if(O[V.do_objectID]!=null)Jq=O[V.do_objectID];
var tJ=s.Mi(L,V.do_objectID+"_stringValue");if(tJ)Jq=tJ.value;if(Jn.attributes!=null){Jy=[];Jg=[];var ty=Jn.attributes;
for(var G=0;G<ty.length;G++){Jy.push(ty[G].length,G);Jg.push(ty[G].attributes)}}else if(Jn.NSAttributeInfo==null){Jy=[Jq.length,0];
Jg=[Jn.NSAttributes]}else{Jy=Jn.NSAttributeInfo["NS.data"];Jg=Jn.NSAttributes;Jy=r$.t$q(Jy,Jg)}for(var G=0;
G<Jy.length;G+=2)JA+=Jy[G];if(JA!=Jq.length){while(JA>Jq.length){Jy[Jy.length-2]--;JA--;if(Jy[Jy.length-2]==0){Jy.pop();
Jy.pop()}}Jy[Jy.length-2]+=Jq.length-JA}Jq=Jq.replace(/\u2028/g,"\n");Jq=Jq.replace(/\u2029/g,"\n");
Jq=Jq.replace(/\r/g,"\n");var td=b.add.TySh.Bd;X.el(td,0,Jq);if(Jq!=""){s.t$k(td,Jy,Jg,Jq);var J=JT.ka(),Jk=X.Sr(td,0,1),rR=Jk.hj.AutoLeading?0:Jk.hj.Leading*.6,Je=0,JU=Math.max(Jk.hj.FontSize,rR)*J,JK=C.$,rH=C.z;
if(V.textBehaviour==0){X.kN(td,0);var rL=X.Io(Jk.re);if(rL==1)Je=JK*J;if(rL==2)Je=JK*J*.5}else{X.kN(td,1);
X.Yc(td,[0,0,Math.round(JK),Math.round(rH)]);JU=JU*.35}b.add.TySh.UC.translate(Je,JU)}}else if(t=="symbolInstance"||t=="symbolMaster"){var Ju=V.symbolID;
if(O[V.do_objectID])Ju=O[V.do_objectID].symbolID;if(Ju=="")continue;var JZ={};for(var m in O)JZ[m]=O[m];
if(V.overrides)for(var m in V.overrides)JZ[m]=V.overrides[m];var Jl=L.slice(0);if(V.overrideValues)Jl=Jl.concat(V.overrideValues);
var rV=_[Ju];if(rV==null){console.log("Unknown master master",V.symbolID);continue}var rD=r$.uq(rV.CR.frame),tb=rD.$/C.$,rv=rD.z/C.z,rG=e.clone();
rG.scale(tb,rv);b.add.lsct=tR.Vc;b.kE="pass";b._c=24;b.cE(V.isVisible);N.b.push(N.sd());s.QR(rV.CR.layers,N,rG,c,_,JZ,Jl)}else if(t=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+t,V);continue}if(T&&T.contextSettings){var Js=T.contextSettings;
b.kE=s.em[Js.blendMode];b.kE=ta.Cj[ta.io.indexOf(b.kE)];b.opacity=Math.round(b.opacity*Js.opacity)}if(F!=null)b.add.lmfx=F;
N.b.push(b);if(V.hasClippingMask){r.push(b);N.b.push(N.sd())}}while(r.length!=0)s.MF(r.pop(),N)};r$.Mi=function(H,N){for(var Q=0;
Q<H.length;Q++)if(H[Q].overrideName.startsWith(N))return H[Q]};r$.t$q=function(H,N){var Q=0,c=[];while(Q+1<H.length){var _=H[Q];
Q++;if(_>127){_+=128*(H[Q]-1);Q++;if(H[Q-1]>127){_+=128*(H[Q]-1);Q++}}var O=H[Q];Q++;c.push(_,O)}return c};
r$.t$k=function(H,N,Q,c){var _=r$,O=0,C=0;for(var L=0;L<c.length;L++){var s=c.charCodeAt(L),r=1473<=s&&s<=1479||1488<=s&&s<=1514||1520<=s&&s<=1524,u=1569<=s&&s<=1594||1600<=s&&s<=1749;
if(r||u)O++}var V=O>c.length/2;for(var L=0;L<N.length;L+=2){var T=N[L],f=0,b="";if(T==0)continue;var e=N[L+1],t=Q[e],Y=X.Sr(H,C,C+T-1),A=t.NSColor;
if(A==null){var A=t.MSAttributedStringColorDictionaryAttribute;if(A==null)A=t.MSAttributedStringColorAttribute;
if(A==null)A="0 0 0";else A=[A.red,A.green,A.blue].join(" ")}else if(_.pG(A)=="MSArchivedColor")A=A.dr+" "+A.dg+" "+A.db;
else if(A.NSRGB){A=A.NSRGB;A=x.sx(A,0,A.length-1)}else if(A.NSCMYK){A=A.NSCMYK;A=x.sx(A,0,A.length-1);
A=A.split(" ").map(parseFloat);var G=1-A[0],j=1-A[1],d=1-A[2],w=1-A[3];A=G*w+" "+j*w+" "+d*w}else if(A.NSWhite){A="1 1 1"}A=A.split(" ");
Y.hj.FillColor={Type:1,Values:[1,parseFloat(A[0]),parseFloat(A[1]),parseFloat(A[2])]};if(t.NSFont){f=t.NSFont.NSSize;
b=t.NSFont.NSName}else{var F=t.MSAttributedStringFontAttribute;if(F.attributes){F=F.attributes;f=F.size;
b=F.name}else{F=F.NSFontDescriptorAttributes;f=F.NSFontSizeAttribute;b=F.NSFontNameAttribute}if(b==null)b="DejaVuSans"}Y.hj.FontSize=Math.round(f);
X.kP(Y,b);if(t.NSKern!=null)Y.hj.Tracking=Math.round(600*t.NSKern/f);if(t.NSUnderline!=null)Y.hj.Underline=t.NSUnderline>0;
if(t.NSStrikethrough!=null)Y.hj.Strikethrough=t.NSStrikethrough>0;if(t.MSAttributedStringTextTransformAttribute==1)Y.hj.FontCaps=2;
var n=t.NSParagraphStyle;if(n==null)n=t.paragraphStyle;var J=n?n.NSAlignment:null;if(n&&J==null)J=n.alignment;
if(J!=null){var Z=0;if(!1){}else if(J==1)Z=1;else if(J==2)Z=2;else if(J==4)Z=0;else{Z=J;console.log("unknown align",J)}if(V&&Z<2)Z=1-Z;
Y.re.Justification=Z}var P=n?n.NSMinLineHeight:null;if(n&&P==null)P=n.minimumLineHeight;if(n&&P!=null){Y.hj.AutoLeading=!1;
Y.hj.Leading=Math.round(P)}Y.re._Direction=V?1:0;X.zX(H,C,C+T,Y);C+=T}};r$.tJH=function(H,N,Q,c,_,O,L){var s=r$,r=JSON.parse(B.default),V=!1;
for(var u=0;u<B.order.length;u++)r[B.vz[u]]={t:"VlLs",v:[]};var C=Q.fills,T=s.Mj(H,C,c,_,O,N);for(var e=0;
e<2;e++){var t=Q[["shadows","innerShadows"][e]];if(t==null)continue;var Y=["DrSh","IrSh"][e],A=B.vz[B.order.indexOf(Y)];
for(var u=0;u<t.length;u++){var G=t[u];if(!G.isEnabled)continue;if(G.contextSettings.opacity==0||G.color.alpha==0)continue;
var j=JSON.parse(B.cz[B.order.indexOf(Y)]);r[A].v.unshift({t:"Objc",v:j});V=!0;j.Clr.v=s.bI(G.color);
j.blur.v.val=Math.round(G.blurRadius/_.ka());var d=G.offsetX,w=G.offsetY,f=Math.sqrt(d*d+w*w);j.Dstn.v.val=Math.round(f/_.ka());
j.lagl.v.val=Math.round(Math.atan2(w,-d)*(180/Math.PI));if(j.layerConceals)j.layerConceals.v=T.length!=0;
s.Qt(G,j)}}var b=Q.borders;if(b!=null&&(T.length==0||Q.blur==null||!Q.blur.isEnabled))for(var u=0;u<b.length;
u++){var F=b[u];if(!F.isEnabled)continue;var j=JSON.parse(B.cz[B.order.indexOf("FrFX")]),A=B.vz[B.order.indexOf("FrFX")];
r[A].v.unshift({t:"Objc",v:j});V=!0;j.Clr.v=s.bI(F.color);if(F.fillType!=0&&F.gradient){var n=s.mM(F.gradient,c,_,O),J=["Type","Angl","Ofst","Scl"];
for(var u=0;u<J.length;u++)j[J[u]]=n[J[u]];j.Grad.v=n.Grad.v;j.PntT.v.FrFl="GrFl"}j.Sz.v.val=F.thickness/_.ka();
j.Styl.v.FStl=["CtrF","InsF","OutF"][F.position];s.Qt(F,j)}for(var u=L?1:0;u<T.length;u++){var Z=T[u],A=B.vz[B.order.indexOf(Z.type)];
r[A].v.unshift(Z.R);V=!0}return V?r:null};r$.Mj=function(H,N,Q,c,_,O,L){if(N==null)return[];var s=r$,r=[];
for(var u=0;u<N.length;u++)if(N[u].isEnabled)r.push(N[u]);N=r;var V=[];for(var u=0;u<N.length;u++){var C=N[u],T=null,e=null;
if(C.fillType==0){T="SoFi";var t=JSON.parse(B.cz[B.order.indexOf("SoFi")]);e={t:"Objc",v:t};e.v.Clr.v=s.bI(C.color)}else if(C.fillType==1){T="GrFl";
e={t:"Objc",v:s.mM(C.gradient,Q,c,_)}}else if(C.fillType==4&&C.image!=null){var Y=C.image;if(L)Y=L.value;
var A=JP.Uw(Y.bdata.buffer);if(A!=null&&A!="pdf"){var G,f=0,b=0,F=0;if(O.rp[Y.key])G=O.rp[Y.key];else{var j=JP.aD(A).cA(Y.bdata)[0];
G={data:j.data,lU:new p(0,0,j.MD.$,j.MD.z)};G.id=rw.kf()+"-d71c-11e5-b1ae-a548a96e5f9f";G.name="someImage";
G.nn=new Uint8Array(G.data);delete G.data;O.EO(G);O.rp[Y.key]=G}var t=JSON.parse(B.cz[B.order.indexOf("patternFill")]);
T="patternFill";e={t:"Objc",v:t};var d=C.patternFillType,w=C.patternTileScale;t.Algn.v=!0;t.Ptrn.v.Idnt.v=G.id;
if(d==0){f=w*G.lU.$/Math.min(G.lU.$,G.lU.z);b=-c.DX;F=-c.Ug}else{f=Math.max(Q.$,Q.z)/Math.min(G.lU.$,G.lU.z);
b=-c.DX-(G.lU.$*f-Q.$)/2;F=-c.Ug-(G.lU.z*f-Q.z)/2}t.Scl.v.val=100*f*(1/c.ka());t.phase.v.Hrzn.v=Math.round(b/c.ka());
t.phase.v.Vrtc.v=Math.round(F/c.ka())}}else if(C.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",C.fillType);
if(T!=null){s.Qt(C,e.v);V.push({type:T,R:e})}}return V};r$.trU=function(H){var N=r$,Q=new p(0,0,1,1);
H=H.slice(0);while(!0){var c=!1;for(var _=0;_<H.length-1;_++){var O=H[_],L=H[_+1],s=null,r=O.contextSettings;
if(O.fillType==0&&(r==null||r.opacity==1&&r.blendMode==0)&&O.color.alpha==1){var u="norm",V=1,r=L.contextSettings;
if(r){V=r.opacity;u=ta.FC(N.em[r.blendMode])}if(L.fillType==0){s=JSON.parse(JSON.stringify(L));N.MK(s.color,O.color,s.color,Q,u,V)}if(L.fillType==1){s=JSON.parse(JSON.stringify(L));
var C=s.gradient.stops;for(var T=0;T<C.length;T++)N.MK(C[T].color,O.color,C[T].color,Q,u,V)}if(s!=null&&s.contextSettings){var r=s.contextSettings;
r.opacity=1;r.blendMode=0}}if(s!=null){H.splice(_,0,s);c=!0;break}}if(!c||H.length<2)break}return H};
r$.MK=function(H,N,Q,c,_,O){var L=r$,s=$.I(4);L.MU(H,s);var r=$.I(4);L.MU(N,r);$.a.MR(_,s,c,r,c,c,O);
L.tJy(r,Q)};r$.MU=function(H,N){N[0]=255*H.red;N[1]=255*H.green;N[2]=255*H.blue;N[3]=255*H.alpha};r$.tJy=function(H,N){N.red=H[0]/255;
N.green=H[1]/255;N.blue=H[2]/255;N.alpha=H[3]/255};r$.MF=function(H,N){H=H.clone();H._c=24;H.Vp("Mask by "+H.getName());
N.b.push(H);H.add.lsct=tR.Gp;H.add.lyid=N.KU();delete H.add.lmfx;delete H.add.SoCo;delete H.add.GdFl;
delete H.add.PtFl;delete H.add.iOpa;H.add.vmsk.rb=!0;H.Sa(N);if((H._c&16)==16)H._c-=16;if((H._c&2)==2)H._c-=2;
H.kE="pass";H.opacity=255};r$.em="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns".split(" ");
r$.mM=function(H,N,Q,c){Q=Q.clone();Q.UK();Q.DX=Q.Ug=0;var _=r$,O=JSON.parse(B.cz[B.order.indexOf("GrFl")]),L=O.Grad.v,C=0,T=0;
L.Intr.v=0;if(H==null)return O;var s=H.gradientType,r=_.ie(H.from),u=_.ie(H.to);r.offset(-.5,-.5);u.offset(-.5,-.5);
r=Q.Sk(r);u=Q.Sk(u);var V=Math.atan2(-(u.y-r.y),u.x-r.x);O.Type.v.GrdT=["Lnr","Rdl","Angl"][s];O.Scl.v.val=100*E.Ln(r,u);
if(s==0){O.Angl.v.val=180/Math.PI*V;O.Scl.v.val=100*E.Ln(r,u);C=(r.x+u.x)/2;T=(r.y+u.y)/2}if(s==1){O.Scl.v.val=200*E.Ln(r,u);
C=r.x;T=r.y}if(s==2){O.Angl.v.val=180/Math.PI*(V-Math.PI/2)}var e=O.Ofst.v;e.Hrzn.v.val=C*100;e.Vrtc.v.val=T*100;
var t=[];for(var Y=0;Y<H.stops.length;Y++){var A=H.stops[Y],G=A.color;t.push([A.position,G?[G.red,G.green,G.blue]:[0,0,0],G.alpha])}$.e.zO(t,L);
return O};r$.Qt=function(H,N){var Q=r$,c=1,_=H.contextSettings;if(_!=null){N.Md.v.BlnM=Q.em[_.blendMode];
c*=_.opacity}else N.Md.v.BlnM=Q.em[0];N.enab.v=H.isEnabled;if(N.uglg!=null)N.uglg.v=!1;if(H.color!=null)c*=H.color.alpha;
N.Opct.v.val=Math.round(c*100)};r$.bI=function(H){return $.e.Ta(H?{T:H.red*255,q:H.green*255,H:H.blue*255}:{T:0,q:0,H:0})};
r$.fW=function(H,N,Q){var c=r$,_=[{type:6},{type:8,all:0}];for(var O=0;O<H.length;O++){var L=H[O],s=L.booleanOperation,r=0,t=!1;
if(s==-1)r=0;else if(s==0)r=1;else if(s==1)r=2;else if(s==2)r=3;else if(s==3)r=0;if(O==0)r=1;var u=r$.uq(L.frame),V=c.Mm(L,N),C=L.path?L.path:L,T=[{type:0,length:0,AY:r,Fz:2,ev:0,Nb:0}],e=C.points;
for(var Y=0;Y<e.length;Y++){var A=e[Y],G=c.ie(A.curveTo),j=c.ie(A.point),d=c.ie(A.curveFrom);t=t||A.hasCurveFrom&&!d.v$(j)||A.hasCurveTo&&!G.v$(j)}var w=[];
if(!t){var f=[],b=e.length;if(b==0)continue;for(var Y=0;Y<b;Y++){w[Y]=e[Y].cornerRadius;var A=c.ie(e[Y].point);
f.push(A.x,A.y)}V.scale(1/u.$,1/u.z);V.UK();$.K.UC(f,V,f);var F=$.A.AG(f,w);T=T.concat(F);T[0].length=T.length-1}else{var n=e.length;
T[0].length=n;var J=[];for(var Y=0;Y<n;Y++){var A=e[Y];T[n-Y]={type:1,kM:c.ie(A.curveFrom),P:c.ie(A.point),kq:c.ie(A.curveTo)}}V.scale(1/u.$,1/u.z);
V.UK();$.A.Nj(T,V)}if(!C.isClosed)for(var Y=0;Y<T.length;Y++)T[Y].type+=3;_=_.concat(T);var Z=$.FU.kh(),P=c.pG(L);
if(V.H==0&&V.lA==0){var M=V.DX,y=V.Ug,a=M+V.o,g=y+V.KI,U=[M,y,a,g];if(P=="rectangle"&&w.length==4)Z=$.FU.Ne(2,U,w);
if(P=="oval")Z=$.FU.Ne(5,U)}Q.push(Z)}return _};r$.Mm=function(H,N){var Q=N.clone(),c=H.frame?r$.uq(H.frame):null;
if(c)Q.translate(-c.x-c.$/2,-c.y-c.z/2);if(H.isFlippedHorizontal)Q.scale(-1,1);if(H.isFlippedVertical)Q.scale(1,-1);
Q.rotate(-H.rotation*(Math.PI/180));if(c)Q.translate(c.$/2,c.z/2);return Q};r$.ie=function(H){H=H.slice(1,H.length-1).split(",");
return new E(parseFloat(H[0]),parseFloat(H[1]))};r$.uq=function(H){return new p(H.x,H.y,H.width,H.height)};
r$.xr=function(H){return{_class:"rect",constrainProportions:!1,x:H.x,y:H.y,width:H.$,height:H.z}};function tz(){}tz.Fp=function(H,N){var Q=tz,c=UZIP.parse(H),_=JSON.parse(tm.hI(c.manifest)),O=JSON.parse(tm.hI(c["resources/graphics/graphicContent.agc"])).resources,L=[],s=_.children;
for(var r=0;r<s.length;r++){var u=s[r];if(u.name=="artwork"){var V=u.children;for(var C=0;C<V.length;
C++)if(V[C]["uxdesign#bounds"]){var T=V[C],e=JSON.parse(tm.hI(c["artwork/"+T.path+"/graphics/graphicContent.agc"]));
if(e.children.length!=1)throw"e";T._node=e.children[0];L.push(T)}}}var t=[],Y=new p;for(var r=0;r<L.length;
r++){var T=L[r],A=r$.uq(T["uxdesign#bounds"]);t.push(A);Y=Y.Fv(A)}var G=r$.xu(Y,8192*8192);N.iI=!0;N.$=Math.round(Y.$/G);
N.z=Math.round(Y.z/G);N.buffer=$.I(N.$*N.z*4);N.HT(L.length);var j=new Jo(G,0,0,G,Y.x,Y.y);N.rp={};for(var r=0;
r<L.length;r++){var T=L[r],A=r$.uq(T["uxdesign#bounds"]),d=T._node,w=j.clone(),f=A.clone(),b=w.ka();
w.translate(-A.x,-A.y);f.x=-Math.floor(w.DX/b);f.y=-Math.floor(w.Ug/b);f.$=Math.floor(f.$/b);f.z=Math.floor(f.z/b);
w.translate(A.x,A.y);tz.sK(d,N,w,O,c,f);var F=N.b[N.b.length-1];F.Vp(T.name);F.L$(f);if(r!=L.length-1)F.add.lsct=tR.Vc}delete N.rp};
tz.FB=function(H){if(H==null)return new Jo;return new Jo(H.a,H.b,H.c,H.d,H.tx,H.ty)};tz.sK=function(H,N,Q,c,_,O){var L=tz,s=H.type,r=H[s],u=H.style,V=L.FB(H.transform),t,Y="none",A,G="none",j,d;
V.UK();var C=Q.clone();C.concat(V);var T=N.Zs(),e=H.name;T.Vp(e?e.slice(0,250):"Layer");if(H.visible!=null)T.cE(H.visible);
if(u){t=u.stroke;Y=t?t.type:"none";A=u.fill;G=A?A.type:"none";j=u.filters;d=u.clipPath;if(u.opacity)T.opacity=Math.round(255*u.opacity);
if(G=="solid"&&A.color.alpha)T.opacity=Math.round(T.opacity*A.color.alpha);if(j){T.add.lmfx=L.tJD(j);
for(var w=0;w<j.length;w++)if(j[w].type=="uxdesign#blur"){var f=j[w],b=f.params,F=b.brightnessAmount;
if(F==null)F=0;F=Math.abs(F/100);if((f.visible==null||f.visible==!0)&&b.backgroundEffect)T.opacity=Math.round(T.opacity*(F+(1-F)*b.fillOpacity))}}}if(s=="artboard"||s=="group"){if(d&&c.clipPaths[d.ref]){var n=c.clipPaths[d.ref].children[0],V=L.FB(n.transform);
V.UK();var J=C.clone();J.concat(V);T.add.vmsk=new R.hT;T.add.vmsk.L=L.fW(n.shape);J=J.clone();J.UK();
$.A.Nj(T.add.vmsk.L,J);T.Sa(N)}T.add.lsct=tR.Gp;T.kE="pass";T._c=24;if(H.visible!=null)T.cE(H.visible);
N.b.push(N.sd());var Z=r.children,P=A;if(P)P=P.color;if(P)P=P.value;if(A&&(G!="solid"||P.r!=255||P.g!=255||P.b!=255)){var M=N.Zs();
M.Vp("BACKGROUND");M._c|=16;M.add.vstk=JSON.parse(JSON.stringify(B.nO.default));M.add.vmsk=new R.hT;
M.add.vmsk.L=L.fW({type:"rect",x:O.x,y:O.y,width:O.$,height:O.z});L.uP(A,G,C,O,O,M,N,c,_);M.Sa(N);N.b.push(M)}for(var w=0;
w<Z.length;w++){tz.sK(Z[w],N,C,c,_,O)}}else if(s=="shape"&&H.shape.type=="rect"&&(H.shape.r==null||H.shape.r==0)&&u!=null&&u.fill.type=="pattern"){var y=A.pattern,a=y.meta.ux,g=a.uid,U=_["resources/"+g],D=N.Pd(U,T.getName(),0,0);
D._c=T._c;T=D;var W=$.K.DK(new p(0,0,y.width,y.height)).Z,m=new Jo;m.scale(y.width/H.shape.width,y.height/H.shape.height);
C.concat(m);C.UK();$.K.UC(W,C,W);T.add.SoLd.Trnf=l._.Sz(W);T.add.SoLd.nonAffineTransform=l._.Sz(W);T.fc(N,!1)}else if(s=="shape"){T._c|=16;
T.add.vstk=JSON.parse(JSON.stringify(B.nO.default));T.add.vmsk=new R.hT;T.add.vmsk.L=L.fW(r);var q=$.A.gw(T.add.vmsk.L,null),J=C.clone();
J.UK();$.A.Nj(T.add.vmsk.L,J);var S=$.A.gw(T.add.vmsk.L,null);if(Y=="none"){}else{var I=t.color.value,v,h;
v="SoFi";var i=JSON.parse(B.cz[B.order.indexOf("SoFi")]);h={t:"Objc",v:i};h.v.Clr.v=$.e.Ta({T:I.r,q:I.g,H:I.b});
var JI=t.align,Jx=t.cap;if(JI==null)JI="center";var Jd=T.add.vstk;Jd.strokeEnabled.v=!0;Jd.strokeStyleLineWidth.v.val=t.width;
if(JI)Jd.strokeStyleLineAlignment.v.strokeStyleLineAlignment=B.nO.e$[["inside","center","outside"].indexOf(JI)];
if(Jx)Jd.strokeStyleLineCapType.v.strokeStyleLineCapType=B.nO.Ky[["butt","round","square"].indexOf(Jx)];
var JC=["SoFi","GrFl","patternFill"].indexOf(v),JM=[B.IS,B.fT,B.fP][JC];Jd.strokeStyleContent.v={classID:B.nO.aw[0]};
var Jh=Jd.strokeStyleContent.v={classID:B.nO.aw[JC]};for(var w=0;w<JM.length;w++)Jh[JM[w]]=h.v[JM[w]]}L.uP(A,G,C,q,S,T,N,c,_);
T.Sa(N)}else if(s=="text"){var Jv=H.text,JW=Jv.frame,Ji=u.font,Jc=u.textAttributes;if(T.getName().startsWith("Awesome"))console.log(H,Jv,Ji);
var V=C.clone();V.UK();T.add.lnsr="rend";T.add.TySh=X.YD(0,0);T.add.TySh._B=new p(0,0,100,100);T.add.TySh.UC=V;
var JT=T.add.TySh.Bd;X.el(JT,0,Jv.rawText);var I=A.color.value,Jy=X.Sr(JT,0,1);X.kP(Jy,Ji.postscriptName);
Jy.hj.FontSize=Math.round(Ji.size);Jy.hj.FillColor={Type:1,Values:[1,I.r/255,I.g/255,I.b/255]};if(Jc){if(Jc.paragraphAlign)Jy.re.Justification=["left","right","center"].indexOf(Jc.paragraphAlign);
if(Jc.letterSpacing)Jy.hj.Tracking=Math.round(Jc.letterSpacing);if(Jc.lineHeight){Jy.hj.AutoLeading=!1;
Jy.hj.Leading=Math.round(Jc.lineHeight)}}X.zX(JT,0,Jv.rawText.length,Jy);if(JW.type=="area"){X.kN(JT,1);
X.Yc(JT,[0,0,JW.width,JW.height])}}else console.log(s,H);N.b.push(T)};tz.fW=function(H){var N=H.type,Q=[{type:6},{type:8,all:0}];
if(N=="rect"){var c=H.r,_=H.x,O=H.y,L=H.width,s=H.height;if(c==null)Q=$.A.FH.Rect(_,O,L,s,0);else Q=Q.concat([{type:0,AY:1,length:8,ev:0,Nb:0,Fz:1}]).concat($.A.AG([_,O,_+L,O,_+L,O+s,_,O+s],c,!1))}else if(N=="circle"){var c=H.r;
Q=$.A.FH.QJ(H.cx-c,H.cy-c,2*c,2*c)}else if(N=="ellipse"){var r=H.rx,u=H.ry;Q=$.A.FH.QJ(H.cx-r,H.cy-u,2*r,2*u)}else if(N=="path"||N=="compound"){Q=Q.concat($.A.eX(H.path))}else if(N=="line"){var V=H.x1,C=H.x2,T=H.y1,e=H.y2;
Q=Q.concat([{type:0,AY:1,length:2,ev:0,Nb:0,Fz:1}]).concat($.A.AG([V,T,C,e],0,!0))}else console.log(N,H);
return Q};tz.tJD=function(H){var N=JSON.parse(B.default);for(var Q=0;Q<B.order.length;Q++)N[B.vz[Q]]={t:"VlLs",v:[]};
for(var Q=0;Q<H.length;Q++){var c=H[Q],_=c.type,O=c.params,L=c.visible;if(_=="dropShadow"){var s=B.vz[B.order.indexOf("DrSh")],r=JSON.parse(B.cz[B.order.indexOf("DrSh")]);
N[s].v.unshift({t:"Objc",v:r});var u=O.dropShadows;if(u.length!=1)throw"e";var V=u[Q],C=V.color,T=C.value,e=V.dx,t=V.dy;
r.Clr.v=$.e.Ta({T:T.r,q:T.g,H:T.b});r.Opct.v.val=Math.round((C.alpha!=null?C.alpha:1)*100);r.uglg.v=!1;
r.enab.v=L!=null?L:!0;r.lagl.v.val=Math.round(180/Math.PI*Math.atan2(t,-e));r.Dstn.v.val=Math.round(Math.sqrt(e*e+t*t));
r.blur.v.val=Math.round(V.r*2.3)}else console.log(_,c)}return N};tz.uP=function(H,N,Q,c,_,O,L,s,r){var u=tz;
if(N=="none"){O.add.vstk.fillEnabled.v=!1;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.e.Ta({T:0,q:0,H:0})}}}else{var V,C,T;
if(N=="solid"){var e=H.color.value;V="SoCo";C=B.IS;var t=JSON.parse(B.cz[B.order.indexOf("SoFi")]);T={t:"Objc",v:t};
T.v.Clr.v=$.e.Ta({T:e.r,q:e.g,H:e.b})}else if(N=="gradient"){V="GdFl";C=B.fT;var t=JSON.parse(B.cz[B.order.indexOf("GrFl")]),Y=t.Grad.v,w,f,b;
Y.Intr.v=0;var A=H[N],G=s.gradients[A.ref],j=["linear","radial"].indexOf(G.type),d=G.stops;t.Type.v.GrdT=["Lnr","Rdl","Angl"][j];
if(j==0){var w=new E(A.x1,A.y1),f=new E(A.x2,A.y2);w.x=f.x+.5*(w.x-f.x);w.y=f.y+.5*(w.y-f.y)}else{var w=new E(A.cx,A.cy),f=new E(A.cx+A.r,A.cy)}b=_;
if(A.units=="objectBoundingBox"){var F=new Jo(c.$,0,0,c.z,c.x,c.y);w=F.Sk(w);f=F.Sk(f)}var F=u.FB(A.transform);
w=F.Sk(w);f=F.Sk(f);F=Q.clone();F.UK();w=F.Sk(w);f=F.Sk(f);$.e.qa(w,f,b,t);var n=[];for(var J=0;J<d.length;
J++){var Z=d[J],P=Z.color,e=P.value,M=P.alpha;if(M==null)M=1;n.push([Z.offset,[e.r/255,e.g/255,e.b/255],M])}$.e.zO(n,Y);
T={t:"Objc",v:t}}else if(N=="pattern"){V="PtFl";C=B.fP;var t=JSON.parse(B.cz[B.order.indexOf("patternFill")]),W,q=1,S=0,I=0,v=1;
T={t:"Objc",v:t};var y=H[N],a=y.meta.ux,g=a.uid,U=r["resources/"+g].buffer,D=JP.Uw(U);if(L.rp[g])W=L.rp[g];
else{var m=JP.aD(D).cA(U)[0];W={data:m.data,lU:new p(0,0,y.width,y.height)};W.id=rw.kf()+"-d71c-11e5-b1ae-a548a96e5f9f";
W.name="someImage";W.nn=new Uint8Array(W.data);delete W.data;L.EO(W);L.rp[g]=W}t.Algn.v=!0;t.Ptrn.v.Idnt.v=W.id;
if(a.scaleBehavior=="cover"){q=v*Math.max(_.$,_.z)/Math.min(W.lU.$,W.lU.z);S=_.x-(W.lU.$*q-_.$)/2;I=_.y-(W.lU.z*q-_.z)/2}else if(a.scaleBehavior=="fill"){q=v*Math.min(_.$,_.z)/Math.max(W.lU.$,W.lU.z);
S=_.x-(W.lU.$*q-_.$)/2;I=_.y-(W.lU.z*q-_.z)/2}else throw"Unknown scale behaviour";t.Scl.v.val=100*q;
t.phase.v.Hrzn.v=Math.round(S);t.phase.v.Vrtc.v=Math.round(I)}else console.log(N);if(V!=null){O.add[V]={classID:"null"};
for(var J=0;J<C.length;J++){var h=C[J];O.add[V][h]=T.v[h]}}}};function VL(){}VL.Fp=function(H,N){H=new Uint8Array(H);
var Q=tm.hI(H,0,H.length),c=new DOMParser,_=c.parseFromString(Q,"image/svg+xml"),O=_.getElementsByTagName("style")[0];
if(O){var L=VL.Ms(O.textContent,"{","}");O={};for(var s=0;s<L.length;s+=2){var r=L[s].split(/,?\s+/);
for(var u=0;u<r.length;u++)O[r[u]]=L[s+1]}}else O={};var V=_.firstChild;while(V.tagName!="svg")V=V.nextSibling;
var C=new p(0,0,100,100),T=V.getAttribute("viewBox");if(T){var e=T.split(" ").map(parseFloat);C.x=e[0];
C.y=e[1];C.$=e[2];C.z=e[3]}else if(V.getAttribute("width")){C.$=parseFloat(V.getAttribute("width"));
C.z=parseFloat(V.getAttribute("height"))}C=$.K.Cn(C);N.iI=!0;N.$=C.$;N.z=C.z;N.buffer=$.I(C.f()*4);var t=new Jo(1,0,0,1,-C.x,-C.y),Y={PH:VL.NJ(V),sn:O};
VL.Q$(_,V.children,N,t,Y,new Jo)};VL.Q$=function(H,N,Q,c,_,O){var L=VL,s=["display","opacity","fill-opacity"];
for(var r=0;r<N.length;r++){var u=N[r],V=u.tagName,C=u.getAttribute("id"),T=L.NJ(u,_.sn),e=JSON.parse(JSON.stringify(_.PH)),d=1,f="clip-path",b=null;
for(var t in T)if(s.indexOf(t)==-1)e[t]=T[t];if(u.getAttribute("dx"))c.DX+=L.QH(u.getAttribute("dx"),13);
if(u.getAttribute("dy"))c.Ug+=L.QH(u.getAttribute("dy"),13);var Y=L.N$(u);Y.concat(c);var A=u.getAttribute("visibility"),G=T.display,j=Q.Zs();
if(A=="hidden"||G=="none")j.cE(!1);j.Vp(C!=null?C:"Layer");if(T.opacity)d*=parseFloat(T.opacity);if(T["fill-opacity"])d*=parseFloat(T["fill-opacity"]);
j.opacity=Math.round(255*d);if(T["mix-blend-mode"]){var w=ta.l_.indexOf(T["mix-blend-mode"]);if(w!=-1)j.kE=ta.Cj[w]}if(u.getAttribute(f)==null)f="mask";
if(u.getAttribute(f)!=null){b=Q.Zs();b.Vp("Clip-Path"+(C?": "+C:""));b.add.lsct=tR.Gp;b.kE="pass";b._c=24;
var F=b.add.vmsk=new R.hT;Q.b.push(Q.sd());var n=u.getAttribute(f);n=n.slice(4,n.length-1);var J=H.getElementById(n.slice(1)),Z=J.children,P=[];
if(J.getAttribute(f)){var n=J.getAttribute(f);n=n.slice(4,n.length-1);P=H.getElementById(n.slice(1)).children}for(var M=0;
M<Z.length;M++){var y=L.N$(Z[M]);y.concat(Y);var a=L.fW(H,Z[M]).slice(2);$.A.Nj(a,y);F.L=F.L.concat(a)}for(var M=0;
M<P.length;M++){var y=L.N$(Z[M]);y.concat(Y);var a=L.fW(H,P[M]).slice(2);for(var g=0;g<a.length;g++)if(a[M].AY!=null)a[M].AY=3;
$.A.Nj(a,y);F.L=F.L.concat(a)}b.Ls();b.Sa()}if(V=="g"||V=="a"||V=="svg"||V=="switch"||(V=="text"||V=="textPath")&&u.children.length>0){if(V=="text")O=L.JD(u,O);
var U=u.children.length,D=_.PH;_.PH=e;var W=V!="text"&&V!="textPath"||U>1;if(W){var m=j.op();j.add.lsct=m?tR.Gp:tR.Vc;
j.kE="pass";j._c=24;j.cE(m);Q.b.push(Q.sd())}L.Q$(H,u.children,Q,Y,_,O);if(W)Q.b.push(j);_.PH=D}else if(V=="use"){var q=L.JD(u);
q.concat(Y);var S=L.Nr(u),I=H.getElementById(S.slice(1)),D=_.PH;_.PH=e;L.Q$(H,[I],Q,q,_,O);_.PH=D}else if(V=="path"||V=="rect"||V=="circle"||V=="ellipse"||V=="polygon"||V=="polyline"||V=="line"){j._c|=16;
j.add.vmsk=new R.hT;j.add.vstk=JSON.parse(JSON.stringify(B.nO.default));j.add.vstk.strokeEnabled.v=!1;
var v=j.add.vstk,F=j.add.vmsk;F.L=L.fW(H,u);$.A.Nj(F.L,Y);var h=$.A.gw(F.L),i=e.stroke,JI=e["stroke-width"],Jx=e["stroke-dasharray"],Jd=e.fill,JC=e["stroke-linejoin"],JM=e["stroke-linecap"],Jh=e["paint-order"];
if(i==null||i=="none"){}else{var Jv=L.Mu(H,i,Y,h),JW=["SoFi","GrFl","patternFill"].indexOf(Jv.type),Ji=[B.IS,B.fT,B.fP][JW],Jc=v.strokeStyleContent.v={classID:B.nO.aw[JW]},JT=1;
for(var M=0;M<Ji.length;M++)Jc[Ji[M]]=Jv.R.v[Ji[M]];JI=JI?parseFloat(JI):1;if(Jh&&Jh.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){JT=2;
JI/=2}v.strokeEnabled.v=!0;if(JC)v.strokeStyleLineJoinType.v.strokeStyleLineJoinType=B.nO.join[["miter","round","bevel"].indexOf(JC)];
if(JM)v.strokeStyleLineCapType.v.strokeStyleLineCapType=B.nO.Ky[["butt","round","square"].indexOf(JM)];
v.strokeStyleLineWidth.v.val=JI*l._.ka(Y);v.strokeStyleLineAlignment.v.strokeStyleLineAlignment=B.nO.e$[JT];
v.strokeStyleOpacity.v.val=100*(e["stroke-opacity"]?parseFloat(e["stroke-opacity"]):1);if(Jx!=null&&Jx!="none")v.strokeStyleLineDashSet.v=Ja.Yo(Jx.split(",").map(parseFloat),1/JI)}if(Jd=="none"){j.add.vstk.fillEnabled.v=!1;
j.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.e.Ta({T:0,q:0,H:0})}}}else{var Jv=L.Mu(H,Jd,Y,h),Jy=null,Jg=null;
if(Jv.type=="SoFi"){Jy="SoCo";Jg=B.IS}if(Jv.type=="GrFl"){Jy="GdFl";Jg=B.fT}if(Jv.type=="patternFill"){Jy="PtFl";
Jg=B.fP}if(Jy!=null){j.add[Jy]={classID:"null"};for(var M=0;M<Jg.length;M++){var t=Jg[M];j.add[Jy][t]=Jv.R.v[t]}}}if(e.filter){var Jn=e.filter;
Jn=Jn.slice(5,Jn.length-1);var Jq=H.getElementById(Jn).children[0];if(Jq.tagName=="feGaussianBlur"){j.add.vmsk.jQ=parseFloat(Jq.getAttribute("stdDeviation"))*l._.ka(Y)}}j.Ls();
j.Sa(Q);Q.b.push(j)}else if((V=="text"||V=="tspan")&&u.textContent!=""){O=L.JD(u,O);var q=O.clone(),rL=13;
q.concat(Y);if(u.children.length>0){var tJ=L.NJ(u.children[0],_.sn);for(var t in tJ)if(s.indexOf(t)==-1)e[t]=tJ[t]}var ty=e["xml:space"],JA=u.textContent;
if(ty=="preserve")JA=JA.replace(/\t/g," ").replace(/\n/g," ");if(C==null)j.Vp(JA);j.add.TySh=X.YD(0,0);
j.add.TySh._B=new p(0,0,100,100);j.add.TySh.UC=q.clone();var td=j.add.TySh.Bd;X.el(td,0,JA);var Jd=e.fill,Jk=e["font-size"],rR=e["font-weight"],Je=e["font-family"],JU=e["text-decoration"],i=e.stroke,JI=e["stroke-width"],JK=X.Sr(td,0,1);
if(Jd&&Jd!="none"){var rH=CSS.bI(Jd);JK.hj.FillColor={Type:1,Values:[1,rH.T/255,rH.q/255,rH.H/255]}}if(JU=="underline")JK.hj.Underline=!0;
if(Jk)rL=L.QH(Jk,rL);JK.hj.FontSize=Math.round(rL);X.kP(JK,"LiberationSans");if(rR=="bold")X.kP(JK,"LiberationSans-Bold");
if(Je){var Ju=Je+":"+(rR?rR:"normal"),JZ={"FreeMono:normal":"NimbusMono-Regular","FreeMono:bold":"NimbusMono-Bold","'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol"};
if(JZ[Ju])X.kP(JK,JZ[Ju])}if(e["text-anchor"])JK.re.Justification=["start","end","middle"].indexOf(e["text-anchor"]);
X.zX(td,0,JA.length,JK);if(i==null||i=="none"){}else{var Jl=JSON.parse(B.cz[B.order.indexOf("FrFX")]);
Jl.Clr.v=$.e.Ta(CSS.bI(i));Jl.Sz.v.val=Math.round(parseFloat(JI)*l._.ka(q));var rV=JSON.parse(B.default);
for(var M=0;M<B.order.length;M++)rV[B.vz[M]]={t:"VlLs",v:[]};rV.frameFXMulti.v.push({t:"Objc",v:Jl});
j.add.lmfx=rV}Q.b.push(j)}else if(V=="image"){var S=L.Nr(u);if(S.slice(0,4)=="data"){var rD=JP.cr(S),tb=rD,rv=Q.Pd(tb,j.getName(),0,0);
rv._c=j._c;j=rv;var rG=j.rect.clone();rG.x=rG.y=0;var Js=L.JD(u);Js.concat(Y);var rI=$.K.DK(rG).Z;$.K.UC(rI,Js,rI);
j.add.SoLd.Trnf=l._.Sz(rI);j.add.SoLd.nonAffineTransform=l._.Sz(rI);j.fc(Q,!1);Q.b.push(j)}}else console.log("unknown tag: "+V,u.children.length,u.textContent.length);
if(b!=null)Q.b.push(b)}};VL.fW=function(H,N){var Q=VL,c=N.tagName,_=[{type:6},{type:8,all:0}];if(c=="path")_=_.concat($.A.eX(N.getAttribute("d")));
if(c=="rect"){var O=N.getAttribute("rx"),L=Q.JD(N);_=$.A.FH.Rect(L.DX,L.Ug,parseFloat(N.getAttribute("width")),parseFloat(N.getAttribute("height")),O?parseFloat(O):0)}if(c=="circle"||c=="ellipse"){var s=0,r=0,O=0,u=0;
if(N.getAttribute("cx"))s=parseFloat(N.getAttribute("cx"));if(N.getAttribute("cy"))r=parseFloat(N.getAttribute("cy"));
if(N.getAttribute("rx"))O=parseFloat(N.getAttribute("rx"));if(N.getAttribute("ry"))u=parseFloat(N.getAttribute("ry"));
if(N.getAttribute("r"))O=u=parseFloat(N.getAttribute("r"));_=$.A.FH.QJ(s-O,r-u,2*O,2*u)}if(c=="polygon"||c=="polyline"||c=="line"){var V;
if(c=="line")V=[N.getAttribute("x1"),N.getAttribute("y1"),N.getAttribute("x2"),N.getAttribute("y2")].map(parseFloat);
else V=N.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
_=$.A.FH.eO(V,0,c!="polygon")}if(c=="use"){var C=Q.Nr(N),T=H.getElementById(C.slice(1)),e=new Jo;if(T.tagName!="rect")e=Q.JD(T);
e.concat(Q.N$(T));_=Q.fW(H,T);$.A.Nj(_,e)}return _};VL.Ms=function(H,N,Q){var c=[],_=0,O=!1;while(!0){var L=H.indexOf(O?Q:N,_);
if(L==-1)break;c.push(H.slice(_,L).trim());_=L+1;O=!O}return c};VL.QH=function(H,N){if(H.charAt(H.length-1)=="m")return N*parseFloat(H.slice(0,H.length-2));
else return parseFloat(H)};VL.Mu=function(H,N,Q,c){var _,O,L=VL,s=N!=null?N.indexOf("("):-1;if(s!=-1){var r=N.indexOf(")"),u=N.slice(0,s).trim(),V=N.slice(s+1,r).trim();
if(u=="url"){if(V.charAt(0)=="#"){var C=H.getElementById(V.slice(1));if(C.tagName.slice(6)=="Gradient"){var T=L.mM(H,C,Q,c);
_="GrFl";O={t:"Objc",v:T}}}else console.log("unknown url",url)}else if(u=="rgb"){_="SoFi";var e=JSON.parse(B.cz[B.order.indexOf("SoFi")]);
O={t:"Objc",v:e};O.v.Clr.v=$.e.Ta(CSS.bI(N))}else console.log("unknown fill",N)}else{_="SoFi";var e=JSON.parse(B.cz[B.order.indexOf("SoFi")]);
O={t:"Objc",v:e};O.v.Clr.v=$.e.Ta(CSS.bI(N))}return{type:_,R:O}};VL.N$=function(H){var N=new Jo,Q=H.getAttribute("transform");
if(Q)N=VL.QI(Q);var c=H.getAttribute("style");if(c!=null){var _={};VL.QP(_,c,["transform"]);c=_.transform;
if(c)N.concat(VL.QI(c))}return N};VL.JD=function(H,N){var Q=new Jo,c=H.getAttribute("x"),_=H.getAttribute("y");
if(c)Q.DX=parseFloat(c);else if(N)Q.DX=N.DX;if(_)Q.Ug=parseFloat(_);else if(N)Q.Ug=N.Ug;return Q};VL.QI=function(H){var N=VL.Ms(H,"(",")"),Q=new Jo;
for(var c=0;c<N.length;c+=2){var _=Q;Q=VL.trb(N[c],N[c+1]);Q.concat(_)}return Q};VL.trb=function(H,N){var Q=new Jo,c=!0;
for(var _=0;_<N.length;_++){var O=N.charAt(_);if(O==","||O==" ")c=!0;else if(O=="."){if(!c){N=N.slice(0,_)+","+N.slice(_);
_++}c=!1}else if(O=="-"&&_>0&&N[_-1]!="e"){N=N.slice(0,_)+" "+N.slice(_);_++;c=!0}}N=N.split(/\s*[\s,]\s*/).map(parseFloat);
if(!1){}else if(H=="translate"){if(N.length==1)Q.translate(N[0],0);else Q.translate(N[0],N[1])}else if(H=="scale"){if(N.length==1)Q.scale(N[0],N[0]);
else Q.scale(N[0],N[1])}else if(H=="rotate"){var L=0,s=0;if(N.length!=1){L=N[1];s=N[2]}Q.translate(-L,-s);
Q.rotate(-Math.PI*N[0]/180);Q.translate(L,s)}else if(H=="matrix")Q=new Jo(N[0],N[1],N[2],N[3],N[4],N[5]);
else console.log("unknown transform: ",H);return Q};VL.NJ=function(H,N){var Q={},c="fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var _=0;_<c.length;_++){var O=H.getAttribute(c[_]);if(O!=null&&O!="inherit")Q[c[_]]=O}var L=H.getAttribute("class");
if(N!=null&&L!=null&&N["."+L]!=null)VL.QP(Q,N["."+L],c);var s=H.getAttribute("style");if(s!=null)VL.QP(Q,s,c);
return Q};VL.QP=function(H,N,Q){N=N.trim().split(";");for(var c=0;c<N.length;c++){var _=N[c].split(":");
for(var O=0;O<Q.length;O++)if(_[0].trim()==Q[O])H[Q[O]]=_[1].trim()}};VL.Nr=function(H){var N=H.getAttribute("xlink:href");
if(N==null)N=H.getAttribute("href");return N};VL.mM=function(H,N,Q,c){var _=VL,O=new Jo,L=N.getAttribute("gradientTransform");
if(L)O=_.QI(L);O.concat(Q);var s=JSON.parse(B.cz[B.order.indexOf("GrFl")]),r=s.Grad.v;r.Intr.v=0;var u=N.tagName,V=new E(0,0),C=new E(c.$,0);
if(u=="linearGradient"){s.Type.v.GrdT="Lnr";if(N.getAttribute("x1"))V.x=parseFloat(N.getAttribute("x1"));
if(N.getAttribute("y1"))V.y=parseFloat(N.getAttribute("y1"));if(N.getAttribute("x2"))C.x=parseFloat(N.getAttribute("x2"));
if(N.getAttribute("y2"))C.y=parseFloat(N.getAttribute("y2"));V.x=C.x+.5*(V.x-C.x);V.y=C.y+.5*(V.y-C.y)}if(u=="radialGradient"){s.Type.v.GrdT="Rdl";
if(N.getAttribute("cx"))V.x=parseFloat(N.getAttribute("cx"));if(N.getAttribute("cy"))V.y=parseFloat(N.getAttribute("cy"));
C.kR(V.x,V.y);if(N.getAttribute("r"))C.x+=parseFloat(N.getAttribute("r"))}if(N.getAttribute("gradientUnits")=="userSpaceOnUse"){V=O.Sk(V);
C=O.Sk(C)}else{V.x=c.x+V.x*c.$;V.y=c.y+V.y*c.z;C.x=c.x+C.x*c.$;C.y=c.y+C.y*c.z}$.e.qa(V,C,c,s);var T=N.children;
if(T.length==0){var e=_.Nr(N);if(e==null)throw"gradient has no stops";var t=H.getElementById(e.slice(1));
if(t==null){console.log(e.slice(1));throw"e"}var Y=_.mM(H,t,O,c);s.Grad=Y.Grad}else{var A=[];for(var G=0;
G<T.length;G++){var j=T[G],d=_.NJ(j),w=d["stop-color"],f=d["stop-opacity"],b=j.getAttribute("offset");
if(w==null)w="#000000";if(f==null)f="1";var F=b?parseFloat(b):0;w=CSS.bI(w);A.push([F,[w.T/255,w.q/255,w.H/255],parseFloat(f)])}$.e.zO(A,r)}return s};
VL.QU=function(H,N){var Q=[],c=VL;c.M_=N.Nt?"\t":"";var _=N.tCa,O=N.tCi;Q.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+H.$+" "+H.z+"\" width=\""+_+"\" height=\""+O+"\">");
var L={WU:[],C:[],CV:0,gu:0,gc:0,_q:{},_l:{},ad:0,tP:{},Co:{},Cl:0,LS:[]};VL.gR(H,L,H.root.children,1,N);
if(L.WU.length!=0){Q.push(c.Vs(1)+"<defs>");Q=Q.concat(L.WU);Q.push(c.Vs(1)+"</defs>")}Q.push(c.Vs(1)+"<style>");
if(N.LS){for(var s=0;s<L.LS.length;s++){var r=L.LS[s],u=rr.NW.jq(r);if(r!=rr.jv(u))continue;Q.push(c.Vs(2)+"@font-face { font-family: \""+r+"\";  src: url(data:font/sfnt;base64,"+JP.Yw(u._data.buffer)+");  }")}}Q.push(c.Vs(2)+"tspan { white-space:pre }");
for(var V in L.tP)Q.push(c.Vs(2)+"."+V+" { "+L.tP[V]+" } ");Q.push(c.Vs(1)+"</style>");Q=Q.concat(L.C);
Q.push("</svg>");Q=Q.join(N.Nt?"\n":"");var C=$.I(Math.round(Q.length*1.5)),T=tm.aX(Q,C,0);if(c.IQ){console.log(c.IQ);
var e="SVGParser.gen.db = [\n";for(var s=0;s<c.IQ.length;s++){var t=c.IQ[s];e+="{\n\tnam: \""+t.tdO+"\",\n\tpts: [\n";
for(var Y=0;Y<t.x_.length;Y++){var A=t.x_[Y];e+="\t\t[\""+A[0]+"\", { cmds: "+JSON.stringify(A[1].lX)+", crds:"+JSON.stringify(A[1].Z)+" } ]"+(Y==t.x_.length-1?"":",")+"\n"}e+="\t]\n}"+(s==c.IQ.length-1?"":",")+"\n"}e+="]\n";
console.log(e)}return C.buffer.slice(0,T)};VL.M_="";VL.Vs=function(H){var N="";for(var Q=0;Q<H;Q++)N+=VL.M_;
return N};VL._X=function(H){return""+parseFloat(H.toFixed(3))};VL.gR=function(H,N,Q,c,_){var O=VL;for(var L=0;
L<Q.length;L++){var s=Q[L].i,r=s.add.lsct,u=s.add.vmsk,V=s.add.vstk,C=s.add.TySh,T=[];if(!_.hidden&&!s.op())continue;
var e=s.opacity/255,t=s.add.iOpa?s.add.iOpa/255:1;if(e!=1)T.push("opacity: "+O._X(e));if(t!=1)T.push("fill-opacity: "+O._X(t));
if(s.kE!="norm"){var Y=ta.l_[ta.Cj.indexOf(s.kE)];if(Y!=null)T.push("mix-blend-mode: "+Y)}if(!s.op())T.push("display: none");
var A=[],G=[],j=s.getName(),d=j.indexOf(" .");if(d!=-1){G.push(j.slice(d+2));j=j.slice(0,d)}if(_.names)A.push("id=\""+O.oJ(j)+"\"");
var w=s.add.lmfx;if(w)w=w.solidFillMulti.v[0];if(w)w=w.v;if(w&&w.enab.v){var f=w.Opct.v.val/100,b=O._X(1-f),F=$.e.NG(w.Clr.v);
N.gu++;N.WU.push(O.Vs(2)+"<filter id=\"flt"+N.gu+"\"> <feColorMatrix in=\"SourceGraphic\" type=\"matrix\" values=\""+b+" 0 0 0 "+O._X(f*F.T/255)+"   0 "+b+" 0 0 "+O._X(f*F.q/255)+"   0 0 "+b+" 0 "+O._X(f*F.H/255)+"   0 0 0 1 0\" /> </filter>");
T.push("filter: url(#flt"+N.gu+")")}if(s.oP()){if(O.IQ&&s.getName().split("-").length==3){O.IQ.push({tdO:s.getName(),Dj:0,x_:[]})}if(u){N.gc++;
A.push("clip-path=\"url(#cp"+N.gc+")\"");N.WU.push(O.Vs(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+N.gc+"\">");
var n=$.A.Tp(u.L);N.WU.push(O.Vs(3)+"<path d=\""+n.Ni+"\" />");N.WU.push(O.Vs(2)+"</clipPath>")}if(T.length!=0)A.push("style=\""+T.join(";")+"\"");
N.C.push(O.Vs(c)+"<g "+O.Jc(A,G)+">");O.gR(H,N,Q[L].children,c+1,_);N.C.push(O.Vs(c)+"</g>")}else if(s.TT()&&u==null){var J=new p(0,0,H.$,H.z);
O.gs(T,s.add,N,J);if(T.length!=0)A.push("style=\""+T.join(";")+"\"");N.C.push(O.Vs(c)+"<rect width=\""+H.$+"\" height=\""+H.z+"\" "+O.Jc(A,G)+" />")}else if(u){var J=$.A.gw(u.L),n=$.A.Tp(u.L);
if(n.SB!=0){A.push("fill-rule=\"evenodd\"")}var Z=n.Ni;O.gs(T,s.add,N,J);if(T.length!=0){var P=T.join(";"),M=N.Co[P];
if(M==null){M="shp"+N.Cl;N.Cl++;N.Co[P]=M;N.tP[M]=P}G.push(M)}N.C.push(O.Vs(c)+"<path "+O.Jc(A,G)+" d=\""+Z+"\" />");
if(O.IQ){var y=$.K.Cp(u.L);y.Z=y.Z.map(Math.round);var a=O.IQ[O.IQ.length-1];a.Dj+=JSON.stringify(y).length;
a.x_.push([T[0].split("#").pop(),y])}}else if(C&&!_.tCG){var g=C.Bd,U=C.UC.clone(),i=0,JI=0;if(X.gG(g)==1){var D=X.Sr(g,0,0).re.Justification,W=0,m=X.BR(g)[2];
if(D==2)W=m/2;if(D==1)W=m;U.translate(W,0)}T.push("transform: "+O.eT(U));var q=X.Fk(g),S=g.EngineDict.ParagraphRun,I=S.RunArray,v=S.RunLengthArray;
if(T.length!=0)A.push("style=\""+T.join(";")+"\"");N.C.push(O.Vs(c)+"<text "+O.Jc(A,G)+" >");var h=s.add.lmfx;
if(h)h=h.frameFXMulti.v[0];if(h)h=h.v;for(var Jx=0;Jx<I.length;Jx++){var Jd=[],JC=v[Jx],JM=q.slice(i,i+JC-1),Jh=X.Sr(g,i,i),Jv=Jh.vT[Jh.hj.Font].Name;
if(N.LS.indexOf(Jv)==-1)N.LS.push(Jv);CSS.bC(Jd,Jh,C.UC,!0,_.LS);if(h){T.push("stroke: "+CSS.YP(h.Clr.v));
T.push("stroke-width: "+h.Sz.v.val)}var JW=Jh.hj.FontSize*1.12;if(Jx==0)JW=X.gG(g)==0?0:Jh.hj.FontSize;
JI+=JW;if(JM!=""){var P=Jd.join(";"),M=N.Co[P];if(M==null){M="txt"+N.Cl;N.Cl++;N.Co[P]=M;N.tP[M]=P}N.C.push(O.Vs(c+1)+"<tspan x=\"0\" y=\""+O._X(JI)+"\" class=\""+M+"\">"+O.oJ(JM)+"</tspan>")}i+=JC}N.C.push(O.Vs(c)+"</text>")}else if(s.add.SoLd){var Ji=s.add.SoLd,Jc=Ji.Idnt.v,JT=0,Jy=Ji.Crop?Ji.Crop.v:null;
if(N._l[Jc]!=null)JT=N._l[Jc];else{N.ad++;JT=N.ad;N._l[Jc]=N.ad;var Jg=H.Hj(Jc,Jy),tJ="";if(Jg==null)return;
var Jn=Jg.Eq,Jq=JP.Uw(Jg.raw.buffer);if(Jq=="pdf"){var ty=new rw("h");JP.PDF.cA(Jg.raw.buffer,ty);ty.f$();
ty.HZ();ty.r();ty.LD();if(Ji.Crop&&Ji.Crop.v==1){l.$p.tt(ty,ty.root.AK(ty,!0))}var JA=JP.SVG.Dz(ty,ty.$,ty.z);
tJ="data:image/svg+xml;base64,"+JP.Yw(JA)}else if(Jq=="jpg"||Jq=="png"||Jq=="gif"||Jq=="svg"){var td={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
tJ="data:"+td[Jq]+";base64,"+JP.Yw(Jg.raw.buffer)}else{tJ=JP.Km(Jn[0],Jn[1].$,Jn[1].z)}N.WU.push(O.Vs(2)+"<image width=\""+Jn[1].$+"\" height=\""+Jn[1].z+"\" id=\"img"+JT+"\" href=\""+tJ+"\"/>")}var Jk=$.F.Cw(Ji);
if(T.length!=0)A.push("style=\""+T.join(";")+"\"");var rR=O.Jc(A,G);N.C.push(O.Vs(c)+"<use "+rR+" href=\"#img"+JT+"\" transform=\""+O.eT(Jk)+"\"/>")}else if(!s.rect.km()&&(_.tCd||C)){if(T.length!=0)A.push("style=\""+T.join(";")+"\"");
var rR=O.Jc(A,G),Je=s.rect;N.ad++;var tJ=JP.Km(s.buffer,Je.$,Je.z);N.WU.push(O.Vs(2)+"<image width=\""+s.rect.$+"\" height=\""+s.rect.z+"\" id=\"img"+N.ad+"\" href=\""+tJ+"\"/>");
N.C.push(O.Vs(c)+"<use "+rR+" href=\"#img"+N.ad+"\" x=\""+Je.x+"\" y=\""+Je.y+"\" />")}}};VL.Jc=function(H,N){if(N.length!=0)H.push("class=\""+N.join(" ")+"\"");
return H.join(" ")};VL.oJ=function(H){return String(H).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
VL.eT=function(H){var N=[H.o,H.H,H.lA,H.KI,H.DX,H.Ug].map(VL._X);return"matrix("+N.join(",")+")"};VL.gs=function(H,N,Q,c){var _=VL,O=N.vstk,L=N.vmsk,s=N.lmfx;
if(L&&L.jQ!=0){var r=_._X(L.jQ);if(Q._q[r]==null){Q.gu++;Q._q[r]=Q.gu;Q.WU.push(_.Vs(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+Q.gu+"\"> <feGaussianBlur stdDeviation=\""+r+"\" /> </filter>")}H.push("filter: url(#flt"+Q._q[r]+")")}var u=Ja.Yy(s),V=u[0],C=u[1];
if(O&&!O.fillEnabled.v)H.push("fill: none");else if(N.SoCo&&C==null||V){var T=CSS.YP((V?V:N.SoCo).Clr.v);
H.push("fill: "+T)}else if(N.GdFl||C){_.NH(C?C:N.GdFl,Q,c);H.push("fill: url(#grd"+Q.CV+")")}if(O==null||!O.strokeEnabled.v)O=Ja.Yq(s);
if(O&&O.strokeEnabled.v){var e=O.strokeStyleContent.v,t=e.classID;if(t=="solidColorLayer")H.push("stroke: "+CSS.YP(e.Clr.v));
else{_.NH(e,Q,c);H.push("stroke: url(#grd"+Q.CV+")")}var Y=B.nO.Ky.indexOf(O.strokeStyleLineCapType.v.strokeStyleLineCapType),A=B.nO.join.indexOf(O.strokeStyleLineJoinType.v.strokeStyleLineJoinType),G=O.strokeStyleOpacity.v.val/100,j=O.strokeStyleLineWidth.v.val,d=B.nO.e$.indexOf(O.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(d==2){j*=2;H.push("paint-order:stroke fill markers")}var w=O.strokeStyleLineDashSet.v,f=[];for(var b=0;
b<w.length;b++)f.push(Math.round(w[b].v.val*j));if(Y!=0)H.push("stroke-linecap:"+["butt","round","square"][Y]);
if(A!=0)H.push("stroke-linejoin:"+["miter","round","bevel"][A]);if(G!=1)H.push("stroke-opacity:"+_._X(G));
if(j!=1)H.push("stroke-width: "+_._X(j));if(f.length!=0)H.push("stroke-dasharray: "+f.join(","))}};VL.NH=function(H,N,Q){N.CV++;
var c=VL,_=H.Grad.v,O=_.Clrs.v.slice(0),L=_.Trns.v.slice(0),s=H.Ofst.v,r=H.Type.v.GrdT=="Rdl"?1:0,u=(r==1?"radial":"linear")+"Gradient",V=$.e.qL(H,Q);
if(r==0){V[0].x=V[1].x+2*(V[0].x-V[1].x);V[0].y=V[1].y+2*(V[0].y-V[1].y)}var C=c.Vs(2)+"<"+u+" id=\"grd"+N.CV+"\" gradientUnits=\"userSpaceOnUse\" ";
if(r==0)N.WU.push(C+" x1=\""+c._X(V[0].x)+"\" y1=\""+c._X(V[0].y)+"\" x2=\""+c._X(V[1].x)+"\" y2=\""+c._X(V[1].y)+"\">");
if(r==1)N.WU.push(C+" cx=\""+c._X(V[0].x)+"\" cy=\""+c._X(V[0].y)+"\" r=\""+c._X(E.Ln(V[0],V[1]))+"\">");
var T=H.Rvrs.v;if(T){O.reverse();L.reverse()}for(var e=0;e<O.length;e++){var t=O[e].v,Y=e<L.length?L[e].v.Opct.v.val/100:1,Y=Y==1?"":"stop-opacity=\""+c._X(Y)+"\"",A=t.Lctn.v/4096;
if(T)A=1-A;N.WU.push(c.Vs(3)+"<stop offset=\""+c._X(A)+"\" stop-color=\""+CSS.YP(t.Clr.v)+"\" "+Y+" />")}N.WU.push(c.Vs(2)+"</"+u+">")};
var Vm={};Vm.parse=function(H){var N=new Uint8Array(H),Q=null;if(N[0]==80&&N[1]==75){var c=Date.now(),_=UZIP.parse(N.buffer),Q=_["document.json"];
Q=JSON.parse(tm.hI(Q,0,Q.length));Vm.Qg(Q,_)}else{var O=Jm.parse(H);Q=Vm.aG(O[2][0][1])}return Q};Vm.Qg=function(H,N){var Q=typeof H;
if(Q=="string"||Q=="number"||Q=="boolean")return H;if(H instanceof Array){for(var c=0;c<H.length;c++)H[c]=Vm.Qg(H[c],N);
return H}var _=H._class;if(_==null)return H;if(_=="MSJSONFileReference"){var O=H._ref;if(!1){}else if(N[O+".json"]!=null){var L=tm.hI(N[O+".json"],0,N[O+".json"].length);
H=JSON.parse(L)}else if(N[O+".png"]!=null)return{key:O.split("/").pop(),bdata:N[O+".png"]};else if(N[O+".jpg"]!=null)return{key:O.split("/").pop(),bdata:N[O+".jpg"]};
else if(N[O+".pdf"]!=null)return{key:O.split("/").pop(),bdata:N[O+".pdf"]};else if(N[O]!=null)return{key:O.split("/").pop(),bdata:N[O]};
else{console.log(H,N);throw"e"}}else if(_=="MSAttributedString"){var L=atob(H.archivedAttributedString._archive),s=L.length-1,r=new Uint8Array(s);
for(var c=0;c<s;c++)r[c]=L.charCodeAt(c);H.archivedAttributedString=Vm.aG(r)}for(var u in H)H[u]=Vm.Qg(H[u],N);
return H};Vm.ay=function(H,N,Q,c){if(H instanceof Uint8Array)return null;if(c.indexOf(H)!=-1)return null;
c.push(H);if(H==N)return Q;for(var _ in H){Q.push(_);var O=Vm.ay(H[_],N,Q,c);if(O){console.log(H,O);
throw"e"}Q.pop()}};Vm.aG=function(H){var N=tZ.parse(H,0),Q=N.$objects,c=new Uint8Array(Q.length),_=Vm.pg(Q,c,N.$top.root);
for(var O=0;O<Q.length;O++)if(c[O]==0&&O!=0){console.log(O,Q[O]);Vm.ay(_,O,[],[])}for(var O=0;O<Q.length;
O++){var L=Q[O];if(L._class&&(L._class=="bitmap"||L._class=="fill"&&L.fillType==4)){var s=null,r=null;
if(L.image&&L.image.data){r=L.image.sha1["NS.bytes"];r=btoa(x.sx(r,0,r.length));s=L.image.data instanceof Uint8Array?L.image.data:L.image.data["NS.bytes"]}else{if(L.imageSHA)r=L.imageSHA instanceof Uint8Array?L.imageSHA:L.imageSHA["NS.bytes"];
else r=L.image.sha1["NS.bytes"];r=btoa(x.sx(r,0,r.length));var u=_.assets?_.assets.imageCollection:_.images,s=u.images[r].data;
if(s["NS.bytes"])s=s["NS.bytes"]}s=new Uint8Array(s.buffer.slice(s.byteOffset,s.byteOffset+s.length));
delete L.imageSHA;L.image={key:r,bdata:s}}}return _};Vm.tHd=function(H){return H.slice(0,11)=="MSImmutable"?"MS"+H.slice(11):H};
Vm.pg=function(H,N,Q){var c=H[Q];if(N[Q]==1){return c}N[Q]=1;if(typeof c=="string")return c;if(typeof c=="number")return c;
if(typeof c=="boolean")return c;if(c instanceof Array)return c;if(c instanceof Uint8Array){return c}if(H[c.$class]==null){if(c.$class==null&&c["NS.data"]!=null)return c;
console.log(Q,c);throw"e"}var _=H[c.$class],O=Vm.tHd(_.$classname);N[c.$class]=1;c.$class=O;if(Vm.ag[O]){delete c.$class;
c._class=Vm.ag[O]}var L=Vm.pg;if(O=="NSMutableArray"||O=="NSArray"){var s=[];if(c["NS.objects"]!=null)for(var r=0;
r<c["NS.objects"].length;r++)s.push(L(H,N,c["NS.objects"][r]));else for(var r=0;c["NS.object."+r]!=null;
r++)s.push(L(H,N,c["NS.object."+r]));H[Q]=s;return s}if(O=="NSDictionary"||O=="NSMutableDictionary"){var u={$class:O};
if(c["NS.keys"]!=null)for(var r=0;r<c["NS.keys"].length;r++){var V=L(H,N,c["NS.keys"][r]);if(V instanceof Uint8Array)V=btoa(Vm.JC.sx(V,0,V.length));
else if(typeof V!="string"&&typeof V!="number")V=btoa(Vm.JC.sx(V["NS.bytes"],0,V["NS.bytes"].length));
u[V]=L(H,N,c["NS.objects"][r])}else for(var r=0;c["NS.key."+r]!=null;r++){var V=L(H,N,c["NS.key."+r]);
if(V instanceof Uint8Array)V=btoa(Vm.JC.sx(V,0,V.length));else if(typeof V!="string"&&typeof V!="number")V=btoa(Vm.JC.sx(V["NS.bytes"],0,V["NS.bytes"].length));
u[V]=L(H,N,c["NS.object."+r])}for(var C in c)delete c[C];for(var C in u)c[C]=u[C];return c}if(O=="NSURL")return{$class:O,base:L(H,N,c["NS.base"]),relative:L(H,N,c["NS.relative"])};
if(Vm.twV.indexOf(O)!=-1){H[Q]=L(H,N,c.array_do);return H[Q]}if(c.do_objectID!=null)c.do_objectID=L(H,N,c.do_objectID);
if(Vm.twJ.indexOf(O)!=-1)return c;var T=Vm.twf[O];if(T==null){console.log(H,c);throw"unknown class "+O}for(var r=0;
r<T.length;r++)if(c[T[r]]!=null)c[T[r]]=L(H,N,c[T[r]]);if(O=="MSTextLayer"){var e=c,t,Y,A,G;if(e.attributedString)t=e.attributedString.archivedAttributedString;
else t=e.storage;G=t.NSString;if(typeof G!="string")G=tm.hI(G["NS.bytes"],0,G["NS.bytes"].length);if(t.NSAttributeInfo)Y=t.NSAttributeInfo["NS.bytes"];
else{var j=G.length,d=[];while(j>0){var w=Math.min(100,j);d.push(w,0);j-=w}Y=new Uint8Array(d)}A=t.NSAttributes instanceof Array?t.NSAttributes:[t.NSAttributes];
var f={$class:"NSAttributedString",NSString:G,NSAttributes:A};e.attributedString={_class:"MSAttributedString",archivedAttributedString:f};
f.NSAttributeInfo={$class:"NSMutableData","NS.data":Y};delete e.storage}return c};Vm.JC={NU:function(H,N){return H[N+1]<<8|H[N]},j:function(H,N){return H[N+3]<<24|H[N+2]<<16|H[N+1]<<8|H[N]},sx:function(H,N,Q){var c="";
for(var _=0;_<Q;_++)c+=String.fromCharCode(H[N+_]);return c}};Vm.ag={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Vm.twV=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Vm.twJ="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData MSStyleReflection".split(" ");
Vm.twf={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var tZ={};tZ.parse=function(H,N){var Q=x.sx(H,N,8);N+=8;var c=tZ.parse.twu(H,H.length-31),_=[];if(c.aW==1){var N=H.length-31-c.aW*c.ae;
for(var O=0;O<c.ae;O++)_.push(H[N+O])}else if(c.aW==2){var N=H.length-31-c.aW*c.ae;for(var O=0;O<c.ae;
O++)_.push(x.NU(H,N+O*2))}else if(c.aW==4){var N=H.length-31-c.aW*c.ae;for(var O=0;O<c.ae;O++)_.push(x.j(H,N+O*4))}else{throw"e"}var L=tZ.parse.pg(H,_,c.root,c);
return L};tZ.parse.pg=function(H,N,Q,c){var _=tZ.JC,O=c.tdl,L=O==4?_.j:O==2?_.NU:_.tIJ,s=tZ.parse,r=N[Q],u=H[r],V=u>>4,C=u&15,e=null;
r+=1;if([4,5,6,10,12,13].indexOf(V)!=-1&&C==15){var T=s.eI(H,r);r+=T.Dj;C=T.R}if(!1){}else if(V==0)e=C==8?!1:C==9?!0:null;
else if(V==1)e=s.eI(H,r-1).R;else if(V==2)e=1<<C==4?x.Fg(H,r):x.FD(H,r);else if(V==3)e=x.FD(H,r);else if(V==4)e=new Uint8Array(H.buffer,r,C);
else if(V==5)e=x.sx(H,r,C);else if(V==6)e=x.Gu(H,r,C);else if(V==8){e=0;for(var t=0;t<C+1;t++)e=e<<8|H[r+t]}else if(V==10){e=[];
for(var t=0;t<C;t++)e.push(s.pg(H,N,L(H,r+O*t),c))}else if(V==12){e=[];for(var t=0;t<C;t++)e.push(s.pg(H,N,L(H,r+O*t),c))}else if(V==13){e={};
for(var t=0;t<C;t++){var Y=s.pg(H,N,L(H,r+O*t),c),A=s.pg(H,N,L(H,r+O*(C+t)),c);e[Y]=A}}else throw"unknown mask "+V;
return e};tZ.parse.eI=function(H,N){var Q=1<<(H[N]&15),c=0;for(var _=0;_<Q;_++)c=c<<8|H[N+1+_];return{R:c,Dj:Q+1}};
tZ.parse.twu=function(H,N){var Q={};N+=6;Q.aW=H[N];N++;Q.tdl=H[N];N++;N+=4;Q.ae=x.j(H,N);N+=4;N+=4;Q.root=x.j(H,N);
N+=4;N+=4;Q.tTv=x.j(H,N);N+=4;return Q};tZ.JC={tIJ:function(H,N){return H[N]},NU:function(H,N){return H[N]<<8|H[N+1]},j:function(H,N){return H[N]<<24|H[N+1]<<16|H[N+2]<<8|H[N+3]},sx:function(H,N,Q){var c="";
for(var _=0;_<Q;_++)c+=String.fromCharCode(H[N+_]);return c}};var Jm={parse:function(H){var N=new Uint8Array(H),Q=Jm.XO(N),c=[],_=new Uint8Array(N.length),O=[];
c.push(O);Jm.Qi(N,Q,1,_,O);for(var L=0;L<O.length;L++){var s=[];c.push(s);Jm.Qi(N,Q,O[L][3],_,s);O[L][3]=L+1}return c},Qi:function(H,N,Q,c,_){Q--;
var O=Q*N.ic+(Q==0?100:0),L=H[O],s=Jm.NU(H,O+1);if(s!=0)throw"free block in a page";var r=Jm.NU(H,O+3),u=Jm.NU(H,O+5);
if(u==0)u=65536;var V=H[O+7],C=Jm.NU(H,O+8);if(L==2||L==5)O+=4;else C=0;for(var T=0;T<r;T++){var e=Q*N.ic+Jm.NU(H,O+8+2*T),t=-1,Y=0,A=0,G=0;
if(L==2||L==5){t=Jm.j(H,e);e+=4}if(L==2||L==10||L==13){Y=Jm.ND(H,e);e+=Y.Dj}if(L==5||L==13){A=Jm.ND(H,e);
e+=A.Dj}if(L==5){Jm.Qi(H,N,t,c,_);continue}var j=N.ic-(Q==0?100:0),d=Y.Dq,w=L==13?j-35:Math.floor((j-12)*64/255)-23,f=Math.floor((j-12)*32/255)-23,b=f+(d-f)%(j-4);
if(d<=w){Jm.sa(H,e,c,0,d)}else{var F=b<=w?b:f,n=0;Jm.sa(H,e,c,0,F);n+=F;G=Jm.j(H,e+F);while(G!=0){var J=(G-1)*N.ic;
G=Jm.j(H,J);var Z=Math.min(N.ic-4,d-n);Jm.sa(H,J+4,c,n,Z);n+=Z}}_.push(Jm.tII(c,d))}},tII:function(H,N){var Q=0,c=Jm.ND(H,Q);
Q+=c.Dj;var _=[],O=[];while(Q<c.Dq){var L=Jm.ND(H,Q);Q+=L.Dj;_.push(L.Dq)}if(Q!=c.Dq)throw"e";for(var s=0;
s<_.length;s++){var L=_[s];if(!1){}else if(L==0)O.push(null);else if(L==1){O.push(Jm.tIT(H,Q));Q+=1}else if(L==2){O.push(Jm.kF(H,Q));
Q+=2}else if(L==3){O.push(Jm.tID(H,Q));Q+=3}else if(L==4){O.push(Jm.eI(H,Q));Q+=4}else if(L==7){O.push(Jm.tIa(H,Q));
Q+=16}else if(L==8)O.push(0);else if(L==9)O.push(1);else if(L>=12&&(L&1)==0){var r=L-13>>1,u=new Uint8Array(r);
Jm.sa(H,Q,u,0,r);O.push(u);Q+=r}else if(L>=13&&(L&1)==1){var r=L-12>>1;O.push(Jm.hI(H,Q,r));Q+=r}else throw"unknonw type "+L}return O},XO:function(H){if(!(H[18]==1&&H[19]==1&&H[20]==0&&H[21]==64&&H[22]==32&&H[23]==32))throw"unexpected SQL3 header";
var N={_U:Jm.sx(H,0,15),ic:Jm.NU(H,16),tTW:Jm.j(H,24),size:Jm.j(H,28),tTp:Jm.j(H,32),tTo:Jm.j(H,36),tTU:Jm.j(H,40),tTk:Jm.j(H,44),tPR:Jm.j(H,48),tPV:Jm.j(H,52),sY:Jm.j(H,56),tPq:Jm.j(H,60),tPl:Jm.j(H,64)!=0,tPj:Jm.j(H,68),tdM:Jm.j(H,92),tdS:Jm.j(H,96)};
if(N.ic==1)N.ic=65536;if(N.sY!=1)throw"unsupported text encoding "+N.sY;return N},tIy:function(H,N){return H[N]<<16|H[N+1]<<8|H[N+2]},tID:function(H,N){var Q=Jm.tIy(H,N),c=Q&8388608;
return c?-(16777215-Q+1):Q},tIT:function(H,N){Jm.pn[0]=H[N];return Jm.tIj[0]},eI:function(H,N){var Q=Jm.pn;
for(var c=0;c<4;c++)Q[c]=H[N+3-c];return Jm.tyD[0]},kF:function(H,N){var Q=Jm.pn;Q[0]=H[N+1];Q[1]=H[N];
return Jm.tIB[0]},NU:function(H,N){return H[N]<<8|H[N+1]},j:function(H,N){return H[N]<<24|H[N+1]<<16|H[N+2]<<8|H[N+3]},tIa:function(H,N){var Q=Jm.pn;
for(var c=0;c<8;c++)Q[c]=H[N+7-c];return Jm.tyo[0]},ND:function(H,N){var Q=N,c=0;while(!0){var _=H[N];
N++;c=c*128+(_&127);if(_<128)break}return{Dq:c,Dj:N-Q}},sx:function(H,N,Q){var c="";for(var _=0;_<Q;
_++)c+=String.fromCharCode(H[N+_]);return c},hI:function(H,N,Q){var c="";for(var _=0;_<Q;_++)c+="%"+Jm.tIE(H[N+_].toString(16));
return decodeURIComponent(c)},sa:function(H,N,Q,c,_){if(H[N+_-1]==null||Q[c+_-1]==null){console.log(N,c,_);
throw"e"}for(var O=0;O<_;O++)Q[c+O]=H[N+O]},tIE:function(H){return H.length<2?"0"+H:H}};Jm.pn=new Uint8Array(8);
Jm.tIj=new Int8Array(Jm.pn.buffer);Jm.tIB=new Int16Array(Jm.pn.buffer);Jm.tyD=new Int32Array(Jm.pn.buffer);
Jm.tyo=new Float64Array(Jm.pn.buffer);var tm={};tm.parse=function(H,N,Q){var c=tm.ai(H,N,Q),_=[0,0,{}],O=0,L=[],s=0,u=0,V=0,C=0;
for(var r=0;r<100;r++)_.push(0,0,0);while(c[N]==32||c[N]==10)N++;N++;while(c[N]==32||c[N]==10)N++;while(N<Q&&-1<O){u=_[O];
V=_[O+1];if(u==0){if(V==0){N++;_[O+1]=1;O+=3;_[O]=3;_[O+1]=0;_[O+2]=0;continue}else if(V==1){L[s++]=_[O+5];
N++;_[O+1]=2;O+=3;_[O]=2;_[O+1]=0;_[O+2]=0}else if(V==2){var T=L[--s],e=_[O+5];_[O+2][T]=e;if(c[N]==125){N++;
O-=3}else{N++;_[O+1]=0}}}else if(u==1){if(V==0){_[O+1]=1;O+=3;_[O]=2;_[O+1]=0;_[O+2]=0;continue}else if(V==1){var e=_[O+5];
_[O+2].push(e);if(c[N]==93){N++;O-=3}else{N++;_[O+1]=0}}}else if(u==2){if(V==0){C=c[N];if(C==123){N++;
if(c[N]==125){N++;_[O+2]={};O-=3}else{_[O+1]=1;O+=3;_[O]=0;_[O+1]=0;_[O+2]={}}}else if(C==91){N++;if(c[N]==93){N++;
_[O+2]=[];O-=3}else{_[O+1]=1;O+=3;_[O]=1;_[O+1]=0;_[O+2]=[]}}else if(C==34){N++;if(c[N]==34){N++;_[O+2]="";
O-=3}else{_[O+1]=1;O+=3;_[O]=3;_[O+1]=0;_[O+2]="";continue}}else if(C==102){N+=5;_[O+2]=!1;O-=3}else if(C==116){N+=4;
_[O+2]=!0;O-=3}else if(C==110){N+=4;_[O+2]=null;O-=3}else{var t="";while(48<=C&&C<=57||C==46||C==101||C==69||C==43||C==45){t+=String.fromCharCode(C);
C=c[++N]}_[O+2]=parseFloat(t);O-=3}}else if(V==1){_[O+2]=_[O+5];O-=3;continue}}else if(u==3){var Y=[];
while(!0){C=c[N];N++;if(C==34)break;else if(C==92){C=c[N];N++;if(C==34||C==47||C==92)Y.push(String.fromCharCode(C));
else if(C==110)Y.push("\n");else if(C==114)Y.push("\r");else if(C==116)Y.push("\t");else if(C==117){throw"e"}}else Y.push(String.fromCharCode(C))}_[O+2]=Y.join("");
O-=3}while(c[N]==32||c[N]==10)N++}return _[2]};tm.tr_=function(H,N,Q){var c="";for(var _=N;_<N+Q;_++)c+=String.fromCharCode(H[_]);
return c};tm.ai=function(H,N,Q){var c=[],_=0,O=0;Q+=N;while(N<Q){_=H[N++];if((_&128)==0)O=_;else if((_&224)==192){O=(_&31)<<6;
_=H[N++];O|=_&63}else if((_&240)==224){O=(_&15)<<12;_=H[N++];O|=(_&63)<<6;_=H[N++];O|=_&63}else if((_&248)==240){O=(_&7)<<18;
_=H[N++];O|=(_&63)<<12;_=H[N++];O|=(_&63)<<6;_=H[N++];O|=_&63}else throw"e";c.push(O)}return c};tm.ao=window.TextDecoder?new window.TextDecoder:null;
tm.hI=function(H,N,Q){if(N==null)N=0;if(Q==null)Q=H.length;if(tm.ao&&N==0&&Q==H.length)return tm.ao.decode(H);
var c=tm.ai(H,N,Q),_=c.length;for(var O=0;O<_;O++)c[O]=String.fromCharCode(c[O]);return c.join("")};
tm.aX=function(H,N,Q){var c=H.length,_=0;for(var O=0;O<c;O++){var L=H.charCodeAt(O);if((L&4294967295-(1<<7)+1)==0){N[Q+_]=L;
_++}else if((L&4294967295-(1<<11)+1)==0){N[Q+_]=192|L>>6;N[Q+_+1]=128|L>>0&63;_+=2}else if((L&4294967295-(1<<16)+1)==0){N[Q+_]=224|L>>12;
N[Q+_+1]=128|L>>6&63;N[Q+_+2]=128|L>>0&63;_+=3}else if((L&4294967295-(1<<21)+1)==0){N[Q+_]=240|L>>18;
N[Q+_+1]=128|L>>12&63;N[Q+_+2]=128|L>>6&63;N[Q+_+3]=128|L>>0&63;_+=4}else throw"e"}return _};function tD(H,N,Q){this.In=H;
this.$W=N;this.tdN=Q;this.sz=0;this.FY=-1;this.FN=0;this.Cf=[];this._N=null;this.se=null;this.tR=null;
this.FF=null;this.tD=null}tD.prototype.StartPage=function(H,N,Q,c){this.se=[H,N,Q,c];var _=this.$W.ka();
H=Math.round(H*_);N=Math.round(N*_);Q=Math.round(Q*_);c=Math.round(c*_);var O=this.In,L=this.tR;O.$+=Math.round(Q-H);
O.z=Math.max(O.z,Math.round(c-N));this.$W.Ug=this.tdN?c:-N;if(L){var s=L[2]-L[0]+30;this.$W.DX+=s;this.sz+=s;
O.$+=30}else this.$W.DX=-H;this.tR=[H,N,Q,c];O.b.push(O.sd())};tD.prototype.af=function(){var H=this.In,N=H.b[H.b.length-1];
return N};tD.prototype.aB=function(){var H=JSON.parse(JSON.stringify(B.nO.default));H.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
H.strokeEnabled.v=!1;H.fillEnabled.v=!1;return H};tD.prototype.aU=function(){var H=this.In,N=H.Zs();
N.Vp("Path "+H.b.length);this.In.b.push(N);N._c|=16;N.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.e.Ta({T:0,q:0,H:0})}};
N.add.vmsk=new R.hT;N.add.vstk=this.aB();return N};tD.prototype.QQ=function(H){var N=[{type:6},{type:8,all:0}].concat($.A.eX(Typr.U.pathToSVG(H)));
$.A.Nj(N,this.$W);return N};tD.QO=function(H,N){for(var Q=0;Q<H.length;Q++)if(H[Q].AY!=null)H[Q].AY=N};
tD.tDy=function(H){return Math.sqrt(Math.abs(H[0]*H[3]-H[1]*H[2]))};tD.SI=function(H){return $.e.Ta({T:H[0]*255,q:H[1]*255,H:H[2]*255})};
tD.Ng=function(H){return new Jo(H[0],H[1],H[2],H[3],H[4],H[5])};tD.prototype.Stroke=function(H){if(this.FY!=-1&&this.FY!=this.FN)return;
if(H.pth.cmds.length<=1)return;var N=this.QQ(H.pth);if(N.length<=2)return;this.Na(H);tD.QO(N,-1);N[2].AY=1;
var Q=tD.SI(H.COLR),c=this.af(),_=this.aB();_.strokeEnabled.v=!0;_.strokeStyleMiterLimit.v=H.mlimit;
_.strokeStyleLineDashSet.v=Ja.Yo(H.dash,1/H.lwidth);_.strokeStyleLineDashOffset.v.val=H.doff;_.strokeStyleLineJoinType.v.strokeStyleLineJoinType=B.nO.join[H.ljoin];
_.strokeStyleLineCapType.v.strokeStyleLineCapType=B.nO.Ky[H.lcap];_.strokeStyleLineWidth.v.val=Math.max(.4,H.lwidth*tD.tDy(H.ctm));
_.strokeStyleContent.v.Clr.v=Q;var O=c!=null&&c.add.vmsk!=null&&!c.oP(),L=O&&!c.add.vstk.strokeEnabled.v&&R.hT.tyB(c.add.vmsk.L,N,!0),s=O&&!c.add.vstk.fillEnabled.v&&JSON.stringify(_)==JSON.stringify(c.add.vstk);
if(s){tD.QO(N,-1);c.add.vmsk.L=c.add.vmsk.L.concat(N.slice(2))}else if(L){c.add.vstk=_;_.fillEnabled.v=!0}else{c=this.aU();
c.add.vmsk.L=N;c.add.vstk=_}};tD.prototype.Fill=function(H,N){if(this.FY!=-1&&this.FY!=this.FN)return;
if(H.ca==0)return;var Q=H.pth.cmds;if(Q.length==0)return;if(Q.length==2&&JSON.stringify(Q)=="[\"M\",\"L\"]")return;
var c=$.K.jm(H.cpth.crds),_=$.K.jm(H.pth.crds);if(_.sj(c).km())return;var O=H.pth;if(this.FF==null&&tD.Sj(O.cmds.join(""),O.crds,[_.x,_.y,_.x+_.$,_.y+_.z])&&_.pk(c)){O=H.cpth}else this.Na(H);
var L=this.QQ(O);tD.QO(L,N?0:-1);L[2].AY=1;var s=$.K.DK(_);$.K.UC(s.Z,this.$W,s.Z);_=$.K.jm(s.Z);var r=tD.vP(H.colr,this.$W,_),u=this.af();
if(u!=null&&u.add.vstk!=null&&!u.add.vstk.strokeEnabled.v&&u.add.SoCo&&r.type=="SoFi"&&JSON.stringify(u.add.SoCo.Clr.v)==JSON.stringify(r.R.v.Clr.v)){var V=u.add.vmsk.L;
for(var C=2;C<L.length;C++)V.push(L[C])}else{u=this.aU();delete u.add.SoCo;u.add.vmsk.L=R.hT.Cx(L);tD.uP(H.colr,u,this.$W,_);
tD.vE(H,u)}};tD.uP=function(H,N,Q,c){var _=tD.vP(H,Q,c),O=null,L=null;N.add.vstk.fillEnabled.v=!0;if(_.type=="SoFi"){O="SoCo";
L=B.IS}if(_.type=="GrFl"){O="GdFl";L=B.fT}if(_.type=="patternFill"){O="PtFl";L=B.fP}if(O!=null){N.add[O]={classID:"null"};
for(var s=0;s<L.length;s++){var r=L[s];N.add[O][r]=_.R.v[r]}}};tD.Si=function(H,N){for(var Q=0;Q<8;Q+=2){var c=!0;
for(var _=0;_<8;_++)if(Math.abs(N[_]-H[_+Q&7])>=2){c=!1;break}if(c)return!0}return!1};tD.Sj=function(H,N,Q){var c=!1;
if(H=="MLLLZ"&&N.length==8||H=="MLLLLZ"&&N.length==10){if(N.length==10)N=N.slice(0,8);var _=Q[0],O=Q[1],L=Q[2],s=Q[3];
if(!c)c=tD.Si(N,[_,O,L,O,L,s,_,s]);if(!c)c=tD.Si(N,[_,s,L,s,L,O,_,O])}return c};tD.prototype.Na=function(H){var N=this.In,Q=H.cpth,c=Q.cmds.join(""),_=Q.crds,O=c+" "+_.join(","),L=tD.Sj(c,_,this.se);
if(L&&this.FF==null)return;if(O==this.FF)return;if(this.FF!=null){N.b.push(this.tD);this.FF=null}if(!L){this.FF=O;
N.b.push(N.sd());var s=N.Zs();s.Vp("Mask");s.add.lsct=tR.Vc;s.kE="pass";s._c=24;var r=s.add.vmsk=new R.hT;
r.L=this.QQ(H.cpth);this.tD=s}};tD.vP=function(H,N,Q){var c,_;if(H.length!=null){c="SoFi";var O=JSON.parse(B.cz[B.order.indexOf("SoFi")]);
_={t:"Objc",v:O};_.v.Clr.v=tD.SI(H)}else{var L=tD.tDa(H,N,Q);c="GrFl";_={t:"Objc",v:L}}return{type:c,R:_}};
tD.tDa=function(H,N,Q){var c=JSON.parse(B.cz[B.order.indexOf("GrFl")]),_=c.Grad.v;_.Intr.v=0;var O=tD.Ng(H.mat);
O.concat(N);var L=new E(0,0),s=new E(Q.$,0),r=H.crds;if(H.typ=="rad"){c.Type.v.GrdT="Rdl";L.x=r[0];L.y=r[1];
s.x=L.x;s.y=L.y;s.x+=r[5]}else{c.Type.v.GrdT="Lnr";L.x=r[0];L.y=r[1];s.x=r[2];s.y=r[3];L.x=s.x+.5*(L.x-s.x);
L.y=s.y+.5*(L.y-s.y)}L=O.Sk(L);s=O.Sk(s);$.e.qa(L,s,Q,c);var u=H.grad;$.e.zO(u,_);return c};tD.prototype.PutText=function(H,N,Q){if(this.FY!=-1&&this.FY!=this.FN)return;
if(N.length==0||N.length==1&&N.charCodeAt(0)==0)return;this.Na(H);var c=this.In,_=H.font,O=tD.Ng(H.ctm),V=null;
O.concat(this.$W);var L=tD.Ng(_.Tm);L.concat(O);var s=l._.ka(L),r=new Jo(1/s,0,0,-1/s,0,0);r.concat(L);
var u=_.Tfs*s;if(_.Th!=100||_.Trise!=0){console.log(_)}var C=c.b.length-1;while(C>=0&&c.b[C].add.TySh==null)C--;
if(C>=0&&c.b[C].add.TySh){var T=c.b[C],e=T.add.TySh.UC,t=e.o==r.o&&e.H==r.H&&e.lA==r.lA&&e.KI==r.KI&&Math.abs(e.Ug-r.Ug)==0&&Math.abs(e.DX+this.Cf[C]-r.DX)<u*.3;
if(t){V=T;this.Cf[C]=r.DX-e.DX}}if(V==null){C=c.b.length;this.Cf[C]=0;V=c.Zs();c.b.push(V);V.add.lnsr="rend";
V.add.TySh=X.YD(0,0);V.add.TySh.UC=r}this.Cf[C]+=Q*u;var Y=V.add.TySh.Bd,A=X.Fk(Y),G=A.length-1,j=G+N.length;
X.el(Y,G,N);if(this._N==null)this._N=X.Sr(Y,G,G);var d=this._N;d.hj.FontSize=Math.round(u);d.hj.Tracking=_.Tc*100;
d.hj.Underline=_.Tun==1;d.hj.FillColor={Type:1,Values:[1,H.colr[0],H.colr[1],H.colr[2]]};if(_.Tal!=0)d.re.Justification=_.Tal;
var w=_.Tf,f={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT"};
if(f[w])w=f[w];X.kP(d,w);X.zX(Y,G,j-1,d);V.jK()};tD.prototype.PutImage=function(H,N,Q,c,_){if(this.FY!=-1&&this.FY!=this.FN)return;
this.Na(H);var O=tD.Ng(H.ctm);O.concat(this.$W);var L=new Jo(1/Q,0,0,-1/c,0,1);L.concat(O);O=L;N=tD.vW(N,Q,c);
if(_)_=tD.vW(_,Q,c);if(_==null){if(N.length==Q*c*4)N=new Uint8Array(JP.PNG.Dz([[N.buffer,0]],Q,c))}else{N=this.EJ(N,Q,c);
_=this.EJ(_,Q,c);var s=$.I(Q*c);$.rY(_,s,0);$.kw(s,N,3);N=new Uint8Array(JP.PNG.Dz([[N.buffer,0]],Q,c))}var r=this.In,u=r.Pd(N,"Bitmap",0,0),V=u.rect.clone();
V.x=V.y=0;var C=$.K.DK(V).Z;$.K.UC(C,O,C);u.add.SoLd.Trnf=l._.Sz(C);u.add.SoLd.nonAffineTransform=l._.Sz(C);
u.fc(r,!1);tD.vE(H,u);r.b.push(u)};tD.vE=function(H,N){N.opacity=Math.round(255*H.ca);var Q=tD.QY[H.bmode];
if(Q==null)console.log("Unknown blend mode",Q);else N.kE=Q};tD.QY={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
tD.vW=function(H,N,Q){var c=JP.Uw(H.buffer);if(c=="jpg")H=new Uint8Array(JP.JPG.t$i(H.buffer));if(c==null&&H.length!=N*Q*4){var _=new Uint8Array(N*Q*4),O=new Uint8Array(Math.ceil(N*Q/8));
UTIF.decode._decodeG4(H,0,H.length,O,0,N,1);for(var L=0;L<N*Q;L++){var s=L*4,r=(O[L>>3]>>7-(L&7)&1)*255;
_[s]=r;_[s+1]=r;_[s+2]=r;_[s+3]=255}H=_}return H};tD.prototype.EJ=function(H,N,Q){if(H.length!=N*Q*4){var c=JP.Uw(H.buffer),_=JP.aD(c);
H=new Uint8Array(_.cA(H)[0].data)}return H};tD.prototype.ShowPage=function(){var H=this.In;this.FN++;
var N=this.tR;if(this.FF!=null){H.b.push(this.tD);this.FF=null}var Q=H.Zs();H.b.push(Q);Q.L$(new p(Math.round(this.sz),0,Math.round(N[2]-N[0]),Math.round(N[3]-N[1])));
Q.Vp("Page "+this.FN);Q.add.lsct=tR.Vc;Q.kE="pass";Q._c=24};tD.prototype.Print=function(H){console.log("Print:",H)};
tD.prototype.Done=function(){var H=this.In;if(this.FN==1)H.b[H.b.length-1].add.lsct=tR.Gp;H.HT(this.FN);
for(var N=0;N<H.b.length;N++){var Q=H.b[N],c=Q.add.vmsk;Q.Ls();Q.Sa(H)}H.iI=!0;H.buffer=$.I(H.$*H.z*4)};
var Vv={};Vv.QU=function(H,N,Q){var c=H.add.artd?H.root.children:[H.root],_=new p(0,0,H.$,H.z);for(var O=0;
O<c.length;O++){var L=c[O],s=H.add.artd?L.i.As():_;Q.StartPage(0,0,s.$,s.z);var r=UDOC.getState([[0,0,s.$,s.z]]),u=new Jo;
u.translate(-s.x,-s.y-s.z);u.scale(1,-1);if(N[0]){var V=H.cn();if(!_.v$(s)){V=$.I(s.f()*4);$.Pg(H.cn(),_,V,s)}var C=new Jo;
C.translate(s.x,s.y);Vv.Ed(r,Q,V,s,C,u)}else Vv.Ec(H,L,r,Q,u,N);Q.ShowPage()}Q.Done()};Vv.EI=function(H){H=$.e.NG(H);
return[H.T/255,H.q/255,H.H/255]};Vv.Ec=function(H,N,Q,c,_,O){var L=N.i,s=L.add.lsct,r=L.add.lmfx,u=L.add.vmsk,V=L.add.vstk,C=L.add.TySh;
if(!L.op())return;var T=L.opacity/255,e=L.add.iOpa?L.add.iOpa/255:1;for(var t in tD.QY)if(tD.QY[t]==L.kE)Q.bmode=t;
Q.ca=Q.CA=T*e;if(L.oP()){for(var Y=0;Y<N.children.length;Y++)Vv.Ec(H,N.children[Y],Q,c,_,O)}else if(u){var A=u.L,G=$.A.gw(A),j=$.K.Cp(A),d=!1,w=!1,f=!1;
$.K.UC(j.Z,_,j.Z);Q.pth={cmds:j.lX,crds:j.Z};if(V.fillEnabled.v){var b=Ja.Yy(r),F=b[0],n=b[1];if(F==null)F=L.add.SoCo;
if(n==null)n=L.add.GdFl;if(F&&n==null){Q.colr=Vv.EI(F.Clr.v)}else if(n){var J=n,Z=[],P,M=J.Type.v.GrdT=="Rdl"?"rad":"lin",y=$.e.qL(J,G),a=_.Sk(y[0]),g=_.Sk(y[1]);
if(M=="rad")P=[a.x,a.y,0,a.x,a.y,E.Ln(a,g)];else{a.kR(g.x+(a.x-g.x)*2,g.y+(a.y-g.y)*2);P=[a.x,a.y,g.x,g.y]}var U=J.Grad.v.Clrs.v;
for(var Y=0;Y<U.length;Y++){var D=U[Y].v;Z.push([D.Lctn.v/4096,Vv.EI(D.Clr.v)])}Q.colr={typ:M,mat:[1,0,0,1,0,0],grad:Z,crds:P}}d=!0}var W=Ja.Yq(r);
if(!V.strokeEnabled.v&&W)V=W;if(V.strokeEnabled.v){var m=V.strokeStyleContent.v,q=V.strokeStyleLineDashSet.v,S=B.nO.e$.indexOf(V.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(m.Clr==null)return;var I=$.e.NG(m.Clr.v);Q.COLR=[I.T/255,I.q/255,I.H/255];Q.lwidth=V.strokeStyleLineWidth.v.val*(S==2?2:1);
Q.mlimit=V.strokeStyleMiterLimit.v;Q.doff=V.strokeStyleLineDashOffset.v.val;Q.ljoin=B.nO.join.indexOf(V.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
Q.lcap=B.nO.Ky.indexOf(V.strokeStyleLineCapType.v.strokeStyleLineCapType);Q.dash=[];for(var Y=0;Y<q.length;
Y++)Q.dash.push(q[Y].v.val*Q.lwidth);w=!0;if(S==2)f=!0}if(d&&!f)c.Fill(Q);if(w)c.Stroke(Q);if(d&&f)c.Fill(Q)}else if(C&&O[1]==!1){var v=C.Bd,h=C.UC.clone(),i=new Jo(1,0,0,-1,0,0),Jh=0,Jv=0;
if(X.gG(v)==0&&X.Sr(v,0,0).re.Justification==2)i.DX-=L.rect.$/2;i.concat(h);i.concat(_);var JI=X.Fk(v),Jx=v.EngineDict.ParagraphRun,Jd=Jx.RunArray,JC=Jx.RunLengthArray,JM=L.add.lmfx;
if(JM)JM=JM.frameFXMulti.v[0];if(JM)JM=JM.v;for(var Y=0;Y<Jd.length;Y++){var JW=[],Ji=JC[Y],Jc=JI.slice(Jh,Jh+Ji-1);
if(Jc=="")continue;var JT=X.Sr(v,Jh+Jc.length-1,Jh+Jc.length-1),I=X.NG(JT.hj);Q.colr=[I.T/255,I.q/255,I.H/255];
var Jy=JT.vT[JT.hj.Font].Name;Q.font.Tf=Jy;Q.font.Tfs=Math.round(JT.hj.FontSize);var Jg=JT.hj.FontSize*1.12;
if(Y==0)Jg=X.gG(v)==0?0:JT.hj.FontSize;Jv+=Jg;var Jn=new Jo;Jn.translate(0,-Jv);Jn.concat(i);Q.ctm=[Jn.o,Jn.H,Jn.lA,Jn.KI,Jn.DX,Jn.Ug];
if(JT.hj.FontCaps==2)Jc=Jc.toUpperCase();c.PutText(Q,Jc,0);Jh+=Ji}}else if(!L.rect.km()){var Jq,tJ,ty=new Jo;
if(L.add.SoLd){var JA=L.add.SoLd,td=JA.Idnt.v,Jk=H.Hj(td,JA.Crop?JA.Crop.v:null),JU="";if(Jk==null)return;
var rR=Jk.Eq,Je=JP.Uw(Jk.raw.buffer);if(O[2].indexOf(Je)!=-1)Jq=Jk.raw;else Jq=rR[0];tJ=rR[1];ty=$.F.Cw(JA)}else{Jq=L.buffer;
tJ=L.rect;ty.translate(tJ.x,tJ.y)}var JK=r;if(JK)JK=JK.solidFillMulti.v[0];if(JK)JK=JK.v;if(JK&&JK.enab.v){var rH=Jq;
Jq=Jq.slice(0);var Ju=ta.Cj[ta.io.indexOf(JK.Md.v.BlnM)],JZ=$.e.NG(JK.Clr.v),Jl=4278190080|Math.round(JZ.H)<<16|Math.round(JZ.q)<<8|Math.round(JZ.T),I=$.I(tJ.f()*4);
$.Mw(I,Jl);$.a.MR(Ju,I,tJ,Jq,tJ,tJ,JK.Opct.v.val/100);for(var Y=0;Y<Jq.length;Y+=4)Jq[Y+3]=rH[Y+3]}Vv.Ed(Q,c,Jq,tJ,ty,_)}};
Vv.Ed=function(H,N,Q,c,_,O){var L=new Jo;L.scale(c.$,-c.z);L.translate(0,c.z);L.concat(_);L.concat(O);
H.ctm=[L.o,L.H,L.lA,L.KI,L.DX,L.Ug];N.PutImage(H,Q,c.$,c.z);H.ctm=[1,0,0,1,0,0]};var Ho={};Ho.Fp=function(H,N){var Q=new Uint8Array(H);
return Ho.QA(Q,0,N)};Ho.QA=function(H,N,Q){var c=x.UD,_=x.sx,O={VB:_(H,N,4),M:N+8,size:c(H,N+4)};if(Q&&Q[O.size]!=null)O.size=Q[O.size];
if(O.VB=="RIFF"||O.VB=="LIST"){O.aw=_(H,N+8,4)}if(O.size<0||O.M+O.size>H.length)throw"e";if(O.VB=="RIFF"||O.VB=="LIST"&&(O.aw!="cmpr"&&O.aw!="stlt")){O.sub=[];
N+=12;var L=O.M+O.size;while(N<L){var s=Ho.QA(H,N,Q);O.sub.push(s);N+=8+s.size+(s.size&1)}}return O};
function JN(){}JN.Fp=function(H,N){var Q=new Uint8Array(H);N.iI=!0;var c=x.sx(Q,0,2);if(c=="WL"){alert("Unsupported CDR version")}else{var _=JN.Qm,O=Ho.Fp(Q.buffer),L={data:Q,M:0,_D:JN.tTH(Q[11])};
L.tc=L._D<600?16:32;JN.OR(L,O.sub,N,0);var s=_(O,"cmpr").sub,r=s[0],u=s.slice(1),V=_(r,"mcfg").R,C=V.tGw,T=Math.round(C.x*300),e=Math.round(C.y*300);
N.$=T;N.z=e;var t=_(r,"filt").sub,Y=_(r,"otlt").sub;r.tC={};for(var A=0;A<t.length;A++)r.tC[t[A].sub[0].R.id]=t[A].sub[0].R;
r.tM={};for(var A=0;A<Y.length;A++)r.tM[Y[A].R.id]=Y[A].R;var G=new Jo(300,0,0,-300,C.x*150,C.y*150),j=u[1];
JN.sK(j,r,N,G);N.HT(1);N.b[N.b.length-1].L$(new p(0,0,T,e))}};JN.Qm=function(H,N){var Q=null;for(var c=0;
c<H.sub.length;c++){var _=H.sub[c];if(_.VB==N||_.aw==N)Q=_}return Q};JN.sK=function(H,N,Q,c){var _=JN.Qm,O=H.aw?H.aw:H.VB,L=_(H,"lgob"),s=_(H,"txsm"),r,u;
if(L){r=_(L,"trfl");u=_(L,"loda")}var V=r?r.sub[0].Iw.clone():new Jo;V.concat(c);var C=Q.Zs();if(O=="page"||O=="layr"||O=="grp "){C.Vp((O=="page"?"Page":"Group")+" "+Q.b.length);
C.add.lsct=tR.Gp;C.kE="pass";C._c=24;var T=[];if(O=="page")T=_(H,"gobj").sub;if(O=="layr")T=H.sub.slice(2);
if(O=="grp ")T=H.sub.slice(4);if(T.length==0)return;Q.b.push(Q.sd());for(var e=T.length-1;e>=0;e--)JN.sK(T[e],N,Q,c)}else if(O=="obj "&&u.R&&u.R.path){C.Vp("Object "+Q.b.length);
var t=N.tC[u.R.tGy],Y=N.tM[u.R.tGT],A=C.getName(),G=t&&t.type!=0,j=G&&t.R!=null?t.R:[0,0,0];C._c|=16;
C.add.vstk=JSON.parse(JSON.stringify(B.nO.default));var d=C.add.vstk;d.strokeEnabled.v=!1;C.add.vmsk=new R.hT;
if(Y&&Y.tGG!=1){d.strokeEnabled.v=!0;d.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
d.strokeStyleLineWidth.v.val=Y.lineWidth*300;var w=Y.color;d.strokeStyleContent.v.Clr.v=$.e.Ta({T:w[0]*255,q:w[1]*255,H:w[2]*255})}var f=u.R.path,b={crds:f.Z,cmds:f.lX};
C.add.vmsk.L=[{type:6},{type:8,all:0}].concat($.A.eX(Typr.U.pathToSVG(b)));$.A.Nj(C.add.vmsk.L,V);tD.uP(j,C,V,$.A.gw(C.add.vmsk.L));
d.fillEnabled.v=G;C.Ls();C.Sa(Q)}else if(O=="obj "&&s){var F=u.R.tGM,Z="";C.add.TySh=X.YD(0,0);var n=V.ka();
C.add.TySh.UC.translate(V.DX,V.Ug);var J=C.add.TySh.Bd,P=s.R.s_;for(var e=0;e<P.length;e++){var M=P[e],y=Z.length;
Z+=M.text+"\n";X.el(J,y,M.text+"\n");var a=JN.tDv(M.tGg,N),g=X.Sr(J,y,Z.length);if(a.align==3)g.re.Justification=1;
else g.re.Justification=0;var U=a.fill.R;g.hj.FillColor={Type:1,Values:[1,U[0],U[1],U[2]]};g.hj.FontSize=Math.round(a.tGS.fontSize*V.ka());
X.zX(J,y,Z.length-1,g)}X.kN(J,1);X.Yc(J,[0,0,Math.round(F.x*V.o),Math.round(-F.y*V.KI)]);C.Vp(Z.slice(0,10))}else{C=null}if(C)Q.b.push(C)};
JN.tDv=function(H,N){var Q=JN.Qm(N,"stlt").R,c=JSON.parse(JSON.stringify(Q.B_[H]));if(c.tS!=0){var _=Q.B_[c.tS];
for(var O in _)if(c[O]==null||c[O]==0)c[O]=_[O];delete c.tS}c.align=Q.tGO[c.tGs];c.fill=N.tC[Q.txw[c.uR]];
c.tdv=N.tM[Q.txc[c.uN]];c.tGS=Q.us[c.txg];return c};JN.tDB=function(H){var N=H.data[H.M];H.M+=1;return N};
JN.uO=function(H){var N=x.$R(H.data,H.M);H.M+=2;return N};JN._t=function(H){var N=x.UD(H.data,H.M);H.M+=4;
return N};JN.NO=function(H){var N=x.tcU(H.data,H.M);H.M+=2;return N};JN.Nn=function(H){var N=x.eC(H.data,H.M);
H.M+=4;return N};JN.FD=function(H){var N=x.tLv(H.data,H.M);H.M+=8;return N};JN.EE=function(H){var N=0;
while(H.data[H.M+N]!=0)N++;var Q=x.sx(H.data,H.M,N);H.M+=N+1;return Q};JN.tce=function(H){if(H._D<600)return Math.PI*JN.NO(H)/1800;
return Math.PI*JN.Nn(H)/18e7};JN.tLa=function(H){if(H._D<1500)return JN._T(H);else return JN.FD(H)/254e3};
JN._T=function(H){if(H._D<600)return JN.NO(H)/1e3;else return JN.Nn(H)/254e3};JN.tLb=function(H){if(H._D<600)return CRDParser.uO(H);
else return JN._t(H)};JN.tLu=function(H){if(H._D<600)return CRDParser.NO(H);else return JN.Nn(H)};JN.OR=function(H,N,Q,c){var _=JN,O=_.tDB,L=_.uO,s=_._t,r=_.NO,u=_.Nn,V=_.FD,C=_._T,T=_.tLa,e=_.tce,t=_.tLb,Y=_.tLu;
for(var A=0;A<N.length;A++){var G=H._D,j=N[A];H.M=j.M+(j.VB=="LIST"?4:0);if(j.VB=="vrsn"){var d=L(H);
H._D=d;console.log("Version",d);H.tc=d<600?16:32}else if(j.VB=="DISP"){}else if(j.VB=="LIST"&&j.aw=="cmpr"){var w=s(H),f=s(H),b=s(H),F=s(H),n=new Uint8Array(H.data.buffer,H.M+8+2,w-6-8),J=pako.inflateRaw(n),y=0;
H.M+=w;n=new Uint8Array(H.data.buffer,H.M+8+2);var Z=pako.inflateRaw(n),P=[];for(var M=0;M<Z.length;
M+=4)P.push(x.UD(Z,M));j.sub=[];while(y<J.length){var a=Ho.QA(J,y,P);y=a.M+a.size;j.sub.push(a)}var g={data:J,M:0,_D:G,tc:H.tc};
JN.OR(g,j.sub,Q,c+1)}else if(j.VB=="LIST"&&j.aw=="stlt"){var U=H.M,Jv=32;j.R={};var D=s(H);if(D==0)return;
j.R.txw=JN.OV(H,G>=1300);j.R.txc=JN.OV(H);j.R.us={};var W=s(H);for(var m=0;m<W;m++){var q=s(H);H.M+=G<1e3?12:20;
var S=L(H),I=L(H);H.M+=8;var v=C(H);H.M+=G<1e3?12:20;j.R.us[q]={txE:S,tdE:I,fontSize:v}}j.R.tGO=JN.OV(H);
var h=s(H);H.M+=52*h;var i=s(H);H.M+=152*i;var JI=s(H);H.M+=784*JI;var Jx=s(H);for(var m=0;m<Jx;m++){H.M+=40;
if(G>1300)H.M+=4;if(G>=1300){if(s(H))H.M+=68;else H.M+=12}else{H.M+=20;if(G>=1e3)H.M+=8;if(s(H))H.M+=8;
H.M+=8}}var Jd=s(H);j.R.txO={};for(var m=0;m<Jd;m++){var JC=s(H),JM={};H.M+=12;JM.right=C(H);JM.tdj=C(H);
JM.left=C(H);j.R.txO[JC]=JM}var Jh=s(H);if(G>=1300)Jv+=4;H.M+=Jv*Jh;var JW=s(H);H.M+=28*JW;if(G>800){var Ji=s(H);
H.M+=12*Ji}j.R.B_={};for(var m=0;m<D;m++){var Jc=s(H),JT=s(H),Jy={};Jy.tS=s(H);H.M+=8;var Jg=s(H);if(G>=1200)Jg*=2;
H.M+=Jg;Jy.uR=s(H);Jy.uN=s(H);if(Jc>1){Jy.txg=s(H);Jy.tGs=s(H);Jy.tdb=s(H);Jy.tdz=s(H);if(G>800)Jy.tGt=s(H)}if(Jc>2){Jy.tGH=s(H);
Jy.tGI=s(H);Jy.tGD=s(H);Jy.tGh=s(H);Jy.tGe=s(H)}j.R.B_[JT]=Jy}}else if(j.VB=="LIST")JN.OR(H,j.sub,Q,c+1);
else if(j.VB=="txsm"){j.R={};if(G<600)throw"e";if(G<700)throw"e";if(G>=1600)throw"e";if(G>=1500)H.M+=37;
else H.M+=36;if(s(H)){if(G<800)H.M+=32}if(G<800)H.M+=4;j.R.tG_=s(H);j.R.s_=[];H.M+=48;if(G>=800){if(s(H)){H.M+=32;
if(G>=1300)H.M+=8}}if(G>=1500)H.M+=12;var Jc=s(H),Jn=1;if(!Jc){if(G>=800)H.M+=4;if(G>800)H.M+=2;if(G>=1400)H.M+=2;
H.M+=24;if(G<800)H.M+=8;Jn=s(H)}for(var M=0;M<Jn;M++){var Jq=s(H),m=0;if(G>=1300&&Jc)H.M++;H.M++;var D=s(H),tJ=[];
for(m=0;m<D;m++){var ty=O(H),td=0;O(H);var JA=O(H);if(G>=800)td=O(H);var Jy={};if(JA&1){Jy.txE=L(H);
var Jk=L(H);if(Jk)Jy.txR=Jk}if(JA&2)H.M+=4;if(JA&4)Jy.txV=C(H);if(JA&8)H.M+=4;if(JA&16)H.M+=4;if(JA&32)H.M+=4;
if(JA&64){Jy.uR=s(H);if(G>=1500)H.M+=48}if(JA&128){Jy.uN=s(H)}if(td&8){if(G>=1300){var rR=s(H);H.M+=rR*2}else H.M+=4}if(td&32){var Je=O(H);
if(Je)H.M+=52}if(ty==2)if(G>=1300)H.M+=48;tJ.push(Jy)}var JU=s(H),JK=[];for(m=0;m<JU;m++){var rH=0;if(G>=1200)rH=readU64(H)&4294967295;
else rH=s(H);JK[m]=rH>>16|rH&1}var rL=JU;if(G>=1200)rL=s(H);var Ju=JN.EE(H);j.R.s_.push({tGg:Jq,text:Ju,B_:tJ})}}else if(j.VB=="font"){var JZ=L(H),Jl=L(H);
H.M+=14;var rV=JN.EE(H);j.R={id:JZ,txI:Jl,name:rV}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(j.VB)!=-1){}else if(j.VB=="flgs")j.R=s(H);
else if(j.VB=="bbox"){var rD=C(H),tb=C(H),rv=C(H),rG=C(H);j.R=new p(rD,tb,rv-rD,rG-tb)}else if(j.VB=="fild"){var Js=s(H),rI=0,tt;
if(G>=1300){H.M+=4;rI=L(H);H.M+=2}var tv=L(H);if(tv==0){}else if(tv==1){H.M+=G>=1300?13:2;tt=JN.bI(H)}else if(tv==2){H.M+=G>=1300?8:2;
var rE=O(H),rX=0;if(G>=1300){H.M+=17;rX=r(H)}else if(G>=600){H.M+=19;rX=u(H)}else{H.M+=11;rX=r(H)}var rQ=e(H),ra=.5+Y(H),rx=.5+Y(H)-.5;
if(G>=600)H.M+=2;var rU=t(H)&255,rJ=O(H)/100;H.M++;var tG=t(H)&65535;if(G>=1300)H.M+=3;var rT=[];for(var m=0;
m<tG;m++){var JR=JN.bI(H);if(G>=1300){if(rI==158||G>=1600&&rI==150)H.M+=26;else H.M+=5}var rO=t(H)/100;
if(G>=1300)H.M+=3;rT.push([rO,JR])}tt={typ:rE==1?"lin":"rad",crds:[ra-Math.cos(rQ)/2,rx-Math.sin(rQ)/2,ra,rx],grad:rT,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",tv);
j.R={id:Js,type:tv,R:tt}}else if(j.VB=="outl"){var rg=s(H);if(G>=1300){var rc=0,rm=0;while(rc!=1){H.M+=rm;
rc=s(H);rm=s(H)}}var rn=L(H),rK=L(H),V$=L(H);if(G<1300&&G>=600)H.M+=2;var Vc=C(H),rb=L(H)/100;if(G>=600)H.M+=2;
var rl=e(H);if(G>=1300)H.M+=46;else if(G>=600)H.M+=52;var tt=JN.bI(H,rg==270963208||rg==276198e3,rg);
j.R={id:rg,tGG:rn,txS:rK,txq:V$,lineWidth:Vc,color:tt}}else if(j.VB=="mcfg"){if(1300<=G)H.M+=12;else if(900<=G)H.M+=4;
else if(600<=G&&G<700)H.M+=28;var rB=0,HI=0;if(G<400)throw"e";else{rB=C(H);HI=C(H)}j.R={tGw:new E(rB,HI)}}else if(j.VB=="loda"){var U=H.M,Hw=t(H),rf=t(H),VI=t(H),rN=t(H),rp=t(H),rZ=[],$u=[];
H.M=U+VI;for(var m=0;m<rf;m++)rZ[m]=t(H);H.M=U+rN;for(var m=rf-1;m>=0;m--)$u[m]=t(H);j.R={};for(var m=0;
m<rf;m++){H.M=U+rZ[m];var rz=$u[m];if(rz==10)j.R.tGT=s(H);else if(rz==20)j.R.tGy=s(H);else if(rz==200)j.R.txX=t(H);
else if(rz==30){if(G<400)rp--;if(rp==1){var rD=T(H),tb=T(H),Hy=0,HR=0,tq=0,HH=0;if(G<1500){HH=T(H);tq=G<900?HH:T(H);
HR=G<900?HH:T(H);Hy=G<900?HH:T(H)}else throw"e";j.R.path=$.K.Cp($.A.FH.Rect(0,0,rD,tb,Hy))}else if(rp==2){var rh=C(H),tX=C(H),Hg=e(H),HT=e(H),tN=Math.abs(rh),Hx=Math.abs(tX);
j.R.path=$.K.Cp($.A.FH.QJ(0,0,tN,-Hx))}else if(rp==3){j.R.path=JN.tT$(H)}else if(rp==6){j.R.tGM=JN.tCv(H)}else if(rp==37){j.R.path=JN.tCs(H)}else console.log(rp)}}}else if(j.VB=="trfd"){var U=H.M,Hw=t(H),rf=t(H),VI=t(H);
H.M=U+VI;var rZ=[];for(var m=0;m<rf;m++)rZ[m]=t(H);for(var m=0;m<rf;m++){H.M=U+rZ[m];if(G>=1300)H.M+=8;
var Hf=L(H);if(Hf==8){var Vr,Vg,rD,VE,Ht,tb;if(G>=600)H.M+=6;if(G>=500){Vr=V(H);Vg=V(H);rD=V(H)/(G<600?1e3:254e3);
VE=V(H);Ht=V(H);tb=V(H)/(G<600?1e3:254e3)}else throw"e";j.Iw=new Jo(Vr,VE,Vg,Ht,rD,tb)}else console.log(Hf)}}else if(!1){console.log(j);
var VQ=Math.min(j.size,32);console.log(x.tcE(data,j.M,VQ));console.log(x.tcA(data,j.M,VQ))}}};JN.OV=function(H,N){var Q=JN._t,c={},_=Q(H);
for(var O=0;O<_;O++){var L=Q(H);H.M+=4;var s=Q(H);c[L]=s;if(N)H.M+=48}return c};JN.tCv=function(H){var N=JN,Q=N._T;
H.M+=4;var c=Q(H),_=Q(H);return new E(c,_)};JN.tCs=function(H){var N=JN,Q=N._t,c=N.uO,_=N._T;H.M+=4;
var O=c(H)+c(H);H.M+=16;var L=JN.EW(H,O);return L};JN.tT$=function(H){var N=JN.uO(H);H.M+=2;return JN.EW(H,N)};
JN.EW=function(H,N){var Q=JN,c=Q._T,_=H._D<600?2:4,O=H.M,L={Z:[],lX:[]},s=0,r=0,u=0;for(var V=0;V<N;
V++){var s=c(H),r=c(H),C=H.data[O+N*_*2+V];if(!(C&64)&&!(C&128)){L.Z.push(s,r);L.lX.push("M");u+=2}else if(C&64&&!(C&128)){L.Z.push(s,r);
L.lX.push("L");u+=2}else if(!(C&64)&&C&128){L.Z.push(s,r);L.lX.push("C");u+=6}else if(C&64&&C&128){L.Z.push(s,r)}}if(u!=L.Z.length)throw"e";
return L};JN.tHR=function(H,N){var Q=x.UD;N+=8;var c=Q(H,N);N+=4;var _=Q(H,N);N+=4;N+=4*7;var O=N,L=$.I(c*_*4);
N+=1024;for(var s=0;s<_;s++)for(var r=0;r<c;r++){var u=s*c+r,V=(_-s-1)*c+r,C=H[N+u]<<2,T=V<<2;L[T+0]=H[O+C+2];
L[T+1]=H[O+C+1];L[T+2]=H[O+C+0];L[T+3]=255}return{nn:L,rect:new p(0,0,c,_)}};JN.tTH=function(H){if(H==32)return 300;
else if(H<49)return 0;else if(H<58)return 100*(H-48);else if(H<65)return 0;return 100*(H-55)};JN.bI=function(H,N,Q){var c=JN.uO,_=JN._t,O=H._D,L=0,s=0;
if(O>=500){L=c(H);if(L==1&&O>=1300)L=25;if(L==25||L==30)throw"e";else if(L==14)throw"e";else{H.M+=6;
s=_(H)}}else throw"e";var r=[];if(L==2||L==17){var u=[s>>>0&255,s>>>8&255,s>>>16&255,s>>>24&255];if(L==2)for(var V=0;
V<4;V++)u[V]=Math.round(255*u[V]/100);for(var V=0;V<4;V++)u[V]/=255;r=UDOC.C.cmykToRgb(u)}else console.log("Unknown color model "+L,s,s.toString(16));
return r};var l={};l.NY=function(H,N,Q){this.name=H;this.id=N;if(Q!=null)this.Xg=Q};l.NY.prototype.Ly=function(H,N,Q,c,_){};
l.NY.prototype.enable=function(H,N,Q,c,_,O){var L=new k(z.E.Y,!0);L.data={X:z.m.gM,Ut:"default"};N.N(L)};
l.NY.prototype.disable=function(H,N,Q,c){};l.NY.prototype.cL=function(H,N,Q,c,_){};l.NY.prototype.XY=function(H,N,Q,c,_){};
l.NY.prototype.Nu=function(H,N,Q,c,_){};l.NY.prototype.OH=function(H,N,Q,c,_){};l.NY.prototype.FJ=function(H,N,Q,c){};
l.NY.prototype.xz=function(H,N,Q,c){};l.NY.prototype.wD=function(H,N){};l.NY.prototype.mK=function(H,N){};
l.NY.prototype.sG=function(H,N,Q,c,_){};l.NY.prototype.qB=function(H,N){};l.NY.prototype.jV=function(H){return!1};
l.NY.prototype.mW=function(H){return!1};l.NY.prototype.ZQ=function(){return!1};l.NY.prototype.Oy=function(H,N){return!0};
l.NY.prototype.Nm=function(){return null};l.NY.prototype.E_=function(H,N,Q){};l.NY.prototype.hR=function(){return!1};
l.NY.prototype.hH=function(H,N,Q,c){};l.Ft="0";l.sQ="1";l.hw="2";l.hL="5";l.tTw="6";l.tTK="7";l.pF="8";
l.tTs="9";l.Wz="10";l.hx="14";l.tTu="16";l.Fj="18";l.FK="19";l.hM="20";l.Tz="23";l.F_="24";l.mg="27";
l.so="31";l.tPO="34";l.tPn="35";l._x="36";l._h="37";l.MY="38";l.hW="39";l.hq="40";l.hp="41";l.tPB="42";
l.hX="43";l.Jv="47";l.Oc="51";l.tdd="52";l.tdU="54";l.tGE="55";l.tGf="56";l.tGj="57";l.txM="58";l.mS="59";
l.ML="61";l._y="100";l.mE="101";l.nP="230";l.tHt="231";l.ni="232";l.uh="233";l.rt="234";l.Mb="235";l.mq="236";
l.mh=function(H,N,Q){l.NY.call(this,H,N,Q);this.kS={brush:H?HP.wi():null,bmode:"norm",opacity:1,flow:1,smth:0,wconf:{GS:10,Gh:!0},algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.Uu=null;this.yd=null;this.St=null;this.TK=null;this.gk=null;this.tv=null;this.th=null;this.Ud=null;
this._g=1;this.qt=!1;this.Ua=null;this.caller=null};l.mh.prototype=new l.NY;l.mh.prototype.Ly=function(H,N,Q,c,_){if(H.X=="draw"){var O=H.txl,L=this.kS.bmode;
this.rD(Q);this.kS.bmode="norm";this.ps(Q,"draw",H.txf,O,O);this.kS.bmode=L;this.r(Q,O);this.finish(Q,O,H._F)}};
l.mh.prototype.jV=function(H){if(K.jH.indexOf(H)!=-1)return!0;return!1};l.mh.prototype.FJ=function(H,N,Q,c){var _=this.kS.brush,O=l.mh.Og(_,c);
if(O!=null){var L=new k(z.E.Y,!0);L.data={X:z.m.u_,gg:JG.kT,HF:O};N.N(L)}if(!c.l(K.sf)&&c.fG()!=-1){var s=z.bM(Math.round(this.kS.opacity*100),c.fG())/100;
this.kS.opacity=s;var L=new k(z.E.Y,!0);L.data={X:z.m.nv,c:this.id,SV:{opacity:s}};N.N(L)}if(this.id==l.pF&&c.l(K.kz)!=this.qt&&H!=null){var r=this.kS.qsmode;
if(r==2)r=H.t==null?0:1;else r=2;this.OS(r,N);this.qt=c.l(K.kz)}else this.qt=c.l(K.kz);if(this.id==l.mg||this.id==l.FK||this.id==l.hM||this.id==l.Tz||this.id==l.F_){this.Hf(N,Q,c)}};
l.mh.Og=function(H,N){var Q=H.Brsh.v.Dmtr.v.val,c=H.Brsh.v.Hrdn!=null?H.Brsh.v.Hrdn.v.val:-1,_=Q,O=c,L=N.l(K.Yz);
if(N.l(K.fm)){if(L)c=25*Math.floor((c-1)/25);else{if(Q>10)Q=5*Math.floor((Q-1)/5);else Q--}}if(N.l(K.Oq)){if(L)c=25*Math.ceil((c+1)/25);
else{if(Q>9)Q=5*Math.ceil((Q+1)/5);else Q++}}Q=Math.max(1,Q);c=Math.max(0,Math.min(100,c));if(O==-1)c=-1;
if(Q!=_||c!=O){var s=JSON.parse(JSON.stringify(H));s.Brsh.v.Dmtr.v.val=Q;if(O!=-1)s.Brsh.v.Hrdn.v.val=c;
return s}return null};l.mh.prototype.Hf=function(H,N,Q){if(N.lL.list.length==0)return;var c=Jf.YF(this.kS.brush,N.lL.Fy,this._g),_=z.IX(c);
if((this.id==l.mg||this.id==l.FK||this.id==l.Tz||this.id==l.F_)&&Q!=null&&Q.l(K.kz))_="crosshair";var O=new k(z.E.Y,!0);
O.data={X:z.m.gM,Ut:_};if(H)H.N(O)};l.mh.prototype.enable=function(H,N,Q,c){this.caller=N;var _=new k(z.E.Y,!0);
_.data={X:z.m.u_,gg:JG.kT,HF:JSON.parse(JSON.stringify(this.kS.brush))};N.N(_);if(H&&H.n.s!=0)this._g=H.n.s;
this.Hf(N,Q,c)};l.mh.prototype.qB=function(H,N){if(N==JG.kT){this.kS.brush=H.lL.CU;this.Hf(this.caller,H)}};
l.mh.prototype.sG=function(H,N,Q,c,_){for(var O in H)this.kS[O]=H[O]};l.mh.prototype.rD=function(H){var N=H.b[H.g[0]],Q=N.G<=0?null:N.G==1?N.Ab():N.hy(H).d;
this.Ud=H.t==null?null:{rect:H.t.rect.clone(),channel:$.clone(H.t.channel)};this.gk=Q?Q.channel:N.buffer;
this.TK=(Q?Q.rect:N.rect).clone();var c=new p(0,0,H.$,H.z),_=c.Fv(this.TK);if(this.mi()||_.v$(this.TK))this.gk=this.gk.slice(0);
else{if(Q)Q.extend(_);else N.extend(_)}this.tv=this.TK;this.th=this.gk;if(N.G<=0&&(this.id==l.mg||this.id==l.FK)){var O=this.kS.sfrom;
if(O!=0){this.tv=new p(0,0,H.$,H.z);this.th=$.clone(H.cn(O==1?H.g[0]:null))}}};l.mh.prototype.hQ=function(H,N,Q){if(H.l(K.kz)){var c=new k(z.E.W,!0);
c.c=l.hx;c.data={X:"pickhere",tRa:Q};N.N(c);return!0}return!1};l.mh.prototype.Pa=function(H,N,Q,c,_,O){if(!H.FS()){this.Uu=null;
return}this.rD(H);var L=new p(0,0,H.$,H.z),s=null;if(O!=null){var r=H.b[H.g[0]],u=r.G<=0?null:r.G==1?r.Ab():r.hy(H).d;
s=$.I(L.f()*4);if(u)l.mh.gb(this.gk,this.TK,u.color,s,L);else $.Pg(this.gk,this.TK,s,L)}if(this.Uu&&this.id==l.pF&&this.kS.qsmode!=0){}else{var V=this.id==l.pF?H.b[H.g[0]].rect:L;
this.Uu=new Jf(this.kS.brush,N.lL.Fy,N.lL.nw,{OO:_,tX:O,tRh:this.kS.smth*50*z.h()/H.n.s,tf:this.id==l.F_},N.AF,N.ze,V,s)}if(this.id==l.pF){this.Uu.Kb(this.kS.brush,this.kS.qsmode==2?0:16777215)}var C=H.n.kp(c.x,c.y);
C=l.UP.ep(H,C,N);if(Q.l(K.Yz)&&this.yd){this.Uu.moveTo(this.yd.x,this.yd.y,c.Gl);this.Uu.lineTo(C.x,C.y,c.Gl)}else this.Uu.moveTo(C.x,C.y,c.Gl);
this.yd=C;this.St=new tL(C)};l.mh.prototype.xR=function(H,N,Q){if(H.n.s!=0&&H.n.s!=this._g){this._g=H.n.s;
this.Hf(this.caller,Q)}};l.mh.prototype.Mq=function(H,N,Q,c){if(this.Uu==null)return;var _=H.b[H.g[0]],O=H.n.kp(c.x,c.y);
O=l.UP.ep(H,O,N);var L=this.St.Kj(O,Q);this.Uu.lineTo(L.x,L.y,c.Gl);this.yd=L};l.mh.prototype.xz=function(H,N,Q,c){if(this.id!=l.pF||H==null)return;
if(H.t==null||H.g[0]!=this.tRe){this.tRe=H.g[0];this.OS(0,N)}};l.mh.prototype.r=function(H,N){if(N==null){N=this.Uu.YN();
if(this.mi())N=N.sj(this.TK)}if(N.km())return;var Q=H.b[H.g[0]];if(Q.G<=0){Q.r(N)}if(Q.G==1){Q.Ab().rb=!0;
Q.Sa(H)}if(Q.G==3){Q.r()}H.r(H.root.KS(N,H,H.g[0]))};l.mh.prototype.Nu=function(H,N,Q,c,_){if(this.Uu==null)return;
this.Uu.finish();if(this.id!=l.Fj)this.ue(H);if(this.id==l.pF){var O=H.t;H.t=this.Ud;var L=new k(z.E.W,!0);
L.data={X:"setsel",_F:this.name,t:O};L.c=l.sQ;N.N(L);if(this.kS.qsmode==0)this.OS(1,N)}else{this.finish(H,this.Uu.Yd());
this.Uu=null}this.dir=0};l.mh.prototype.OS=function(H,N){if(H==this.kS.qsmode)return;this.kS.qsmode=H;
var Q=new k(z.E.Y,!0);Q.data={X:z.m.nv,c:this.id,SV:{qsmode:H}};N.N(Q)};l.mh.prototype.mi=function(){var H=this.id;
return H==l.pF||H==l.so||H==l.hW||H==l.hq||H==l.hp};l.mh.prototype.finish=function(H,N,Q){var c=H.b[H.g[0]],_=c.G<=0?null:c.G==1?c.Ab():c.hy(H).d,O=_?_.rect:c.rect,r,u;
if(this.mi()||!O.v$(this.TK)){if(_==null){if(this.mi())c.hJ();else{var L=N.Fv(this.TK),s=$.I(L.f()*4);
$.Pg(c.buffer,c.rect,s,L);c.buffer=s;c.rect=L}}else _.hJ();this.r(H,O)}if(c.G<=0){r=$.I(N.f()*4);$.Pg(this.gk,this.TK,r,N);
u=$.I(N.f()*4);$.Pg(c.buffer,c.rect,u,N)}else{r=$.I(N.f());$.set(r,_.color);$.Jg(this.gk,this.TK,r,N);
u=$.I(N.f());$.set(u,_.color);$.Jg(_.channel,_.rect,u,N)}var V=new Jj(Q?Q:this.name,this);V.data={X:"putbrush",i:H.g[0],qx:c.G,Ge:N,tY:r,tB:u};
H.Af(V)};l.mh.prototype.mK=function(H,N){this.hl(H,N,H.tY,H.tRF)};l.mh.prototype.wD=function(H,N){this.hl(H,N,H.tB,H.ttC)};
l.mh.prototype.hl=function(H,N,Q,c){var _=N.b[H.i];if(H.X=="putbrush"){if(H.qx<=0){_.extend(H.Ge);$.Pg(Q,H.Ge,_.buffer,_.rect);
_.hJ()}if(H.qx==1||H.qx==3){var O=H.qx==1?_.Ab():_.hy(N).d;$.Jg(Q,H.Ge,O.channel,O.rect);if(H.qx==1){_.Ab().rb=!0;
_.Sa(N)}}}if(H.X=="drawtemp"){_.UM.nI=c;_.cX(N,0,0,N.t)}_.r();N.r()};l.mh.prototype.ue=function(H){this.ps(H,this.Ua,this.Uu.GE(),this.Uu.AK(),this.Uu.YN());
this.r(H)};l.mh.prototype.ps=function(H,N,Q,c,_){var O=this.kS,L=H.b[H.g[0]],s=L.G<=0?null:L.G==1?L.Ab():L.hy(H).d,r=$.I(_.f()*4);
if(s==null){$.Pg(this.gk,this.TK,r,_)}else{l.mh.gb(this.gk,this.TK,s.color,r,_)}if(H.t&&N!="qselect"){var u=_.sj(H.t.rect),V=$.I(u.f()*4);
$.Pg(Q,c,V,u);$.Sm(H.t.channel,H.t.rect,V,u);Q=V;c=u}if(N=="draw")$.a.MR(O.bmode,Q,c,r,_,_,O.opacity);
if(N=="erase"){var C=$.I(_.f()*4);$.Pg(Q,c,C,_);if(s==null){var T=$.I(_.f());$.rY(C,T,3);$.Yi(T,O.opacity);
$.UK(T);$.Sm(T,_,r,_)}else{$.Mw(C,0,4278190080);$.a.MR("norm",C,_,r,_,_,O.opacity)}}if(N=="clone"||N=="heal"){var e=this.mo(),t=this.tv.clone();
t.offset(e.x,e.y);var Y=_.clone();Y.FA(1,1);var A=$.I(Y.f()*4),G=$.I(Y.f());$.Pg(Q,c,A,Y);$.rY(A,G,3);
$.Mw(A,0);if(s==null){$.Pg(this.th,t,A,Y);var j=$.I(Y.f());$.rY(A,j,3);$.Yj(j,G)}else l.mh.gb(this.gk,t,s.color,A,Y);
if(N=="clone"){$.kw(G,A,3);$.a.MR(O.bmode,A,Y,r,_,_,O.opacity)}if(N=="heal"){var d=$.clone(G);$.round(d,20);
var w=$.I(Y.f()*4);$.Pg(this.gk,this.TK,w,Y);$.a.fX(A,Y,w,Y,d,Y,0,Y,1,!1);$.ih.zZ(w,d,Y);$.a.fX(w,Y,r,_,G,Y,0,_,1,!1)}}if(N=="dodge"||N=="burn"){var A=$.I(_.f()*4),F=1,n=0,J=0,Z=0;
$.Pg(Q,c,A,_);var f=_.f()*4,b=l.mh.Oh;if(this.qt){if(N=="dodge")N="burn";else N="dodge"}var P=O.rng;
if(N=="dodge"){n=[1-F/2,1,1+F][P];J=[1,1/(1+F),1][P];Z=[F/2,0,0][P]}if(N=="burn"){n=[1/(1-F/2),1,1-F/2][P];
J=[1,1+F,1][P];Z=[-(F/2)/(1-F/2),0,0][P]}for(var M=0;M<f;M+=4){var y=A[M+3];r[M+0]=b(r[M+0],n,J,Z,y);
r[M+1]=b(r[M+1],n,J,Z,y);r[M+2]=b(r[M+2],n,J,Z,y)}}if(N=="sponge"){var A=$.I(_.f()*4),G=$.I(_.f());$.Pg(Q,c,A,_);
$.rY(A,G,3);$.sa(r,A);var a=O.smode;if(this.qt)a=1-a;var g=$.I(256);for(var M=0;M<256;M++)g[M]=M;var U=$.I(256);
$.set(U,127+[-50,23][a]);var D=$.I(256);$.set(D,127+[25,-5][a]);var W={type:"remapHSL",tz:g,pe:U,tZ:D,xT:1,xP:0,tm:0};
JO.kn(W,A,A);$.a.fX(A,_,r,_,G,_,0,_,1,!1)}if(N=="copy")$.Pg(Q,c,r,_);if(N=="sheal0"||N=="sheal1"||N=="sheal2"){var A=$.I(_.f()*4),G=$.I(_.f());
$.Pg(Q,c,A,_);$.rY(A,G,3);var m=[null,null,$.te.zZ][parseInt(N.charAt(5))];m(this.gk,this.TK,G,r,_)}if(N=="qselect"){var q=this.kS.brush,S=this.kS.qsmode,I=Math.max(40,Math.round(q.Brsh.v.Dmtr.v.val*1.7)),Y=_.clone();
Y.FA(I,I);Y=Y.sj(this.TK);var A=$.I(Y.f()*4);$.Pg(Q,c,A,Y);var G=$.I(Y.f());for(var M=0;M<G.length;M++){var v=A[M<<2],h=A[(M<<2)+3];
G[M]=v==255&&h==255?255:v==0&&h==255?0:100}if(H.t==null)H.t={channel:$.I(0),rect:new p};$.extend(H.t,Y);
var i=$.I(Y.f());$.Jg(H.t.channel,H.t.rect,i,Y);if(S==2){$.UK(G);$.UK(i)}$.Pg(this.gk,this.TK,A,Y);var JI=$.oC.oC(Y,A,G);
$.lO.Fv(i,JI,JI);if(S==2){$.UK(JI)}$.Jg(JI,Y,H.t.channel,H.t.rect);H.Ow=!0}if(s==null)$.Pg(r,_,L.buffer,L.rect);
else l.mh.mY(r,_,s)};l.mh.mo=function(){return null};l.mh.Oh=function(H,N,Q,c,_){var O=H*(1/255),L=c+N*Math.pow(O,Q),s=Math.round(L*_+O*(255-_));
return Math.max(0,Math.min(255,s))};l.mh.gb=function(H,N,Q,c,_){var O=$.I(_.f());$.set(O,Q);$.Jg(H,N,O,_);
$.Mw(c,4278190080);$.tH$(O,c)};l.mh.mY=function(H,N,Q){var c=$.I(N.f());$.BS(H,c);$.Jg(c,N,Q.channel,Q.rect)};
l.MV=function(H,N,Q){l.NY.call(this,H,N,Q);this.kS={uy:"front",jQ:0,lQ:{yC:0,x:3,y:2}};this.uc=new E(-1,-1);
this.kt=new E(-1,-1);this.Sx="default";this.IY=!1;this.Ce=!1;this.qt=!1;this.Sg=0;this.So=0;this.SQ=!1;
this.xh=null;this.xX=null};l.MV.prototype=new l.NY;l.MV.prototype.mW=function(H){return this.SQ||H.Vv&&this.id!=l.hL};
l.MV.prototype.Mf=function(H,N,Q){var c=new k(N,!0);c.data=Q;H.N(c)};l.MV.prototype.hf=function(H,N){var Q=new k(z.E.Y,!0);
Q.data={X:z.m.gM,Ut:N};H.N(Q)};l.MV.prototype.AK=function(H,N,Q){N=H.t==null||this.Sg>1||this.So>1?N:null;
var c=this.uc,_=this.kt;c.x=Math.round(c.x);c.y=Math.round(c.y);_.x=Math.round(_.x);_.y=Math.round(_.y);
if(Q){c.x=Math.max(0,Math.min(H.$,c.x));c.y=Math.max(0,Math.min(H.z,c.y));_.x=Math.max(0,Math.min(H.$,_.x));
_.y=Math.max(0,Math.min(H.z,_.y))}var O=l.rG.QL(c,_,N,!0,this.kS.lQ),L=O[0].x,s=O[0].y;return new p(L,s,O[1].x-L,O[1].y-s)};
l.MV.prototype.cL=function(H,N,Q,c,_){this.IY=!1;this.Ce=c.l(K.Yz);this.qt=c.l(K.kz);this.Sg=this.Ce?0:1;
this.So=this.qt?0:1;this.uc=H.n.kp(_.x,_.y);this.uc=l.UP.ep(H,this.uc,Q);if(this.hm(H,this.uc)){this.SQ=!0;
this.xh=H.t.rect.clone();return}this.nZ(H,Q,c,_);H.n._E=new p};l.MV.prototype.hm=function(H,N){if(H.t&&this.kS.uy=="front")return $.oc(N,H.t.channel,H.t.rect);
return!1};l.MV.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);if(E.Ln(this.uc,O)*H.n.s>5)this.IY=!0;
if(c.l(K.JW)){if(this.xX==null)this.xX=new E(O.x-this.uc.x,O.y-this.uc.y);this.uc.x=O.x-this.xX.x;this.uc.y=O.y-this.xX.y}else this.xX=null;
this.kt=O;if(!this.SQ)this.kt=l.UP.ep(H,this.kt,Q);if(this.hm(H,this.kt))this.hf(N,"move");else this.hf(N,this.Sx);
if(this.SQ){var L=this.xh.clone();L.x+=this.kt.x-this.uc.x;L.y+=this.kt.y-this.uc.y;var s=l.UP.tg(H,L,Q);
H.t.rect.x=Math.round(this.kt.x-this.uc.x+this.xh.x+s[0]);H.t.rect.y=Math.round(this.kt.y-this.uc.y+this.xh.y+s[1]);
H.Ow=!0;l.UP.tG(H,L,s);return}this.fI(H,Q,c,_);if(H.n._E)H.n._E=this.AK(H,c)};l.MV.prototype.Nu=function(H,N,Q,c,_){H.n._E=null;
this.kt=H.n.kp(_.x,_.y);this.kt=l.UP.ep(H,this.kt,Q);if(this.SQ){this.SQ=!1;if(this.kt.v$(this.uc)&&this.WH()=="front"){var O=new Jj([7,1],this);
O.data={X:"changesel",Ud:H.t,_k:null};H.Af(O);this.wD(O.data,H);return}this.WR(H,this.xh,H.t.rect.clone());
if(H!=null&&H.S.iG){H.S.iG=null;H.un=!0}return}this.Ub(H,Q,c,_)};l.MV.prototype.WR=function(H,N,Q){var c=H.lk();
if(c!=null&&c.c==this&&c.data.X=="movesel"){}else{c=new Jj([7,7],this);c.data={X:"movesel",Gi:N};H.Af(c)}c.data.SO=Q;
this.wD(c.data,H)};l.MV.prototype.FJ=function(H,N,Q,c){if(this.IY){if(this.Sg==0&&!c.l(K.Yz))this.Sg++;
if(this.Sg==1&&c.l(K.Yz))this.Sg++;if(this.So==0&&!c.l(K.kz))this.So++;if(this.So==1&&c.l(K.kz))this.So++}if(H.t!=null){var _=c.Ik();
if(_.x!=0||_.y!=0){var O=H.t.rect.clone();O.x+=_.x;O.y+=_.y;this.WR(H,H.t.rect.clone(),O)}}};l.MV.prototype.finish=function(H,N,Q,c){var _=H.t,O=this.getSelection(H,N,Q,c),u;
if(O&&this.kS.jQ!=0){var L={rect:O.rect.clone(),channel:null},s=Math.round(this.kS.jQ*2.6);L.rect.FA(s,s);
var r=$.I(L.rect.f());L.channel=$.I(L.rect.f());$.Jg(O.channel,O.rect,r,L.rect);$.blur.ur(r,L.channel,L.rect,this.kS.jQ);
O=L}if(O!=null&&$.Wt(O.channel,0)){O=null}if(O==null){if(_==null)return;u=new Jj([7,1],this);u.data={X:"changesel",Ud:_,_k:O}}else{if(_!=null)O=$.lO.Zh(O,_,this.WH());
u=new Jj(this.name,this);u.data={X:"changesel",Ud:_,_k:O}}H.Af(u);this.wD(u.data,H);this.uc.kR(-1,-1);
this.kt.kR(-1,-1)};l.MV.prototype.WH=function(){var H=this.kS.uy;if(this.Ce)H="union";if(this.qt)H="difference";
if(this.Ce&&this.qt)H="intersection";return H};l.MV.prototype.getSelection=function(H,N,Q,c){return null};
l.MV.prototype.nZ=function(H,N,Q,c){};l.MV.prototype.fI=function(H,N,Q,c){};l.MV.prototype.Ub=function(H,N,Q,c){};
l.MV.prototype.mK=function(H,N){var Q=H.X;if(Q=="changesel")N.t=H.Ud;if(Q=="movesel")N.t.rect=H.Gi;N.Ow=!0};
l.MV.prototype.wD=function(H,N){var Q=H.X;if(Q=="changesel")N.t=H._k;if(Q=="movesel")N.t.rect=H.SO;N.Ow=!0};
l.MV.prototype.sG=function(H){this.kS=H};l.MV.prototype._A=function(H){var N=$.K.TD(H.Z);if(N.km())return null;
var Q=z.B("canvas","");Q.width=N.$;Q.height=N.z;var c=Q.getContext("2d");c.beginPath();c.translate(-N.x,-N.y);
Typr.U.pathToContext({cmds:H.lX,crds:H.Z},c);c.closePath();c.fill();var _=$.I(N.f()),O=c.getImageData(0,0,Q.width,Q.height);
$.rY(O.data,_,3);return{rect:N,channel:_}};l.sW=function(){l.mh.call(this,[10,18],l._x,"tools/blur");
this.Ua="copy"};l.sW.prototype=new l.mh;l.sW.prototype.cL=function(H,N,Q,c,_){var O=c.l(K.kz)?Jf.IR:Jf._x;
this.Pa(H,Q,c,_,this.kS.strn,O);if(this.Uu==null)return;this.ue(H)};l.sW.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;
this.xR(H,N,Q);if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.sq=function(){l.mh.call(this,[10,0],l.Tz,"tools/brush");
this.Ua="draw"};l.sq.prototype=new l.mh;l.sq.prototype.cL=function(H,N,Q,c,_){if(this.hQ(c,N,_))return;
this.Pa(H,Q,c,_,this.kS.flow);if(this.Uu==null)return;this.ue(H)};l.sq.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;
this.xR(H,N,Q);if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.sB=function(){l.mh.call(this,[10,38],l.F_,"tools/pencil");
this.Ua="draw"};l.sB.prototype=new l.mh;l.sB.prototype.cL=function(H,N,Q,c,_){if(this.hQ(c,N,_))return;
this.Pa(H,Q,c,_,this.kS.flow);if(this.Uu==null)return;this.ue(H)};l.sB.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;
this.xR(H,N,Q);if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.sZ=function(){l.mh.call(this,[10,22],l.hq,"tools/burn");
this.Ua="burn"};l.sZ.prototype=new l.mh;l.sZ.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,this.kS.expo/Math.E);
if(this.Uu==null)return;this.ue(H)};l.sZ.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.rv=function(){l.mh.call(this,[10,1],l.mg,"tools/clone");
this.Ua="clone";this.xQ=null;this.oX=null;this.M=null;this.VR=0};l.rv.prototype=new l.mh;l.rv.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
this.xQ=O;if(c.l(K.kz)||c.l(K.j$)){this.oX=H.n.kp(_.x,_.y);this.M=null;return}if(this.oX==null){if(Date.now()-this.VR>1e3){alert(tg.get([15,7,0]));
this.VR=Date.now()}return}this.Pa(H,Q,c,_,this.kS.flow);if(this.Uu==null)return;if(this.M==null||!this.kS.algnd)this.M=new E(Math.round(O.x-this.oX.x),Math.round(O.y-this.oX.y));
this.ue(H)};l.rv.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);if(!_.Vv||this.oX==null)return;
this.Mq(H,Q,c,_);this.ue(H)};l.rv.prototype.mo=function(){return this.M};l.rv.prototype.disable=function(H,N,Q,c){this.oX=null;
this.M=null};l.$p=function(){l.NY.call(this,[10,2],l.Wz,"tools/crop");this.vr={CF:{yC:0,x:0,y:0}};this.nl=null;
this.cursor=null;this.Vr=0};l.$p.prototype=new l.NY;l.$p.prototype.mW=function(H){return this.nl&&this.nl.QW()};
l.$p.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),L=this.vr.CF,s=L.yC==1?L.x/L.y:null;if(this.nl==null)this.nl=new ro(null,!0,!1,!1,!0,L.yC==1);
this.nl.cL(H,Q,c,O,s)};l.$p.prototype.Hf=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.gM,Ut:this.cursor};
H.N(N)};l.$p.prototype.enable=function(H,N,Q,c){this.cursor="crosshair";this.Hf(N)};l.$p.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
if(!_.Vv){var L="crosshair";if(this.nl&&this.nl.lr(O,H.n.s))L=this.nl.lr(O,H.n.s);else if(this.nl){if(this.nl.w$(O))L="default";
else L="default"}if(L!=this.cursor){this.cursor=L;this.Hf(N)}}if(this.nl==null)return;this.nl.XY(H,Q,c,O)};
l.$p.prototype.Nu=function(H,N,Q,c,_){if(this.nl==null)return;var O=H.n.kp(_.x,_.y);this.nl.Nu(H,Q,c,O);
this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,VJ:!0});var L=this.nl.az();if(Math.abs(L[0]-L[4])<2||Math.abs(L[1]-L[5])<2){this.disable(H,N,null,c);
return}if(Date.now()-this.Vr<200&&this.nl.w$(O)){this.wS(H,Q);this.disable(H,N,Q,c);return}this.Vr=Date.now()};
l.$p.prototype.FJ=function(H,N,Q,c){if(c.l(K.BV)){this.wS(H,Q);this.disable(H,N,Q,c)}else if(c.l(K._f)){this.disable(H,N,Q,c)}else if(this.nl)this.nl.FJ(H,Q,c)};
l.$p.prototype.Ly=function(H,N,Q,c,_){var O,L=new p(0,0,Q.$,Q.z),s=[11,3],r=Q.go,u=Q.$/2,V=Q.z/2,C=!1;
if(H.X=="imgsize"){L=new p(0,0,H.vg,H.vF);if(H.vm)r=H.vm;C=H.Et==0}else if(H.X=="canvsize"){var T=H.iP!=null?H.iP:0;
L=new p(0,0,H.vg,H.vF);var e=Q.$-H.vg,t=Q.z-H.vF,Y=Math.round(e/2),A=Math.round(t/2);if(T==1||T==4||T==7)L.x=Y;
if(T==2||T==5||T==8)L.x=e;if(T==3||T==4||T==5)L.y=A;if(T==6||T==7||T==8)L.y=t;if(H.M){L.x=H.M.x;L.y=H.M.y}}else if(H.X=="rot"&&H.R!=Math.PI){L=new p(u-Q.z/2,V-Q.$/2,Q.z,Q.$);
if((Q.$+Q.z&1)==1){u=Math.floor(u);V=Math.floor(V);L=new p(u-Math.floor(Q.z/2),V-Math.floor(Q.$/2),Q.z,Q.$);
if((Q.$&1)==1&&H.R!=-Math.PI/2)L.y--;if((Q.z&1)==1&&H.R==-Math.PI/2)L.x--}}else if(H.X=="trim"){s=[11,12];
var G=Q.b[Q.g[0]];L=$.Wr(G.buffer,G.rect);if(L.km())L=G.rect.clone()}if(H.X=="imgsize"||H.X=="rot"||H.X=="scl"){var j=new Jo;
if(H.X=="imgsize"){s=[11,10];j.scale(H.vg/Q.$,H.vF/Q.z)}else{j.translate(-u,-V);if(H.X=="rot")j.rotate(H.R);
if(H.X=="scl")j.scale(H.R.x,H.R.y);j.translate(u,V);s=H._F}O=this.Ww(Q,_,j,C)}var d=new Jj(s,this);d.data={Gi:new p(0,0,Q.$,Q.z),SO:L,Vd:Q.go,vm:r,iY:O,Iw:j};
Q.Af(d);this.wD(d.data,Q)};l.$p.prototype.Ww=function(H,N,Q,c){var _={b:[],Eu:null,gT:null};for(var O=0;
O<H.b.length;O++)_.b.push(O);_.Eu=l._.Vm(H,_.b,!0);l._.lI(H,N,_.b,_.Eu,c,$.F.Wq(Q),null,!0);_.gT=l._.Vm(H,_.b,!0);
return _};l.$p.prototype.wD=function(H,N){if(H.vm)N.go=H.vm;if(H.iY){l.$p.WI(N,H.Iw);l._.$J(N,H.iY.b,H.iY.gT)}l.$p.tt(N,H.SO)};
l.$p.prototype.mK=function(H,N){if(H.Vd)N.go=H.Vd;var Q=H.Gi.clone();Q.offset(-H.SO.x,-H.SO.y);l.$p.tt(N,Q);
if(H.yo)N.n.M.py(H.yo);N.jY();if(H.iY){var c=H.Iw.clone();c.UK();l.$p.WI(N,c);l._.$J(N,H.iY.b,H.iY.Eu)}};
l.$p.WI=function(H,N){for(var Q=0;Q<H.b.length;Q++){var c=H.b[Q];if(c.add.artb==null)continue;var _=$.K.DK(c.As()).Z;
$.K.UC(_,N,_);var O=$.K.TD(_);c.L$(O)}};l.$p.tt=function(H,N){H.$=N.$;H.z=N.z;var Q=[];for(var c=0;c<H.b.length;
c++)Q.push(c);l.UP.uw(H,Q,null,-N.x,-N.y);for(var c=0;c<H.b.length;c++){H.b[c].Sa(H)}H.jY();H.n.M.kR(0,0);
if(H.t)H.t.rect.offset(-N.x,-N.y)};l.$p.prototype.sG=function(H,N,Q,c,_){if(H.Lc=="commit"){this.wS(Q,_);
this.disable(Q,N,null,c)}else if(H.Lc=="cancel"){this.disable(Q,N,null,c)}var O=null,L=this.vr.CF;if(H.Lc=="config"){this.vr=H.vr;
L=this.vr.CF;if(Q==null)return;O=new p(0,0,Q.$,Q.z);if(L.yC==1){var s=L.x/L.y;O.z=Math.round(O.$/s)}if(L.yC==2){O.$=L.x;
O.z=L.y}O.x=Math.round((Q.$-O.$)/2);O.y=Math.round((Q.z-O.z)/2)}if(H.Lc=="cropby"){if(Q==null)return;
var r=H.ttM,O;if(r==0)O=Q.root.AK(Q,!0);if(r==1){var u=Q.root.oo(Q.g[0]);O=u.AK(Q,!0)}if(r==2){var V=Q.b[Q.g[0]];
O=$.Wr(V.buffer,V.rect);if(O.km())O=V.rect.clone();if(O.km())O=null}if(r==3){if(Q.t!=null)O=Q.t.rect;
else alert("There is no selection.")}}if(O!=null){this.nl=new ro([O.x,O.y,O.x+O.$,O.y,O.x+O.$,O.y+O.z,O.x,O.y+O.z],!0,!1,!1,!0,L.yC==1);
this.nl.Qu(Q);this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,VJ:!0})}};l.$p.prototype.wS=function(H,N){var Q=new Jj(this.name,this),c=$.F.od($.F.tn(this.nl.az())),_,O=Math.atan2(c.H,c.o);
if(O!=0){var L=new Jo;L.translate(-c.DX,-c.Ug);L.rotate(O);L.translate(c.DX,c.Ug);_=this.Ww(H,N,L,!1)}var s=this.txn();
Q.data={Gi:new p(0,0,H.$,H.z),SO:s,iY:_,Iw:L,yo:H.n.M.clone()};H.Af(Q);this.wD(Q.data,H)};l.$p.prototype.txn=function(){var H=$.F.od($.F.tn(this.nl.az())),N=H.DX,Q=H.Ug,c=Math.atan2(H.H,H.o);
H.rotate(c);var _=new p(N,Q,H.o,H.KI);_.x=Math.round(_.x);_.y=Math.round(_.y);_.$=Math.round(_.$);_.z=Math.round(_.z);
if(_.$<0){_.x=_.x+_.$;_.$*=-1}if(_.z<0){_.y=_.y+_.z;_.z*=-1}return _};l.$p.prototype.disable=function(H,N,Q,c){if(H==null)return;
if(this.nl)this.nl.clear(H);this.nl=null;this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,VJ:!1})};l.$p.prototype.Mf=function(H,N,Q,c){var _=new k(N,!0);
_.data=Q;if(c)_.c=c;H.N(_)};l.ss=function(){l.mh.call(this,[10,21],l.hW,"tools/dodge");this.Ua="dodge"};
l.ss.prototype=new l.mh;l.ss.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,this.kS.expo/Math.PI);
if(this.Uu==null)return;this.ue(H)};l.ss.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.gF=function(){l.mh.call(this,[10,3],l.so,"tools/eraser");
this.Ua="erase"};l.gF.prototype=new l.mh;l.gF.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,this.kS.flow);
if(this.Uu==null)return;this.ue(H)};l.gF.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;var O=this.Mq(H,Q,c,_);this.ue(H)};l.gF.prototype.Ly=function(H,N,Q,c,_){if(!Q.FS())return;
var O=Q.b[Q.g[0]];if(H.X=="clear"){var L=Q.t,C,T;if(H.DJ!=null){O=Q.b[H.DJ];L={rect:O.rect.clone(),channel:$.I(O.rect.f())};
$.set(L.channel,255)}if(L==null)return;var s=O.G<=0?null:O.G==1?O.Ab():O.hy(Q).d,r=O.G<=0?O.rect:s.rect,u=O.G<=0||s.color==0?L.rect.sj(r):L.rect;
if(u.km())return;var V=u.f();if(O.G<=0){C=$.I(V*4);T=$.I(V*4);$.Pg(O.buffer,O.rect,C,u);$.Pg(O.buffer,O.rect,T,u)}else{C=$.I(V);
T=$.I(V);s.extend(u);$.Jg(s.channel,s.rect,C,u);$.Jg(s.channel,s.rect,T,u)}if(O.JJ(Q,L)){if(O.G<=0){$.Mw(T,0);
$.Pg(O.UM.SZ,O.UM.sv,T,u)}else{$.set(T,255);$.Jg(O.UM.SZ,O.UM.sv,T,u)}}else{if(O.G<=0){var e=$.I(T.length>>2);
$.rY(T,e,3);$.a.sF($.kh(L.rect.f()),L.rect,e,u,L.channel,u,1);$.kw(e,T,3)}else{var t=$.I(L.rect.f()),Y=_.ze>>16&255,A=_.ze>>8&255,G=_.ze>>0&255;
$.set(t,Math.round($.YK(Y,A,G)));$.a.sF(t,L.rect,T,u,L.channel,u,1)}}var j=new Jj([2,2],this);j.data={X:"putbrush",i:Q.g[0],qx:O.G,Ge:u,tY:C,tB:T};
Q.Af(j);this.wD(j.data,Q)}if(H.X=="stroke"){var d=H.ttS,L=Q.t;if(L==null){L={rect:O.rect.clone(),channel:$.I(O.rect.f())};
$.rY(O.buffer,L.channel,3)}var w=Ja.wI(d),f=l.nk.Xj(L,Math.ceil(w[0]),Math.ceil(w[1])),b=$.e.NG(d.Clr.v),Y=Math.round(b.T),A=Math.round(b.q),G=Math.round(b.H);
this.Wy(Q,O,f,Y,A,G,Math.round(255*d.Opct.v.val/100),ta.FC(d.Md.v.BlnM),[14,9])}if(H.X=="fill"){var b=[_.AF,_.ze,0,16777215][H.uV],Y=b>>16&255,A=b>>8&255,G=b>>0&255;
this.Wy(Q,O,Q.t,Y,A,G,255,"norm",[2,3])}if(H.X=="fillBMP"){this.WD(Q,O,Q.t,H.eu,H.UY,H._F)}if(H.X=="paste"){var F=H.lD,n=JL.l$.OI(F,Q);
this.rD(Q);this.ps(Q,"draw",F.buffer,n,n);this.r(Q,n);this.finish(Q,n,"Paste")}};l.gF.prototype.Wy=function(H,N,Q,c,_,O,L,s,r){var u=Q==null?new p(0,0,H.$,H.z):Q.rect,V=L<<24|O<<16|_<<8|c<<0,C=$.I(u.f()*4);
$.Mw(C,V);this.WD(H,N,Q,C,s,r)};l.gF.prototype.WD=function(H,N,Q,c,_,O){var L=N.G<=0?null:N.G==1?N.Ab():N.hy(H).d,s=N.G<=0?N.rect:L.rect,r=Q==null?new p(0,0,H.$,H.z):Q.rect,u=Q==null?$.cb(H.$*H.z):Q.channel,V=r.f(),C,T,e=null;
if(N.G<=0){C=$.I(V*4);T=$.I(V*4);$.Pg(N.buffer,N.rect,C,r);$.Pg(N.buffer,N.rect,T,r)}else{C=$.I(V);T=$.I(V);
L.extend(r);$.Jg(L.channel,L.rect,C,r);$.Jg(L.channel,L.rect,T,r)}if(Q!=null)$.tV$(u,c);if(N.G>0){e=$.I(V);
$.BS(c,e)}if(N.JJ(H,Q)){var t=N.UM.nI,Y=$.clone(N.UM.nI);if(N.G<=0)$.sa(c,Y);else $.sa(e,Y);var A=new Jj([2,3],this);
A.data={X:"drawtemp",i:H.g[0],qx:N.G,tRF:t,ttC:Y};H.Af(A);this.wD(A.data,H)}else{if(N.G<=0)$.a.MR(_,c,r,T,r,r,1);
else $.a.sF(e,r,T,r,u,r,1);var A=new Jj(O,this);A.data={X:"putbrush",i:H.g[0],qx:N.G,Ge:r,tY:C,tB:T};
H.Af(A);this.wD(A.data,H)}};l.iR=function(){l.MV.call(this,[10,4],l.hw,"tools/eselect");this.Sx="crosshair"};
l.iR.prototype=new l.MV;l.iR.prototype.fI=function(H,N,Q,c){if(!c.Vv||!this.IY)return;var _=this.AK(H,Q);
H.S.rX=l.iR.Wc(_);H.un=!0};l.iR.prototype.Ub=function(H,N,Q,c){H.S.rX=null;H.un=!0;this.finish(H,N,Q,c)};
l.iR.prototype.getSelection=function(H,N,Q,c){if(this.uc.v$(this.kt)||!this.IY)return null;var _=this.AK(H,Q);
if(!_.p$(new p(0,0,H.$,H.z)))return null;return this._A(l.iR.Wc(_))};l.iR.Wc=function(H){var N=H.x,Q=H.y,c=H.x+H.$,_=H.y+H.z,O=(N+c)/2,L=(Q+_)/2,s=(N-c)/2,r=(Q-_)/2,u=.5522848,V={Z:[O,L-r],lX:["M","C","C","C","C"]};
V.Z.push(O+u*s,L-r,O+s,L-u*r,O+s,L);V.Z.push(O+s,L+u*r,O+u*s,L+r,O,L+r);V.Z.push(O-u*s,L+r,O-s,L+u*r,O-s,L);
V.Z.push(O-s,L-u*r,O-u*s,L-r,O,L-r);return V};l.uS=function(){l.NY.call(this,[10,5],l.hx,"tools/eyedropper");
this.sl=!1;this.Cs=1};l.uS.prototype=new l.NY;l.uS.prototype.mW=function(H){return H.Vv};l.uS.prototype.Ly=function(H,N,Q,c,_){if(H.X=="pickhere")this.On(Q,N,_,c,H.tRa)};
l.uS.prototype.cL=function(H,N,Q,c,_){this.sl=!0;this.On(H,N,Q,c,_)};l.uS.prototype.XY=function(H,N,Q,c,_){if(this.sl)this.On(H,N,Q,c,_)};
l.uS.prototype.Nu=function(H,N,Q,c,_){this.sl=!1};l.uS.prototype.On=function(H,N,Q,c,_){var O=l.uS.WL(H,_,this.Cs),L=new k(z.E.Y);
L.data={X:z.m.u_,gg:JG.nc,gE:0,R:O};N.N(L)};l.uS.WL=function(H,N,Q){var c=H.n.kp(N.x,N.y),_=Math.floor(c.x),O=Math.floor(c.y),L=(Q-1)/2,s=Math.max(0,_-L),r=Math.max(0,O-L),u=Math.min(H.$,_+L+1),V=Math.min(H.z,O+L+1),C=(u-s)*(V-r),T=H.cn(),e=0,t=0,Y=0;
for(var _=s;_<u;_++)for(var O=r;O<V;O++){var A=4*(O*H.$+_);e+=T[A];t+=T[A+1];Y+=T[A+2]}e=Math.round(e/C);
t=Math.round(t/C);Y=Math.round(Y/C);return e<<16|t<<8|Y};l.uS.prototype.sG=function(H){this.Cs=H.Cs};
l.Aa=function(){l.NY.call(this,[10,6],l.tPO,"tools/gradient");this.kS={e:JSON.parse(B._Y.j_).v,style:"Lnr",reverse:!1,Vg:"norm",opacity:1};
this.$b=!1;this.hC=null};l.Aa.prototype=new l.NY;l.Aa.prototype.enable=function(H,N,Q,c){var _=new k(z.E.Y,!0);
_.data={X:z.m.gM,Ut:"default"};N.N(_)};l.Aa.prototype.sG=function(H){this.kS=H.gg};l.Aa.prototype.cL=function(H,N,Q,c,_){if(!H.FS())return;
this.hC=H.n.kp(_.x,_.y);this.hC=l.UP.ep(H,this.hC,Q);this.$b=!0};l.Aa.prototype.XY=function(H,N,Q,c,_){if(!this.$b)return;
var O=H.n.kp(_.x,_.y);O=l.UP.ep(H,O,Q);if(c.l(K.Yz))O=l.Aa.Ol(this.hC,O);H.S.rX={Z:[this.hC.x,this.hC.y,O.x,O.y],lX:["M","L"]};
H.S.Lg=[this.hC.x,this.hC.y,O.x,O.y];H.un=!0};l.Aa.prototype.Nu=function(H,N,Q,c,_){if(!this.$b)return;
var O=H.b[H.g[0]],L=H.n.kp(_.x,_.y);L=l.UP.ep(H,L,Q);if(c.l(K.Yz))L=l.Aa.Ol(this.hC,L);var s=L.Tr(this.hC),r=E.iv(this.hC,L,.5),u=Math.atan2(s.y,s.x),V=E.Ln(this.hC,L),C=Math.sin(u),T=Math.cos(u);
if(V>2){var e;if(H.t)e=H.t.rect;else e=new p(0,0,H.$,H.z);var t=$.I(e.f()*4),Y=this.kS.style;if(Y!="Lnr"){V*=2;
r=this.hC}$.e.AH(this.kS.e,t,e,[T*1/V,C*1/V,-C*1/V,T*1/V],r.x,r.y,this.kS.reverse,B.e.types.indexOf(Y),Q.AF,Q.ze);
var A=Math.round(this.kS.opacity*256),G=t.length;if(A!=256)for(var j=0;j<G;j+=4)t[j+3]=t[j+3]*A>>>8;
var d=new k(z.E.W);d.c=l.so;d.data={X:"fillBMP",eu:t,UY:this.kS.Vg,_F:this.name};N.N(d)}H.S.rX=null;
H.S.Lg=[];H.un=!0;this.$b=!1};l.Aa.Ol=function(H,N){if(H.v$(N))return H;var Q=N.x-H.x,c=N.y-H.y,_=Math.abs(Q),O=Math.abs(c);
if(_>O)O=_/2>O?0:_;if(O>_)_=O/2>_?0:O;_=Q>0?_:-_;O=c>0?O:-O;var L=Math.sqrt(Q*Q+c*c)/Math.sqrt(_*_+O*O);
return new E(H.x+_*L,H.y+O*L)};l.Aa.uU=function(H,N,Q,c,_,O,L){if(L==null)L=z.B("canvas","");var s=L.getContext("2d");
L.width=N;L.height=Q;var r=new p(0,0,N,Q),u=$.I(N*Q*4);$.by(u,N,Q,4,0,0);var V=Math.sin(c),C=Math.cos(c),T=$.I(N*Q*4);
$.e.AH(H,T,r,[C*1/N,V*1/N,-V*1/Q,C*1/Q],N/2,Q/2,!1,0,_,O);$.a.MR("norm",T,r,u,r,r,1);var e=s.getImageData(0,0,N,Q);
$.sa(u,e.data);s.putImageData(e,0,0);return L.toDataURL()};l.Aa.tRR=function(H,N,Q){var c=JSON.parse(JSON.stringify(H));
for(var _=0;_<c.Clrs.v.length;_++){var O=c.Clrs.v[_].v,L=O.Type.v.Clry;if(L=="UsrS")continue;var s=L=="FrgC"?N:Q;
O.Type.v.Clry="UsrS";O.Clr={t:"Objc",v:$.e.Ta({T:s>>16&255,q:s>>8&255,H:s&255})}}return c};l.am=function(){l.NY.call(this,[10,7],l.mS,"tools/hand");
this.VH=new E(0,0);this.VT=new E(0,0)};l.am.prototype=new l.NY;l.am.prototype.Ly=function(H,N,Q,c,_){var O=H.X;
if(O=="scroll"&&!c.l(K.kz)){if(c.l(K.sf))this.Of(Q,Q.n.M.x-H.or.y,Q.n.M.y-H.or.x);else this.Of(Q,Q.n.M.x-H.or.x,Q.n.M.y-H.or.y)}};
l.am.prototype.enable=function(H,N,Q,c){var _=new k(z.E.Y,!0);_.data={X:z.m.gM,Ut:"grab; cursor:-moz-grab; cursor:-webkit-grab;"};
N.N(_)};l.am.prototype.cL=function(H,N,Q,c,_){this.VT.py(H.n.M);this.VH.kR(_.x,_.y)};l.am.prototype.XY=function(H,N,Q,c,_){if(!_.Vv)return;
this.Of(H,this.VT.x+(_.x-this.VH.x),this.VT.y+(_.y-this.VH.y))};l.am.prototype.Of=function(H,N,Q){var c=H.n.s;
if(H.$*c<H.n.C.$&&H.z*c<H.n.C.z)H.n.M.kR(0,0);else{H.n.M.x=N;H.n.M.y=Q}H.kJ=!0};l.as=function(){l.mh.call(this,[10,25],l.FK,"tools/hbrush");
this.Ua="clone";this.xQ=null;this.oX=null;this.M=null};l.as.prototype=new l.mh;l.as.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
this.xQ=O;if(c.l(K.kz)||c.l(K.j$)){this.oX=H.n.kp(_.x,_.y);this.M=null;return}if(this.oX==null){alert(tg.get([15,7,0]));
return}this.Pa(H,Q,c,_,this.kS.flow);if(this.Uu==null)return;if(this.M==null||!this.kS.algnd)this.M=new E(Math.round(O.x-this.oX.x),Math.round(O.y-this.oX.y));
this.ue(H,{M:this.M})};l.as.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv||this.oX==null)return;this.Mq(H,Q,c,_);this.ue(H)};l.as.prototype.Nu=function(H,N,Q,c,_){if(this.Uu==null)return;
this.ps(H,"heal",this.Uu.GE(),this.Uu.AK(),this.Uu.AK());this.r(H,this.Uu.AK());l.mh.prototype.Nu.call(this,H,N,Q,c,_);
if(!this.kS.algnd)this.M=null};l.as.prototype.mo=function(){return this.M};l.as.prototype.disable=function(H,N,Q,c){this.oX=null;
this.M=null};l.fl=function(){l.NY.call(this,[10,8],l.Jv,"tools/htype");this.cT=[];this.Ti=null;this.le=null;
this.caller=null;this.VW=0;this.Tq=0;this.Vq=null;this.ER=null;this.TZ=null;this.Vy=null;this.cx=null;
this.Vi=null;this.oH=null;this.nl=null;this.uC=!1;this.co=!1;this.hd=!1;this.Pw=null;this.ud=null;this.VQ=null;
this.Vx=!1;this.VO=!1;this.NF=-1;this.nq=-1;this.nS=document.createElement("textarea");this.nS.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.nS.addEventListener("input",this.ttt.bind(this),!1);this.nS.addEventListener("keydown",this.ttV.bind(this),!1);
document.body.appendChild(this.nS)};l.fl.prototype=new l.NY;l.fl.prototype.mW=function(H){return H.Vv};
l.fl.prototype.xz=function(H,N,Q,c){if(this.ER!=null)return;this.caller=N;this.Ti=H;var _=this.WC(H);
if(_.length!=0){var O=null,L=[],s=[];for(var r=0;r<_.length;r++){var u=H.b[_[r]],V=u.add.TySh,C=0,T=X.Fk(V.Bd).length-2,e=X.Sr(V.Bd,C,T);
X.bO(e,l._.ka(V.UC));if(e.hj.Font!=null)e.hj.Font=e.vT[e.hj.Font].Name;O=e.vT;L.push(e.hj);s.push(e.re)}var e={vT:O,hj:X.NE(L),re:X.NE(s)};
if(e.hj.Font)X.kP(e,e.hj.Font);this.Vq=JSON.stringify(e);this.qJ(N,e)}};l.fl.prototype.WC=function(H){var N=[];
for(var Q=0;Q<H.g.length;Q++)if(H.b[H.g[Q]].add.TySh)N.push(H.g[Q]);return N};l.fl.prototype.Ly=function(H,N,Q,c,_){if(this.ER!=null){var O=this.VO;
if(H.X=="warp"||H.X=="warpCancel"){if(H.X=="warp")this.ER.add.TySh.O$=H.UB;else this.ER.add.TySh.O$=this.Vi;
var Q=this.Ti;this.ix(Q,_);if(!O)this.iN(Q);this.nS.focus()}if(H.X=="warpConfirm"){}if((H.X=="warpConfirm"||H.X=="warpCancel")&&O){this.VO=!1;
if(H.X=="warpConfirm")this.qM(Q,N);else this.ua(Q,N)}}if(H.X=="editCurr"){if(this.ER!=null)this.disable(Q,N,_,c);
this.Ti=Q;this.le=_;this.caller=N;this.su(Q,N,_,[H.oM]);var L=X.Fk(this.ER.add.TySh.Bd);this.NF=0;this.nq=L.length-1;
this.iN(Q);this.OK();this.nS.focus()}if(H.X=="switchPntPrgr"){var s=Q.b[Q.g[0]],r=s.add.TySh,u=JSON.parse(JSON.stringify(r.Bd)),V=X.gG(u),C=V==1?X.BR(u):[0,0,s.rect.$+6,s.rect.z+6],T=X.Sr(u,0,1),e=[0,C[2],C[2]/2][T.re.Justification%3],t=T.hj.FontSize*.8;
X.kN(u,1-V);if(V==0){e=-e;t=-t;X.Yc(u,[0,0,C[2],C[3]])}var Y=new Jo(1,0,0,1,e,t);Y.concat(r.UC);H={uG:Q.g[0],X:"newED",VA:u,UC:Y}}if(H.X=="newED"){var s=Q.b[H.uG],r=s.add.TySh,A=this.u$(Q,[H.uG]);
r.Bd=H.VA;if(H.UC)r.UC=H.UC;var G=new tH(r.Bd,_.LS),j=ru.Iq(G,r);s.rect=j.rect;s.buffer=j.nn;s.r();Q.r();
var d=new Jj(this.name,this);d.data={Vf:A,Vj:this.u$(Q,[H.uG])};Q.Af(d)}};l.fl.prototype.jV=function(H){return this.cT.indexOf(H)!=-1};
l.fl.prototype.enable=function(H,N,Q,c){this.Hf(N)};l.fl.prototype.ZQ=function(){return this.ER!=null};
l.fl.prototype.WM=function(H,N){for(var Q=H.b.length-1;Q>=0;Q--){var c=H.b[Q];if(c.add.TySh&&c.rect.Eo(N)&&H.jA(Q)){var _=c.FT(2)||c.FT(31);
return _?-2:Q}}return-1};l.fl.prototype.cL=function(H,N,Q,c,_){this.Ti=H;this.le=Q;this.caller=N;var O=H.n.kp(_.x,_.y),L=this.ER==null;
if(L){var s=this.WM(H,O);if(s==-2){alert(tg.get([6,57,0]));return}if(s>=0)this.su(H,N,Q,[s]);else{this.hd=!0;
this.Pw=_;return}}if(this.nl&&this.nl.cL(H,Q,c,O)&&$.UB.vn(this.ER.add.TySh.O$)||!L&&$.K.Cb(O,this.ER.rect)>20/H.n.s&&X.gG(this.ER.add.TySh.Bd)==0){this.uC=!0;
this.ud=O;this.VQ=this.ER.add.TySh.UC.clone()}else{this.co=!0;this.NF=this.nq=this.qP(O);var r=Date.now();
if(r-this.VW>300)this.Tq=0;this.Tq++;this.VW=r;if(this.Tq==2){this.tRy();this.co=!1}if(this.Tq==3){this.tRL();
this.co=!1}}this.iN(H)};l.fl.prototype.su=function(H,N,Q,c){var _=H.b[c[0]];this.ER=_;this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,Lc:"showactive"});
this.TZ=c;H.g=c.slice(0);H.Ku();H.EV=!0;var O=_.add.TySh;this.cx=this.u$(H,c);if(X.gG(O.Bd)==1){var L=X.BR(O.Bd);
L=new p(0,0,L[2]-L[0],L[3]-L[1]);var s=[L.x,L.y,L.x+L.$,L.y,L.x+L.$,L.y+L.z,L.x,L.y+L.z];$.K.UC(s,O.UC,s);
this.nl=new ro(s,!1,!1,!1,!0)}this.ix(H,Q)};l.fl.prototype.tRy=function(){var H=X.Fk(this.ER.add.TySh.Bd);
this.NF=this.Wi(H,this.NF);this.nq=this.We(H,this.NF)};l.fl.prototype.Wi=function(H,N){var Q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];
for(var _=0;_<Q.length;_++)c.push(Q.charAt(_));var O=c.indexOf(H[N])==-1?!0:!1;for(var _=N-1;_>=0;_--)if(c.indexOf(H.charAt(_))!=-1==O)return _+1;
return 0};l.fl.prototype.We=function(H,N){var Q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];for(var _=0;
_<Q.length;_++)c.push(Q.charAt(_));var O=c.indexOf(H[N])==-1?!0:!1;for(var _=N+1;_<H.length;_++)if(c.indexOf(H.charAt(_))!=-1==O)return _;
return H.length-1};l.fl.prototype.tRL=function(){var H=this.Vy.tCn(this.NF);this.NF=H[0];this.nq=H[1]};
l.fl.prototype.Hf=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.gM,Ut:this.oH};H.N(N)};l.fl.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),L=this.ER;
if(!_.Vv){var s="default";if(this.nl&&$.UB.vn(L.add.TySh.O$)){if(this.nl.lr(O,H.n.s))s=this.nl.lr(O,H.n.s);
else{if(this.nl.w$(O))s="text"}}else if(L&&$.K.Cb(O,L.rect)>20/H.n.s)s="move";else if(this.WM(H,O)>=0)s="text";
if(s!=this.oH){this.oH=s;this.Hf(N)}}if(this.hd&&E.Ln(this.Pw,_)>4){this.hd=!1;this.WN(H,N,Q,c,_);L=this.ER;
X.kN(L.add.TySh.Bd,1);this.uC=!0;this.nl=new ro(null,!1,!1,!1,!0);this.nl.cL(H,Q,c,H.n.kp(this.Pw.x,this.Pw.y))}if(this.uC){var r=L.add.TySh;
if(this.nl){this.nl.XY(H,Q,c,O);var u=r.UC.clone(),V=Math.atan2(u.H,u.o);u.rotate(V);var C=$.F.od($.F.tn(this.nl.az())),T=Math.atan2(C.H,C.o);
C.rotate(T);if(!isNaN(C.o)&&C.o*C.KI-C.H*C.lA!=0){var e=new p(0,0,C.o/u.o,C.KI/u.KI);X.Yc(r.Bd,[0,0,Math.round(e.$),Math.round(e.z)]);
r.UC=$.F.od($.F.tn(this.nl.az(),e));this.ix(H,Q)}}else{var t=O.x-this.ud.x,Y=O.y-this.ud.y;r.UC=this.VQ.clone();
var A=new E(r.UC.DX+t,r.UC.Ug+Y);A=l.UP.ep(H,A,Q);r.UC.DX=A.x;r.UC.Ug=A.y;this.ix(H,Q)}}if(this.co)this.nq=this.qP(O);
if(this.uC||this.co)this.iN(H)};l.fl.prototype.WN=function(H,N,Q,c,_){var O=H.Zs();O.add.lnsr="rend";
var L=H.b.slice(0);O.Vp("Text layer "+L.length);this.ER=O;var s=H.g.length==0?H.b.length-1:H.g[H.g.length-1],r=s+1;
if(L[s].add.lsct==tR.Gp)r--;this.cx={zh:L.slice(0),Ud:H.g.slice(0)};L.splice(r,0,O);H.g=[r];this.NF=this.nq=0;
H.rM(L);this.cx._b=L.slice(0);this.cx._k=H.g.slice(0);this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,Lc:"showactive"});
_=H.n.kp(_.x,_.y);O.add.TySh=X.YD(_.x,_.y,Q.iJ);return O};l.fl.prototype.Nu=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
if(this.hd){this.hd=!1;this.WN(H,N,Q,c,_);X.kN(this.ER.add.TySh.Bd,0);this.co=!0}if(this.uC||this.co){this.iN(H);
this.OK()}if(this.uC&&this.nl)this.nl.Nu(H,Q,c,O);this.uC=this.co=!1;this.nS.focus()};l.fl.prototype.OK=function(){var H=Math.min(this.NF,this.nq),N=Math.max(this.NF,this.nq),Q,c;
if(H==N){var _=this.Vy&&this.Vy.Ym(H-1);if(H==0||_&&_.oQ=="\n")Q=c=H;else Q=c=H-1}else{Q=H;c=N-1}var O=this.ER.add.TySh,L=X.Sr(O.Bd,Q,c);
X.bO(L,l._.ka(O.UC));this.qJ(this.caller,L)};l.fl.prototype.qJ=function(H,N){this.Mf(H,z.E.Y,{X:z.m.u_,gg:JG.vw,iJ:N})};
l.fl.prototype.FJ=function(H,N,Q,c){if(c.l(K._f))this.ua(H,N)};l.fl.prototype.disable=function(H,N,Q,c){if(this.ER)this.qM(H,N);
else this.ua(H,N)};l.fl.prototype.sG=function(H,N,Q,c,_){if(H.Lc=="commit")this.qM(Q,N);if(H.Lc=="cancel")this.ua(Q,N);
if(H.Lc=="showwarp"){if(Q==null)return;if(this.ER==null){var O=Q.b[Q.g[0]],L=O.add.TySh;if(L==null)return;
this.su(Q,N,_,[Q.g[0]]);this.nS.focus();this.VO=!0}this.Vi=this.ER.add.TySh.O$;var s=new k(z.E.Y,!0);
s.data={X:z.m.gI,gL:"textwarp"};N.N(s)}};l.fl.prototype.qB=function(H,N){this.le=H;var Q=this.Ti;if(Q==null)return;
if(N!=JG.hP&&N!=JG.vw&&N!=JG.IL)return;if(this.Vx){this.Vx=!1;var c=this.TZ;for(var _=0;_<c.length;_++){this.ER=Q.b[c[_]];
this.ix(Q,H)}this.qM(Q,this.caller);return}if(this.ER==null){if(this.Vq==JSON.stringify(H.iJ)){return}var c=this.WC(Q),O=!1;
if(c.length!=0){this.su(Q,this.caller,H,c);for(var _=0;_<c.length;_++){var L=Q.b[c[_]],s=L.add.TySh;
this.ER=L;var r=X.Fk(s.Bd);this.NF=0;this.nq=r.length-1;X.zX(s.Bd,this.NF,this.nq,this.Oz(H,s));var u=this.ix(Q,H);
if(u==!1)O=!0}if(O){this.Vx=!0;return}this.qM(Q,this.caller)}return}var V=Math.min(this.NF,this.nq),C=Math.max(this.NF,this.nq),s=this.ER.add.TySh;
X.zX(s.Bd,V,C-1,this.Oz(H,s));var Q=this.Ti;this.ix(Q,H);this.iN(Q);this.nS.focus()};l.fl.prototype.Oz=function(H,N){var Q=JSON.parse(JSON.stringify(H.iJ));
X.bO(Q,1/l._.ka(N.UC));return Q};l.fl.prototype.wD=function(H,N){if(H.Vf!=null)this.OA(N,H.Vj);else this.qw(N,H._b,H._k)};
l.fl.prototype.mK=function(H,N){if(H.Vf!=null)this.OA(N,H.Vf);else this.qw(N,H.zh,H.Ud)};l.fl.prototype.OA=function(H,N){for(var Q=0;
Q<N.length;Q++){var c=N[Q],_=c.uG,O=H.b[_];O.buffer=c.fg;O.rect=c.lU.clone();O.r();var L=O.add.TySh;
L.O$=c.UB;L._B=c._B.clone();L.UC=c.UC.clone();L.Bd=JSON.parse(JSON.stringify(c.Bd));O.jK()}H.r()};l.fl.prototype.u$=function(H,N){var Q=[];
for(var c=0;c<N.length;c++){var _=N[c],O=H.b[_],L=O.add.TySh;Q.push({uG:_,UC:L.UC.clone(),UB:JSON.parse(JSON.stringify(L.O$)),_B:L._B.clone(),Bd:JSON.parse(JSON.stringify(L.Bd)),fg:$.clone(O.buffer),lU:O.rect.clone()})}return Q};
l.fl.prototype.qw=function(H,N,Q){H.g=Q;H.rM(N);H.r()};l.fl.prototype.ix=function(H,N,Q){if(Q==null)Q=!1;
var c=this.ER.add.TySh;if(!ru.Ij(c,N.LS))return!1;this.Vy=new tH(c.Bd,N.LS);if(!Q){var _=X.Fk(c.Bd);
this.nS.value=_.slice(0,_.length-1)}var O=ru.Iq(this.Vy,c),L=O.rect;if($.UB.vn(c.O$))c._B=new p;else{if(X.gG(c.Bd)==1){var s=X.BR(c.Bd),r=O._B.y;
c._B=new p(0,r,s[2]-s[0],s[3]-s[1]-r)}else{c._B=O._B}}var u=this.ER.rect;this.ER.rect=O.rect;this.ER.buffer=O.nn;
this.ER.r();H.f$();H.r(H.root.KS(O.rect.Fv(u),H,H.b.indexOf(this.ER)));return!0};l.fl.prototype.ttt=function(H){if(this.ER==null)return;
var N=this.nS.selectionStart,Q=this.ER.add.TySh,c=X.Fk(Q.Bd),_=this.nS.value+"\n",O=Math.min(this.NF,this.nq),L=Math.max(this.NF,this.nq);
this.NF=Math.min(N,O);if(_.length-N<c.length-this.nq)this.nq=c.length-_.length+N;if(c!=_){while(this.NF>0&&c.charAt(this.NF-1)!=_.charAt(this.NF-1))this.NF--}var s=c.substring(0,this.NF),r=c.substring(this.nq,c.length),u=_.substring(this.NF,_.length-r.length);
X.bw(Q.Bd,this.NF,this.nq);X.el(Q.Bd,this.NF,u);X.zX(Q.Bd,this.NF,this.NF+u.length-1,this.Oz(this.le,Q));
this.NF=this.nq=s.length+u.length;var V=this.Ti;this.ix(V,this.le,!0);this.iN(V,!0)};l.fl.prototype.ttV=function(H){if(this.ER==null)return;
var N=K,Q=0,c=0,r=!1;if(N.Kd(H.code,N.OE))Q=1;if(N.Kd(H.code,N.Ov))Q=-1;if(N.Kd(H.code,N.fS))c=-1;if(N.Kd(H.code,N.fO))c=1;
var _=H.ctrlKey||H.metaKey,O=N.Kd(H.code,K.trG),L=N.Kd(H.code,K.trK),s=X.Fk(this.ER.add.TySh.Bd);if(Q!=0||c!=0||O||L){H.preventDefault();
var u=this.NF;if(Q!=0){if(_&&Q==-1)u=this.Wi(s,this.NF-1);else if(_&&Q==1)u=this.We(s,this.NF);else u=this.NF+Q}else if(c!=0){var V=this.Vy.Ii(this.NF);
if(c==-1&&V.Pc==0)u=0;else if(c==1&&V.Pc==this.Vy.VF-1)u=99999999999;else u=this.Vy.YM(new E(V.rect.x+V.rect.$/2,0),V.Pc+c)}else if(O){var C=this.NF-1;
while(C>0&&s.charCodeAt(C)!=10)C--;u=C==0?0:C+1}else if(L){var C=this.NF;while(C<s.length-1&&s.charCodeAt(C)!=10)C++;
u=C}u=Math.max(0,Math.min(s.length-1,u));if(H.shiftKey)this.NF=u;else this.NF=this.nq=u;r=!0}if(N.Kd(H.code,K.m)&&_){this.NF=0;
this.nq=s.length-1;r=!0}if(r){this.OK();this.iN(this.Ti)}};l.fl.ttT=function(H,N){var Q=H.length;if(Q!=N.length)return!1;
for(var c=0;c<Q;c++)if(H[c].uG!=N[c].uG)return!1;return!0};l.fl.prototype.qM=function(H,N){if(this.ER==null)return;
this.ER.jK();var Q=this.cx;if(Q instanceof Array){var c=this.u$(H,this.TZ),_=H.lk();if(_!=null&&_.c==this&&_.data.Vf&&l.fl.ttT(_.data.Vf,Q))_.data.Vj=c;
else{var O=new Jj(this.name,this);O.data={Vf:Q,Vj:c};H.Af(O)}}else{var O=new Jj(this.name,this);O.data={zh:Q.zh,_b:Q._b,Ud:Q.Ud,_k:Q._k};
H.Af(O)}this.escape(H,N)};l.fl.prototype.ua=function(H,N){if(this.ER==null)return;if(this.cx instanceof Array)this.OA(H,this.cx);
else{H.g=this.cx.Ud;H.rM(this.cx.zh)}H.r();this.escape(H,N)};l.fl.prototype.escape=function(H,N){this.ER=null;
this.TZ=null;this.Vy=null;this.nl=null;this.nS.blur();H.S.rX=null;H.S.WA=null;H.S.Lg=[];H.un=!0;this.uC=!1;
this.co=!1;this.NF=this.nq=-1;this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,Lc:"hideactive"})};l.fl.prototype.Mf=function(H,N,Q,c){var _=new k(N,!0);
_.data=Q;if(c)_.c=c;H.N(_)};l.fl.prototype.qP=function(H){var N=this.ER.add.TySh,Q=this.Vy,c=N.UC.clone();
c.UK();var _=c.Sk(H),O=X.AK(N,Q),L=$.UB.cq(N.O$,O),s=$.nH.D.Le(L,0,1,0,1),r=new Uint32Array(30),u=$.nH.D.tVO(s.CJ,s.cK,_.x,_.y,r),V=$.nH.oc(L,_.x,_.y,s.CJ,r,u,!1),C=$.nH.Bs;
if(C==null)C=new Float64Array(2);_=new E(O.x+C[0]*O.$,O.y+C[1]*O.z);var T=Q.YM(_),e=Q.Ym(T),t=Q.Ii(T).rect;
if(e.oQ!="\n"&&(e.on==0&&_.x>t.x+t.$/2||e.on==1&&_.x<t.x+t.$/2))T++;return T};l.fl.prototype.iN=function(H,N){if(N==null)N=!1;
var Q=this.ER.add.TySh,c=this.Vy,_=c?X.AK(Q,c):null;H.S.Lg=[];H.S.rX=null;H.S.WA=null;if(this.nl){this.nl.Qu(H,!$.UB.vn(Q.O$));
var O=Q.UC.clone();O.UK();$.K.UC(H.S.Lg,O,H.S.Lg);$.K.UC(H.S.rX.Z,O,H.S.rX.Z);if(c&&c.V_){var L=_.$-20,s=_.z+8;
H.S.rX.Z.push(L,s,L+10,s,L+5,s-5,L+5,s+5);H.S.rX.lX.push("M","L","M","L")}}else this.ttP(H,Q,c);var r=Math.min(this.NF,this.nq),u=Math.max(this.NF,this.nq);
if(!N){this.nS.selectionStart=r;this.nS.selectionEnd=u}if(c!=null){if(r==u){var V=c.Ii(r).rect.clone(),C=this.le.iJ.hj.FontSize;
if(C!=null&&C!=0){V.y+=V.z-C;V.z=C}var T=c.Ym(r);if(T!=null&&T.on==1)V.x+=V.$;V.y+=V.z*.27;H.S.rX.lX.push("M","L");
H.S.rX.Z.push(V.x,V.y,V.x,V.y+V.z)}else{H.S.WA={Z:[],lX:[]};for(var e=r;e<u;e++){var V=c.Ii(e).rect;
V.y+=V.z*.27;var t=$.K.DK(V);$.K.concat(H.S.WA,t)}}}if(c!=null){if(!_.km()){var Y=$.UB.cq(Q.O$,_);if(H.S.rX){H.S.rX=$.K.kX(H.S.rX);
H.S.rX=$.K.kb(H.S.rX,Math.min(_.$,_.z)/10);$.nH.apply(Y,H.S.rX.Z,_)}if(H.S.WA){H.S.WA=$.K.kX(H.S.WA);
H.S.WA=$.K.kb(H.S.WA,Math.min(_.$,_.z)/10);$.nH.apply(Y,H.S.WA.Z,_)}$.nH.apply(Y,H.S.Lg,_)}}if(H.S.rX)$.K.UC(H.S.rX.Z,Q.UC,H.S.rX.Z);
if(H.S.WA)$.K.UC(H.S.WA.Z,Q.UC,H.S.WA.Z);$.K.UC(H.S.Lg,Q.UC,H.S.Lg);H.un=!0};l.fl.prototype.ttP=function(H,N,Q){if(Q==null)return;
H.S.Lg.push(0,0);if(H.S.rX==null)H.S.rX={lX:[],Z:[]};for(var c=0;c<Q.re.length;c++){var _=Q.re[c];for(var O=0;
O<_.KX.length;O++){var L=_.KX[O],s=_.Vn.x+L.Vn.x+L.rect.x,r=_.Vn.y+L.Vn.y+L.rect.y+L.rect.z;H.S.rX.lX.push("M","L");
H.S.rX.Z.push(s,r,s+L.rect.$,r)}}H.un=!0};l.rK=function(){l.MV.call(this,[10,9],l.hL,"tools/lasso");
this.Sx="crosshair";this.XW=null;this.I_=null};l.rK.prototype=new l.MV;l.rK.prototype.nZ=function(H,N,Q,c){this.XW=this.uc;
this.I_={Z:[this.XW.x,this.XW.y],lX:["M"]}};l.rK.prototype.fI=function(H,N,Q,c){if(!c.Vv||this.I_==null)return;
this.I_.lX.push("L");this.I_.Z.push(this.kt.x,this.kt.y);this.XW=this.kt;if(this.IY){H.S.rX=this.I_;
H.un=!0}};l.rK.prototype.Ub=function(H,N,Q,c){if(this.I_==null||!this.IY)return;H.S.rX=null;H.un=!0;
this.finish(H,N,Q,c)};l.rK.prototype.getSelection=function(H,N,Q,c){if(this.uc.v$(this.kt))return null;
return this._A(this.I_)};l.UP=function(){l.NY.call(this,[10,11],l.Ft,"tools/move");this.xU=new E(0,0);
this.xk=new E(0,0);this.St=null;this.BM=new E(0,0);this.$c=null;this.Sn=null;this.E$=null;this.kU=null;
this.UT=[];this.Ew=null;this.$b=!1;this.X=0;this.VK=null;this.EL=null;this.MJ=null;this.PO=!1;this.kS={EP:!1,MT:!1,Nf:!1};
this.nl=null;var H="<svg  class=\"autoscale\" style=\"vertical-align:middle;\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.fV=[{name:H+" PNG"},{name:H+" SVG",wN:!0},{name:"Copy CSS",V:function(Q){return{cg:tg.get([5,1])+" CSS"}}}];
this.Nc=new rq(this.fV);this.Nc.O("select",this.aQ,this);this.VY=[];for(var N=0;N<$.VU.ip.length;N++)this.VY.push({name:$.VU.ip[N],V:function(Q,c,_){return{cU:c.sS.eJ==_}}});
this.Kw=new rq(this.VY);this.Kw.O("select",this.ttp,this)};l.UP.prototype=new l.NY;l.NY.prototype.mW=function(H){return this.$b&&this.X!=2};
l.UP.prototype.hR=function(){return this.$b&&this.X==0};l.UP.prototype.hH=function(H,N,Q,c){this.t$(H,-this.BM.x,-this.BM.y);
this.BM.kR(0,0);this.tw(H,null,Q);this.qK(H)};l.UP.prototype.Nm=function(){var H=this.kS;return[H.EP?1:0,H.MT?1:0,H.Nf?1:0]};
l.UP.prototype.E_=function(H,N,Q){var c=this.kS;if(H&&H[0]!=null)c.EP=H[0]==1;if(H&&H[1]!=null)c.MT=H[1]==1;
if(H&&H[2]!=null)c.Nf=H[2]==1;var _=new k(z.E.Y,!0);_.data={X:z.m.nv,c:this.id,ex:c,ttv:N};Q.N(_)};l.UP.pJ=function(H,N,Q,c,_){var O=H.MC(null,_),L=H.jS(O)[0];
if(Q!=1){var s=new p(0,0,Math.round(L.$*Q),Math.round(L.z*Q));l.$p.tt(L,s);var r=[];for(var u=0;u<L.b.length;
u++)r.push(u);var V=l._.Vm(L,r,!0);l._.lI(L,c,r,V,!1,$.F.Wq(new Jo(Q,0,0,Q,0,0)),null,!0);L.LD()}var C=[];
for(var u=0;u<N.length;u++)C.push(JP.YL(L,N[u].toUpperCase()));return C};l.UP.prototype.Ok=function(H,N,Q,c,_){if(H==null)return;
var O=l.UP.pJ(H,[N],Q,c,null)[0],L=new k(z.E.Y,!0);L.data={X:z.m.IA,data:O,name:H.b[H.g[0]].getName()+"."+N};
_.N(L)};l.UP.prototype.sG=function(H,N,Q,c,_){if(H.gE=="getPNG"){this.Ok(Q,"png",H.$r,_,N)}else if(H.gE=="getSVG"){this.Ok(Q,"svg",H.$r,_,N)}if(H.gE=="prms"){this.kS=H;
this.qK(Q)}if(H.gE=="algn"){var O=H.R;if(Q==null)return;if(Q.g.length<2&&!(Q.t!=null&&O!=3&&O!=7)){alert(tg.get([15,7,5]));
return}var L=Q.t;Q.t=null;var s=L?L.rect:l._.AK(Q);this.uJ(Q,N,c,_,!1);if(!this.$b)return;var r=this.kU,u={},V=[],C=[],T=[];
for(var e=0;e<r.length;e++){var t=r[e];while(Q.b[t].getName()=="</Layer group>")t++;var Y=Q.root.oo(t),A=Y;
while(Y.parent!=null){Y=Y.parent;if(r.indexOf(Y.index)!=-1)A=Y}var G=C.indexOf(A.index);if(G==-1){G=C.length;
C.push(A.index)}V[e]=G}var j=[],d=[],w=[];for(var e=0;e<C.length;e++){var f=l._.AK(Q,Q.MC(!0,C[e]));
w.push(f);var b=O==3?[f.y,f.z]:[f.x,f.$];j[e]=b;d.push(b)}l.UP.ttg(d);for(var e=0;e<C.length;e++){var f=w[e],F=f.x,n=f.y;
if(O==0)F=s.x;if(O==1)F=s.x+(s.$-f.$)/2;if(O==2)F=s.x+(s.$-f.$);if(O==3)n=j[e][0];if(O==4)n=s.y;if(O==5)n=s.y+(s.z-f.z)/2;
if(O==6)n=s.y+(s.z-f.z);if(O==7)F=j[e][0];T.push(Math.round(F-f.x),Math.round(n-f.y))}var J=[];for(var e=0;
e<r.length;e++){var Z=V[e];J[2*e]=T[2*Z];J[2*e+1]=T[2*Z+1]}this.t$(Q,0,0,null,J);var P=O==3||O==7?[20,4,6]:[20,4,O<3?O:O-1];
this.tw(Q,null,_,J,P);Q.t=L}};l.UP.ttg=function(H){var N=H.length,c=0;H.sort(function(s,r){return s[0]+s[1]/2-(r[0]+r[1]/2)});
var Q=H[N-1][0]+H[N-1][1]-H[0][0];for(var _=0;_<N;_++)c+=H[_][1];var O=Math.round((Q-c)/(N-1)),L=H[0][0];
for(var _=0;_<N;_++){H[_][0]=L;L+=H[_][1]+O}};l.UP.prototype.Ly=function(H,N,Q,c,_){var O=H.X;if(O=="trsl"){var L=Math.round(H.ttQ),s=Math.round(H.ttz);
this.BM.kR(L,s);this.uJ(Q,N,c,_,!1,H.i);this.t$(Q,L,s);this.tw(Q,null,_)}};l.UP.prototype.enable=function(H,N,Q,c,_){this.PO=_?!0:!1;
this.qK(H);this.Hf("default",N)};l.UP.prototype.disable=function(H,N,Q,c){if(H==null)return;if(this.nl){this.nl.clear(H);
this.nl=null}if(H.S.Nf){H.S.Nf=null;H.un=!0}if(H.S.iG){H.S.iG=null;H.un=!0}if(H.S.rX){H.S.rX=null;H.un=!0}};
l.UP.prototype.xz=function(H,N,Q,c){this.qK(H)};l.UP.prototype.qK=function(H,N){if(H==null)return;var Q=this.kS;
this.disable(H,null,null,null);if(!this.PO){var c=$.K.Cn(l._.AK(H));if(Q.MT&&!c.km()){this.nl=new ro([c.x,c.y,c.x+c.$,c.y,c.x+c.$,c.y+c.z,c.x,c.y+c.z],!0);
this.nl.Qu(H)}if(Q.Nf){var _=H.jU(H.g[0]),V=null,C=!1;if(_==null)_=new p(0,0,H.$,H.z);H.S.Nf={$t:[c],$H:[]};
var O=H.S.Nf.$H,L=c.x+c.$,s=c.y+c.z,r=c.x+Math.floor(c.$/2),u=c.y+Math.floor(c.z/2);if(N){var T=H.root.oc(new E(Math.floor(N.x),Math.floor(N.y)));
if(T){V=$.K.Cn(T.i.vo(H));if(V.p$(c)){C=(V.pk(c)||c.pk(V))&&!c.v$(V);if(!C)V=null}}}this.pr(c,O);if(V!=null){H.S.Nf.$t.push(V);
var e=V.x+V.$,t=V.y+V.z,Y=V.x+Math.floor(V.$/2),A=V.y+Math.floor(V.z/2);if(C){var G=r,j=u;if(c.pk(V)){G=Y;
j=A}O.push(c.x,j,V.x,j);O.push(L,j,e,j);O.push(G,c.y,G,V.y);O.push(G,s,G,t)}else{this.pr(V,O);var d=s<V.y||t<c.y,w=L<V.x||e<c.x;
if(L<V.x)O.push(L,u,V.x,u);if(e<c.x)O.push(e,u,c.x,u);if(s<V.y)O.push(r,s,r,V.y);if(t<c.y)O.push(r,t,r,c.y);
if(d&&!w){if(c.x<V.x)O.push(c.x,A,V.x,A);if(V.x<c.x)O.push(V.x,u,c.x,u)}}}else{if(c.y>_.y)O.push(r,_.y,r,c.y);
if(s<_.y+_.z)O.push(r,s,r,_.y+_.z);if(c.x>_.x)O.push(_.x,u,c.x,u);if(L<_.x+_.$)O.push(L,u,_.x+_.$,u)}H.un=!0}}if(this.X==3&&this.$b){var f=$.K.DK(this.VK);
if(H.S.rX==null)H.S.rX=f;else $.K.concat(H.S.rX,f);H.un=!0}};l.UP.prototype.pr=function(H,N){var Q=H.$,c=H.z,_=H.x+Math.floor(Q*.2),O=H.y+Math.floor(c*.2);
N.push(_,H.y,_,H.y+c);N.push(H.x,O,H.x+Q,O)};l.UP.prototype.Hf=function(H,N){var Q={X:z.m.gM,Ut:H},c=new k(z.E.Y,!0);
c.data=Q;N.N(c)};l.UP.prototype.aQ=function(H){var N=this.Nc.pa()[0],Q=this.$c;if(N<2)this.Ok(Q,["png","svg"][N],1,this.Sn,this.E$);
if(N==2){var c=Q.b[Q.g[0]],_=CSS.bL(c);_=_.join(";\n")+";";var O=z.B("textarea");O.value=_;document.body.appendChild(O);
O.select();document.execCommand("copy");document.body.removeChild(O)}};l.UP.prototype.ttp=function(H){var N=JSON.parse(JSON.stringify(this.Sn.sS));
N.eJ=this.Kw.pa()[0];var Q=new k(z.E.Y,!0);Q.data={X:z.m.u_,gg:JG.lz,UG:N};this.E$.N(Q)};l.UP.prototype.OH=function(H,N,Q,c,_){this.$c=H;
this.Sn=Q;this.E$=N;var O=H.n.kp(_.x,_.y);this.iX(H,O,c);var L=this.Nc,s=this.fV;if(l.UP.ig(Q,_)){L=this.Kw;
s=this.VY}L.parent=N;L.update(H,s,Q);var r=new k(z.E.Y,!0);r.data={X:z.m.Fe,AB:L,x:_.ttk+1,y:_.tVr+1};
N.N(r)};l.UP.prototype.cL=function(H,N,Q,c,_){this.xU.kR(_.x,_.y);this.xk=H.n.kp(_.x,_.y);this.St=new tL(this.xk);
this.uJ(H,N,c,Q,!0)};l.UP.ig=function(H,N){return H.Td&&(N.x<$.VU.oK||0<N.y&&N.y<$.VU.oK)};l.UP.prototype.uJ=function(H,N,Q,c,_,O){var L,s=this.xk;
if(_){var r=c.kk&&c.sS.UL;if(l.UP.ig(c,this.xU)){L=JSON.parse(JSON.stringify(H.UL));if(this.xU.x<$.VU.oK)H.UL[0].push(s.x);
if(this.xU.y<$.VU.oK)H.UL[1].push(s.y);if(!r){var u=new k(z.E.Y);u.data={X:z.m.u_,gg:JG.tU};N.N(u);r=!0}}var V=this.iB(H,s);
if(r&&V){this.X=2;this.EL=L?L:JSON.parse(JSON.stringify(H.UL));this.kU=V;this.$b=!0;return}if(this.nl&&this.nl.lr(s,H.n.s,!0)!=null){var u=new k(z.E.Y);
u.data={X:z.m.mG,c:l._y};N.N(u);var C=new k(z.E.W);C.c=l._y;C.data={X:"doMouseDown",qR:this.xU};N.N(C);
return}if(H.t==null&&(!this.PO&&(Q.l(K.sf)||this.kS.EP)||this.PO&&this.kS.EP&&(Q.l(K.Yz)||H.g.length<2))){var T=this.iX(H,s,Q);
if(!T){H.g=[];H.qf=H.Pn=!0;this.X=3;this.VK=new p;this.$b=!0;return}}if(Q.l(K.kz)&&H.t==null){var C=new k(z.E.W);
C.c=l.uh;C.data={X:R.nJ};N.N(C)}}this.kU=H.MC(O==null,O);for(var e=0;e<this.kU.length;e++){var t=H.b[this.kU[e]];
if(t.FT(2)||t.FT(31)){alert(tg.get([6,57,0]));return}}this.UT=l.UP.ob(H,this.kU);this.X=0;if(H.t&&H.g.length==1&&H.FS(!1)){if(!H.je()){this.$b=!1;
return}var Y=H.b[H.g[0]],A=Q.l(K.kz);this.X=1;var G=H.history[H.ei];if(G.c==this&&G.data.X==1&&G.data.i==H.g[0]&&Y.G==Y.UM.G&&!A){this.MJ=G}else{var j=Y.UM,d=!1,w;
if(!Y.JJ(H,H.t)||A){d=!0;Y.jp(H,H.t,A)}if(Y.UM.G<=0){w=$.I(Y.UM.nI.length>>2);$.rY(Y.UM.nI,w,3)}else w=$.clone(H.t.channel);
var f={rect:Y.UM.SB.clone(),channel:w};this.MJ=new Jj(A?[12,53]:[12,54],this);this.MJ.data={X:1,i:H.g[0],UM:Y.UM,Xy:j,Jo:d,Ud:H.t,_k:f,KI:new E(0,0)};
H.Af(this.MJ);H.t=f;H.Ow=!0}}this.$b=!0;this.Ew=l._.AK(H)};l.UP.prototype.iX=function(H,N,Q){var c=H.root.oc(new E(Math.floor(N.x),Math.floor(N.y)));
if(c){if(c.i.add.vmsk)H.un=!0;var _=H.b.indexOf(c.i);if(Q.l(K.Yz)){var O=H.g.indexOf(_);if(O==-1)H.g.push(_);
else if(H.g.length>1)H.g.splice(O,1)}else if(H.g.indexOf(_)==-1){c.i.G=0;H.g=[_];H.Ku();H.EV=!0}}return c!=null};
l.UP.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),T,e;if(this.St)O=this.St.Kj(O,c);if(!this.$b){if(Q.kk&&Q.sS.UL){var L=this.iB(H,O),s="default";
if(L)s=["col-resize","row-resize"][L[0]];else if(this.nl){var r=this.nl.lr(O,H.n.s);if(r)s=r}this.Hf(s,N)}this.qK(H,O);
return}var u=this.xk,V=Math.round(O.x-u.x)-this.BM.x,C=Math.round(O.y-u.y)-this.BM.y;if(this.Ew){e=this.Ew.clone();
e.offset(this.BM.x+V,this.BM.y+C);T=l.UP.tg(H,e,Q);V+=Math.round(T[0]);C+=Math.round(T[1])}this.BM.x+=V;
this.BM.y+=C;this.t$(H,V,C,O,null,c.l(K.Yz));this.qK(H,O);if(T)l.UP.tG(H,e,T)};l.UP.prototype.iB=function(H,N){N=[N.x,N.y];
for(var Q=0;Q<2;Q++)for(var c=0;c<H.UL[Q].length;c++)if(Math.abs(H.UL[Q][c]-N[Q])*H.n.s<4)return[Q,c];
return null};l.UP.prototype.t$=function(H,N,Q,c,_,O){if(this.X==0){if(_)l.UP.uf(H,this.kU,this.UT,_);
else l.UP.uw(H,this.kU,this.UT,N,Q)}else if(this.X==1){var L=this.MJ.data;L.KI.offset(N,Q);l.UP.tJ(H,L.i,N,Q)}else if(this.X==2){var s=c.x,r=c.y;
if(O){var u=H.n.s<=1?10:1;s=u*Math.round(c.x/u);r=u*Math.round(c.y/u)}var V=[s,r],C=this.kU;H.UL[C[0]][C[1]]=V[C[0]];
H.un=!0}else if(this.X==3){var T=this.xk,e=$.K.TD([T.x,T.y,c.x,c.y]);this.VK=e;var t=[];H.root.f_(e,t);
if(JSON.stringify(H.g)!=JSON.stringify(t)){H.g=t;H.qf=!0;H.Pn=!0}}};l.UP.tJ=function(H,N,Q,c){var _=H.b[N];
H.t.rect.offset(Q,c);_.cX(H,Q,c,H.t);H.Ow=!0;H.r()};l.UP.prototype.Nu=function(H,N,Q,c,_){this.tw(H,_,Q);
this.qK(H)};l.UP.prototype.tw=function(H,N,Q,c,_){if(!this.$b)return;this.$b=!1;if(this.X==0){if(c){this.iZ(H,null,c,_)}else{if(this.BM.x==0&&this.BM.y==0)return;
this.iZ(H,this.BM.clone())}H.kJ=!0}else if(this.X==2){var O=0;N=[N.x,N.y];var L=this.kU,s=this.EL[0].length+this.EL[1].length,r=H.UL[0].length+H.UL[1].length;
if(Q.Td&&N[L[0]]<$.VU.oK){H.UL[L[0]].splice(L[1],1);O=1;if(s==r-1)return}if(s<r)O=2;var u=new Jj([[23,2],[23,3],[23,4]][O],this);
u.data={X:2,EL:this.EL,tVI:JSON.parse(JSON.stringify(H.UL))};H.Af(u)}this.BM.kR(0,0)};l.UP.prototype.FJ=function(H,N,Q,c){var _=c.Ik();
if(_.x!=0||_.y!=0){this.BM.kR(_.x,_.y);this.uJ(H,N,c,Q,!1);if(!this.$b)return;this.t$(H,_.x,_.y);this.tw(H,null,Q);
this.qK(H)}};l.UP.prototype.mK=function(H,N){if(H.X==0)l.UP.uf(N,H.g,H.PY,H.Pb,!0);else if(H.X==2){N.UL=JSON.parse(JSON.stringify(H.EL));
N.un=!0}else{var Q=N.b[H.i];if(H.Jo){Q.jX(N,H.Xy);N.t=H.Ud;N.Ow=!0;N.r();Q.r()}else{l.UP.tJ(N,H.i,-H.KI.x,-H.KI.y)}}};
l.UP.prototype.wD=function(H,N){if(H.X==0)l.UP.uf(N,H.g,H.PY,H.Pb);else if(H.X==2){N.UL=JSON.parse(JSON.stringify(H.tVI));
N.un=!0}else{var Q=N.b[H.i];if(H.Jo){Q.UM=H.UM;N.t=H._k;l.UP.tJ(N,H.i,0,0);Q.r()}else{l.UP.tJ(N,H.i,H.KI.x,H.KI.y)}}};
l.UP.prototype.iZ=function(H,N,Q,c){if(Q){var _=!0;for(var O=0;O<Q.length;O++)if(Q[O]!=0)_=!1;if(_)return}var L=H.history[H.ei];
if(L.data&&L.c==this&&L.data.X==0&&Q==null&&JSON.stringify(L.data.g)==JSON.stringify(this.kU)&&JSON.stringify(L.data.PY)==JSON.stringify(this.UT)){var s=L.data.Pb;
for(var O=0;O<s.length;O+=2){s[O]+=N.x;s[O+1]+=N.y}}else{var r=new Jj(c?c:[12,54],this);if(Q)r.data={X:0,g:this.kU,PY:this.UT,Pb:Q};
else r.data={X:0,g:this.kU,PY:this.UT,Pb:l.UP.oy(this.kU,N.x,N.y)};H.Af(r)}};l.UP.oy=function(H,N,Q){var c=[];
for(var _=0;_<H.length;_++)c.push(N,Q);return c};l.UP.uw=function(H,N,Q,c,_){l.UP.uf(H,N,Q,l.UP.oy(N,c,_))};
l.UP.uf=function(H,N,Q,c,_){if(H.g.length==0)return;if(Q==null){Q=[];for(var O=0;O<N.length;O++){Q.push(H.b[N[O]].Ja(H,!0))}}var L=new p,s=new p(0,0,H.$,H.z);
for(var O=0;O<N.length;O++){var r=c[2*O],u=c[2*O+1];if(_){r=-r;u=-u}var V=H.b[N[O]],C=Q[O];if(V.add.fxrp&&(C.indexOf(0)!=-1||V.TT()))V.add.fxrp.offset(r,u);
for(var T=0;T<C.length;T++){var e=C[T];if(e==0){V.rect.offset(r,u);if(V.kl()&&V.hy(H))V.hy(H).rect.offset(r,u);
if(V.add.artb){var t=V.As();t.offset(r,u);V.L$(t)}if(V.add.TySh)V.add.TySh.UC.translate(r,u);if(V.add.SoLd){var Y=new Jo(1,0,0,1,r,u),A=V.add.SoLd,G=l._.HV(A.Trnf),j=l._.HV(A.nonAffineTransform);
$.K.UC(G,Y,G);$.K.UC(j,Y,j);A.Trnf=l._.Sz(G);A.nonAffineTransform=l._.Sz(j)}}if(e==1)V.Ab().rect.offset(r,u);
if(e==2){V.add.vmsk.offset(r,u);if(V.add.vogk)$.FU.UC(V.add.vogk,[1,0,r,0,1,u,0,0],[])}if(e==3){V.hy(H).d.rect.offset(r,u);
if(C.length==1)V.r()}}if(C.length>0){var d=V.add.GdFl;if(d==null)d=V.add.PtFl;if(V.TT()&&!V.Vw()&&V.add.vmsk!=null&&$.A.eQ(V.add.vmsk.L)&&V.add.vmsk.JU==255&&(d==null||d.Algn&&d.Algn.v)){V.rect.offset(r,u)}else V.Sa(H);
var w=H.root.KS(V.vo(H),H,N[O]);L=L.Fv(w);w.offset(-r,-u);L=L.Fv(w);if(V.add.SoCo||V.add.GdFl||V.add.PtFl||JO.get(V.add)!=null)L=L.Fv(s);
V.ft()}}H.r(L)};l.UP.ob=function(H,N){var Q=[];for(var c=0;c<N.length;c++){var _=H.b[N[c]];Q.push(_.Ja(H))}return Q};
l.UP.tG=function(H,N,Q){var c=H.S.iG={Z:[],lX:[]},_=N.x+Q[0],O=N.y+Q[1];if(Q[2]!=1e9){c.lX.push("M","L");
c.Z.push(Q[2],O,Q[2],O+N.z)}if(Q[3]!=1e9){c.lX.push("M","L");c.Z.push(_,Q[3],_+N.$,Q[3])}H.un=!0};l.UP.ep=function(H,N,Q){var c=l.UP.oZ(H,[[N.x],[N.y]],Q);
return new E(N.x+c[0],N.y+c[1])};l.UP.tg=function(H,N,Q){var c=l.UP.oZ(H,[[N.x,N.x+(N.$>>>1),N.x+N.$],[N.y,N.y+(N.z>>>1),N.y+N.z]],Q);
return c};l.UP.oZ=function(H,N,Q){var c=[0,0,1e9,1e9];if(!Q.PB||!Q.kk)return c;for(var _=0;_<2;_++){var O=1e9,L=N[_],s=0;
for(var r=0;r<3;r++){var u=l.UP.ttn(H,L[r],_,Q);if(u!=1e9&&Math.abs(u-L[r])<Math.abs(O)){O=u-L[r];s=u}}if(O!=1e9){c[_]=O;
c[_+2]=s}}return c};l.UP.ttn=function(H,N,Q,c){var _=1e9,O=c.EY,L=c.sS;if(O[0]&&L.UL){var s=H.UL[Q];
for(var r=0;r<s.length;r++)if(Math.abs(s[r]-N)<Math.abs(_-N))_=s[r]}if(O[1]&&L.TN){var u=Math.round(N/L.Xa)*L.Xa;
if(Math.abs(u-N)<Math.abs(_-N))_=u}if(O[4]){var V=H.$,C=H.z,T=[0,0,V>>>1,C>>>1,V,C];for(var r=0;r<6;
r+=2)if(Math.abs(T[r+Q]-N)<Math.abs(_-N))_=T[r+Q]}return Math.abs(_-N)<=4*z.h()/H.n.s?_:1e9};l.QV=function(){l.MV.call(this,[10,12],l.tTs,"tools/mwand");
this.kS={uy:"front",jQ:0,$V:{Gh:!0,GS:10}}};l.QV.prototype=new l.MV;l.QV.prototype.Ub=function(H,N,Q,c){this.finish(H,N,Q,c)};
l.QV.prototype.getSelection=function(H,N,Q,c){return l.QV.ok(H,this.kt,this.kS.$V)};l.QV.ok=function(H,N,Q){if(H.g.length!=1){alert("More than one layer selected.");
return null}var c=H.b[H.g[0]];if(c.add.lsct!=null&&c.add.lsct!=tR.jZ){alert("No layer selected.");return null}if(N.x<0||N.x>H.$||N.y<0||N.y>H.z)return null;
var _=new p(0,0,H.$,H.z),O=_.$,L=_.z,s=O*L,r=$.I(s*4),u=c.G<=0?null:c.G==1?c.Ab():c.hy(H).d;if(u==null)$.Pg(c.buffer,c.rect,r,_);
else l.mh.gb(u.channel,u.rect,u.color,r,_);r=new Uint32Array(r.buffer);var V=Math.round(N.x-.5-_.x),C=Math.round(N.y-.5-_.y);
if(!_.Eo(N))V=C=0;var T=C*O+V,e=r[T],t=e&255,Y=e>>8&255,A=e>>16&255,G=e>>24&255,j=$.I(O*L),d=Q.GS,w=1/d;
if(Q.Gh){var f=$.I(j.length);f[T]=2;var b=[V,C];while(b.length>0){var F=b.pop(),n=b.pop(),J=F*O+n;f[J]=2;
var Z=l.QV.n$(r[J],t,Y,A,G);if(Z>d){j[J]=Math.round(255*(1-Math.max(0,Math.min(1,(Z-d)*w))));continue}j[J]=255;
if(n>0){if(F>0&&f[J-O-1]==0){b.push(n-1,F-1);f[J-O-1]=1}if(F<L-1&&f[J+O-1]==0){b.push(n-1,F+1);f[J+O-1]=1}if(f[J-1]==0){b.push(n-1,F);
f[J-1]=1}}if(n<O-1){if(F>0&&f[J-O+1]==0){b.push(n+1,F-1);f[J-O+1]=1}if(F<L-1&&f[J+O+1]==0){b.push(n+1,F+1);
f[J+O+1]=1}if(f[J+1]==0){b.push(n+1,F);f[J+1]=1}}if(F>0&&f[J-O]==0){b.push(n,F-1);f[J-O]=1}if(F<L-1&&f[J+O]==0){b.push(n,F+1);
f[J+O]=1}}}else{for(var J=0;J<s;J++){var Z=l.QV.n$(r[J],t,Y,A,G);if(Z>d)continue;else j[J]=255}if(d>0)for(var J=0;
J<s;J++){if(j[J]==255)continue;var n=J%O,F=Math.floor(J/O),Z=l.QV.n$(r[J],t,Y,A,G),P=255*(1-Math.max(0,Math.min(1,(Z-d)*w)));
if(n>0&&j[J-1]==255||n<O-1&&j[J+1]==255||F>0&&j[J-O]==255||F<L-1&&j[J+O]==255)j[J]=Math.round(P)}}var M=$.hV(j,_),y=$.I(M.$*M.z);
$.Jg(j,_,y,M);return{rect:M,channel:y}};l.QV.n$=function(H,N,Q,c,_){var O=H&255,L=H>>8&255,s=H>>16&255,r=H>>24&255;
if(_==0)return r<5?0:255;var u=Math.max(Math.abs(O-N),Math.max(Math.abs(L-Q),Math.abs(s-c)));return r==0?255:u};
l.nf=function(){l.mh.call(this,[10,26],l.hM,"tools/patch");this.XW=null;this.I_=null;this.M=null;this.Vn=null;
this.$y=new E;this.$P=null};l.nf.prototype=new l.mh;l.nf.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
if(H.t&&$.oc(O,H.t.channel,H.t.rect)){if(!H.FS())return;this.rD(H);this.Vn=O;this.$y=new E(O.x-H.t.rect.x,O.y-H.t.rect.y);
this.$P=$.I(H.t.rect.f()*4);$.set(this.$P,4294967295);if(this.kS.patch==1){var L=H.b[H.g[0]];L.jp(H,H.t,!0)}}else{this.I_={Z:[O.x,O.y],lX:["M"]};
this.XW=O}};l.nf.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);if(this.Vn){if(this.kS.patch==1){var L=H.b[H.g[0]].UM,s=O.x-this.$y.x,r=O.y-this.$y.y;
l.UP.tJ(H,H.g[0],Math.round(s-L.SB.x),Math.round(r-L.SB.y))}else this.Xt(H,O,"clone")}if(this.XW){this.I_.lX.push("L");
this.I_.Z.push(O.x,O.y);this.XW=O;H.S.rX=this.I_;H.un=!0}};l.nf.prototype.Nu=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
if(this.Vn){this.Xt(H,O,"heal");this.finish(H,H.t.rect);this.Vn=null}if(this.XW){var L=this.kS.setop,s=c.l(K.Yz),r=c.l(K.kz);
if(s)L="union";if(r)L="difference";if(s&&r)L="intersection";var u=new k(z.E.W,!0);u.c=l.sQ;if(this.I_.Z.length<=4)u.data={X:"deselect"};
else u.data={X:"polygon",$D:L,EA:this.I_,_F:[10,26]};N.N(u);this.XW=null;H.S.rX=null;H.un=!0}};l.nf.prototype.mo=function(){return this.M};
l.nf.prototype.sG=function(H,N,Q,c,_){l.mh.prototype.sG.call(this,H,N,Q,c,_);this.Hf(N,_,c)};l.nf.prototype.Hf=function(H,N,Q){var c="auto;";
if(Q!=null&&Q.l(K.Yz)&&!Q.l(K.kz)||this.kS.setop=="union")c="copy";var _=new k(z.E.Y,!0);_.data={X:z.m.gM,Ut:c};
if(H)H.N(_)};l.nf.prototype.Xt=function(H,N,Q){var c=new E(Math.round(this.Vn.x-N.x),Math.round(this.Vn.y-N.y));
if(this.kS.patch==1)c.kR(-c.x,-c.y);this.M=c;this.ps(H,Q,this.$P,H.t.rect,H.t.rect);this.r(H,H.t.rect)};
l.V$=function(){l.mh.call(this,[10,13],l.tPn,"tools/pbucket")};l.V$.prototype=new l.mh;l.V$.prototype.enable=function(H,N,Q,c){var _=new k(z.E.Y,!0);
_.data={X:z.m.gM,Ut:"default"};N.N(_)};l.V$.prototype.qB=function(H,N){};l.V$.prototype.Nu=function(H,N,Q,c,_){if(!H.FS())return;
var O=H.n.kp(_.x,_.y),L=l.QV.ok(H,O,this.kS.wconf);if(L==null)return;var s=$.I(L.rect.f()*4);$.Mw(s,(Q.AF&255)<<16|(Q.AF>>8&255)<<8|(Q.AF>>16&255)<<0);
$.kw(L.channel,s,3);this.rD(H);this.ps(H,"draw",s,L.rect,L.rect);this.r(H,L.rect);this.finish(H,L.rect)};
l.jn=function(){l.MV.call(this,[10,14],l.tTw,"tools/plasso");this.Sx="crosshair";this.cT=[];this.I_=null;
this.$d=0};l.jn.prototype=new l.MV;l.jn.prototype.disable=function(H,N,Q,c){this.VZ(H)};l.jn.prototype.nZ=function(H,N,Q,c){this.cT=[K.nC,K.ff]};
l.jn.prototype.jV=function(H){return this.cT.indexOf(H)!=-1};l.jn.prototype.fI=function(H,N,Q,c){if(this.I_==null)return;
var _=this.I_.Z.length-2;this.I_.Z[_]=this.kt.x;this.I_.Z[_+1]=this.kt.y;H.S.rX=this.I_;H.un=!0};l.jn.prototype.Ub=function(H,N,Q,c){var _=Date.now();
if(this.I_==null)this.I_={Z:[this.kt.x,this.kt.y,this.kt.x,this.kt.y],lX:["M","L"]};else{this.fI(H,N,Q,c);
this.I_.lX.push("L");this.I_.Z.push(this.kt.x,this.kt.y);H.S.rX=this.I_;if(_-this.$d<250||E.Ln(this.kt,new E(this.I_.Z[0],this.I_.Z[1]))<4/H.n.s){this.finish(H,N,Q,c);
this.VZ(H)}}this.$d=_;H.S.rX=this.I_};l.jn.prototype.VZ=function(H){this.I_=null;this.cT=[];if(H!=null){H.S.rX=null;
H.un=!0}};l.jn.prototype.FJ=function(H,N,Q,c){if(this.I_==null)return;if(c.l(K.nC)||c.l(K.ff)){this.I_.Z.pop();
this.I_.Z.pop();this.I_.lX.pop();this.fI(H,Q,c)}if(c.l(K.BV)){if(this.I_.Z.length>4)this.finish(H,Q,c);
this.I_=null}if(c.l(K._f)){this.I_=null}H.S.rX=this.I_;H.un=!0};l.jn.prototype.getSelection=function(H,N,Q,c){return this._A(this.I_)};
l.Ic=function(){l.MV.call(this,[10,10],l.tTK,"tools/mlasso");this.Sx="crosshair";this.cT=[];this.wR={eH:3};
this.L=[];this.dR=[];this.KX=[];this.dt=null;this.ux=null;this.MN=null;this.gC=0};l.Ic.prototype=new l.MV;
l.Ic.prototype.disable=function(H,N,Q,c){this.clear(H)};l.Ic.prototype.jV=function(H){return this.cT.indexOf(H)!=-1};
l.Ic.prototype.nZ=function(H,N,Q,c){this.cT=[K.nC];var _=this._w(this.uc,H);if(this.L.length!=0&&(E.Ln(_,this.L[0])<4*z.h()/H.n.s||Date.now()-this.gC<300)){this._H(H,this.L[0]);
this.finish(H,N,Q);this.clear(H);return}this.gC=Date.now();if(this.L.length!=0)_=this.nG(_,H,this.wR.eH);
else{var O=H.$,L=H.z,s=$.I(O*L),r=H.cn(),u=O*L*4;for(var V=0;V<u;V+=4)s[V>>>2]=$.qi(Math.round(.3*r[V]+.6*r[V+1]+.1*r[V+2])*r[V+3]);
this.dt=$.Px.twP(s,O,L);this.MN=new Uint16Array(s.length)}this._H(H,_);this.Uz(H)};l.Ic.prototype._H=function(H,N){var Q=this.L;
this.dR[Q.length]=this.KX.length;if(Q.length!=0){$.Px.qD(this.ux,N.y*H.$+N.x);var c=this.nd(H,N);c.reverse();
var _=this.Xo(H,c);this.KX=this.KX.concat(_)}Q.push(N);this.XJ(H)};l.Ic.prototype.XJ=function(H){var N=this.L[this.L.length-1],Q=N.y*H.$+N.x;
this.ux=$.Px.twx(this.dt.eo,this.dt.NK,Q);$.set(this.MN,0)};l.Ic.prototype._w=function(H,N){return new E(Math.floor(Math.max(0,Math.min(N.$-1,H.x))),Math.floor(Math.max(0,Math.min(N.z-1,H.y))))};
l.Ic.prototype.clear=function(H){this.KX=[];this.L=[];this.dR=[];this.dt=null;this.ux=null;this.MN=null;
if(H!=null){H.S.rX=null;H.S.Lg=[];H.un=!0}this.cT=[]};l.Ic.prototype.fI=function(H,N,Q,c){if(this.L.length==0)return;
var _=this.nG(this._w(this.kt,H),H,this.wR.eH),O=this.nd(H,_);for(var L=0;L<O.length;L++){var s=O[L],r=new E(s%H.$,Math.floor(s/H.$));
if(this.MN[s]>30&&E.Ln(r,this.L[this.L.length-1])>20){this._H(H,r);return}this.MN[s]++}this.Uz(H)};l.Ic.prototype.Uz=function(H){var N=this.nG(this._w(this.kt,H),H,this.wR.eH),Q=this.nd(H,N);
Q.reverse();var c=this.Xo(H,Q),_=this.KX.concat(c);H.S.rX=this.XC(_);H.S.Lg=[];for(var O=0;O<this.L.length;
O++)H.S.Lg.push(this.L[O].x+.5,this.L[O].y+.5);H.un=!0};l.Ic.prototype.Ub=function(H,N,Q,c){};l.Ic.prototype.FJ=function(H,N,Q,c){if(this.L.length==0)return;
if(c.l(K.nC)){this.L.pop();this.KX=this.KX.slice(0,this.dR[this.L.length]);this.dR.pop();if(this.L.length==0)this.clear(H);
else this.XJ(H);this.Uz(H)}if(c.l(K.BV)){var _=this._w(this.kt,H);this._H(H,_);this.finish(H,Q,c);this.clear(H)}if(c.l(K._f)){this.clear(H)}};
l.Ic.prototype.XC=function(H){var N={Z:H.slice(0),lX:["M"]};for(var Q=2;Q<H.length;Q+=2)N.lX.push("L");
return N};l.Ic.prototype.getSelection=function(H,N,Q,c){var _=this.XC(this.KX);return this._A(_)};l.Ic.prototype.nd=function(H,N){var Q=this.L[this.L.length-1],c=Q.y*H.$+Q.x,_=N.y*H.$+N.x,O=[_];
while(_!=c){_=this.ux.NL[_];O.push(_);if(O.length>5e3){console.log(O);throw"e"}}return O};l.Ic.prototype.Xo=function(H,N){var Q=[],c=H.$;
for(var _=0;_<N.length;_++){var O=N[_];Q.push(O%c+.5,Math.floor(O/c)+.5)}return Q};l.Ic.prototype.nG=function(H,N,Q){var c=N.$,_=N.z,O=H.clone();
$.Px.qD(this.ux,H.y*c+H.x);var L=this.ux.SL[H.y*c+H.x];for(var s=-Q+1;s<Q;s++)for(var r=-Q+1;r<Q;r++){var u=H.x+r,V=H.y+s;
if(u<0||u>=c||V<0||V>=_)continue;$.Px.qD(this.ux,V*c+u);if(this.ux.SL[V*c+u]<L)O.kR(u,V)}return O};l.nk=function(){l.MV.call(this,[10,15],l.sQ,"tools/rselect");
this.Sx="crosshair"};l.nk.prototype=new l.MV;l.nk.prototype.fI=function(H,N,Q,c){if(!c.Vv||!this.IY)return;
var _=this.AK(H,Q,!0),O=_.x,L=_.y,s=_.x+_.$,r=_.y+_.z;H.S.rX={Z:[O,L,s,L,s,r,O,r,O,L],lX:["M","L","L","L","L"]};
H.un=!0};l.nk.prototype.Ub=function(H,N,Q,c){H.S.rX=null;H.un=!0;this.finish(H,N,Q,c)};l.nk.prototype.getSelection=function(H,N,Q,c){if(this.uc.v$(this.kt)||!this.IY)return null;
var _=this.AK(H,Q,!0);if(_.km())return null;var O=$.I(_.f());$.set(O,255);return{channel:O,rect:_}};
l.nk.prototype.Ly=function(H,N,Q,c,_){var O=H.X,L,s;if(O=="setsel"){s=H.t;L=new Jj(H._F,this)}if(O=="all"){s={channel:$.I(Q.$*Q.z),rect:new p(0,0,Q.$,Q.z)};
$.set(s.channel,255);L=new Jj([7,0],this)}if(O=="polygon"){s=this._A(H.EA);if(Q.t&&H.$D!=null){s=$.lO.Zh(s,Q.t,H.$D)}L=new Jj(H._F,this)}if(O=="deselect"){if(Q.t==null)return;
s=null;L=new Jj([7,1],this)}if(O=="fromlayer"){var r=Q.b[H.i];if(H.tVy==0){if(r.rect.km())return;var u=$.I(r.buffer.length>>2);
$.rY(r.buffer,u,3);s={channel:u,rect:r.rect.clone()}}else{var V=r.Ab(),u,C;if(V.NG()==0){C=V.AK();if(C.f()==0)return;
u=V.Lu()}else{C=new p(0,0,Q.$,Q.z);u=$.I(C.f());V.Qd(C,u)}s={channel:u,rect:C}}if(H.tVC&&Q.t)s=$.lO.Zh(Q.t,s,"union");
L=new Jj("Selection from layer",this)}if(O=="inverse"){if(Q.t==null){alert("No selection!");return}s={channel:$.I(Q.$*Q.z),rect:new p(0,0,Q.$,Q.z)};
$.Jg(Q.t.channel,Q.t.rect,s.channel,s.rect);$.UK(s.channel);L=new Jj([7,2],this)}if(O=="expand"){var T=Q.t.rect.clone();
T.FA(H.R,H.R);s={channel:$.I(T.f()),rect:T};var e=$.I(s.channel.length);$.Jg(Q.t.channel,Q.t.rect,e,s.rect);
$.style.stroke(e,s.channel,s.rect,H.R);L=new Jj([7,4],this)}if(O=="contract"){var t=Q.t.rect.clone();
t.FA(1,1);var e=$.I(t.f()),Y=$.I(e.length);$.Jg(Q.t.channel,Q.t.rect,e,t);$.UK(e);$.style.stroke(e,Y,t,H.R);
$.UK(Y);s={channel:null,rect:Q.t.rect.clone()};s.rect.FA(-H.R,-H.R);s.channel=$.I(s.rect.f());$.Jg(Y,t,s.channel,s.rect);
var L=new Jj([7,5],this)}if(O=="feather"){var A=Math.ceil(2.6*H.R);s={channel:null,rect:Q.t.rect.clone()};
s.rect.FA(A,A);s.channel=$.I(s.rect.f());var e=$.I(s.channel.length);$.Jg(Q.t.channel,Q.t.rect,e,s.rect);
$.blur.ur(e,s.channel,s.rect,H.R);var L=new Jj([7,6],this)}if(O=="border"){s=l.nk.Xj(Q.t,H.R/2,H.R/2);
L=new Jj([7,9],this)}if(s!=null&&$.Wt(s.channel,0)){s=null;L.name=[7,1]}if(s)$.hJ(s);L.data={X:"changesel",Ud:Q.t,_k:s};
Q.Af(L);this.wD(L.data,Q)};l.nk.Xj=function(H,N,Q){var c=Math.max(1,Math.ceil(Q)),_=H.rect.clone();_.FA(c,c);
var O=_.f(),L={channel:$.I(O),rect:_},s=$.I(O);$.Jg(H.channel,H.rect,s,L.rect);if(Q!=0)$.style.stroke(s,L.channel,L.rect,Q);
else $.sa(s,L.channel);var r=$.I(O);$.UK(s);if(N!=0)$.style.stroke(s,r,L.rect,N);else $.sa(s,r);$.lO.sj(L.channel,r,L.channel);
return L};l.Qz=function(){l.NY.call(this,[10,36],l.tTu,"tools/ruler");this.x_=null;this.up=null;this.$x=null;
this.$i=null};l.Qz.prototype=new l.NY;l.Qz.prototype.mW=function(H){return H.Vv};l.Qz.prototype.disable=function(H,N,Q,c){this.x_=this.up=null;
if(H)this.qK(H)};l.Qz.prototype.cL=function(H,N,Q,c,_){var O=H.n.s/z.h(),L=H.n.kp(_.x,_.y);L.x=Math.round(L.x);
L.y=Math.round(L.y);var s=this.x_;if(s&&E.Ln(L,s[0])*O<6)this.up=[0];else if(s&&E.Ln(L,s[1])*O<6)this.up=[1];
else if(s&&l.Qz.t$p(s[0],s[1],L)*O<6&&Math.min(s[0].x,s[1].x)-5<=L.x&&L.x<=Math.max(s[0].x,s[1].x)+5&&Math.min(s[0].y,s[1].y)-5<=L.y&&L.y<=Math.max(s[0].y,s[1].y)+5){this.up=[0,1];
this.$i=[s[0].clone(),s[1].clone()];this.$x=L}else{this.x_=[L.clone(),L.clone()];this.up=[1]}};l.Qz.prototype.XY=function(H,N,Q,c,_){if(this.up==null)return;
var O=this.x_,L=this.up,s=H.n.kp(_.x,_.y);s.x=Math.round(s.x);s.y=Math.round(s.y);if(L.length==2){var r=s.x-this.$x.x,u=s.y-this.$x.y;
O[0]=this.$i[0].clone();O[0].offset(r,u);O[1]=this.$i[1].clone();O[1].offset(r,u)}else{O[L[0]].kR(s.x,s.y);
if(c.l(K.Yz)){O[L[0]]=l.Aa.Ol(O[1-L[0]],O[L[0]])}}this.qK(H);this.Mf(N,z.E.Y,{X:z.m.nv,c:this.id,tVP:O[0],tVG:O[1]})};
l.Qz.prototype.Nu=function(H,N,Q,c,_){this.up=null};l.Qz.prototype.Mf=function(H,N,Q){var c=new k(N,!0);
c.data=Q;H.N(c)};l.Qz.prototype.qK=function(H){var N=this.x_;if(N==null){H.S.rX=null;H.S.Lg=[]}else{var Q=[N[0].x,N[0].y,N[1].x,N[1].y];
H.S.rX={lX:["M","L"],Z:Q};H.S.Lg=Q}H.un=!0};l.Qz.t$p=function(H,N,Q){var c=N.x-H.x,_=N.y-H.y,O=Math.abs(_*Q.x-c*Q.y+N.x*H.y-N.y*H.x),L=Math.sqrt(c*c+_*_);
return O/L};l._p=function(){l.mh.call(this,[10,19],l._h,"tools/sharpen");this.Ua="copy"};l._p.prototype=new l.mh;
l._p.prototype.cL=function(H,N,Q,c,_){var O=this.kS.pdetail?Jf.IR:Jf._h;if(c.l(K.kz))O=Jf._x;this.Pa(H,Q,c,_,this.kS.strn,O);
if(this.Uu==null)return;this.ue(H)};l._p.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.rk=function(){l.mh.call(this,[10,24],l.Fj,"tools/shbrush");
this.Ua="draw";this.kS.opacity=.5};l.rk.prototype=new l.mh;l.rk.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,1);
if(this.Uu==null)return;this.ue(H)};l.rk.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.rk.prototype.Nu=function(H,N,Q,c,_){if(this.Uu==null)return;
this.ps(H,"sheal2",this.Uu.GE(),this.Uu.AK(),this.Uu.AK(),null);this.r(H,this.Uu.AK());l.mh.prototype.Nu.call(this,H,N,Q,c,_)};
l.rk.prototype.Ly=function(H,N,Q,c,_){if(H.X&&H.X.slice(0,4)=="heal"){if(Q.t==null){alert("Select an area to heal first.");
return}if(!Q.FS())return;this.rD(Q);var O=Q.t,L=$.I(O.rect.f()*4);$.kw(O.channel,L,3);this.ps(Q,"s"+H.X,L,O.rect,O.rect);
this.r(Q,O.rect);this.finish(Q,O.rect)}else l.mh.prototype.Ly.call(this,H,N,Q,c,_)};l._i=function(){l.mh.call(this,[10,20],l.MY,"tools/smudge");
this.Ua="copy"};l._i.prototype=new l.mh;l._i.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,this.kS.strn,Jf.MY);
if(this.Uu==null)return;this.ue(H)};l._i.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l._j=function(){l.mh.call(this,[10,23],l.hp,"tools/sponge");
this.Ua="sponge"};l._j.prototype=new l.mh;l._j.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,this.kS.flow);
if(this.Uu==null)return;this.ue(H)};l._j.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;this.xR(H,N,Q);
if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};l.He=function(){l.NY.call(this,[10,17],l.ML,"tools/zoom");
this.UK=!1;this.FL=!0;this.hC=null;this.$o=0;this.yo=null};l.He.prototype=new l.NY;l.He.prototype.enable=function(H,N,Q,c){this.nQ(N)};
l.He.prototype.cL=function(H,N,Q,c,_){this.hC=new E(_.x,_.y);this.$o=H.n.s;this.yo=H.n.M.clone()};l.He.prototype.XY=function(H,N,Q,c,_){if(this.hC==null)return;
var O=Math.round((_.x-this.hC.x)/16);if(O==0)return;var L=l.He.X_(this.$o),s=l.He.Vk[Math.max(0,Math.min(l.He.Vk.length-1,L-O))];
H.n.s=this.$o;H.n.M=this.yo.clone();this.Ly({X:"zoom",s:s,qR:this.hC},N,H,c,Q)};l.He.prototype.Nu=function(H,N,Q,c,_){if(E.Ln(this.hC,_)<4){var O=this.FL;
if(this.UK)O=!O;this.Ly({X:"zoom",FL:O,qR:_},N,H,c,Q)}this.hC=null};l.He.Vk=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
l.He.Xz=function(H,N,Q,c){var _=1;while(H*_*1/2>Q||N*_*1/2>c)_*=1/2;if(H*_*2/3>Q||N*_*2/3>c)_*=1/2;else if(H*_>Q||N*_>c)_*=2/3;
return _};l.He.tJX=function(H,N){var Q=l.He.X_(H);if(N&&Q==0)return H;if(!N&&Q==l.He.Vk.length-1)return H;
return l.He.Vk[N?Q-1:Q+1]};l.He.X_=function(H){var N=0;while(l.He.Vk[N]>H)N++;return N};l.He.Qr=function(H,N,Q,c){var _=H.Ti;
if(c==0||c==null){c=l.He.tJX(H.s,Q);if(c==H.s)return}var O=H.kp(N.x,N.y);if(_.$*c<=H.C.$&&_.z*c<=H.C.z)H.M.kR(0,0);
else{H.M.x=Math.round(_.$*c/2-O.x*c+(N.x-H.C.$/2));H.M.y=Math.round(_.z*c/2-O.y*c+(N.y-H.C.z/2))}H.s=c};
l.He.prototype.Ly=function(H,N,Q,c,_){var O=0,L=!1,s=null;if(H.X=="adapt"){var r=0;if(H.R=="pixel")r=1;
if(H.R=="fitscr"){var r=0,u=Q.n.C.$,V=Q.n.C.z;if(Q.$<=u&&Q.z<=V){var C=1;while(Q.$*(C+1)<=u&&Q.z*(C+1)<=V)C++;
r=C}else{r=l.He.Xz(Q.$,Q.z,u,V)}}s=new E(Math.round(Q.n.C.$/2),Math.round(Q.n.C.z/2));O=r}if(H.X=="scroll"){s=H.qR;
L=H.or.y<0}if(H.X=="zoom"){s=H.qR?H.qR:new E(Math.round(Q.n.C.$/2),Math.round(Q.n.C.z/2));if(H.s!=null)O=H.s;
else L=H.FL}if(H.X=="mskView"&&Q.n.uQ!=H.R){Q.n.uQ=H.R;Q.un=!0}if(s==null)return;l.He.Qr(Q.n,s,L,O);
Q.kJ=!0};l.He.prototype.FJ=function(H,N,Q,c){if(this.UK!=c.l(K.kz)){this.UK=c.l(K.kz);var _={X:z.m.nv,c:this.id,UK:this.UK},O=new k(z.E.Y,!0);
O.data=_;N.N(O);this.nQ(N)}};l.He.prototype.nQ=function(H){var N=new k(z.E.Y,!0),Q=this.FL;if(this.UK)Q=!Q;
N.data={X:z.m.gM,Ut:Q?"zoom-in":"zoom-out"};H.N(N)};l.He.prototype.sG=function(H,N,Q,c){if(H.action){var _={X:"adapt",R:H.action};
this.Ly(_,N,Q,c,null)}else{this.FL=H.FL;this.nQ(N)}};l.HC=function(H,N,Q){l.NY.call(this,H,N,Q);this.Al=null;
this.E$=null;this.$Y=0};l.HC.prototype=new l.NY;l.HC.prototype.xz=function(H,N,Q,c){if(H.g.length==0)return;
var _=H.b[H.g[0]],O=_.add.vmsk,L=_.add.vstk,s=l.HC.Qw(H,H.g[0]);this.Al=H;this.E$=N;if(_.TT()&&O!=null&&(JSON.stringify(L)!=JSON.stringify(Q.ga)||JSON.stringify(s)!=JSON.stringify(Q.gq))){this.$Y=Date.now();
var r=new k(z.E.Y,!0);r.data={X:z.m.u_,gg:JG.IZ,R:s};N.N(r);r.data={X:z.m.u_,gg:JG.JL,R:L};N.N(r)}};
l.HC.prototype.qB=function(H,N){if(this.Al==null)return;if(N==JG.hP||N==JG.IZ||N==JG.JL){if(Date.now()-this.$Y<50)return;
var Q=N==JG.IZ,c=this.Al,_=Q?H.gq:H.ga,O=[];for(var L=0;L<c.g.length;L++){var s=c.g[L],r=c.b[s];if(!r.TT()||r.add.vmsk==null)continue;
O.push(s)}var u=new k(z.E.W,!0);u.c=l.uh;u.data={X:R.wL,kV:O,ra:Q,R:_};if(O.length!=0)this.E$.N(u)}};
l.HC.prototype.Ly=function(H,N,Q,c,_){var O=Q.b[Q.g[0]],L=O.add.vmsk,s=O.add.vogk,r=L.clone(),u=L.clone(),V=JSON.stringify(s);
if(H.X=="remove"){if(u.g.length==0)return;var C=0;for(var T=0;T<u.g.length;T++){s.splice(u.g[T]+C,1);
C--}u.L=$.A.trl(u.L,u.g);u.g=[];u.Pv=[]}if(H.X=="append"){var e=$.A.qh(u.L),t=$.A.qh(H.J_);u.L=u.L.concat(H.J_.slice(2));
u.g=[];for(var T=0;T<t;T++)u.g.push(e+T);for(var T=0;T<t;T++)s.push(JSON.parse(JSON.stringify(H.ar[T])))}this.aJ(Q,O,u,s);
this._M(Q,H._F,Q.g[0],r,u.clone(),null,V,JSON.stringify(s))};l.HC.prototype.jV=function(H){return[K.nC].indexOf(H)!=-1};
l.HC.prototype.FJ=function(H,N,Q,c){if(H==null)return;var _=H.b[H.g[0]],O=_?_.add.vmsk:null;if(O==null)return;
if(c.l(K._f)||c.l(K.BV)){O.Pv=[];H.un=!0}if(O.g.length!=0){var L=c.Ik();if(L.x!=0||L.y!=0){var s=O.clone(),r=O.clone(),u=new Jo(1,0,0,1,L.x,L.y),V=_.add.vogk,C=JSON.stringify(V);
$.A.Nj(r.L,u,r.g);$.FU.UC(V,$.F.Wq(u),r.g);this.aJ(H,_,r,V);this._M(H,"Move Paths",H.g[0],s,r.clone(),!0,C,JSON.stringify(V))}if(c.l(K.nC))this.Ly({X:"remove",_F:"Delete Paths"},N,H,c,Q)}};
l.HC.prototype._M=function(H,N,Q,c,_,O,L,s){var r=new Jj(N,this);r.data={DJ:Q,$Q:c,AN:_,rQ:O,rO:L,ar:s};
H.Af(r)};l.HC.prototype.wD=function(H,N){this.aJ(N,N.b[H.DJ],H.AN.clone(),JSON.parse(H.ar))};l.HC.prototype.mK=function(H,N){this.aJ(N,N.b[H.DJ],H.$Q.clone(),JSON.parse(H.rO))};
l.HC.prototype.aJ=function(H,N,Q,c){N.add.vmsk=Q;N.add.vogk=c;Q.rb=!0;N.Sa(H);H.r()};l.HC.Qw=function(H,N){var Q=H.b[N],c=Q.add.vstk,_=null;
if(c&&!c.fillEnabled.v)_={uV:0};else if(Q.add.SoCo)_={uV:1,uL:Q.add.SoCo};else if(Q.add.GdFl)_={uV:2,uL:Q.add.GdFl};
else if(Q.add.PtFl)_={uV:3,uL:Q.add.PtFl};return _};l.HC.nj=function(H,N){var Q=H.add.vmsk,c=H.add.vstk,_=N.uV;
if(c)c.fillEnabled.v=_!=0;if(_>0){var O=["SoCo","GdFl","PtFl"][_-1];for(var L=0;L<3;L++)delete H.add[["SoCo","GdFl","PtFl"][L]];
H.add[O]=N.uL}};l.rG=function(H,N,Q,c){l.HC.call(this,H,N,Q);this.kS={tmode:1,shape:null,pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{yC:0}};
this.tVS=c;this.QS=null;this.$O=null;this.dV=null};l.rG.prototype=new l.HC;l.rG.prototype.mW=function(H){return H.Vv&&this.id!=l.hX};
l.rG.prototype.enable=function(H,N,Q,c,_){var O=new k(z.E.Y,!0);O.data={X:z.m.gM,Ut:"crosshair"};N.N(O)};
l.rG.prototype.Ne=function(H,N,Q,c){};l.rG.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);O=l.UP.ep(H,O,Q);
var L=this.kS.tmode,s=H.b[H.g[0]],r=s?s.add.vmsk:null;if(L==0&&r==null){alert("Paths can be added to existing shapes only.");
return}if(L==2&&!H.FS())return;if(L==1){var u=new k(z.E.W,!0);u.c=l.uh;u.data={X:R.fL,pZ:1};N.N(u);s=H.b[H.g[0]];
r=s.add.vmsk}this.dV=[O.x,O.y];this.QS=O;this.$O=new E(0,0)};l.rG.prototype.Qy=function(H,N,Q){var c=[this.QS.clone(),N.clone()];
c[0].x=Math.floor(c[0].x);c[0].y=Math.floor(c[0].y);c[1].x=Math.ceil(c[1].x);c[1].y=Math.ceil(c[1].y);
if(this.tVS)c=l.rG.QL(c[0],c[1],Q,!1,this.kS.cstr);H.n._E=new p(c[0].x,c[0].y,c[1].x-c[0].x,c[1].y-c[0].y);
return this.Ne(c[0],c[1],Q.l(K.Yz),this.dV)};l.rG.prototype.Qc=function(H,N,Q){var c=H.n.kp(N.x,N.y),_=this.kS.cstr;
if(_.yC==2){var O=new p(c.x-_.x,c.y-_.y,_.x,_.y),L=l.UP.tg(H,O,Q);c.x+=L[0];c.y+=L[1];l.UP.tG(H,O,L)}else c=l.UP.ep(H,c,Q);
return c};l.rG.prototype.XY=function(H,N,Q,c,_){if(this.QS==null)return;var O=this.Qc(H,_,Q);if(c.l(K.JW))this.QS=O.Tr(this.$O);
else this.$O=O.Tr(this.QS);this.dV.push(O.x,O.y);if(this.kS.shape==null)this.kS.shape=Q.aI[0];var L=this.Qy(H,O,c)[0],s=$.K.Cp(L);
H.S.rX=s;H.un=!0};l.rG.prototype.Nu=function(H,N,Q,c,_){if(this.QS==null)return;var O=this.Qc(H,_,Q),L=this.kS.binop,s=this.kS.tmode;
if(this.dV.length!=2){var r=this.Qy(H,O,c),u=r[0];if(s==0)u[2].AY=[1,2,3,0][L];if(s!=2){var V=H.b[H.g[0]],C=V.add.vmsk,T=V.add.vogk,e=C.clone(),t=C.clone(),Y=JSON.stringify(T);
t.L=t.L.concat(u.slice(2));t.g=[$.A.qh(t.L)-1];T.push(r[1]);this.aJ(H,V,t,T);if(s==0)this._M(H,this.name,H.g[0],e,t,null,Y,JSON.stringify(T))}else{var t=new R.hT;
t.L=t.L.concat(u.slice(2));var A=t.Ab(),G=$.I(A.rect.f()*4);$.Mw(G,(Q.AF&255)<<16|(Q.AF>>8&255)<<8|(Q.AF>>16&255)<<0);
$.kw(A.channel,G,3);var j=new k(z.E.W,!0);j.c=l.Tz;j.data={X:"draw",txf:G,txl:A.rect,_F:this.name};N.N(j)}}this.QS=null;
H.S.rX=null;H.S.iG=null;H.n._E=null;H.un=!0};l.rG.prototype.sG=function(H,N,Q,c,_){for(var Q in H)this.kS[Q]=H[Q]};
l.rG.QL=function(H,N,Q,c,_){var O=H.x,L=H.y,s=N.x,r=N.y;if(_&&_.yC==2){O=s-_.x;L=r-_.y}else{var u=0;
if(_&&_.yC==1)u=_.y/_.x;else if(Q&&Q.l(K.Yz))u=1;if(u!=0){var V=Math.abs(s-O),C=Math.abs(r-L),T=V;if(C/V<u)T*=C/V/u;
s=s>O?O+T:O-T;r=r>L?L+T*u:L-T*u}if(Q&&Q.l(K.kz)){O-=s-O;L-=r-L}}if(c){if(O>s){var e=O;O=s;s=e}if(L>r){var e=L;
L=r;r=e}O=Math.floor(O);L=Math.floor(L);s=Math.ceil(s);r=Math.ceil(r)}return[new E(O,L),new E(s,r)]};
l.au=function(){l.HC.call(this,[10,29],l.tPB,"tools/pen");this.we=null;this.bp=null;this.$n=1;this.rn=0};
l.au.prototype=new l.HC;l.au.prototype.mW=function(H){return this.we!=null};l.au.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),V,C;
O.x=Math.round(O.x);O.y=Math.round(O.y);var L=l.UP.ep(H,O,Q),s=H.b[H.g[0]],r=s?s.add.vmsk:null;if(this.$n==0&&r==null){alert("Paths can be added to existing shapes only.");
return}var u=4*z.h()/H.n.s;if(r)V=$.A.oc(r.L,O,!0,u);if(this.$n==1&&(r==null||(r.Pv.length==0||r.Pv[0]!=r.L.length-1)&&V.U_==-1)){var T=new k(z.E.W,!0);
T.c=l.uh;T.data={X:R.fL,pZ:1};N.N(T);s=H.b[H.g[0]];r=s.add.vmsk}var e=s.add.vogk;this.we=r.clone();this.bp=JSON.stringify(e);
var t=r.L,Y=$.A.qh(t);C=$.A.ot(r.L,new p(O.x-u,O.y-u,u*2,u*2));V=$.A.oc(r.L,O,!0,u);if(V.U_!=-1&&C[0].length==0){var A=$.A.T_(t,V.U_);
t[A].length++;t.splice(A+2+V.mX,0,{type:4,kM:L.clone(),P:L.clone(),kq:L.clone()});r.Pv=[A+2+V.mX]}else{var G=0;
if(r.Pv.length!=1){r.g=[Y];t.push({type:3,length:1,AY:[1,2,3,0][this.rn],Fz:0,ev:0,Nb:0});G=t.length;
e.push($.FU.kh())}else{var j=r.Pv[0],d=$.A.TY(t,j),A=$.A.T_(t,d);if(j==A+t[A].length&&E.Ln(O,t[A+1].P)<u){t[A].type=0;
r.Pv=[];this.aJ(H,s,r,e);H.un=!0;this._M(H,"Close the Path",H.g[0],this.we,r.clone(),null,this.bp,JSON.stringify(e));
this.we=null;this.bp=null;return}t[A].length++;G=j+1}t.splice(G,0,{type:4,kM:L.clone(),P:L.clone(),kq:L.clone()});
r.Pv=[G]}this.aJ(H,s,r,e);H.un=!0};l.au.prototype.XY=function(H,N,Q,c,_){if(this.we==null)return;var O=H.n.kp(_.x,_.y),L=l.UP.ep(H,O,Q),s=H.b[H.g[0]],r=s.add.vmsk,u=r.L,V=u[r.Pv[0]];
V.kq=L;V.kM=V.P.add(V.P.Tr(V.kq));this.aJ(H,s,r,s.add.vogk);H.un=!0};l.au.prototype.Nu=function(H,N,Q,c,_){if(this.we==null)return;
var O=H.b[H.g[0]],L=O.add.vmsk,s=O.add.vogk;this._M(H,"Add Anchor Point",H.g[0],this.we,L.clone(),null,this.bp,JSON.stringify(s));
this.we=null};l.au.prototype.sG=function(H,N,Q,c,_){this.$n=H.tmode;this.rn=H.binop};l.nA=function(){l.rG.call(this,[10,30],l.hX,"tools/fpen",!1)};
l.nA.prototype=new l.rG;l.nA.prototype.Ne=function(H,N,Q,c){return[$.A.tIO(c,this.kS.tolr),$.FU.kh()]};
l.oh=function(){l.HC.call(this,[10,27],l.Oc,"tools/pselect");this.D_=null;this.ac=!1;this.we=null;this.bp=null;
this.Ew=null};l.oh.prototype=new l.HC;l.oh.prototype.mW=function(H){return H.Vv};l.oh.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),L=H.root.jR(O);
if(L!=null){var s=L.tVv.i,r=H.b.indexOf(s),u=s.add.vmsk;u.Pv=[];var V=u.g.indexOf(L.$l);s.uv=!0;if(r!=H.g[0]){H.g=[r];
H.Ku();H.EV=!0}else if(c.l(K.Yz)){if(V==-1){u.g.push(L.$l);this.ac=!0}else u.g.splice(V,1)}else{if(V==-1)u.g=[L.$l];
this.ac=!0}this.Ew=$.A.gw(u.L,u.g)}this.D_=O;H.qf=!0;H.un=!0};l.oh.prototype.XY=function(H,N,Q,c,_){if(this.D_==null)return;
var O=H.n.kp(_.x,_.y);if(this.ac){var L=H.b[H.g[0]];if(this.we==null){this.we=L.add.vmsk.clone();this.bp=JSON.stringify(L.add.vogk)}var s=this.Ew.clone(),r=s.x,u=s.y;
s.offset(O.x-this.D_.x,O.y-this.D_.y);s.x=Math.round(s.x);s.y=Math.round(s.y);var V=l.UP.tg(H,s,Q),C=this.we.clone(),T=new Jo(1,0,0,1,s.x-r+V[0],s.y-u+V[1]),e=JSON.parse(this.bp);
$.A.Nj(C.L,T,C.g);$.FU.UC(e,$.F.Wq(T),C.g);this.aJ(H,L,C,e);l.UP.tG(H,s,V)}else{var t=this.D_;H.S.rX=$.K.DK(new p(t.x,t.y,O.x-t.x,O.y-t.y));
H.un=!0}};l.oh.prototype.Nu=function(H,N,Q,c,_){if(this.D_==null)return;var O=H.n.kp(_.x,_.y),L=H.b[H.g[0]],s=L?L.add.vmsk:null;
if(this.ac){var r=JSON.stringify(L.add.vogk);if(!this.D_.v$(O))this._M(H,"Move Paths",H.g[0],this.we,s,null,this.bp,r);
if(H!=null&&H.S.iG){H.S.iG=null;H.un=!0}}else{if(s){var u=this.D_,V=new p(u.x,u.y,O.x-u.x,O.y-u.y),C=$.A.tJV(s.L,V);
if(c.l(K.Yz)){for(var T=0;T<C.length;T++)if(s.g.indexOf(C[T])==-1)s.g.push(C[T])}else s.g=C}H.S.rX=null;
H.un=!0}this.D_=null;this.we=null;this.ac=!1};l.oh.prototype.xz=function(H,N,Q,c){l.HC.prototype.xz.call(this,H,N,Q,c);
if(H.g.length==0)return;var _=H.b[H.g[0]],O=_.add.vmsk,L=_.add.vstk,s=_.add.vogk,r=new k(z.E.Y,!0);r.data={X:z.m.nv,c:this.id,Lc:"main",HQ:O?O:null,FU:s};
N.N(r)};l.oh.prototype.sG=function(H,N,Q,c,_){var O=H.oN,L=Q.g[0];if(O.HQ){var s=Q.b[L],r=s.add.vmsk.clone(),u=JSON.stringify(s.add.vogk);
this.aJ(Q,s,O.HQ,O.FU);this._M(Q,r.g[0]==O.HQ.g[0]?"Fill Rule":"Path Order",L,r,O.HQ,null,u,JSON.stringify(O.FU))}};
l.BO=function(){l.HC.call(this,[10,28],l.tdd,"tools/dselect");this.uj=-1;this.Qj=-1;this.rl=null;this.D_=null;
this.we=null;this.bp=null;this.gC=0};l.BO.prototype=new l.HC;l.BO.prototype.mW=function(H){return H.Vv};
l.BO.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);this.rl=O.clone();var L=H.b[H.g[0]],s=L?L.add.vmsk:null;
if(s==null)return;var r=4*z.h()/H.n.s,u=$.A.ot(s.L,new p(O.x-r,O.y-r,r*2,r*2));if(u[0].length!=0){var V=this.uj=u[0][0];
this.Qj=0;var C=s.Pv.indexOf(V);this.D_=s.L[V].P.clone();if(c.l(K.Yz)){if(C==-1)s.Pv.push(V);else s.Pv.splice(C,1)}else if(C==-1)s.Pv=[V]}else if(u[1].length!=0){this.uj=u[1][0];
this.Qj=1;this.D_=O}else if(u[2].length!=0){this.uj=u[2][0];this.Qj=2;this.D_=O}else{var T=$.A.oc(s.L,O,!0,r);
if(T.U_==-1)this.D_=O;else{s.g=[T.U_];s.Pv=[]}}if(this.we==null){this.we=L.add.vmsk.clone();this.bp=JSON.stringify(L.add.vogk)}H.un=!0};
l.BO.prototype.XY=function(H,N,Q,c,_){if(H==null||H.g.length==0)return;var O=H.n.kp(_.x,_.y);O.x=Math.round(O.x);
O.y=Math.round(O.y);O=l.UP.ep(H,O,Q);var L=H.b[H.g[0]],s=L.add.vmsk,r=L.add.vogk;if(this.uj!=-1){var L=H.b[H.g[0]],s=this.we.clone(),u=new Jo(1,0,0,1,O.x-this.D_.x,O.y-this.D_.y),r=L.add.vogk;
if(this.Qj==0)$.A.Nj(s.L,u,null,s.Pv);else{var V=s.L[this.uj],C=V.kM,T=V.kq;if(this.Qj==2){C=V.kq;T=V.kM}C.kR(O.x,O.y);
if(V.type==1||V.type==4){var e=E.Ln(C,V.P),t=E.Ln(T,V.P);if(t!=0){T.x=V.P.x-(C.x-V.P.x)*(t/e);T.y=V.P.y-(C.y-V.P.y)*(t/e)}}}this.nN(s,r);
this.aJ(H,L,s,r)}else if(this.D_!=null){var Y=this.D_;H.S.rX=$.K.DK(new p(Y.x,Y.y,O.x-Y.x,O.y-Y.y));
H.un=!0}};l.BO.prototype.Nu=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),L=H.b[H.g[0]],s=L?L.add.vmsk:null,r=L?L.add.vogk:null;
if(this.uj!=-1){if(Date.now()-this.gC<300){var u=s.L[this.uj],V=this.Qj,C=null;if(V==0){var T=u.kM.v$(u.P),e=u.kq.v$(u.P);
if(!T&&!e){C="Anchor Type";if(u.type==1||u.type==4)u.type++;else{u.type--;u.kq=u.P.add(u.P.Tr(u.kM))}}else{C="Add Handles";
if(T&&e){u.kM.x-=30;u.kq.x+=30}else if(T)u.kM=u.P.add(u.P.Tr(u.kq));else if(e)u.kq=u.P.add(u.P.Tr(u.kM))}}else{C="Remove Handle";
if(V==1)u.kM.py(u.P);else u.kq.py(u.P)}this.nN(s,r);this.aJ(H,L,s,r);this._M(H,C,H.g[0],this.we,s,null,this.bp,JSON.stringify(r))}else if(!this.rl.v$(O)){this._M(H,"Drag Anchors",H.g[0],this.we,s,null,this.bp,JSON.stringify(r))}this.gC=Date.now()}else if(this.D_!=null){var t=this.D_,Y=new p(t.x,t.y,O.x-t.x,O.y-t.y);
if(Y.$<0)Y.x+=Y.$;if(Y.z<0)Y.y+=Y.z;Y.$=Math.abs(Y.$);Y.z=Math.abs(Y.z);var A=$.A.ot(s.L,Y);s.Pv=A[0];
H.S.rX=null}this.we=null;this.D_=null;this.uj=this.Qj=-1;H.un=!0};l.BO.prototype.nN=function(H,N){for(var Q=0;
Q<H.Pv.length;Q++){var c=$.A.TY(H.L,H.Pv[Q]);$.FU.zs(N,c)}};l.BO.prototype.jV=function(H){return[K.nC].indexOf(H)!=-1};
l.BO.prototype.FJ=function(H,N,Q,c){if(H==null||H.g.length==0)return;var _=H.b[H.g[0]],O=_.add.vmsk;
if(O==null||O.Pv.length==0)return;var L=_.add.vogk,s=JSON.stringify(L),r=c.Ik();if(r.x!=0||r.y!=0){var u=O.clone(),V=O.clone(),C=new Jo(1,0,0,1,r.x,r.y);
$.A.Nj(V.L,C,null,V.Pv);this.nN(V,L);this.aJ(H,_,V,L);this._M(H,"Move Anchors",H.g[0],u,V.clone(),!0,s,JSON.stringify(L))}if(c.l(K.nC)){var u=O.clone(),V=O.clone();
V.L=$.A.tJl(V.L,V.Pv,L);V.Pv=[];this.aJ(H,_,V,L);this._M(H,"Delete Anchors",H.g[0],u,V.clone(),!0,s,JSON.stringify(L))}};
l.BO.prototype._M=function(H,N,Q,c,_,O,L,s){var r=H.lk();if(O&&r!=null&&r.c==this&&r.data.rQ&&r.data.DJ==Q&&JSON.stringify(r.data.$Q.Pv)==JSON.stringify(c.Pv)){r.data.AN=_;
r.data.ar=s}else{var r=new Jj(N,this);r.data={DJ:Q,$Q:c,AN:_,rQ:O,rO:L,ar:s};H.Af(r)}};l.Rect=function(){l.rG.call(this,[10,32],l.tdU,"tools/rect",!0)};
l.Rect.prototype=new l.rG;l.Rect.prototype.Ne=function(H,N,Q){var c=this.kS.crad,_=N.x-H.x,O=N.y-H.y;
return[$.A.FH.Rect(H.x,H.y,_,O,c),$.FU.Ne(2,[H.x,H.y,N.x,N.y],[c,c,c,c])]};l.QJ=function(){l.rG.call(this,[10,33],l.tGE,"tools/ellipse",!0)};
l.QJ.prototype=new l.rG;l.QJ.prototype.Ne=function(H,N,Q){var c=N.x-H.x,_=N.y-H.y;return[$.A.FH.QJ(H.x,H.y,c,_),$.FU.Ne(5,[H.x,H.y,N.x,N.y])]};
l.ns=function(){l.rG.call(this,[10,34],l.tGf,"tools/pshape",!1)};l.ns.prototype=new l.rG;l.ns.prototype.Ne=function(H,N,Q){var c=this.kS.pshape,_=this.kS.crad,O=this.kS.irad/100,L=this.kS.sides,s=this.kS.length,t;
N=N.clone();if(Q){if(Math.abs(N.x-H.x)<Math.abs(N.y-H.y))N.x=H.x;else N.y=H.y}var r=H.x,u=H.y,V=N.x,C=N.y,T=Math.sqrt((V-r)*(V-r)+(C-u)*(C-u)),e=Math.atan2(-C+u,V-r);
if(c==0)t=$.A.FH.tcv(r,u,T,e,L,_);if(c==1)t=$.A.FH.tLI(r,u,T,e,L,_,O);if(c==2)t=$.A.FH.tD$(r,u,T,e,s);
return[t,$.FU.kh()]};l.tu=function(){l.rG.call(this,[10,35],l.tGj,"tools/line",!1)};l.tu.prototype=new l.rG;
l.tu.prototype.Ne=function(H,N,Q){var c=this.kS.width;N=N.clone();if(Q){if(Math.abs(N.x-H.x)<Math.abs(N.y-H.y))N.x=H.x;
else N.y=H.y}return[$.A.FH.tu(H.x,H.y,N.x,N.y,c),$.FU.kh()]};l.lw=function(){l.rG.call(this,[10,31],l.txM,"tools/cshape",!0)};
l.lw.prototype=new l.rG;l.lw.prototype.Ne=function(H,N,Q){var c=this.kS.shape,_=c.SZ.$/c.SZ.z,O=R.hT.Cx(c.L),L=N.x-H.x,s=N.y-H.y;
$.A.Nj(O,new Jo(L,0,0,s,H.x,H.y));return[O,$.FU.kh()]};l._=function(H,N,Q){l.NY.call(this,H,N,Q);this.Tf=0;
this.b=null;this.Ji=null;this.le=null;this.Et=1;this.dr=!1;this.cursor=null;this.Xy=null;this.Ud=null;
this.Jo=!1;this.Eu=null;this.rf=0;this.wP=0;this.Gi=null;this.nl=null;this.BF=null;this.$K=null;this.$B=null};
l._.prototype=new l.NY;l._.prototype.mW=function(H){return this.nl&&this.nl.QW()};l._.prototype.Ly=function(H,N,Q,c,_){this.le=_;
if(H.X=="doMouseDown"){if(this.nl==null)return;this.cL(Q,N,_,c,H.qR);return}if(!this.Oy(Q,_))return;
this.b=Q.MC(H.i==null,H.i);this.QC(Q);var O=this.Gi,L=H.iP!=null?H.iP:4,s=this.nl.tJz()[L],r=s.x,u=s.y;
if(H.X=="rot"&&H.R!=Math.PI&&(O.$+O.z&1)==1){r=Math.floor(r);u=Math.floor(u)}var V=new Jo;V.translate(-r,-u);
if(H.X=="rot")V.rotate(H.R);if(H.X=="scl")V.scale(H.R.x,H.R.y);V.translate(r,u);var C=this.nl.az();$.K.UC(C,V,C);
this.nl.ly(C);this.qM(Q,N,H._F,!1)};l._.prototype.ZQ=function(){return!0};l._.prototype.Oy=function(H,N){if(H==null)return!1;
if(this.id==l.mE)return H.t!=null;var Q=H.MC(!0);for(var c=0;c<Q.length;c++){var _=H.b[Q[c]];if(_.FT(2)||_.FT(31)){alert(tg.get([6,57,0]));
return!1}if(_.add.artb){alert("You can not ransform the whole artboard");return!1}if(_.add.TySh)if(!ru.Ij(_.add.TySh,N.LS))return!1;
if(_.add.SoLd){if(Q.length==1&&!$.UB.vn(_.add.SoLd.warp.v)&&(_.Ab()&&_.Ab().WZ||_.add.vmsk&&_.add.vmsk.WZ)){alert("Unlink masks before transforming Smart Object");
return!1}if(!H.tDR(_.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+H.nF(_.add.SoLd.Idnt.v).Xl+")");
return!1}}}if(H.t==null)return!0;if(!H.FS())return!1;return H.je()};l._.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
if(this.wP==1){var L=$.F.UK($.F.tn(this.nl.az(),this.Gi));O=$.F.Cy(L,O)}var s=this.wP==0?this.nl:this.BF;
this.dr=s.cL(H,Q,c,O);if(this.dr&&s.w$(O)){if(Date.now()-this.rf<250)this.qM(H,N,null,!0);this.rf=Date.now()}};
l._.prototype.Hf=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.gM,Ut:this.cursor};H.N(N)};l._.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
if(this.wP==1){var L=$.F.UK($.F.tn(this.nl.az(),this.Gi));O=$.F.Cy(L,O)}var s=this.wP==0?this.nl:this.BF;
if(!_.Vv){var r="default";if(s&&s.lr(O,H.n.s))r=s.lr(O,H.n.s);if(r!=this.cursor){this.cursor=r;this.Hf(N)}}if(!this.dr)return;
s.XY(H,Q,c,O);this.HA(H,Q,!0);this.rN(H);this.tr(N)};l._.prototype.Nu=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);
this.nl.Nu(H,Q,c,O);this.dr=!1};l._.prototype.FJ=function(H,N,Q,c){if(c.l(K.BV))this.qM(H,N,null,!0);
else if(c.l(K._f))this.ua(H,N);else{var _=this.nl.FJ(H,Q,c);if(_){this.HA(H,Q,!0);this.tr(N)}}};l._.prototype.sG=function(H,N,Q,c){if(H.Lc=="commit")this.qM(Q,N,null,!0);
else if(H.Lc=="cancel")this.ua(Q,N);else if(H.Lc=="switchWarp"){this.wP=1-this.wP;this.tJK();this.rN(Q);
this.tr(N)}else if(H.Lc=="wrp"){this.BF.Qf(H.dE);this.rN(Q);this.HA(Q,this.le,!0)}else if(H.Lc=="cen"){this.nl.tJZ(H.dh);
this.rN(Q);this.HA(Q,this.le,!0)}else if(H.Lc=="trn"){var _=$.F.Wq(H.oO),O=this.Gi,L=$.F.tn(this.nl.az(),this.Gi);
_[6]=L[6],_[7]=L[7];var s=[O.x,O.y,O.x+O.$,O.y,O.x+O.$,O.y+O.z,O.x,O.y+O.z];$.F.apply(_,s);this.Et=H.Et;
this.nl.ly(s);this.rN(Q);this.HA(Q,this.le,!0)}};l._.prototype.rN=function(H){if(this.wP==0)this.nl.Qu(H);
else{this.BF.Qu(H);var N=$.F.tn(this.nl.az(),this.Gi);$.F.apply(N,H.S.rX.Z);$.F.apply(N,H.S.Lg)}};l._.prototype.qM=function(H,N,Q,c){this.HA(H,this.le,this.Et==0);
var _=new Jj(Q?Q:this.name,this);if(this.Tf==0)_.data={type:this.Tf,b:this.b,Eu:this.Ji,gT:l._.Vm(H,this.b)};
else if(this.Tf==1){var O=H.b[this.b[0]],L;if(O.UM.G<=0){L=$.I(O.UM.SB.f());$.rY(O.UM.nI,L,3)}else L=H.t.channel;
var s={rect:O.UM.SB.clone(),channel:L};_.data={type:this.Tf,i:this.b[0],Ud:this.Ud,_k:s,Xy:this.Xy,Jo:this.Jo,UM:O.UM,Eu:this.Eu,gT:{lU:O.UM.SB,fg:O.UM.nI}}}else if(this.Tf==2){_.data={type:this.Tf,Ud:this.Ud,_k:{rect:H.t.rect.clone(),channel:$.clone(H.t.channel)}}}H.Af(_);
this.escape(H,N,c)};l._.prototype.ua=function(H,N){if(this.Tf==0)l._.$J(H,this.b,this.Ji);else if(this.Tf==1){var Q=H.b[this.b[0]];
H.t=this.Ud;if(!this.Jo){Q.UM.SB=this.Eu.lU;Q.UM.nI=this.Eu.fg;Q.cX(H,0,0,H.t)}else{Q.jX(H,this.Xy)}H.r();
H.Ow=!0}else if(this.Tf==2){H.t=this.Ud;H.Ow=!0}this.escape(H,N,!0)};l._.prototype.escape=function(H,N,Q){this.nl.clear(H);
this.nl=null;this.BF=null;this.wP=0;if(Q)this.Mf(N,z.E.Y,{X:z.m.bo})};l._.prototype.wD=function(H,N){if(H.type==0)l._.$J(N,H.b,H.gT);
else{if(H.type==1){var Q=N.b[H.i];if(H.Jo){Q.UM=H.UM}else{Q.UM.SB=H.gT.lU;Q.UM.nI=H.gT.fg}Q.cX(N,0,0,N.t);
N.r()}N.t={rect:H._k.rect.clone(),channel:$.clone(H._k.channel)};N.Ow=!0}};l._.prototype.mK=function(H,N){if(H.type==0)l._.$J(N,H.b,H.Eu);
else{if(H.type==1){var Q=N.b[H.i];if(H.Jo){Q.jX(N,H.Xy)}else{Q.UM.SB=H.Eu.lU;Q.UM.nI=H.Eu.fg;Q.cX(N,0,0,N.t)}N.r()}N.t=H.Ud;
N.Ow=!0}};l._.prototype.enable=function(H,N,Q,c,_,O){this.Hf(N);if(this.nl)return;this.b=H.MC(!0);this.le=Q;
this.QC(H,O?O.eg:null);this.tr(N);this.rN(H)};l._.prototype.tr=function(H){var N={X:z.m.nv,c:this.id};
if(this.wP==0){var Q=$.F.tn(this.nl.az(),this.Gi),c=$.F.od(Q);N.oO={Iw:c,dh:this.nl.SH(),lU:this.Gi.clone()}}else{N.dE=this.BF.ld()}N.tVX=this.BF!=null;
this.Mf(H,z.E.Y,N)};l._.prototype.QC=function(H,N){var Q=this.id==l.mE,c=!0,_=H.b[this.b[0]],L=!1,s=null;
if(Q){this.Tf=2;this.Ud=H.t}else if(H.t&&this.b.length==1&&!_.rect.km()){this.Tf=1;this.Ud=H.t;this.Xy=_.UM;
this.Jo=!1;if(!_.JJ(H,H.t)){this.Jo=!0;_.jp(H,H.t,!1)}this.Eu={fg:_.UM.nI,lU:_.UM.SB}}else{this.Tf=0;
this.Ji=l._.Vm(H,this.b);for(var O=0;O<this.Ji.length;O++)if(this.Ji[O][3]!=null)c=!1}if(this.Ji&&this.Ji.length==1){var r=this.Ji[0];
if(r[3]==null)L=!0;if(r[4]!=null){s=H.b[this.b[0]].add.SoLd;if(r[1]||r[2])L=!1}}var u=Q?H.t.rect.clone():l._.AK(H,this.b);
this.Gi=u;if(!Q&&s){var V=l._.HV(s.nonAffineTransform);this.Gi=$.K.jm($.UB.cq(s.warp.v));if(L)this.BF=new HD(s.warp.v);
this.$K=$.F.tn(V,this.Gi);this.nl=new ro(V,!0,!0,c,!1,!1,N)}else{if(L||Q)this.BF=new HD($.UB.I(this.Gi));
this.$K=[1,0,0,0,1,0,0,0];this.nl=new ro([u.x,u.y,u.x+u.$,u.y,u.x+u.$,u.y+u.z,u.x,u.y+u.z],!0,!0,c,!1,!1,N)}this.$B=[1,0,0,0,1,0,0,0]};
l._.AK=function(H,N){if(N==null)N=H.MC(!0);var Q=new p;if(H.t&&N.length==1)Q=H.t.rect.clone();else for(var c=0;
c<N.length;c++)Q=Q.Fv(H.b[N[c]].vo(H,N.length==1));return Q};l._.prototype.Mf=function(H,N,Q,c){var _=new k(N,!0);
_.data=Q;if(c)_.c=c;H.N(_)};l._.Vm=function(H,N,Q){var c=[];for(var _=0;_<N.length;_++){var O=H.b[N[_]],L=O.Ja(H,Q),s=[];
if(L.indexOf(0)!=-1){var r={nn:$.clone(O.buffer),lU:O.rect.clone()};s.push(r);if(O.kl()){var u=O.hy(H);
r.tVY=$.clone(u.buffer);r.tVb=u.rect.clone()}}else s.push(null);if(L.indexOf(1)!=-1)s.push(O.Ab().clone());
else s.push(null);if(L.indexOf(2)!=-1)s.push({HQ:O.add.vmsk.clone(),nO:O.add.vstk?JSON.parse(JSON.stringify(O.add.vstk)):null,FU:O.add.vogk?JSON.parse(JSON.stringify(O.add.vogk)):null});
else s.push(null);if(O.add.TySh&&s[0])s.push(O.add.TySh.UC.clone());else s.push(null);if(O.add.SoLd&&s[0])s.push(JSON.parse(JSON.stringify(O.add.SoLd)));
else s.push(null);if(L.indexOf(3)!=-1)s.push(O.hy(H).d.clone());else s.push(null);c.push(s)}return c};
l._.$J=function(H,N,Q){for(var c=0;c<N.length;c++){var _=H.b[N[c]],O=Q[c];if(O[0]){_.rect=O[0].lU.clone();
_.buffer=$.clone(O[0].nn);if(_.kl()){var L=_.hy(H);L.buffer=$.clone(O[0].tVY);L.rect=O[0].tVb.clone()}}if(O[1]){_.Ab().channel=$.clone(O[1].channel);
_.Ab().rect=O[1].rect.clone();_.Ab().rb=!0}if(O[2]){_.add.vmsk=O[2].HQ.clone();if(O[2].nO)_.add.vstk=JSON.parse(JSON.stringify(O[2].nO));
if(O[2].FU)_.add.vogk=JSON.parse(JSON.stringify(O[2].FU))}if(O[3]){_.add.TySh.UC=O[3].clone()}if(O[4]){_.add.SoLd=JSON.parse(JSON.stringify(O[4]))}if(O[5]){var s=_.hy(H).d;
s.channel=$.clone(O[5].channel);s.rect=O[5].rect.clone()}_.Sa(H);_.r()}H.r()};l._.ka=function(H){var N=H.clone(),Q=Math.atan2(-N.H,N.o),c=new Jo;
c.rotate(-Q);N.concat(c);return(Math.abs(N.o)+Math.abs(N.KI))/2};l._.lI=function(H,N,Q,c,_,O,L,s){var r=$.F.od(O),u=l._.ka(r);
for(var V=0;V<Q.length;V++){var C=H.b[Q[V]],T=c[V];if(C.add.lmfx&&s)Ja.Kc(C.add.lmfx,u);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var e=l._.SJ([T[0].nn,T[0].lU],_,O,L,_?C.buffer.buffer:null);
if(e){C.rect=e.rect;C.buffer=e.buffer}}if(T[1])l._.Qa(H,T[1],C.Ab(),_,O,L);if(T[2]){var t=L&&!$.UB.vn(L),Y=T[2].HQ.clone(),A=Q.length==1&&Y.g.length!=0;
if(t){var G=$.UB.cq(L);$.F.apply(O,G);$.A.tGk(Y.L,G)}else $.A.tGJ(Y.L,O,A?Y.g:null);if(C.add.vstk&&s)C.add.vstk.strokeStyleLineWidth.v.val=T[2].nO.strokeStyleLineWidth.v.val*u;
if(C.add.vogk){C.add.vogk=JSON.parse(JSON.stringify(T[2].FU));if(t)$.FU.tRT(C.add.vogk);else $.FU.UC(C.add.vogk,O,Q.length>1?[]:Y.g,s)}Y.jQ*=u;
C.add.vmsk=Y;if(C.add.vogk)$.FU.pB(C.add.vogk,C.add.vmsk)}if(T[3]){var j=T[3].clone();j.concat(r);C.add.TySh.UC=j;
var d=new tH(C.add.TySh.Bd,N.LS),w=ru.Iq(d,C.add.TySh);C.rect=w.rect;C.buffer=w.nn}if(T[4]){var f=C.add.SoLd,b=l._.HV(T[4].nonAffineTransform);
$.F.apply(O,b);var F=$.K.TD(b);if(ro.lc(b)){if(L){var n=$.K.jm($.UB.cq(T[4].warp.v)),J=$.F.tn(b,n),Z=$.K.jm($.UB.cq(L));
b=[Z.x,Z.y,Z.x+Z.$,Z.y,Z.x+Z.$,Z.y+Z.z,Z.x,Z.y+Z.z];$.F.apply(J,b);f.warp.v=L}var P=$.F.tn(b),M=b;if(!$.F.CI(P)){P[6]=P[7]=0;
M=[0,0,1,0,1,1,0,1];$.F.apply(P,M)}f.Trnf=l._.Sz(M);f.nonAffineTransform=l._.Sz(b);C.fc(H,_)}}if(T[5])l._.Qa(H,T[5],C.hy(H).d,_,O,L);
if(_==!1)C.hJ();C.Sa(H);C.r()}H.r()};l._.Qk=function(H,N,Q,c,_,O){if(Q==null)Q=!1;return l._.SJ(H,Q,$.F.Wq(N),null,c,_,O)};
l._.SJ=function(H,N,Q,c,_,O,L){var s={},C=0;if(c&&!$.UB.vn(c)){var r=$.UB.cq(c);$.F.apply(Q,r);s.rect=$.K.TD(r);
s.buffer=$.I(s.rect.f()*4);$.nH.drawImage(r,H[0],H[1].$,H[1].z,s.buffer,s.rect,N);return s}$.cG(H);var u=H[0],V=H[1];
while(C+3<H.length&&$.F.CI(Q)&&l._.ka($.F.od(Q))<.4){C+=2;var T=H[C],e=H[C+1];Q=$.F.NE(Q,[V.$/e.$,0,-e.x,0,V.z/e.z,-e.y,0,0]);
V=e;u=T}var t=$.F.NE(Q,$.F.Wq(new Jo(V.$,0,0,V.z,V.x,V.y))),Y=[0,0,1,0,1,1,0,1];$.F.apply(t,Y);s.rect=$.K.TD(Y);
if(L)s.rect=s.rect.sj(L);if(!ro.lc(Y)||s.rect.$>3e4||s.rect.z>3e4)return null;var A=s.rect.f()*4;if(_&&_.byteLength>=A&&A>=_.byteLength>>2){s.buffer=new Uint8Array(_)}else{s.buffer=$.I(A)}$.F.drawImage(t,u,V.$,V.z,s.buffer,s.rect,N,O);
if(s.buffer)return s};l._.Qa=function(H,N,Q,c,_,O){if(N.color==255)$.UK(N.channel);var L=N.rect,s=$.I(L.f()*4);
$.kw(N.channel,s,3);var r=l._.SJ([s,L],c,_,O);if(r){Q.rect=r.rect;Q.channel=$.I(r.rect.f());$.rY(r.buffer,Q.channel,3);
Q.rb=!0}if(N.color==255){$.UK(N.channel);if(r)$.UK(Q.channel)}};l._.HV=function(H){var N=[],Q=H.v.length;
for(var c=0;c<Q;c++)N.push(H.v[c].v);return N};l._.Sz=function(H){var N={t:"VlLs",v:[]},Q=H.length;for(var c=0;
c<Q;c++)N.v.push({t:"doub",v:H[c]});return N};l._.prototype.tJK=function(){var H=$.K.jm($.UB.cq(this.BF.ld())),N=$.F.tn(this.nl.az(),this.Gi),Q=[H.x,H.y,H.x+H.$,H.y,H.x+H.$,H.y+H.z,H.x,H.y+H.z];
$.F.apply(N,Q);this.nl.ly(Q);this.Gi=H};l._.prototype.HA=function(H,N,Q){var c=$.F.tn(this.nl.az(),this.Gi),s=1e-10;
c=$.F.NE(c,$.F.UK(this.$K));var _=$.F.od(c),O=this.$B,L=$.F.od(O);this.$B=c;var r=Math.abs,u=Math.round,V=c[2]-O[2],C=c[5]-O[5],T=r(c[0]-O[0])<s&&r(c[1]-O[1])<s&&r(c[3]-O[3])<s&&r(c[4]-O[4])<s&&r(c[6]-O[6])<s&&r(c[7]-O[7])<s&&r(V-u(V))<s&&r(C-u(C))<s,e=this.Tf==0&&this.b.length==1&&this.Ji[0][2]&&this.Ji[0][2].HQ.g.length!=0;
if(T&&this.Tf==0&&Q==!0&&this.wP==0&&!e){l.UP.uw(H,this.b,l.UP.ob(H,this.b),Math.round(-L.DX+_.DX),Math.round(-L.Ug+_.Ug));
return}var t=this.BF?this.BF.ld():null;if(this.Tf==0){l._.lI(H,N,this.b,this.Ji,Q,c,t)}else if(this.Tf==1){var Y=H.b[this.b[0]],A=this.Eu.lU;
if(Y.G<=0){var G=l._.SJ([this.Eu.fg,A],Q,c,t);Y.UM.nI=G.buffer;Y.UM.SB=G.rect;var j=$.I(G.rect.f());
$.rY(Y.UM.nI,j,3);H.t={channel:j,rect:Y.UM.SB.clone()}}else{var d=$.I(A.f()*4);$.kw(this.Eu.fg,d,3);
var G=l._.SJ([d,A],Q,c,t);Y.UM.nI=$.I(G.rect.f());$.rY(G.buffer,Y.UM.nI,3);Y.UM.SB=G.rect;this.Qv(H,Q,c,t)}Y.cX(H,0,0,H.t);
if(Q==!1)Y.hJ();H.Ow=!0;H.r()}else if(this.Tf==2)this.Qv(H,Q,c,t)};l._.prototype.Qv=function(H,N,Q,c){var _=this.Ud.rect,O=$.I(_.f()*4);
$.kw(this.Ud.channel,O,3);var L=l._.SJ([O,_],N,Q,c),s=$.I(L.rect.f());$.rY(L.buffer,s,3);H.t={channel:s,rect:L.rect};
H.Ow=!0};l._.prototype.disable=function(H,N,Q,c){if(this.nl)this.qM(H,N,null,!0)};l.QE=function(){l._.call(this,[10,16],l._y,"tools/transform")};
l.QE.prototype=new l._;l.Qh=function(){l._.call(this,[7,10],l.mE,"tools/transform")};l.Qh.prototype=new l._;
l.tI=function(){l.mh.call(this,[10,37],l.pF,"tools/qselect");this.Ua="qselect"};l.tI.prototype=new l.mh;
l.tI.prototype.cL=function(H,N,Q,c,_){this.Pa(H,Q,c,_,1);if(this.Uu==null)return;this.ue(H)};l.tI.prototype.XY=function(H,N,Q,c,_){if(this.Uu==null)return;
this.xR(H,N,Q);if(!_.Vv)return;this.Mq(H,Q,c,_);this.ue(H)};function ro(H,N,Q,c,_,O,L){this.Fr=null;
this.x_=H?H.slice(0):null;this.ZI=4;this.kt=null;this.Hc=null;this.dk=null;this.kd=-1;this.HL=[];for(var s=0;
s<8;s++)this.HL.push(z.IX(JP.tIU(0,PIMG.rotate,-.5,-.5,-45-s*45)));this.Ha=N;this.tVZ=Q;this.tVs=c;this.tVu=_;
this.Hv=O;this.eg=L}ro.prototype.QW=function(){return this.kd!=-1};ro.prototype.az=function(){return this.x_.slice(0)};
ro.prototype.ly=function(H){this.x_=H};ro.prototype.tJz=function(){return this.ST(this.x_)};ro.prototype.SH=function(H){if(H==null)H=this.x_;
if(this.ZI==9)return this.kt;else return this.ST(H)[this.ZI]};ro.prototype.tJZ=function(H){if(this.ZI==9)this.kt=H.clone();
else{var N=this.SH(),Q=new Jo(1,0,0,1,H.x-N.x,H.y-N.y);$.K.UC(this.x_,Q,this.x_)}};ro.prototype.lr=function(H,N,Q){var c=this.$L(H,N),_;
if(c==9)return"default";if(c==10&&Q)return null;if(c==10&&!this.Ha)return"move";if(c==-1||c==4)return null;
if(c==11){var O=this.SH().Tr(H);_=90-Math.atan2(O.y,O.x)*180/Math.PI;var L=Math.round(8*(_/360));L=(L+8)%8;
return this.HL[L]}else{var s=this.Hs(H,this.x_);_=[135,90,45,180,0,0,225,270,315][c];var r=$.F.tn(this.x_);
_+=Math.atan2(-r[3],r[0])*180/Math.PI;var u="ew nesw ns nwse ew nesw ns nwse".split(" "),L=Math.round(8*(_/360));
L=(L+8)%8;return u[L]+"-resize"}};ro.prototype.Hs=function(H,N){var Q=$.F.UK($.F.tn(N)),c=new Float64Array(2);
$.F.LH(H.x,H.y,Q,c);return new E(c[0],c[1])};ro.prototype.w$=function(H){var N=this.Hs(H,this.x_);return 0<=N.x&&N.x<=1&&0<=N.y&&N.y<=1};
ro.prototype.cL=function(H,N,Q,c,_){var O=H.n.s;if(this.x_==null)c=l.UP.ep(H,c,N);this.dk=c.clone();
if(this.x_==null){this.dk.offset(1,1);var L=_==null?1:1/_;this.x_=[c.x,c.y,c.x+1,c.y,c.x+1,c.y+L,c.x,c.y+L];
this.Fr=this.x_.slice(0);this.kd=8;this.Qu(H);return!0}this.Fr=this.x_.slice(0);var s=this.$L(c,O);if(0<=s&&s<=8)this.dk=this.ST(this.x_)[s];
this.kd=s;this.Qu(H);this.Hc=this.SH();return s!=-1};ro.prototype.$L=function(H,N){var Q=-1,c=this.ST(),_=6*z.h()/N;
if(Q==-1)if(E.Ln(this.SH(),H)<_)Q=9;if(Q==-1)for(var O=0;O<c.length;O++)if(O!=4&&E.Ln(c[O],H)<_)Q=O;
if(Q==-1){if(this.w$(H)){if(this.Ha)Q=10}else{var L=this.Hs(H,this.x_),s=new p(0,0,1,1);s.FA(.2,.2);
Q=s.Eo(L)?11:10}}return Q};ro.prototype.XY=function(H,N,Q,c){if(this.kd==-1)return;var _=Q.l(K.Yz),O=Q.l(K.kz),L=Q.l(K.sf),s=H.n.s,r=this.dk,u=this.kd,V=this.ST(),C=l.UP.ep(H,r,N),T=l.UP.ep(H,c,N),e,t;
if(u==9){var V=this.ST(),Y=-1;for(var A=0;A<V.length;A++)if(E.Ln(V[A],T)*s<10)Y=A;this.ZI=Y==-1?9:Y;
this.kt=T.clone()}else if(u==10){t=$.K.jm(this.Fr);var G=t.x,j=t.y;t.offset(c.x-r.x,c.y-r.y);if(this.Ql()){t.x=Math.round(t.x);
t.y=Math.round(t.y)}e=l.UP.tg(H,t,N);var d=new Jo(1,0,0,1,t.x-G+e[0],t.y-j+e[1]);$.K.UC(this.Fr,d,this.x_)}else if(u==11){var w=this.SH(this.Fr),f=w.Tr(c),b=w.Tr(r),F=Math.atan2(f.y,f.x),n=Math.atan2(b.y,b.x),d=new Jo(1,0,0,1,-w.x,-w.y),J=Math.PI/12;
if(_)d.rotate(Math.round((n-F)/J)*J);else d.rotate(n-F);d.translate(w.x,w.y);$.K.UC(this.Fr,d,this.x_)}else{var Z,P=this.Fr,M=u==0||u==2||u==6||u==8;
if(this.eg==1){if(M)_=O=L=!0}if(this.tVs&&M&&L){Z=P.slice(0);var A=[0,0,2,0,0,0,6,0,4,0][u],y=-1,a=T.x,g=T.y;
if(_){var U=A+6&7,D=A+10&7,W=ro.Qp(P[A],P[A+1],P[U],P[U+1],T.x,T.y),m=ro.Qp(P[A],P[A+1],P[D],P[D+1],T.x,T.y),q=W[2]<m[2]?W:m;
a=q[0];g=q[1];if(O)y=W[2]<m[2]?U:D}else if(O)y=A+4&7;if(y!=-1){var S=P[y],I=P[y+1],v=(P[A]+S)/2,h=(P[A+1]+I)/2;
Z[y]=v-(a-v);Z[y+1]=h-(g-h)}Z[A]=a;Z[A+1]=g}else{Z=this.x_.slice(0);if(this.Ql()){T.x=Math.round(T.x);
T.y=Math.round(T.y)}var i=[0,1,2,5,8,7,6,3],JI=i[(i.indexOf(u)+4)%8],Jx=[];for(var A=0;A<3;A++)for(var y=0;
y<3;y++)Jx.push(new E(y/2,A/2));var w=this.Hc,Jd=this.Hs(T,P),JC=this.Hs(r,P),JM=O?this.Hs(w,P):Jx[JI],Jh=new Jo,Jv=new Jo,JW=(Jd.x-JM.x)/(JC.x-JM.x);
if(JW==0)JW=1e-4;var Ji=(Jd.y-JM.y)/(JC.y-JM.y);if(Ji==0)Ji=1e-4;if(this.tVu){JW=Math.max(JW,0);Ji=Math.max(Ji,0)}if(u==0||u==2||u==6||u==8){if(_||this.Hv)Jh.scale(JW,JW);
else Jh.scale(JW,Ji)}if(u==1||u==3||u==5||u==7){var Jc=this.Hv;if(u==1||u==7)Jh.scale(Jc?Ji:1,Ji);else Jh.scale(JW,Jc?JW:1);
if(this.tVZ&&L){if(u==1||u==7)Jv.lA=(Jd.x-JM.x)/(Jd.y-JM.y);else Jv.H=(Jd.y-JM.y)/(Jd.x-JM.x)}}Z=[0,0,1,0,1,1,0,1];
var JT=new Jo;JT.translate(-JM.x,-JM.y);JT.concat(Jh);JT.concat(Jv);JT.translate(JM.x,JM.y);$.K.UC(Z,JT,Z);
var q=$.F.tn(P);$.F.apply(q,Z)}if(ro.lc(Z))this.x_=Z}this.Qu(H);if(e)l.UP.tG(H,t,e)};ro.Qp=function(H,N,Q,c,_,O){var L=Q-H,s=c-N,r=_-H,u=O-N,V=L*L+s*s,C=r*L+u*s,T=C/V,e=H+T*L,t=N+T*s,Y=_-e,A=O-t;
return[e,t,Math.sqrt(Y*Y+A*A)]};ro.prototype.Ql=function(){var H=this.x_;return Math.abs(H[1]-H[3])<1e-6&&Math.abs(H[2]-H[4])<1e-6||Math.abs(H[0]-H[2])<1e-6&&Math.abs(H[3]-H[5])<1e-6};
ro.lc=function(H){return $.K.CO(H)||$.K.CO([H[6],H[7],H[4],H[5],H[2],H[3],H[0],H[1]])};ro.prototype.Nu=function(H,N,Q,c){this.kd=-1;
H.S.iG=null;H.un=!0};ro.prototype.FJ=function(H,N,Q){var c=Q.Ik();if(c.x||c.y){var _=new Jo(1,0,0,1,c.x,c.y);
$.K.UC(this.x_,_,this.x_);this.Qu(H);return!0}return!1};ro.prototype.ST=function(H){if(H==null)H=this.x_;
var N=H[6]-H[0],Q=H[7]-H[1],c=H[4]-H[2],_=H[5]-H[3],O=[H[0],H[1],H[2],H[3],H[0]+N/2,H[1]+Q/2,H[2]+c/2,H[3]+_/2,H[6],H[7],H[4],H[5]],L=[];
for(var s=0;s<3;s++){var r=s*4,u=O[r+0],V=O[r+1],C=O[r+2],T=O[r+3];L.push(new E(u,V));L.push(new E(u+(C-u)/2,V+(T-V)/2));
L.push(new E(C,T))}return L};ro.prototype.Qu=function(H,N){if(N==null)N=!1;var Q=this.ST();H.S.rX={lX:[],Z:[]};
H.S.rX.lX.push("M","L","L","L","L");H.S.rX.Z.push(Q[0].x,Q[0].y,Q[2].x,Q[2].y,Q[8].x,Q[8].y,Q[6].x,Q[6].y,Q[0].x,Q[0].y);
H.n._E=new p(0,0,E.Ln(Q[0],Q[2]),E.Ln(Q[0],Q[6]));if(!N){H.S.Lg=[];for(var c=0;c<Q.length;c++)if(c!=4)H.S.Lg.push(Q[c].x,Q[c].y);
var _=this.SH();H.S.Lg.push(_.x,_.y)}H.un=!0};ro.prototype.clear=function(H){H.n._E=null;H.S.iG=null;
H.S.rX=null;H.S.Lg=[];H.un=!0};function HD(H,N){this.UB=null;this.kd=-1;this.Qf(H)}HD.prototype.ld=function(){return JSON.parse(JSON.stringify(this.UB))};
HD.prototype.Qf=function(H){this.UB=JSON.parse(JSON.stringify(H))};HD.prototype.w$=function(H){return!0};
HD.prototype.lr=function(H,N){var Q=this.$L(H,N);if(Q==-1)return"default";return"pointer"};HD.prototype.cL=function(H,N,Q,c){this.kd=this.$L(c,H.n.s);
return this.kd!=-1};HD.prototype.$L=function(H,N){var Q=-1,c=20*z.h(),_=this.QB();for(var O=0;O<_.length;
O++)if(E.Ln(_[O],H)*N<c)Q=O;return Q};HD.prototype.XY=function(H,N,Q,c){if(this.kd==-1)return;var _=H.n.s,O=this.kd,L=$.UB.cq(this.UB);
L[O*2]=c.x;L[O*2+1]=c.y;$.UB.P$(L,this.UB)};HD.prototype.Nu=function(H,N,Q,c){this.kd=-1;H.un=!0};HD.prototype.FJ=function(H,N,Q){var c=Q.Ik();
if(c.x||c.y){var _=new Jo(1,0,0,1,c.x,c.y);$.K.UC(this.x_,_,this.x_);this.Qu(H)}};HD.prototype.QB=function(H){var N=$.UB.cq(this.UB),Q=[];
for(var c=0;c<N.length;c+=2)Q.push(new E(N[c],N[c+1]));return Q};HD.prototype.Qu=function(H){var N=this.QB();
H.S.rX={lX:[],Z:[]};H.S.rX.lX.push("M","C","C","C","C");var Q=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var c=0;
c<Q.length;c++)H.S.rX.Z.push(N[Q[c]].x,N[Q[c]].y);H.S.rX.lX.push("M","L","L","M","L","L","M","L","L","M","L","L");
Q=[4,0,1,2,3,7,11,15,14,13,12,8];for(var c=0;c<Q.length;c++)H.S.rX.Z.push(N[Q[c]].x,N[Q[c]].y);H.S.Lg=[];
for(var c=0;c<N.length;c++)H.S.Lg.push(N[c].x,N[c].y);H.un=!0};HD.prototype.clear=function(H){H.S.rX=null;
H.S.Lg=[];H.un=!0};var JL={};JL.Dc=function(H){this.id=H};JL.Dc.prototype.Ly=function(H,N,Q,c,_){};JL.Dc.prototype.wD=function(H,N){};
JL.Dc.prototype.mK=function(H,N){};JL.History=function(){JL.Dc.call(this,l.ni);this.$z=!0;this.HE=0};
JL.History.prototype=new JL.Dc;JL.History.prototype.Ly=function(H,N,Q,c){if(H.X=="h_itemchange"){if(H.index<Q.ei)for(var _=Q.ei;
_>H.index;_--)this.lG(Q);if(H.index>Q.ei)for(var _=Q.ei;_<H.index;_++)this.lx(Q)}if(H.X=="h_stepfwd")this.lx(Q);
if(H.X=="h_stepbck")this.lG(Q);if(H.X=="h_undoredo"){var O=this.$z||this.HE!=Q.ei;if(O){this.lG(Q);O=!1}else{this.lx(Q);
O=!0}this.$z=O;this.HE=Q.ei}else this.$z=!0};JL.History.prototype.lG=function(H){if(H.ei==0)return;var N=H.history[H.ei];
N.c.mK(N.data,H);H.ei--};JL.History.prototype.lx=function(H){if(H.ei==H.history.length-1)return;var N=H.history[H.ei+1];
N.c.wD(N.data,H);H.ei++};JL.l$=function(){JL.Dc.call(this,l.uh)};JL.l$.prototype=new JL.Dc;JL.l$.prototype.Ly=function(H,N,Q,c,_){var O=H.X,L=H.i!=null?H.i:Q.g.length!=0?Q.g[0]:Q.b.length-1,s=Q.b[L];
if(O==R.Pt&&Q.t==null)O=R.nJ;if(O==R.HH){var r=new Jj([6,33],this),u=s.oP()?["pass"].concat(ta.Cj):ta.Cj;
r.data={X:O,i:L,SP:s.kE,UG:u[H.UG]};Q.Af(r);this.wD(r.data,Q)}if(O==R.CY){var r,V=Q.lk();if(V&&V.data&&V.data.X==O&&V.data.i==L)r=V;
else{r=new Jj([6,32],this);r.data={X:O,i:L,SP:s.opacity,UG:H.UG};Q.Af(r)}r.data.UG=H.UG;this.wD(r.data,Q)}if(O==R.rx){if(s.add.iOpa==null)s.add.iOpa=255;
var r,V=Q.lk();if(V&&V.data&&V.data.X==O&&V.data.i==L)r=V;else{r=new Jj("Fill Opacity Change",this);
r.data={X:O,i:L,SP:s.add.iOpa,UG:H.UG};Q.Af(r)}r.data.UG=H.UG;this.wD(r.data,Q)}if(O==R.Hw){if(s.add.lspf==null)s.add.lspf=0;
var C=s.add.lspf,T=C,e=H.UG,r;for(var t=0;t<e[0].length;t++){var Y=e[1][t],A=1<<Y;if((T&A)==0&&e[0][t])T^=A;
else if((T&A)!=0&&!e[0][t])T^=A}var V=Q.lk();if(V&&V.data&&V.data.X==O&&V.data.i==L)r=V;else{var r=new Jj([6,57,1],this);
r.data={X:O,i:L,SP:C,UG:T};Q.Af(r)}r.data.UG=T;this.wD(r.data,Q)}if(O==R.rS){var G="----",j=H.de,T=null;
for(var t=0;t<JB.Lx.yc.length;t++)if(s.add[JB.Lx.yc[t]])G=JB.Lx.yc[t];var d=s.add[G];if(j=="TySh")T=X.YD(50,50,_.iJ);
var r=new Jj("Layer Type",this);r.data={X:O,i:L,Hz:[G,d],de:[j,T]};Q.Af(r);this.wD(r.data,Q)}if(O==R.Eh){var w=[];
if(c.l(K.kz)){var f=Q.lk(),b=f?f.data:null;if(f!=null&&f.c==this&&b.X==R.Eh&&b.kV.length!=1){var F=new k(z.E.W);
F.c=l.ni;F.data={X:"h_stepbck"};N.N(F);if(b.i==L)return}var n=Q.root.oo(L),J=Q.MC(null,L);while(n.parent!=Q.root){J.push(n.parent.index);
n=n.parent}for(var t=0;t<Q.b.length;t++){var Z=Q.b[t],P=Z.op(),M=J.indexOf(t)!=-1;if(!M&&P)w.push(t);
if(t==L&&!P)w.push(t)}}else w.push(L);var r=new Jj("Layer visibility",this,!0);r.data={X:O,kV:w,i:L};
Q.Af(r);this.wD(r.data,Q)}if(O==R.rE){if(Q.n.uQ!=0){Q.n.uQ=0;Q.un=!0}var escape=!1;if(c.l(K.sf)){var y=Q.g.indexOf(L);
if(y==-1)Q.g.push(L);else if(Q.g.length>1)Q.g.splice(y,1);Q.g.sort(function(r,VP){return r-VP})}else if(c.l(K.Yz)&&H.rg>0){O=H.rg==1?R.v_:H.rg==2?R.CK:R.rA;
escape=!0}else if(c.l(K.Yz)&&Q.g.length>0){var a=Math.min(L,Q.g[0]),g=Math.max(L,Q.g[Q.g.length-1]);
Q.g=[];for(var t=a;t<=g;t++)Q.g.push(t)}else{Q.g=[L]}if(!escape){if(Q.g.length==1){var U=Q.g[0];for(var t=0;
t<Q.b.length;t++){if(t==U)continue;var D=Q.b[t];D.G=0;D.uv=!1}var s=Q.b[U];if(H.rg==2)s.uv=!s.uv;else s.G=H.rg<=0?0:H.rg}else for(var t=0;
t<Q.b.length;t++){var D=Q.b[t];D.G=0;D.uv=!1}Q.kJ=!0}}if(O==R.v_||O==R.rA){var W=O==R.v_,m=W?s.Ab():s.hy(Q).d;
if(m==null)return;var r=new Jj(m.isEnabled?W?[6,15]:[6,42]:W?[6,14]:[6,41],this);r.data={X:O,i:L};Q.Af(r);
this.wD(r.data,Q)}if(O==R.CK){var m=s.add.vmsk;if(m==null)return;var r=new Jj(m.isEnabled?[6,17]:[6,16],this);
r.data={X:O,i:L};Q.Af(r);this.wD(r.data,Q)}if(O==R.fN){if(s.add.lsct==tR.Gp)s.add.lsct=tR.Vc;else s.add.lsct=tR.Gp;
Q.kJ=!0}if(O==R.Ei){if(!Q.HG(L))return;var r=new Jj(s.fB?[6,19]:[6,18],this);r.data={X:O,i:L};Q.Af(r);
this.wD(r.data,Q)}if(O==R.fF){if(s.Jq())s._c-=32;else s._c+=32;Q.kJ=!0}if(O==R.HD||O==R.wJ){var r;if(O==R.HD)r=new Jj(s.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(O==R.wJ)r=new Jj(s.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);r.data={X:O,i:L};Q.Af(r);this.wD(r.data,Q)}if(O==R.Hd||O==R.wr){var U=H.index,r;
if(O==R.Hd)r=new Jj(s.add.lmfx[B.vz[U[0]]].v[U[1]].v.enab.v?[6,30]:[6,29],this);if(O==R.wr)r=new Jj(s.add.SoLd.filterFX.v.filterFXList.v[U].v.enab.v?[6,44]:[6,43],this);
r.data={X:O,i:L,index:H.index};Q.Af(r);this.wD(r.data,Q)}if(O==R.Hb){if(H.src==H.Tl)return;var q=Q.b[H.src],S=Q.b[H.Tl],I=q.add.lmfx?JSON.stringify(q.add.lmfx):"",v=S.add.lmfx?JSON.stringify(S.add.lmfx):"";
if(S.add.lmfx==null){S.add.lmfx=JSON.parse(B.default);for(var t=0;t<B.order.length;t++)S.add.lmfx[B.vz[t]]={t:"VlLs",v:[]}}if(H.Hn==null){S.add.lmfx=JSON.parse(I);
if(!H.EF)delete q.add.lmfx}else{var h=H.Hn[0],i=B.vz[h];if(B.ju.indexOf(B.order[h])==-1)S.add.lmfx[i].v=[];
S.add.lmfx[i].v.push(q.add.lmfx[i].v[H.Hn[1]]);if(!H.EF)q.add.lmfx[i].v.splice(H.Hn[1],1)}var JI=q.add.lmfx?JSON.stringify(q.add.lmfx):"",Jx=S.add.lmfx?JSON.stringify(S.add.lmfx):"";
if(!S.Jq())S._c+=32;var r=new Jj("Move Layer Styles",this);r.data={X:O,Hk:H.src,wG:H.Tl,t$w:I,t$L:v,t$C:JI,t$T:Jx};
Q.Af(r);this.wD(r.data,Q)}if(O==R.Kx||O==R.fu){var Jd=O==R.Kx;if(Jd&&H.src==H.Tl)return;var JC=JSON.parse(JSON.stringify(s.add.SoLd.filterFX.v)),JM=JSON.parse(JSON.stringify(JC)),Jh=JM.filterFXList.v;
if(Jd){Jh.splice(H.Tl,0,Jh[H.src]);Jh.splice(H.src+(H.src<H.Tl?0:1),1)}else Jh.splice(H.pV,1);var r=new Jj(Jd?[6,52]:[6,53],this);
r.data={X:R.KM,i:L,t$M:JC,t$S:JM};Q.Af(r);this.wD(r.data,Q)}if(O==R.rR){var m=s.Ab(),r=new Jj(m.WZ?[6,26]:[6,25],this);
r.data={X:O,i:L};Q.Af(r);this.wD(r.data,Q)}if(O==R.rC){var m=s.add.vmsk,r=new Jj(m.WZ?[6,28]:[6,27],this);
r.data={X:O,i:L};Q.Af(r);this.wD(r.data,Q)}if(O==R.rd){var Jv=[],r;for(var t=0;t<Q.g.length;t++){var JW=Q.g[t],Z=Q.b[JW];
if(Z.add.vogk)Jv.push(JW,JSON.stringify(Z.add.vogk))}$.FU.tto(Q,H.SZ,H.t$v);var Ji=[];for(var t=0;t<Q.g.length;
t++){var JW=Q.g[t],Z=Q.b[JW];if(Z.add.vogk)Ji.push(JW,JSON.stringify(Z.add.vogk))}var V=Q.lk();if(V&&V.data&&V.data.X==O){var Jc=!0;
for(var t=0;t<Jv.length;t+=2)if(Jv[t]!=V.data.wm[t])Jc=!1;if(Jc){r=V;r.data.SV=Ji}}if(r==null){var r=new Jj([12,91,1],this);
r.data={X:O,wm:Jv,SV:Ji};Q.Af(r)}this.wD(r.data,Q)}if(O==R.uD){var r=new Jj(H._F,this);r.data={X:R.uD,zh:Q.b.slice(0),_b:H._b,Fn:Q.g.slice(0),sX:H._k};
Q.Af(r);this.wD(r.data,Q)}if(O==R.vN){var JT=Q.MC(null,H.i),Jg=1e10;if(JT.length==0)return;if(Q.b.length==JT.length){alert("Project must have at least 1 layer");
return}var Jy=[];for(var t=0;t<Q.b.length;t++)if(JT.indexOf(t)==-1)Jy.push(Q.b[t]);for(var t=0;t<JT.length;
t++)Jg=Math.min(Jg,JT[t]);Jg=Math.max(Jg-1,0);while(Jy[Jg].name=="</Layer group>")Jg++;var r=new Jj([6,31],this);
r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:[Jg]};Q.Af(r);this.wD(r.data,Q)}if(O==R.JA){var J=Q.g,Jn=0,ty=!1;
if(J.length==0)return;if(J.length==1&&Q.b[J[0]].nb==0){alert(tg.get([15,7,5]));return}var Jq=[];for(var t=0;
t<Q.b.length;t++){var tJ=Q.b[t].nb;Jq.push(tJ);Jn=Math.max(Jn,tJ)}var JA=-1,td=-1;for(var t=0;t<J.length;
t++){var tJ=Q.b[J[t]].nb;if(tJ==0)ty=!0;else if(JA==-1||JA==tJ)JA=tJ;else td=tJ}if(!ty)for(var t=0;t<J.length;
t++)Q.b[J[t]].nb=0;else if(JA!=-1&&td==-1)for(var t=0;t<J.length;t++)Q.b[J[t]].nb=JA;else for(var t=0;
t<J.length;t++)Q.b[J[t]].nb=Jn+1;var Jk=[];for(var t=0;t<Q.b.length;t++){var tJ=Q.b[t].nb;if(Jk[tJ]==null)Jk[tJ]=0;
Jk[tJ]++}for(var t=0;t<Q.b.length;t++){var tJ=Q.b[t].nb;if(Jk[tJ]==1)Q.b[t].nb=0}var rR=Jq;Jq=[];for(var t=0;
t<Q.b.length;t++){var tJ=Q.b[t].nb;Jq.push(tJ);Jn=Math.max(Jn,tJ)}var r=new Jj(ty?[6,54,0]:[6,54,1],this);
r.data={X:R.JA,t$j:rR,t$K:Jq};Q.Af(r);this.wD(r.data,Q)}if(O==R.nJ||O==R.jN){var Je=Q.HK(O==R.nJ?H.i:L);
if(O==R.jN){var D=Je[0],JU=D.add.SoLd.Idnt.v,JK=Q.nF(JU).clone();D.add.SoLd.Idnt.v=JK.VB=rw.kf()+JU.slice(8);
Q.add.lnk2.push(JK)}O=R.HS;H.b=Je;H.Ts=Q;H.dN=Q}if(O==R.HS){var rH,rL,Ju=H.Ts,JZ=H.dN;if(Ju!=JZ){var rH=new p(0,0,Ju.$,Ju.z),rL=new p(0,0,JZ.$,JZ.z),Jl=[],rV=[];
for(var t=0;t<H.b.length;t++){var D=H.b[t];if(D.add.SoLd==null)continue;var JU=D.add.SoLd.Idnt.v;if(Jl.indexOf(JU)==-1){Jl.push(JU);
rV.push(rw.kf()+JU.slice(8))}D.add.SoLd.Idnt.v=rV[Jl.indexOf(JU)]}if(Jl.length>0){if(JZ.add.lnk2==null)JZ.add.lnk2=[];
for(var t=0;t<Jl.length;t++){var rD=Ju.nF(Jl[t]),JK=rD.clone();JK.VB=rV[t];JZ.add.lnk2.push(JK)}}}var tb=JZ.g.slice(0);
tb.sort(function(r,VP){return r-VP});var Jy=JZ.b.slice(0),rv=[],rG=-1;for(var t=0;t<tb.length;t++)rG=Math.max(rG,tb[t]);
rG++;for(var t=0;t<H.b.length;t++){var Z=H.b[t];Jy.splice(rG,0,Z);rv.push(rG);rG++}var r=new Jj([6,0],this);
r.data={X:R.uD,zh:JZ.b.slice(0),_b:Jy,Fn:tb,sX:rv};JZ.Af(r);this.wD(r.data,JZ)}if(O==R.jF){var Js=Q.MC(),Jy=Q.b.slice(0);
for(var t=0;t<Js.length;t++){var Z=Q.b[Js[t]].clone();Z.fb(Q);Jy.splice(Js[t],1,Z)}var r=new Jj([6,8],this);
r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:Q.g.slice(0)};Q.Af(r);this.wD(r.data,Q)}if(O==R.KJ){var Js=Q.MC(),Jy=Q.b.slice(0),rI=new rw("hi");
for(var t=0;t<Js.length;t++){var tv=Q.b[Js[t]],tt=tv.op();tv.cE(!0);var rE=Q.root.oo(Js[t]);if(tv.oP())continue;
if(rE==null)continue;var Z=tv.clone();Z.fb(Q);var rX=rE.AK(Q,!0);Z.rect.offset(-rX.x,-rX.y);if(Z.d)Z.d.rect.offset(-rX.x,-rX.y);
rI.$=rX.$;rI.z=rX.z;rI.rM([Z]);rI.r();rI.LD();Z.buffer=$.I(rX.f()*4);$.sa(rI.cn(),Z.buffer);Z.rect=rX;
Z.r();Z.D._$=!0;if(Z.add.lmfx)delete Z.add.lmfx;Z.d=Z.qz=null;Jy.splice(Js[t],1,Z);Z.cE(tt);tv.cE(tt)}var r=new Jj([6,34],this);
r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:Q.g.slice(0)};Q.Af(r);this.wD(r.data,Q)}if(O==R.fs){var Js=Q.MC(),Jy=Q.b.slice(0);
for(var t=0;t<Js.length;t++){var Z=Q.b[Js[t]],rQ=Z.add.TySh;if(rQ==null)continue;var D=new tH(rQ.Bd,_.LS),ra=$.K.tVJ(ru.Yx(D,rQ));
for(var rx in ra){var rU=ra[rx];rU=$.K.kX(rU);var rJ=Z.clone();delete rJ.add.TySh;rJ._c=rJ._c|1<<4;rJ.add.SoCo=JSON.parse(JSON.stringify(B.Ks[0]));
var tG=rJ.add.SoCo.Clr.v;tG.Rd.v=parseInt(rx.slice(1,3),16);tG.Grn.v=parseInt(rx.slice(3,5),16);tG.Bl.v=parseInt(rx.slice(5,7),16);
var rT=new R.hT;rT.L=$.K.tVw(rU);if(rJ.add.vmsk!=null){rJ.add.vmsk.tyz();rT.concat(rJ.add.vmsk)}rJ.add.vmsk=rT;
rJ.add.vstk=JSON.parse(JSON.stringify(B.nO.default));rJ.Sa(Q);Jy.splice(Jy.indexOf(Z),0,rJ)}Jy.splice(Jy.indexOf(Z),1)}var r=new Jj([6,40],this);
r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:Q.g.slice(0)};Q.Af(r);this.wD(r.data,Q)}if(O==R.Jj){var tb=Q.g.slice(0),JR=Q.b.slice(0),Js=Q.MC();
if(Js.length==0)return;Q.jW(Js);var r=new Jj([6,36,0],this);r.data={X:R.uD,zh:JR,_b:Q.b.slice(),Fn:tb,sX:Q.g.slice(0)};
Q.Af(r);this.wD(r.data,Q)}if(O==R.rr){var rD=H.Ti.nF(H.id),JK=rD.clone();JK.raw=H.data;JK.gZ="8BIM";
JK.uV="8BPB";JK.Xl=JK.Xl+".psd";var r=new Jj([6,36,1],this);r.data={X:R.rr,id:H.id,wu:rD,IM:JK};H.Ti.Af(r);
this.wD(r.data,H.Ti)}if(O==R.fU){var rO,rg;if(H.Es){rO=H.Ti;rg=H.Es}else{H.Ti.f$();H.Ti.HZ();H.Ti.r();
H.Ti.LD();H.Ti.cn();rO=JP.PSD.Dz(H.Ti,0,0,[!0,!0]);rg=H.Ti.name}rO=new Uint8Array(rO);var y=H.oM!=null?H.oM:Q.g[Q.g.length-1]+1,rc=Q.Pd(rO,rg,0,0),Jy=Q.b.slice(0);
Jy.splice(y,0,rc);var r=new Jj([6,36,2],this);r.data={X:R.uD,zh:Q.b.slice(),_b:Jy,Fn:Q.g.slice(0),sX:[Jy.indexOf(rc)]};
Q.Af(r);this.wD(r.data,Q)}if(O==R.CM||O==R.JK){var JR=Q.b.slice(0),tb=Q.g.slice(0),rm=!0,rc,rv;if(O==R.CM)Q.g=[Q.g[0],Q.g[0]-1];
var Js=Q.MC();Js.sort(function(r,VP){return r-VP});var rn=new p,rK=new p(0,0,Q.$,Q.z);for(var t=0;t<Js.length;
t++){var JW=Js[t],Z=Q.b[JW];rm=rm&&Z.TT()&&Z.add.vmsk!=null;rn=rn.Fv(Q.root.oo(JW).AK(Q,!0))}if(rm){rc=Q.b[Js[0]].clone();
var V$=rc.add.vmsk;for(var t=1;t<Js.length;t++){var Vc=Q.b[Js[t]],rb=R.hT.Cx(Vc.add.vmsk.L);V$.L=V$.L.concat(rb.slice(2));
rc.add.vogk=rc.add.vogk.concat(JSON.parse(JSON.stringify(Vc.add.vogk)))}rc.add.vmsk.rb=!0;rc.Sa(Q)}else if(rK.pk(rn)){rc=Q.Zs();
rc.Vp(Q.b[Js[Js.length-1]].getName());rc.rect=rn;rc.buffer=$.I(rn.f()*4);var rl=Q.cn(Js);$.Pg(rl,rK,rc.buffer,rn);
rc.r()}else{Q.jW(Js,!0);rc=Q.b[Q.g[0]];Q.b.splice(Q.g[0],1);var rB=Q.nF(rc.add.SoLd.Idnt.v);Q.add.lnk2.splice(Q.add.lnk2.indexOf(rB),1);
delete rc.add.SoLd}var Jy=[];for(var t=0;t<Q.b.length;t++)if(c.l(K.kz)||Js.indexOf(t)==-1)Jy.push(Q.b[t]);
var HI=Js[Js.length-1],Hw=HI==Q.b.length-1?null:Q.b[HI+1],rf=Hw?Jy.indexOf(Hw):Jy.length;Jy.splice(rf,0,rc);
rv=[rf];var r=new Jj([6,12],this);r.data={X:R.uD,zh:JR,_b:Jy,Fn:tb,sX:rv};Q.Af(r);this.wD(r.data,Q)}if(O==R.Hl||O==R.TG||O==R.fL||O==R.rh||O==R.Pt){var Z=Q.Zs(),VI=tg.get([0,3]);
if(O==R.TG)VI=tg.get(JO.names[H.qd]);if(O==R.fL)VI=tg.get(H.aO==null?[12,76,1]:[6,48,0,H.aO]);Z.Vp(VI+" "+Q.b.length);
if(O==R.Pt){var tv=Q.b[Q.g[0]],rN=tv.fD(Q,Q.t);if(rN==null){alert("Copied area is empty");return}Z.rect=rN.rect,Z.buffer=rN.fg}if(O==R.rh){Z.rect=JL.l$.OI(H.lD,Q);
Z.buffer=$.clone(H.lD.buffer)}if(O==R.TG){Z._c|=16;JO.jw(H.qd,Z.add);Z.d=JL.l$.QF(Q)}if(O==R.fL){Z._c|=16;
if(H.pZ==0)Z.d=JL.l$.QF(Q);else{Z.add.vmsk=new R.hT;Z.add.vogk=[];Z.add.vstk=JSON.parse(JSON.stringify(B.nO.default))}var rp;
if(H.aO!=null){rp=["SoCo","GdFl","PtFl"][H.aO];Z.add[rp]=JSON.parse(JSON.stringify(B.Ks[H.aO]))}else{var rZ=_.gq;
Z.add.vstk=JSON.parse(JSON.stringify(_.ga));rp=["none","SoCo","GdFl","PtFl"][rZ.uV];l.HC.nj(Z,rZ);if(rZ.uV==0)Z.add.SoCo=JSON.parse(JSON.stringify(B.Ks[0]))}if(rp=="PtFl")Q.EO(Ja.bE(Z.add[rp].Ptrn.v,_.wg));
Z.Sa(Q)}var $u=Q.g.length==0?Q.b.length-1:Q.g[Q.g.length-1],rz=$u+1;if(Q.b[$u].add.lsct==tR.Gp)rz--;
var Jy=Q.b.slice(0);Jy.splice(rz,0,Z);var Hy=[5,2];if(O==R.Hl)Hy=[6,13];if(O==R.TG)Hy=[6,1];if(O==R.fL)Hy=[6,48,1];
if(O==R.Pt)Hy=[6,49];var r=new Jj(Hy,this);r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:[rz]};
Q.Af(r);this.wD(r.data,Q);if(O==R.fL&&H.pZ==0||O==R.TG){var HR=new k(z.E.Y);HR.data={X:z.m.yP,gL:"properties"};
N.N(HR)}}if(O==R.KG){var Z=Q.Zs();Z.Vp(tg.get([0,4])+" "+Q.b.length);Z.kE="pass";Z.add.lsct=tR.Gp;Z._c=24;
var tq=Q.sd(),$u=L,rz=$u+1,Jy=Q.b.slice(0);Jy.splice(rz,0,tq,Z);var r=new Jj([6,20],this);r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:[rz+1]};
Q.Af(r);this.wD(r.data,Q)}if(O==R.TS||O==R.TW){var HH=O==R.TS?H.source:Q.g[0],rh,tX,Hg=c.l(K.kz),HT;
if(Q.g.indexOf(HH)!=-1)HT=Q.MC();else HT=Q.wK(HH);HT.sort(function(r,VP){return r-VP});if(O==R.TS){rh=H.target;
tX=H.Ih>.5}else{var tN=H.gE;tX=tN>1;if(tN==0){rh=Q.b.length-1}if(tN==1){rh=HT[HT.length-1]+1;var Vc=Q.wK(rh);
if(Vc.indexOf(HH)==-1)rh+=Vc.length-1}if(tN==2){rh=HT[0]-1;var Vc=Q.wK(rh);if(Vc.indexOf(HH)==-1)rh-=Vc.length-1}if(tN==3){rh=0}if(rh<0||rh>Q.b.length-1)return;
Q.EV=!0}if(HT.indexOf(rh)!=-1)return;var Hx=Q.b[rh],Jy=[];if(Hg)Jy=Q.b.slice(0);else for(var t=0;t<Q.b.length;
t++)if(HT.indexOf(t)==-1)Jy.push(Q.b[t]);var Hf=Jy.indexOf(Hx);if(O==R.TS&&Hx.oP()&&Hx.add.lsct==tR.Vc&&H.Ih>.8)Hf-=Q.wK(rh).length-1;
var Vr=[];for(var t=0;t<HT.length;t++){var Vg=Hf+(tX?0:1)+t,D=Q.b[HT[t]];if(Hg)D=D.clone();Jy.splice(Vg,0,D);
Vr.push(Vg)}var r=new Jj(Hg?[6,0]:[6,35],this);r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:Vr};
Q.Af(r);this.wD(r.data,Q)}if(O==R.ri){var Z=Q.Zs();Z.Vp(tg.get([0,4])+" "+Q.b.length);Z.kE="pass";Z.add.lsct=tR.Gp;
Z._c=24;var tq=Q.sd(),HT=Q.MC();if(HT.length==0)return;HT.sort(function(r,VP){return r-VP});var Jy=[];
for(var t=0;t<Q.b.length;t++)if(HT.indexOf(t)==-1)Jy.push(Q.b[t]);var $u=Q.g[Q.g.length-1]-HT.length;
Jy.splice($u+1,0,tq);for(var t=0;t<HT.length;t++)Jy.splice($u+2+t,0,Q.b[HT[t]]);Jy.splice($u+2+HT.length,0,Z);
var r=new Jj([6,9],this);r.data={X:R.uD,zh:Q.b.slice(0),_b:Jy,Fn:Q.g.slice(0),sX:[Jy.indexOf(Z)]};Q.Af(r);
this.wD(r.data,Q)}if(O==R.fk){if(Q.g.length!=1)return;var y=Q.g[0];if(Q.b[y].Ab()==null)O=R.nK;else O=R.Ea}if(O==R.nK){if(Q.g.length!=1)return;
var y=Q.g[0],VE=Q.b[y].Ab();if(VE==null||H.t$Y){var r=new Jj([6,21],this),Ht=new R.qu;if(H.Lm||c.l(K.kz))Ht.color=0;
if(Q.t!=null){Ht.color=0;Ht.channel=$.clone(Q.t.channel);Ht.rect=Q.t.rect.clone()}r.data={X:O,i:y,d:Ht,$Z:VE};
Q.Af(r);this.wD(r.data,Q)}}else if(O==R.Jb){var q=Q.b[H.src],S=Q.b[H.Tl];if(S.Ab())return;var r=new Jj([6,21],this),Ht=q.Ab();
if(H.EF){r.data={X:R.nK,i:H.Tl,d:Ht.clone()}}else{r.data={X:O,src:H.src,Tl:H.Tl,d:Ht}}Q.Af(r);this.wD(r.data,Q)}if(O==R.rU){if(Q.g.length!=1)return;
var y=Q.g[0];if(Q.b[y].Ab()!=null){var r=new Jj([6,22],this);r.data={X:O,i:y,d:Q.b[y].Ab()};Q.Af(r);
this.wD(r.data,Q)}}if(O==R.KT){var JR=Q.b.slice(0),rJ=s.clone(),VQ=rJ.Ab();$.Sm(VQ.Qd(rJ.rect),rJ.rect,rJ.buffer,rJ.rect);
JL.l$.wn(Q,rJ);Q.b[Q.g[0]]=rJ;var r=new Jj([5,8],this);r.data={X:R.uD,zh:JR,_b:Q.b.slice(),Fn:Q.g.slice(0),sX:Q.g.slice(0)};
Q.Af(r);this.wD(r.data,Q)}if(O==R.rB){if(Q.g.length!=1)return;var y=Q.g[0];if(Q.b[y].hy(Q).d==null){var r=new Jj([6,45],this);
r.data={X:O,i:y,d:new R.qu};Q.Af(r);this.wD(r.data,Q)}}if(O==R.rZ){if(Q.g.length!=1)return;var y=Q.g[0];
if(Q.b[y].hy(Q).d!=null){var r=new Jj([6,46],this);r.data={X:O,i:y,d:Q.b[y].hy(Q).d};Q.Af(r);this.wD(r.data,Q)}}if(O==R.wH){if(H.i==null&&Q.g.length!=1)return;
if(Q.b[L].kl()){var r=new Jj([6,47],this);r.data={X:O,i:L,t$b:Q.b[L].add.SoLd.filterFX,uK:Q.b[L].hy(Q)};
Q.Af(r);this.wD(r.data,Q)}}if(O==R.Ea){if(Q.g.length!=1)return;if(s.add.vmsk==null){var r=new Jj([6,23],this),Ht=new R.hT;
Ht.L[1].all=H.Lm?1:0;r.data={X:O,i:L,$A:!0,d:Ht,FU:"[]",nO:null};if(s.TT()){r.data.nO=JSON.stringify(B.nO.default)}Q.Af(r);
this.wD(r.data,Q)}}if(O==R.Jk){var q=Q.b[H.src],S=Q.b[H.Tl];if(S.add.vmsk)return;var r=new Jj([6,23],this),V$=q.add.vmsk;
r.data={i:H.Tl,$A:q.uv,d:V$.clone(),FU:JSON.stringify(q.add.vogk),nO:q.add.vstk?JSON.stringify(q.add.vstk):null};
if(H.EF){r.data.X=R.Ea}else{r.data.X=O;r.data.src=H.src;r.data.Tl=H.Tl}Q.Af(r);this.wD(r.data,Q)}if(O==R.HJ){if(Q.g.length!=1)return;
var Z=Q.b[L],V$=Z.add.vmsk;if(V$!=null){var r=new Jj([6,24],this);r.data={X:O,i:L,$A:Z.uv,d:V$,FU:JSON.stringify(Z.add.vogk),nO:Z.add.vstk?JSON.stringify(Z.add.vstk):null};
Q.Af(r);this.wD(r.data,Q)}}if(O==R.ro){var Vy=Q.name,HV=H.R+".psd";if(Vy==HV)return;var r=new Jj([6,37],this);
r.data={X:O,$k:Vy,hE:HV};Q.Af(r);this.wD(r.data,Q)}if(O==R.HU){var Vy=s.getName(),HV=H.name.substring(0,255);
if(Vy==HV)return;var r=new Jj([6,37],this);r.data={X:O,i:L,$k:Vy,hE:HV,IK:s.add.lnsr,IN:null};Q.Af(r);
this.wD(r.data,Q)}if(O==R.wt){var VA=Q.MC(),$S=[],w$=[];for(var t=0;t<VA.length;t++){$S.push(Q.b[VA[t]].add.lclr);
w$.push(H.t$B)}var r=new Jj([6,38],this);r.data={X:O,b:VA,t$Z:$S,t$A:w$};Q.Af(r);this.wD(r.data,Q)}if(O==R.rF){var r=Q.history[Q.ei];
if(r!=null&&r.c==this&&r.data.X==O&&r.data.i==H.$_&&r.data.UG.hA==H.ew.hA)r.data.UG=H.ew;else{r=new Jj("Mask Density / Feather",this);
r.data={X:O,i:H.$_,uY:Q.b[H.$_].fz(H.ew.hA),UG:H.ew};Q.Af(r)}this.wD(r.data,Q)}if(O==R.wL){var VM=JSON.stringify(H.R),VO=JSON.parse(VM),r=Q.history[Q.ei];
if(r!=null&&r.c==this&&r.data.X==O&&r.data.aO==H.aO&&r.data.ra==H.ra&&r.data.kV.join(",")==H.kV.join(","))for(var t=0;
t<H.kV.length;t++)r.data.Jt[t]=VO;else{r=new Jj("Edit Style",this);r.data={X:O,kV:H.kV,ra:H.ra,IF:[],Jt:[]};
var $q=!1;for(var t=0;t<H.kV.length;t++){var JW=H.kV[t],Z=Q.b[JW],Hi=H.ra?l.HC.Qw(Q,JW):JSON.parse(JSON.stringify(Z.add.vstk));
r.data.IF.push(Hi);r.data.Jt.push(VO);if(JSON.stringify(Hi)!=VM)$q=!0}if(!$q)return;Q.Af(r)}if(H.ra&&VO.uV==3)Q.EO(Ja.bE(VO.uL.Ptrn.v,_.wg));
if(!H.ra){var HO=VO.strokeStyleContent.v;if(HO.classID==B.nO.aw[2])Q.EO(Ja.bE(HO.Ptrn.v,_.wg))}this.wD(r.data,Q)}};
JL.l$.QF=function(H){var N=new R.qu;if(H.t!=null){N.color=0;N.channel=$.clone(H.t.channel);N.rect=H.t.rect.clone()}return N};
JL.l$.Or=function(H,N){for(var Q=0;Q<H.b.length;Q++){var c=H.b[Q];if(c.add.SoLd==null||c.add.SoLd.Idnt.v!=N)continue;
c.fc(H)}H.r()};JL.l$.tHV=function(H,N,Q){N.color=255-N.color;$.UK(N.channel);N.rb=!0;H.Sa(Q);Q.r()};
JL.l$.prototype.mK=function(H,N){var Q=H.X,c=N.b[H.i];if(Q==R.rr){N.add.lnk2.splice(N.add.lnk2.indexOf(H.IM),1,H.wu);
JL.l$.Or(N,H.id)}if(Q==R.HH){c.kE=H.SP;N.r()}if(Q==R.CY){c.opacity=H.SP;N.r()}if(Q==R.Hw){c.add.lspf=H.SP}if(Q==R.rS){var _=H.de,O=H.Hz;
delete c.add[_[0]];if(O[0]!="----")c.add[O[0]]=O[1]}if(Q==R.rx){c.add.iOpa=H.SP;N.r()}if(Q==R.Eh){for(var L=0;
L<H.kV.length;L++){var s=N.b[H.kV[L]];s.cE(!s.op())}N.r()}if(Q==R.v_){var r=c.Ab();r.isEnabled=!r.isEnabled;
c.Sa(N);N.r()}if(Q==R.rA){var r=c.hy(N).d;r.isEnabled=!r.isEnabled;c.r();N.r()}if(Q==R.CK){var r=c.add.vmsk;
r.isEnabled=!r.isEnabled;if(!r.isEnabled){if(c.qz){c.d=c.qz;c.qz=null}else c.d=null}else if(c.d){c.qz=c.d;
c.d=null}c.Sa(N);N.r()}if(Q==R.Ei){c.fB=!c.fB;N.r()}if(Q==R.HD){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.D._$=!0;N.r()}if(Q==R.wJ){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.ZF(N);N.r()}if(Q==R.Hd){var u=H.index,V=c.add.lmfx[B.vz[u[0]]].v[u[1]].v;
V.enab.v=!V.enab.v;c.D._$=!0;N.r()}if(Q==R.Hb){var C=N.b[H.Hk],T=N.b[H.wG],e=H.t$w,t=H.t$L;if(e=="")delete C.add.lmfx;
else C.add.lmfx=JSON.parse(e);if(t=="")delete T.add.lmfx;else T.add.lmfx=JSON.parse(t);C.D._$=!0;T.D._$=!0;
N.r()}if(Q==R.wr){var Y=c.add.SoLd.filterFX.v.filterFXList.v[H.index].v;Y.enab.v=!Y.enab.v;c.ZF(N);N.r()}if(Q==R.KM){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(H.t$M));
c.ZF(N);N.r()}if(Q==R.rR){var r=c.Ab();r.WZ=!r.WZ}if(Q==R.rC){var r=c.add.vmsk;r.WZ=!r.WZ}if(Q==R.rd){var A=H.wm;
for(var L=0;L<A.length;L+=2){var G=A[L],s=N.b[G];s.add.vogk=JSON.parse(A[L+1]);$.FU.pB(s.add.vogk,s.add.vmsk);
s.Sa(N)}N.r()}if(Q==R.JA){var j=H.t$j;for(var L=0;L<j.length;L++)N.b[L].nb=j[L]}if(Q==R.uD){if(H.Fn)N.g=H.Fn;
N.r();N.rM(H.zh)}if(Q==R.nK){JL.l$.wn(N,c);if(H.$Z)JL.l$.$S(N,c,H.$Z)}if(Q==R.Jb){JL.l$.wn(N,N.b[H.Tl]);
JL.l$.$S(N,N.b[H.src],H.d)}if(Q==R.rU){JL.l$.$S(N,c,H.d)}if(Q==R.rB){c.hy(N).d=null;c.r();N.r()}if(Q==R.rZ){c.hy(N).d=H.d;
c.r();N.r()}if(Q==R.wH){c.add.SoLd.filterFX=H.t$b;N.wx(H.uK);c.fc(N)}if(Q==R.Ea){JL.l$.ty(N,c,!0)}if(Q==R.Jk){JL.l$.ty(N,N.b[H.Tl],H.d.isEnabled);
JL.l$.tL(N,N.b[H.src],H)}if(Q==R.HJ){JL.l$.tL(N,c,H)}if(Q==R.ro){N.name=H.$k}if(Q==R.HU){c.Vp(H.$k);
if(H.IK)c.add.lnsr=H.IK;else delete c.add.lnsr}if(Q==R.wt){for(var L=0;L<H.b.length;L++)N.b[H.b[L]].add.lclr=H.t$Z[L]}if(Q==R.wL){var d=H.IF;
for(var L=0;L<H.kV.length;L++){var s=N.b[H.kV[L]],w=d[L];if(!H.ra)s.add.vstk=JSON.parse(JSON.stringify(w));
else l.HC.nj(s,JSON.parse(JSON.stringify(w)));s.JV(N)}N.r()}if(Q==R.rF){c.fZ(H.uY);c.Sa(N);N.r()}N.kJ=!0};
JL.l$.prototype.wD=function(H,N){var Q=H.X,c=N.b[H.i];if(Q==R.rr){N.add.lnk2.splice(N.add.lnk2.indexOf(H.wu),1,H.IM);
JL.l$.Or(N,H.id)}if(Q==R.HH){c.kE=H.UG;N.r()}if(Q==R.CY){c.opacity=H.UG;N.r()}if(Q==R.Hw){c.add.lspf=H.UG}if(Q==R.rS){var _=H.Hz,O=H.de;
delete c.add[_[0]];if(O[0]!="----")c.add[O[0]]=O[1]}if(Q==R.rx){c.add.iOpa=H.UG;N.r()}if(Q==R.Eh){for(var L=0;
L<H.kV.length;L++){var s=N.b[H.kV[L]];s.cE(!s.op())}N.r()}if(Q==R.v_){var r=c.Ab();r.isEnabled=!r.isEnabled;
c.Sa(N);N.r()}if(Q==R.rA){var r=c.hy(N).d;r.isEnabled=!r.isEnabled;c.r();N.r()}if(Q==R.CK){var r=c.add.vmsk;
r.isEnabled=!r.isEnabled;if(!r.isEnabled){if(c.qz){c.d=c.qz;c.qz=null}else c.d=null}else if(c.d){c.qz=c.d;
c.d=null}c.Sa(N);N.r()}if(Q==R.Ei){c.fB=!c.fB;N.r()}if(Q==R.HD){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.D._$=!0;N.r()}if(Q==R.wJ){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.ZF(N);N.r()}if(Q==R.Hd){var u=H.index,V=c.add.lmfx[B.vz[u[0]]].v[u[1]].v;
V.enab.v=!V.enab.v;c.D._$=!0;N.r()}if(Q==R.Hb){var C=N.b[H.Hk],T=N.b[H.wG],e=H.t$C,t=H.t$T;if(e=="")delete C.add.lmfx;
else C.add.lmfx=JSON.parse(e);if(t=="")delete T.add.lmfx;else T.add.lmfx=JSON.parse(t);C.D._$=!0;T.D._$=!0;
N.r()}if(Q==R.wr){var Y=c.add.SoLd.filterFX.v.filterFXList.v[H.index].v;Y.enab.v=!Y.enab.v;c.ZF(N);N.r()}if(Q==R.KM){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(H.t$S));
c.ZF(N);N.r()}if(Q==R.rR){var r=c.Ab();r.WZ=!r.WZ}if(Q==R.rC){var r=c.add.vmsk;r.WZ=!r.WZ}if(Q==R.rd){var A=H.SV;
for(var L=0;L<A.length;L+=2){var G=A[L],s=N.b[G];s.add.vogk=JSON.parse(A[L+1]);$.FU.pB(s.add.vogk,s.add.vmsk);
s.Sa(N)}N.r()}if(Q==R.JA){var j=H.t$K;for(var L=0;L<j.length;L++)N.b[L].nb=j[L]}if(Q==R.uD){if(H.sX)N.g=H.sX;
N.r();N.rM(H._b)}if(Q==R.nK){if(H.$Z)JL.l$.wn(N,c);JL.l$.$S(N,c,H.d)}if(Q==R.Jb){JL.l$.wn(N,N.b[H.src]);
JL.l$.$S(N,N.b[H.Tl],H.d)}if(Q==R.rU){JL.l$.wn(N,c)}if(Q==R.rB){c.hy(N).d=H.d;c.G=0;c.r();N.r()}if(Q==R.rZ){c.hy(N).d=null;
c.G=0;c.r();N.r()}if(Q==R.wH){delete c.add.SoLd.filterFX;c.G=0;N.ja(H.uK);c.fc(N)}if(Q==R.Ea){JL.l$.tL(N,c,H)}if(Q==R.Jk){JL.l$.ty(N,N.b[H.src],H.d.isEnabled);
JL.l$.tL(N,N.b[H.Tl],H)}if(Q==R.HJ){JL.l$.ty(N,c,H.d.isEnabled)}if(Q==R.ro){N.name=H.hE}if(Q==R.HU){c.Vp(H.hE);
if(H.IN)c.add.lnsr=H.IN;else delete c.add.lnsr}if(Q==R.wt){for(var L=0;L<H.b.length;L++)N.b[H.b[L]].add.lclr=H.t$A[L]}if(Q==R.wL){var d=H.Jt;
for(var L=0;L<H.kV.length;L++){var s=N.b[H.kV[L]],w=d[L];if(!H.ra)s.add.vstk=JSON.parse(JSON.stringify(w));
else l.HC.nj(s,JSON.parse(JSON.stringify(w)));s.JV(N)}N.r()}if(Q==R.rF){c.fZ(H.UG);c.Sa(N);N.r()}N.kJ=!0};
JL.l$.OI=function(H,N){var Q=H.TK,c=H.rect.clone();if(Q!=null&&(Q.x!=N.$||Q.y!=N.z)){c.x=Math.floor((N.$-c.$)/2);
c.y=Math.floor((N.z-c.z)/2)}return c};JL.l$.wn=function(H,N){if(N.qz)N.qz=null;else N.d=null;N.Sa(H);
H.r();N.G=0};JL.l$.$S=function(H,N,Q){if(N.d)N.qz=Q;else N.d=Q;N.Sa(H);H.r()};JL.l$.ty=function(H,N,Q){if(N.qz&&Q){N.d=N.qz;
N.qz=null}else if(N.d&&Q){N.d=null}delete N.add.vogk;delete N.add.vstk;delete N.add.vmsk;N.Sa(H);N.uv=!1;
H.r()};JL.l$.tL=function(H,N,Q){N.add.vogk=JSON.parse(Q.FU);if(Q.nO)N.add.vstk=JSON.parse(Q.nO);else delete N.add.vstk;
N.add.vmsk=Q.d.clone();if(N.d&&N.add.vmsk.isEnabled)N.qz=N.d;N.Sa(H);N.uv=Q.$A;H.r()};JL.cW=function(){JL.Dc.call(this,l.rt);
this.Iv=null;this.kG=null;this.ub=null;this.dF=null};JL.cW.prototype=new JL.Dc;JL.cW.prototype.Ly=function(H,N,Q,c,_){var O=Q.b[H.i],L=H.U_,r=null;
if(this.Iv==null){this.ub=JL.cW.oW(Q,O);this.Iv=JSON.stringify(this.ub);if(O.add.lmfx)this.kG=JSON.stringify(O.add.lmfx)}if(O.add.lmfx==null){O.add.lmfx=JSON.parse(B.default);
for(var s=0;s<B.order.length;s++)O.add.lmfx[B.vz[s]]={t:"VlLs",v:[]}}if(H.X=="changeprop"){if(L!=0){var u=JSON.parse(B.cz[L[0]]),V=O.add.lmfx[B.vz[L[0]]].v;
if(V[L[1]]==null)V[L[1]]={t:"Objc",v:u};r=V[L[1]].v;for(var C in u)if(r[C]==null)r[C]=u[C]}if(H.X=="changeprop"){if(L==0){this.ub[H.aO].v=H.R;
JL.cW.$q(Q,O,this.ub)}else if(H.aO=="lagl"){if(r.uglg&&r.uglg.v){Q.wh(H.R.val);this.ub.yf=Q.Ej()}else r[H.aO].v=H.R}else if(H.aO=="Lald"){if(r.uglg.v){Q.Hq(H.R.val);
this.ub.yZ=Q.wO()}else r[H.aO].v=H.R}else if((L[0]==3||L[0]==8)&&(H.aO=="Clr"||H.aO=="Grad")){if(H.aO=="Clr"){r.Clr={t:"Objc",v:H.R};
delete r.Grad}if(H.aO=="Grad"){r.Grad={t:"Objc",v:H.R};delete r.Clr}}else{r[H.aO].v=H.R}}if(L!=0)if(r.Ptrn)Q.EO(Ja.bE(r.Ptrn.v,_.wg))}else if(H.X=="setstl"){var T=H.R.Lefx;
if(T)Ja.KP(T,Q,_.wg);Ja.KO(H.R,O)}else if(H.X=="st_dupsingle"){var e=O.add.lmfx[B.vz[H.pV[0]]].v;if(e[H.pV[1]]==null)return;
var t=JSON.parse(JSON.stringify(e[H.pV[1]]));e.splice(H.pV[1],0,t)}else if(H.X=="st_movsingle"){var Y=H.pV[1],e=O.add.lmfx[B.vz[H.pV[0]]].v;
if(e[H.pV[1]]==null)return;var A=Math.max(0,Math.min(e.length-1,Y+H.yA)),G=e[A];e[A]=e[Y];e[Y]=G}else if(H.X=="cancel"){if(this.kG==null)delete O.add.lmfx;
else O.add.lmfx=JSON.parse(this.kG);JL.cW.$q(Q,O,JSON.parse(this.Iv));this.Iv=null;this.kG=null}else if(H.X=="confirm"){var j=new Jj([11,6],this);
j.data={b:[H.i],JH:[this.kG],Jw:[JSON.stringify(O.add.lmfx)],JI:[this.Iv],JT:[JSON.stringify(this.ub)]};
Q.Af(j);this.Iv=null;this.kG=null}else if(H.X=="st_copy"){this.dF=[this.Iv,this.kG];this.Iv=null;this.kG=null}else if(H.X=="st_paste"||H.X=="st_clear"){if(H.X=="st_paste"&&this.dF==null)return;
var d=Q.g.indexOf(H.i)==-1?[H.i]:Q.g.slice(0),w=[],f=[],b=[],F=[];for(var s=0;s<d.length;s++){var O=Q.b[d[s]],n=JL.cW.oW(Q,O);
w.push(O.add.lmfx?JSON.stringify(O.add.lmfx):null);b.push(JSON.stringify(n));if(H.X=="st_paste"){f.push(this.dF[1]);
F.push(this.dF[0])}else{f.push(null);n.lrMd.v=0;n.Opct.v.val=100;n.iOpa.v.val=100;F.push(JSON.stringify(n))}}var j=new Jj([11,6],this);
j.data={b:d,JH:w,Jw:f,JI:b,JT:F};this.wD(j.data,Q);Q.Af(j);this.Iv=null;this.kG=null}else{var J=this.ub,Z=null;
if(H.X=="st_delsingle"){Z=JSON.parse(this.kG);Z[B.vz[H.pV[0]]].v.splice(H.pV[1],1);Z=JSON.stringify(Z)}if(Z==null)delete O.add.lmfx;
else O.add.lmfx=JSON.parse(Z);if(J!=null)JL.cW.$q(Q,O,J);var j=new Jj([11,6],this);j.data={b:[H.i],JH:[this.kG],Jw:[Z],JI:[this.Iv],JT:[JSON.stringify(J)]};
Q.Af(j);this.Iv=null;this.kG=null}O.D._$=!0;Q.r()};JL.cW.oW=function(H,N){if(N.add.iOpa==null)N.add.iOpa=255;
var Q=N.oP()?["pass"].concat(ta.Cj):ta.Cj;return{lrMd:{v:Q.indexOf(N.kE)},Opct:{v:{type:"#Prc",val:Math.round(N.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(N.add.iOpa*100/255)},t:"UntF"},yf:H.Ej(),yZ:H.wO(),oP:N.oP()}};
JL.cW.$q=function(H,N,Q){var c=N.oP()?["pass"].concat(ta.Cj):ta.Cj;N.kE=c[Q.lrMd.v];N.opacity=Math.round(Q.Opct.v.val*255/100);
N.add.iOpa=Math.round(Q.iOpa.v.val*255/100);H.wh(Q.yf);H.Hq(Q.yZ)};JL.cW.prototype.mK=function(H,N){for(var Q=0;
Q<H.b.length;Q++){var c=N.b[H.b[Q]],_=H.JH[Q];if(_==null)delete c.add.lmfx;else c.add.lmfx=JSON.parse(_);
JL.cW.$q(N,c,JSON.parse(H.JI[Q]));c.D._$=!0}N.r()};JL.cW.prototype.wD=function(H,N){for(var Q=0;Q<H.b.length;
Q++){var c=N.b[H.b[Q]],_=H.Jw[Q];if(_==null)delete c.add.lmfx;else c.add.lmfx=JSON.parse(_);JL.cW.$q(N,c,JSON.parse(H.JT[Q]));
c.D._$=!0}N.r()};JL.YU=function(){JL.Dc.call(this,l.mq)};JL.YU.prototype=new JL.Dc;JL.YU.prototype.Ly=function(H,N,Q,c){var _=JSON.parse(JSON.stringify(Q.qO)),O=JSON.parse(JSON.stringify(Q.qO)),L=null,s=null,r=null,u=-1,V=!1;
if(H.X=="delLC"){var C=JL.YU.tp(Q.qO,H.U_),T=Q.qO.lastAppliedComp?Q.qO.lastAppliedComp.v:0;O.list.v.splice(C,1);
if(T==H.U_)delete O.lastAppliedComp;L="Delete Layer Comp"}if(H.X=="editLC"){var C=JL.YU.tp(Q.qO,H.U_),e=O.list.v[C].v;
if(H.hE!=null)e.Nm.v=H.hE;if(H.yN!=null){var t=H.yN,Y=e.capturedInfo.v,A=Y&(1<<t)-1;Y=Y>>t;if((Y&1)==1)Y--;
else Y++;e.capturedInfo.v=(Y<<t)+A}L="Layer Comp properties"}if(H.X=="setLC"){JL.YU.tT(Q);if(H.U_==0)delete O.lastAppliedComp;
else O.lastAppliedComp={t:"long",v:H.U_};L="Switch Layer Comp";V=!0}if(H.X=="updLC"){JL.YU.tT(Q);s=JL.YU.tJk(Q,H.U_);
r=JL.YU.lg(Q,H.U_);O.lastAppliedComp={t:"long",v:H.U_};L="Update Layer Comp";u=H.U_;V=!0}if(H.X=="addLC"){JL.YU.tT(Q);
var G=1;for(var j=0;j<O.list.v.length;j++)G=Math.max(G,O.list.v[j].v.compID.v)+1;G+=Math.floor(Math.random()*1e4);
var d={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(O.list.v.length+1)},compID:{t:"long",v:G},capturedInfo:{t:"long",v:7}}};
O.list.v.push(d);O.lastAppliedComp={t:"long",v:G};L="New Layer Comp";var w=JL.YU.lg(Q,G);JL.YU.tj(Q,w,G)}var f=new Jj(L,this);
f.data={t$U:_,t$N:O,DH:s,DY:r,U_:u,Uz:V};this.wD(f.data,Q);Q.Af(f)};JL.YU.prototype.wD=function(H,N){N.qO=H.t$N;
N.qf=!0;if(H.DY)JL.YU.tj(N,H.DY,H.U_);if(H.Uz){var Q=N.qO.lastAppliedComp?N.qO.lastAppliedComp.v:0,c=JL.YU.tp(N.qO,Q),_=c==-1?null:N.qO.list.v[c].v,O=_?_.capturedInfo.v:7;
JL.YU.ti(N,Q,O);N.r()}};JL.YU.prototype.mK=function(H,N){N.qO=H.t$U;N.qf=!0;if(H.DH)JL.YU.tj(N,H.DH,H.U_);
if(H.Uz){var Q=N.qO.lastAppliedComp?N.qO.lastAppliedComp.v:0,c=JL.YU.tp(N.qO,Q),_=c==-1?null:N.qO.list.v[c].v,O=_?_.capturedInfo.v:7;
JL.YU.ti(N,Q,O);N.r()}};JL.YU.tT=function(H){if(H.qO.lastAppliedComp!=null||!H.Jd)return;var N=JL.YU.lg(H,0);
JL.YU.tj(H,N,0);H.Jd=!1};JL.YU.ta=function(H,N,Q){H.v.Hrzn.v+=N;H.v.Vrtc.v+=Q};JL.YU.tp=function(H,N){var Q=H.list.v;
for(var c=0;c<Q.length;c++)if(Q[c].v.compID.v==N)return c;return-1};JL.YU.tJU=function(H){var N=H.layerSettings.v,_=null;
if(N.length==0)return;var Q="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),c=N[0].v;
if(c.enab==null)c.enab={t:"bool",v:!0};if(c.Ofst==null)c.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var O=0;O<N.length;O++){var L=N[O].v;if(_==null)_=JSON.parse(JSON.stringify(L));else for(var s=0;
s<Q.length;s++){var r=Q[s];if(L[r])_[r]=JSON.parse(JSON.stringify(L[r]))}N[O].v=JSON.parse(JSON.stringify(_))}};
JL.YU.OD=function(H,N){var Q=H.add.shmd.cmls,c=Q.layerSettings.v;for(var _=0;_<c.length;_++){var O=c[_].v,L=O.compList.v[0].v;
if(L==N)return _}return-1};JL.YU.OL=function(H,N){var Q=JL.YU.OD(H,N);return Q==-1?null:H.add.shmd.cmls.layerSettings.v[Q].v};
JL.YU.ti=function(H,N,Q){for(var c=0;c<H.b.length;c++){var _=H.b[c],O=_.add.shmd.cmls,L=O.layerSettings.v,s=JL.YU.OL(_,N);
if(s==null){_.cE(!1);continue}if((Q&1)!=0){if(s.enab)_.cE(s.enab.v);else _.cE(!0)}if((Q&2)!=0){if(s.Ofst){var r=s.Ofst.v,u=_.vo(H),V=Math.round(r.Hrzn.v-u.x),C=Math.round(r.Vrtc.v-u.y);
if(V!=0||C!=0)l.UP.uw(H,[c],null,V,C)}}if((Q&4)!=0){if(s.Lefx){var T=JSON.parse(JSON.stringify(s.Lefx.v));
tE.Xd(T);if(JSON.stringify(T)!=JSON.stringify(_.add.lmfx)){_.add.lmfx=T;_.D._$=!0}}else delete _.add.lmfx;
if(s.blendOptions){var e=s.blendOptions.v;if(e.Opct)_.opacity=Math.round(255*e.Opct.v.val/100);if(e.Md)_.kE=_.add.lsct==tR.JQ?"norm":ta.FC(e.Md.v.BlnM)}else{_.opacity=255;
_.kE=_.oP()?"pass":"norm"}}}};JL.YU.tJk=function(H,N){var Q={};for(var c=0;c<H.b.length;c++){var _=H.b[c];
if(_.add.shmd==null||_.add.shmd.cmls==null)continue;Q["l"+_.add.lyid]=JSON.parse(JSON.stringify(JL.YU.OL(_,N)))}return Q};
JL.YU.lg=function(H,N){var Q={};for(var c=0;c<H.b.length;c++){var _=H.b[c],O=_.add.lyid;Q["l"+O]=JL.YU.OC(H,_,N)}return Q};
JL.YU.OC=function(H,N,Q){var c=N.add.shmd?N.add.shmd.cmls:null,_={classID:"null"},O=N.vo(H),L={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:O.x},Vrtc:{t:"long",v:O.y}}};
_.compList={t:"VlLs",v:[{t:"long",v:Q}]};_.enab={t:"bool",v:N.op()};_.Ofst=JSON.parse(JSON.stringify(L));
_.FXRefPoint=JSON.parse(JSON.stringify(c&&c.origFXRefPoint?c.origFXRefPoint:L));_.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ta.tyC(N.kE)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*N.opacity/255}}}};
if(N.add.vmsk){_.vectorMask={t:"Objc",v:{classID:"null"}};_.vectorMask.v.Ofst=JSON.parse(JSON.stringify(L))}if(N.add.lmfx){_.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(N.add.lmfx))};
tE.XG(_.Lefx.v)}return _};JL.YU.tJF=function(H,N){var Q=N.add.lyid;if(N.add.shmd==null)N.add.shmd={};
if(N.add.shmd.cmls==null){N.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:Q},layerSettings:{t:"VlLs",v:[{t:"Objc",v:JL.YU.OC(H,N,0)}]}}}};
JL.YU.tj=function(H,N,Q){for(var c=0;c<H.b.length;c++){var _=H.b[c],O=_.add.lyid;JL.YU.tJF(H,_);var L=_.add.shmd.cmls,s=L.layerSettings.v,r=N["l"+O];
if(r!=null)r={t:"Objc",v:JSON.parse(JSON.stringify(r))};var u=JL.YU.OD(_,Q);if(u==-1){if(r==null)continue;
else s.push(r)}else{if(r==null)s.splice(u,1);else s[u]=r}}};JL.YU.lS=function(H,N){for(var Q=0;Q<H.b.length;
Q++){var c=H.b[Q],_=c.add.lyid;if(c.add.shmd==null||c.add.shmd.cmls==null)continue;var O=c.vo(H),L=Math.round(O.x),s=Math.round(O.y);
if(!N){L=-L;s=-s}var r=c.add.shmd.cmls,u=r.layerSettings.v;if(r.origFXRefPoint)JL.YU.ta(r.origFXRefPoint,-L,-s);
for(var V=0;V<u.length;V++){var C=u[V].v;JL.YU.ta(C.Ofst,L,s);if(C.imageMask)JL.YU.ta(C.imageMask.v.Ofst,L,s);
if(C.vectorMask)JL.YU.ta(C.vectorMask.v.Ofst,L,s)}}};JL.sU=function(){JL.Dc.call(this,l.nP);this.gT=null};
JL.sU.prototype=new JL.Dc;JL.sU.tK=function(H,N,Q,c){if(c)N/=4;var _=0,O=0,L=255,s=0,r=0,u=255;while(O+H[_]<N){O+=H[_];
_++}while(s+H[L]<N){s+=H[L];L--}if(c){_-=Math.round(H[_]/(Q/32));L+=Math.round(H[L]/(Q/32));if(_<0)r=Math.round(-_*255/(L-_));
if(L>255)u=255-Math.round((L-255)*255/(L-_))}return[Math.max(_,0),Math.min(L,255),r,u,100]};JL.sU.prototype.Ly=function(H,N,Q,c,_){var O=H.X;
if(O=="auto"){var L=H.cC,s=JL.sU.getData(Q);for(var r=0;r<s.length;r++){var u=s[r],V=u.XH.f(),C,T=$.Yk(u.gk),e=.001*V;
if(L==0||L==2)C=[[0,255,0,255,100],JL.sU.tK(T[1],e,V,L==2),JL.sU.tK(T[2],e,V,L==2),JL.sU.tK(T[3],e,V,L==2)];
if(L==1)C=[JL.sU.tK(T[0],e*.33,V,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var t=JO.yz("levl",C);
JO.kn(t,u.gk,u.os)}JL.sU.lh(Q,s);JL.sU.lE(Q,s,[4,16,L],this);Q.r()}if(O=="edit_layer")this.tJm(H,N,Q,c);
if(O=="edit"||O=="confirm"||O=="cancel")this.lv(H,Q,_);if(O=="start"){if(Q.g.length==0)return;var Y=Q.b[Q.g[0]];
if(Y.add.SoLd&&Y.G<=0){var A=new k(z.E.W,!0);A.c=l.Mb;A.data={X:"start",filter:H.hs};N.N(A);return}if(!Q.Kk())return;
if(JE[H.hs]){if(Q.g.length!=1)alert("Will be applied to "+Q.g.length+" layers.");var A=new k(z.E.Y,!0);
A.data={X:z.m.gI,gL:"adjust_"+H.hs};N.N(A)}else{this.lv({X:"edit",Dq:1,qd:H.hs},Q,_);this.lv({X:"confirm",qd:H.hs},Q,_)}}};
JL.sU.prototype.tJm=function(H,N,Q,c){var _=H.X,O=Q.g[0],L=Q.b[O],s=Q.history[Q.ei],r;if(s&&s.c==this&&s.data.uY!=null&&s.data.i==O)r=s;
else{var r=new Jj([6,39],this);r.data={i:O,uY:JO.cV(L.add),UG:H.R};Q.Af(r)}r.data.UG=H.R;this.wD(r.data,Q)};
JL.sU.getData=function(H,N){var Q=[],c=new p(0,0,H.$,H.z);for(var _=0;_<H.g.length;_++){var O=H.b[H.g[_]],L={i:H.g[_],qx:O.G};
Q.push(L);var s=O.G<=0?null:O.G==1?O.Ab():O.hy(H).d,r=s?s.rect:O.rect;if(H.t)L.XH=s!=null?H.t.rect.sj(c):H.t.rect.sj(r);
else L.XH=N||s!=null?r.Fv(c):r.clone();var u=L.XH.f();L.gk=$.I(u*4);L.os=$.I(u*4);if(s){l.mh.gb(s.channel,s.rect,s.color,L.gk,L.XH);
l.mh.gb(s.channel,s.rect,s.color,L.os,L.XH)}else{$.Pg(O.buffer,r,L.gk,L.XH);$.Pg(O.buffer,r,L.os,L.XH)}if(H.t){L.aS=$.I(u);
$.Jg(H.t.channel,H.t.rect,L.aS,L.XH)}}return Q};JL.sU.prototype.lv=function(H,N,Q){if(this.gT==null)this.gT=JL.sU.getData(N);
if(H.X=="edit"){var c=JO.yz(H.qd,H.Dq);if(c!=null){for(var _=0;_<this.gT.length;_++){var O=this.gT[_];
JO.kn(c,O.gk,O.os)}JL.sU.lh(N,this.gT)}}if(H.X=="cancel"){JL.sU.OT(N,this.gT);this.gT=null}if(H.X=="confirm"){JL.sU.lE(N,this.gT,JO.names[H.qd],this);
this.gT=null}N.r()};JL.sU.OT=function(H,N){JL.sU.$s(H,N,!1)};JL.sU.lE=function(H,N,Q,c){for(var _=0;
_<N.length;_++){var O=N[_],L=H.b[O.i],s=L.G<=0?null:L.G==1?L.Ab():L.hy(H).d;if(s){s.hJ();s.rb=!0;L.Sa();
l.mh.gb(s.channel,s.rect,s.color,O.os,O.XH)}else{L.hJ();L.r();$.Pg(L.buffer,L.rect,O.os,O.XH)}}var r=new Jj(Q,c);
r.data=N;H.Af(r)};JL.sU.lh=function(H,N){for(var Q=0;Q<N.length;Q++){var c=N[Q],_=H.b[c.i];if(c.qx==0){_.extend(c.XH);
if(c.aS){$.Pg(c.gk,c.XH,_.buffer,_.rect);$.a.fX(c.os,c.XH,_.buffer,_.rect,c.aS,c.XH,0,c.XH,1)}else $.Pg(c.os,c.XH,_.buffer,_.rect)}else{var O=c.qx==1?_.Ab():_.hy(H).d;
O.extend(c.XH);if(c.aS){var L=$.I(c.XH.f()*4);$.sa(c.gk,L);$.a.fX(c.os,c.XH,L,c.XH,c.aS,c.XH,0,c.XH,1);
l.mh.mY(L,c.XH,O)}else l.mh.mY(c.os,c.XH,O);O.rb=!0;_.Sa()}_.r()}};JL.sU.$s=function(H,N,Q){for(var c=0;
c<N.length;c++){var _=N[c],O=H.b[_.i];if(_.qx==0){O.extend(_.XH);$.Pg(Q?_.os:_.gk,_.XH,O.buffer,O.rect);
O.hJ()}else{var L=_.qx==1?O.Ab():O.hy(H).d;L.extend(_.XH);l.mh.mY(Q?_.os:_.gk,_.XH,L);L.hJ();L.rb=!0;
O.Sa()}O.r()}};JL.sU.prototype.mK=function(H,N){var Q=N.b[H.i];if(H.uY!=null)JO.qY(H.uY,Q.add);else JL.sU.$s(N,H,!1);
N.r()};JL.sU.prototype.wD=function(H,N){var Q=N.b[H.i];if(H.uY!=null)JO.qY(H.UG,Q.add);else JL.sU.$s(N,H,!0);
N.r()};JL.lf=function(){JL.Dc.call(this,l.Mb);this.gT=null;this.X=null;this.TV=null};JL.lf.prototype=new JL.Dc;
JL.lf.prototype.Ly=function(H,N,Q,c,_){if(H.X=="start"){if(Q.g.length==0)return;var O=Q.b[Q.g[0]];if(O.add.SoLd&&O.G<=0){}else if(!Q.Kk())return;
var L=H.filter;if(JD[L]||JE[L]){if(Q.g.length!=1)alert("Will be applied to "+Q.g.length+" layers.");
var s=new k(z.E.Y,!0);s.data={X:z.m.gI,gL:"filter_"+L,UQ:this.ll(Q)};N.N(s)}else{var r={X:"edit",filter:H.filter,UQ:this.ll(Q)};
this.Ly(r,N,Q,c,_);r.X="confirm";this.Ly(r,N,Q,c,_)}}if(H.X=="edit"||H.X=="cancel"||H.X=="confirm"){if(H.X=="edit")this.TV=[H.filter,H.Dq];
if(H.UQ)this.tJs(H,Q,_);else this.tJu(H,Q,_)}if(H.X=="applylast"&&this.TV!=null){var r={X:"edit",filter:this.TV[0],Dq:this.TV[1],UQ:this.ll(Q)};
this.Ly(r,N,Q,c,_);r.X="confirm";delete r.Dq;this.Ly(r,N,Q,c,_)}};JL.lf.prototype.ll=function(H){var N=H.b[H.g[0]],Q;
if(N.add.SoLd&&N.G<=0){Q={i:H.g[0],index:0};if(N.add.SoLd.filterFX!=null)Q.index=N.add.SoLd.filterFX.v.filterFXList.v.length}return Q};
JL.lf.prototype.tJs=function(H,N,Q){var c=N.b[H.UQ.i],_=H.filter;if(H.X=="edit"){if(this.X==null){var O=VJ.names[_];
if(O==null)O=JO.names[_];this.X=new Jj(O,this);this.X.data={UQ:H.UQ,t$m:JSON.parse(JSON.stringify(c.add.SoLd))}}if(!c.kl()){c.add.SoLd.filterFX=VJ.lu();
this.X.data.uK={id:c.add.SoLd.placed.v,rect:new p,buffer:$.I(1),d:new R.qu};N.wx(this.X.data.uK);c.fc(N)}var L=c.add.SoLd.filterFX.v.filterFXList.v;
if(L[H.UQ.index]==null){L.push(VJ.$m(_,Q))}if(H.Dq)L[H.UQ.index].v.Fltr.v=H.Dq;this.X.data.tJC=JSON.parse(JSON.stringify(c.add.SoLd));
this.wD(this.X.data,N)}if(H.X=="cancel"){if(this.X)this.mK(this.X.data,N);this.X=null}if(H.X=="confirm"){N.Af(this.X);
this.X=null}};JL.lf.prototype.JR=function(H){return{T:H>>16,q:H>>8&255,H:H&255}};JL.lf.prototype.tJu=function(H,N,Q){if(this.gT==null)this.gT=JL.sU.getData(N,!0);
if(H.X=="edit"){for(var c=0;c<this.gT.length;c++){var _=this.gT[c],O={rect:_.XH,buffer:_.gk},L={rect:_.XH,buffer:_.os};
VJ.kn(H.filter,O,H.Dq,this.JR(Q.AF),this.JR(Q.ze),L,N.add.lnk2?N.add.lnk2:[])}JL.sU.lh(N,this.gT)}if(H.X=="cancel"){JL.sU.OT(N,this.gT);
this.gT=null}if(H.X=="confirm"){JL.sU.lE(N,this.gT,VJ.names[H.filter],this);this.gT=null}N.r()};JL.lf.prototype.mK=function(H,N){if(H.UQ){var Q=N.b[H.UQ.i];
if(H.uK)N.ja(H.uK);Q.add.SoLd=JSON.parse(JSON.stringify(H.t$m));if(Q.kl())Q.ZF(N);else{Q.fc(N);Q.G=0}}else JL.sU.$s(N,H,!1);
N.r()};JL.lf.prototype.wD=function(H,N){if(H.UQ){var Q=N.b[H.UQ.i];if(H.uK)N.wx(H.uK);Q.add.SoLd=JSON.parse(JSON.stringify(H.tJC));
if(Q.kl())Q.ZF(N);else Q.fc(N);if(!Q.Jq())Q._c+=32}else JL.sU.$s(N,H,!0);N.r()};var JG={hP:"0",Tz:"1",wB:"2",J$:"3",fd:"4",Sd:"5",Sl:"6",Jr:"7",IL:"10",vw:"11",IZ:"12",JL:"13",kT:"14",tb:"15",nc:"21",lY:"22",lb:"23",lz:"23.0",tU:"23.1",ls:"23.2",OP:"23.3",Od:"23.4",OG:"30",Vl:"31",fy:"40",Vz:"41"};
JG.qC={};JG.qC[JG.Tz]=["abr","brushes",JV,[9,3]];JG.qC[JG.wB]=["grd","gradients",wJ,[12,37]];JG.qC[JG.J$]=["shc","contours",Hu,[12,21]];
JG.qC[JG.fd]=["asl","styles",$j,[12,22]];JG.qC[JG.Sd]=["pat","patterns",$_,[12,62]];JG.qC[JG.Sl]=["csh","shapes",to,[12,77]];
JG.qC[JG.Jr]=["aco","swatches",Va,[9,8]];function K(){this.Os={};this.ds=0}K.prototype.reset=function(){this.Os={};
this.ds=0};K.prototype.trJ=function(H){this.ds++;this.Os[H]=!0};K.prototype.trr=function(H){this.ds--;
delete this.Os[H];if(this.ds<=0||K.Kd(H,K.trP))this.reset()};K.prototype.l=function(H){for(var N=0;N<H.$E.length;
N++)if(this.Os[H.$E[N]])return!0;return!1};K.prototype.Ik=function(){var H=this,N=H.l(K.Yz)?10:1,Q=0,c=0;
if(H.l(K.Ov))Q=-N;if(H.l(K.OE))Q=N;if(H.l(K.fS))c=-N;if(H.l(K.fO))c=N;return new E(Q,c)};K.prototype.fG=function(){var H=this,N=K.jH;
for(var Q=0;Q<10;Q++)if(H.l(N[Q]))return Q;return-1};K.Kd=function(H,N){return N.$E.indexOf(H)!=-1};
K.Ox=function(H){var N=H.code;return K.trI.indexOf(N)==-1||H.shiftKey&&N=="F5"};K.trH=function(H){if(H==null)return"";
var N=[];for(var Q=0;Q<H.length;Q++)N.push(H[Q].AN);return N.join(" + ")};K.trI="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
K.BV={AN:"Enter",$E:["Enter","NumpadEnter"]};K.Yz={AN:"Shift",$E:["ShiftLeft","ShiftRight"]};K.trP={AN:"Meta",$E:["MetaLeft","MetaRight","OSLeft","OSRight"]};
K.sf={AN:"Ctrl",$E:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};K.kz={AN:"Alt",$E:["AltLeft","AltRight"]};
K._f={AN:"Escape",$E:["Escape"]};K.JW={AN:"Space",$E:["Space"]};K.OM={AN:"Tab",$E:["Tab"]};K.trG={AN:"Home",$E:["Home"]};
K.trK={AN:"End",$E:["End"]};K.Ov={AN:"Left",$E:["ArrowLeft"]};K.fS={AN:"Up",$E:["ArrowUp"]};K.OE={AN:"Right",$E:["ArrowRight"]};
K.fO={AN:"Down",$E:["ArrowDown"]};K.Ve={AN:"+",$E:["NumpadAdd","Equal"]};K.fn={AN:"-",$E:["NumpadSubtract","Minus","Slash"]};
K.trF={AN:";",$E:["Semicolon"]};K.tHC={AN:"Dead",$E:["Dead"]};K.tHe={AN:"=",$E:["Equal"]};K.ff={AN:"Backspace",$E:["Backspace"]};
K.nC={AN:"Delete",$E:["Delete"]};K.tHF={AN:"Backslash",$E:["Backslash","IntlBackslash"]};K.twd={AN:"Backquote",$E:["Backquote"]};
K.fm={AN:"[",$E:["BracketLeft"]};K.Oq={AN:"]",$E:["BracketRight"]};K.twM={AN:".",$E:["Period"]};K.twh={AN:",",$E:["Comma"]};
K.m={AN:"A",$E:["KeyA","KeyQ"]};K.Op={AN:"B",$E:["KeyB"]};K.JR={AN:"C",$E:["KeyC"]};K.oI={AN:"D",$E:["KeyD"]};
K.E={AN:"E",$E:["KeyE"]};K.Xc={AN:"F",$E:["KeyF"]};K.Oi={AN:"G",$E:["KeyG"]};K.Oj={AN:"H",$E:["KeyH"]};
K.jt={AN:"I",$E:["KeyI"]};K.OY={AN:"J",$E:["KeyJ"]};K.j$={AN:"K",$E:["KeyK"]};K.VN={AN:"L",$E:["KeyL"]};
K.OB={AN:"M",$E:["KeyM"]};K.eo={AN:"N",$E:["KeyN"]};K.OZ={AN:"O",$E:["KeyO"]};K.yJ={AN:"P",$E:["KeyP"]};
K.tHI={AN:"Q",$E:["KeyQ"]};K.twn={AN:"R",$E:["KeyR"]};K.$M={AN:"S",$E:["KeyS"]};K.D={AN:"T",$E:["KeyT"]};
K.Hr={AN:"U",$E:["KeyU"]};K.Oe={AN:"V",$E:["KeyV"]};K.twl={AN:"W",$E:["KeyW"]};K.OF={AN:"X",$E:["KeyX"]};
K.tHT={AN:"Y",$E:["KeyY","KeyZ"]};K.$f={AN:"Z",$E:["KeyZ","KeyY"]};K.Om={AN:"0",$E:["Numpad0","Digit0"]};
K.Ou={AN:"1",$E:["Numpad1","Digit1"]};K.tw_={AN:"2",$E:["Numpad2","Digit2"]};K.tIR={AN:"3",$E:["Numpad3","Digit3"]};
K.tIt={AN:"4",$E:["Numpad4","Digit4"]};K.tIV={AN:"5",$E:["Numpad5","Digit5"]};K.tI$={AN:"6",$E:["Numpad6","Digit6"]};
K.tIl={AN:"7",$E:["Numpad7","Digit7"]};K.tIY={AN:"8",$E:["Numpad8","Digit8"]};K.tIb={AN:"9",$E:["Numpad9","Digit9"]};
K.jH=[K.Om,K.Ou,K.tw_,K.tIR,K.tIt,K.tIV,K.tI$,K.tIl,K.tIY,K.tIb];K.tHg={AN:"F1",$E:["F1"]};K.tHh={AN:"F2",$E:["F2"]};
K.tHb={AN:"F3",$E:["F3"]};K.tHB={AN:"FF",$E:["F4"]};K.tI_={AN:"F5",$E:["F5"]};K.twc={AN:"F6",$E:["F6"]};
K.twa={AN:"F7",$E:["F7"]};K.twW={AN:"F8",$E:["F8"]};K.tIq={AN:"F9",$E:["F9"]};K.tIi={AN:"F10",$E:["F10"]};
K.tIn={AN:"F11",$E:["F11"]};K.tIA={AN:"F12",$E:["F12"]};function Jj(H,N,Q){if(Q==null)Q=!1;this.name=H;
this.c=N;this.JG=Q;this.data=null}var JO={};JO.get=function(H){for(var N in JO.names)if(H[N]!=null)return N;
return null};JO.yz=function(H,N){var Q;if(H=="brit"){var c=N[0],_=N[1],O=N[2];if(O){var L=c/255,s=1+_/100;
if(s>1)s=1+Math.tan(Math.PI/2*_/100);var r=(1-s)/2,u=$.Iw.Am(L,L,L),V=[s,0,0,r,0,s,0,r,0,0,s,r,0,0,0,1],C=$.Iw.multiply(u,V),T=new $.wf(256);
for(var e=0;e<256;e++)T.T[e]=e;$.Iw.transform(T,T,C);Q={type:"remap",oB:T.T,oF:T.T,UY:T.T,yR:!1,yj:!1}}else{var t=1024,Y=-30+60*(_+100)/200,A=[],j;
for(var e=0;e<4;e++)A.push($.kv.oS(e/3*255,e/3*255,!0));A[1].v.Hrzn.v=64;A[1].v.Vrtc.v=64-Y;A[2].v.Hrzn.v=128+64;
A[2].v.Vrtc.v=128+64+Y;A.sort(function(VI,rN){return VI.v.Hrzn.v-rN.v.Hrzn.v});var G=$.kv.__(A,t);A=[];
for(var e=0;e<3;e++)A.push($.kv.oS(e/2*255,e/2*255,!0));if(c<0){var d=128+10*c/150,w=128-120*c/150;A[1].v.Hrzn.v=w;
A[1].v.Vrtc.v=d;j=$.kv.__(A,t);for(var e=0;e<t;e++)if(e*(255/t)<w)j[e]=e*(255/t)/w*d/255}else{A[1].v.Hrzn.v=128-64*c/150;
A[1].v.Vrtc.v=128+24*c/150;j=$.kv.__(A,t)}var f=new Uint8Array(t);for(var e=0;e<t;e++){var b=Math.round((t-1)*j[e]);
f[e]=Math.round(255*G[b])}Q={type:"remap",oB:f,oF:f,UY:f,yR:!1,yj:!1}}}if(H=="levl"){var F=N,n,J,u,Z,P,M;
n=-F[0][0]/255;J=1/(F[0][1]/255-F[0][0]/255);u=$.Iw.multiply($.Iw.UH(J,J,J),$.Iw.Am(n,n,n));Z=$.Iw.UH(1/(F[1][1]/255-F[1][0]/255),1/(F[2][1]/255-F[2][0]/255),1/(F[3][1]/255-F[3][0]/255));
P=$.Iw.Am(-F[1][0]/255,-F[2][0]/255,-F[3][0]/255);M=$.Iw.multiply(Z,P);var f=new $.wf(256);for(var e=0;
e<256;e++)f.T[e]=f.q[e]=f.H[e]=e;var y=1/(F[0][4]/100),a=1/(F[1][4]/100),g=1/(F[2][4]/100),U=1/(F[3][4]/100);
$.Iw.transform(f,f,M);for(var e=0;e<256;e++){f.T[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.T[e]/255,a))));
f.q[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.q[e]/255,g))));f.H[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.H[e]/255,U))))}$.Iw.transform(f,f,u);
for(var e=0;e<256;e++){f.T[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.T[e]/255,y))));f.q[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.q[e]/255,y))));
f.H[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(f.H[e]/255,y))))}n=F[0][2]/255;J=F[0][3]/255-F[0][2]/255;
u=$.Iw.multiply($.Iw.Am(n,n,n),$.Iw.UH(J,J,J));Z=$.Iw.UH(F[1][3]/255-F[1][2]/255,F[2][3]/255-F[2][2]/255,F[3][3]/255-F[3][2]/255);
P=$.Iw.Am(F[1][2]/255,F[2][2]/255,F[3][2]/255);M=$.Iw.multiply(P,Z);$.Iw.transform(f,f,$.Iw.multiply(u,M));
Q={type:"remap",oB:f.T,oF:f.q,UY:f.H,yR:!1,yj:!1}}if(H=="curv"){var D=N[0].length==256?1:0,W=[];if(D==0){var m=$.kv.tH(N[0],256);
for(var e=1;e<4;e++){var q=$.kv.tH(N[e],256);W.push($.kv.TJ(q,m))}}else{var S=[];for(var e=0;e<4;e++){var I=new Uint8Array(256);
S.push(I);for(var v=0;v<256;v++)I[v]=N[e][v]}for(var e=1;e<4;e++)W.push($.kv.TJ(S[e],S[0]))}Q={type:"remap",oB:W[0],oF:W[1],UY:W[2],yR:!1,yj:!1}}if(H=="expA"){var h=N[0],i=N[1],JI=N[2],f=new Uint8Array(256);
for(var e=0;e<256;e++){var N=e/255,Jx=Math.pow(Math.abs(i),1/(Math.PI/2));if(i>0){N=Math.max(i/Math.E,N);
N=N*Math.exp(i/1.75+h/Math.PI);N=(1-Jx)*N+Jx*1}else{N=N*Math.exp(-i*1.75+h/Math.PI);N=N+-Jx*1.14}N=Math.pow(N,1/JI);
N=Math.max(0,Math.min(1,N));f[e]=Math.round(N*255)}Q={type:"remap",oB:f,oF:f,UY:f,yR:!1,yj:!1}}if(H=="vibA"){Q={type:"vibrance",gg:N}}if(H=="hue2"){N=JSON.parse(JSON.stringify(N));
var Jd=[],JC=[],JM=[];for(var e=0;e<256;e++){Jd[e]=e/255;JC[e]=0;JM[e]=0}var Jh=N.bc?N.qq:N.ry,Jv=1+Jh[2]/100,JW=Jv<1?1:0,Ji=JW*Jv+1-JW,Jc=(1-JW)*(Jv-1);
if(N.bc){var JT=Jh[0]/360,Jy=Math.tan(Math.PI/2*Jh[1]/100);for(var e=0;e<256;e++){Jd[e]=JT;JC[e]=Jy}}else{for(var e=0;
e<256;e++){var Jg=Jd[e],Jn=JC[e];Jd[e]+=Jh[0]/360;var Jq=Jh[1]/100;if(Jq>0)Jq=Math.tan(Math.PI/2*Jh[1]/100);
for(var v=0;v<6;v++){var tJ=N.gV[v].fY,ty=N.gV[v].gX,Jx=0;for(var JA=1;JA<4;JA++)if(ty[JA]<ty[0])ty[JA]+=360;
var td=ty[0],Jk=ty[1],rR=ty[2],Je=ty[3],JU=Jg*360;if(JU<ty[0])JU+=360;var JK=(JU-td)/(Jk-td),rH=(JU-rR)/(Je-rR);
if(JK<0)Jx=0;else if(JK<1)Jx=JK;else if(rH<0)Jx=1;else if(rH<1)Jx=1-rH;else Jx=0;var s=tJ[1]/100;if(s>0)s=Math.tan(Math.PI/2*tJ[1]/100);
Jd[e]+=Jx*tJ[0]/360;JC[e]+=Jx*s;JM[e]+=Jx*tJ[2]/100}}for(var e=0;e<256;e++){JC[e]=(1+JC[e])*(1+Jq)-1;
JM[e]=Math.max(-1,Math.min(1,JM[e]))}}var rL=new Uint8Array(256),Ju=new Uint8Array(256),JZ=new Uint8Array(256);
for(var e=0;e<256;e++){Jd[e]-=Math.floor(Jd[e]);var Jl=JC[e];if(Jl<0)JC[e]=(1+JC[e])*.5;else JC[e]=.5+.49*Math.atan2(JC[e],1)/(Math.PI/2);
JM[e]=(1+JM[e])/2;rL[e]=Math.round(255*Jd[e]);Ju[e]=Math.round(255*JC[e]);JZ[e]=Math.round(255*JM[e])}Q={type:"remapHSL",tz:rL,pe:Ju,tZ:JZ,xT:Ji,xP:Jc,tm:N.bc?1:0}}if(H=="nvrt"){var f=new Uint8Array(256);
for(var e=0;e<256;e++)f[e]=255-e;Q={type:"remap",oB:f,oF:f,UY:f,yR:!1,yj:!1}}if(H=="grdm"){var rV=N[0],rD=$.e.zp(rV.Clrs.v,0,0),t=1024,tb=$.e.CT(rV,rD,t),rv=$.I(t),rG=$.I(t),Js=$.I(t);
$.rY(tb,rv,0);$.rY(tb,rG,1);$.rY(tb,Js,2);if(N[1]){rv.reverse();rG.reverse();Js.reverse()}Q={type:"remap",oB:rv,oF:rG,UY:Js,yR:!0,yj:!1}}if(H=="selc"){var rI=new Float32Array(9*3*2),tv=N.uF,tt=N.ir;
for(var v=1;v<10;v++){var rE=(v-1)*6,rX=tv[v][0]/100,rQ=tv[v][1]/100,ra=tv[v][2]/100,rx=tv[v][3]/100;
if(tt){rI[rE]=rI[rE+1]=rI[rE+2]=1;rI[rE+3]=rX*(1+rx)+rx;rI[rE+4]=rQ*(1+rx)+rx;rI[rE+5]=ra*(1+rx)+rx}else{rI[rE+0]=(1+rX)*(1+rx);
rI[rE+1]=(1+rQ)*(1+rx);rI[rE+2]=(1+ra)*(1+rx)}}Q={type:"selc",uH:rI}}if(H=="blwh"){var rU=[],rO=0,rg=0;
for(var e=0;e<6;e++)rU.push((N[e]-50)/50);var rJ=$.e.NG(N[7]);rJ.T/=255;rJ.q/=255;rJ.H/=255;var tG=$.sM(rJ.T,rJ.q,rJ.H),rT=$.If($.En(tG.ht,1,.5)),JR=tG._u*tG.Dq;
if(rT==.5)rO=rg=.5;else{rO=JR*(.5-rT)/(.5/rT-1);rg=1-JR*(.5-rT)-1/(2*(1-rT));rg/=1-1/(2*(1-rT))}Q={type:"blwh",DB:rU,Lv:N[6]?1:0,DZ:tG.ht,If:rT,cJ:JR,Tk:rO,cD:rg}}if(H=="blnc"){var F=[];
for(var e=0;e<3;e++){var rc=N.fY[e][0]/100,rm=N.fY[e][1]/100,rn=N.fY[e][2]/100,rK=N.If?rK=(Math.min(rc,rm,rn)+Math.max(rc,rm,rn))/2:0;
F[e]=[rc-rK,rm-rK,rn-rK]}var W=[$.I(256),$.I(256),$.I(256)];for(var v=0;v<3;v++)for(var e=0;e<256;e++){var Vc=e*(1/255),rb=0,Y=0,rl=0;
Y=F[2][v];rl=Math.abs(Y);if(Y<0)rb=Math.pow(Vc,Math.SQRT2);else rb=1.63*(Math.pow(Vc+.04,.5)-.2);Vc=rl*rb+(1-rl)*Vc;
Y=F[1][v];rl=Math.abs(Y);if(Y<0)rb=Math.pow(Vc,2);else rb=Math.min(2.35*(Math.pow(Vc+.09,.5)-.3),Math.pow(Vc,1/2));
Vc=rl*rb+(1-rl)*Vc;Y=F[0][v];rl=Math.abs(Y);if(Y<0)rb=Vc<.4?0:Math.pow((Vc-.4)/.6,Math.SQRT2);else rb=Math.pow(Vc,Math.SQRT2/2);
Vc=rl*rb+(1-rl)*Vc;Vc=Math.max(0,Math.min(1,Vc));W[v][e]=Math.round(Vc*255)}Q={type:"remap",oB:W[0],oF:W[1],UY:W[2],yR:!1,yj:!1}}if(H=="phfl"){var rB=[N.qq.Rd.v/255,N.qq.Grn.v/255,N.qq.Bl.v/255],HI=N.mC/100,W=[$.I(256),$.I(256),$.I(256)];
for(var v=0;v<3;v++)for(var e=0;e<256;e++){var Vc=e*(1/255),Hw=Vc*rB[v];Hw=Math.max(0,Math.min(1,Hw));
Vc=HI*Hw+(1-HI)*Vc;W[v][e]=Math.round(Vc*255)}Q={type:"remap",oB:W[0],oF:W[1],UY:W[2],yR:!1,yj:N.uT}}if(H=="thrs"){var f=$.I(256);
for(var e=N;e<256;e++)f[e]=255;Q={type:"remap",oB:f,oF:f,UY:f,yR:!0,yj:!1}}if(H=="mixr"){var C=[];for(var e=0;
e<N.R.length;e++)if(e%5!=3)C.push(N.R[e]/100);if(N._J){for(var rf=1;rf<3;rf++)for(var Vc=0;Vc<4;Vc++)C[rf*4+Vc]=C[Vc]}Q={type:"matrix",Iw:C}}return Q};
JO.kn=function(H,N,Q){var c=Date.now();if(H.type=="matrix")$.Iw.tyA(N,Q,H.Iw);if(H.type=="blwh"){var _=H.cJ,O=H.If,L=H.Tk,s=H.cD,r=N.length;
for(var u=0;u<r;u+=4){var V=N[u]*(1/255),C=N[u+1]*(1/255),T=N[u+2]*(1/255),e=$.pI(V,C,T),t=0;for(var Y=0;
Y<6;Y++)t+=Math.min(1,1.7*(1-e.NK))*e._u*H.DB[Y]*JO.O_(e.ht,Y*(1/6));var A=Math.max(0,Math.min(1,e.NK*(1+t)));
if(H.Lv==1){var G=0;if(A<L)G=A*(.5/O);else if(A<s)G=A+_*(.5-O);else G=1-(1-A)*.5/(1-O);e.ht=H.DZ;e._u=Math.min(1,_+3*_*Math.abs(A-.5*(L+s)));
e.NK=G}else{e.ht=0;e._u=0;e.NK=A}var j=$.En(e.ht,e._u,e.NK);Q[u]=Math.round(j.T*255);Q[u+1]=Math.round(j.q*255);
Q[u+2]=Math.round(j.H*255)}}if(H.type=="selc"){var d=H.uH,r=N.length,w=1/255;for(var u=0;u<r;u+=4){var V=N[u]*w,C=N[u+1]*w,T=N[u+2]*w,e=$.pI(V,C,T),f=Math.max(V,Math.max(C,T)),b=Math.min(V,Math.min(C,T)),F=1-V,n=1-C,J=1-T,Z=0,P=0,M=0;
for(var Y=0;Y<9;Y++){var y=Y*6,D=0;if(d[y]==1&&d[y+1]==1&&d[y+2]==1&&d[y+3]==0&&d[y+4]==0&&d[y+5]==0)continue;
var a=F*d[y]+d[y+3],g=n*d[y+1]+d[y+4],U=J*d[y+2]+d[y+5];if(Y<6)D=JO.O_(e.ht,Y*(1/6))*e._u*2*Math.min(e.NK,1-e.NK);
else if(Y==6)D=Math.max(0,b-.5)*2;else if(Y==7)D=1-(Math.abs(f-.5)+Math.abs(b-.5));else D=Math.max(0,.5-f)*2;
Z+=(Math.max(0,Math.min(1,a))-F)*D;P+=(Math.max(0,Math.min(1,g))-n)*D;M+=(Math.max(0,Math.min(1,U))-J)*D}F=Math.max(0,Math.min(1,F+Z));
n=Math.max(0,Math.min(1,n+P));J=Math.max(0,Math.min(1,J+M));V=1-F;C=1-n;T=1-J;Q[u]=Math.round(V*255);
Q[u+1]=Math.round(C*255);Q[u+2]=Math.round(T*255)}}if(H.type=="remap"){$.tJA(N,Q,H.oB,H.oF,H.UY,H.yR,H.yj)}if(H.type=="remapHSL"){var W=new Uint32Array(N.buffer),m=new Uint32Array(Q.buffer),r=W.length;
for(var u=0;u<r;u++){var q=W[u],V=(q&255)*(1/255),C=(q>>>8&255)*(1/255),T=(q>>>16&255)*(1/255),S=q>>>24,Jd;
V=H.xT*V+H.xP*(1-V);C=H.xT*C+H.xP*(1-C);T=H.xT*T+H.xP*(1-T);var e=$.pI(V,C,T),I=e.ht,v=e._u,h=e.NK,i=H.tz[Math.round(I*255)]*(1/255),JI=H.pe[Math.round(I*255)]*(1/255)*2-1,Jx=H.tZ[Math.round(I*255)]*(1/255)*2-1;
if(H.tm==1)Jd=JI;else{if(JI>0)JI=Math.tan(Math.PI/2*JI);var Jd=Math.min(v*(1+JI),1)}var JC=Math.abs(Jx),JM=$.En(i,Jd*(1-JC),h+(Jx>0?1:-1)*Math.min(h,1-h)*v),j=$.En(i,Jd,h);
V=j.T*(1-JC)+JM.T*JC;C=j.q*(1-JC)+JM.q*JC;T=j.H*(1-JC)+JM.H*JC;m[u]=S<<24|T*255<<16|C*255<<8|V*255}}if(H.type=="vibrance"){var W=new Uint32Array(N.buffer),m=new Uint32Array(Q.buffer),r=W.length,Jh=H.gg[0]/100,Jv=H.gg[1]/100;
for(var u=0;u<r;u++){var q=W[u],V=(q&255)*(1/255),C=(q>>>8&255)*(1/255),T=(q>>>16&255)*(1/255),S=q>>>24,e=$.sM(V,C,T),I=e.ht,v=e._u,h=e.Dq,JW=0,Ji=45/360,Jc=I<Ji?Math.cos(Math.PI/2*(I-Ji/2)/(Ji/2)):0;
v=v+.2*(1-.4*Jc)*Jh*Math.max(0,Math.sin(v*Math.PI));v=v*(1+Jv);v=Math.max(0,Math.min(1,v));var j=$.pq(I,v,h);
V=j.T;C=j.q;T=j.H;m[u]=S<<24|T*255<<16|C*255<<8|V*255}}};JO.tyw=function(H,N,Q){if(H.type=="remap")o.vs(N,{T:H.oB,q:H.oF,H:H.UY},H.yR,H.yj,Q);
if(H.type=="remapHSL")o.NN(N,{T:H.tz,q:H.pe,H:H.tZ},Q,H.xT,H.xP,H.tm);if(H.type=="vibrance")o.EQ(N,H.gg[0]/100,H.gg[1]/100,Q);
if(H.type=="selc")o.Wk(N,H.uH,Q);if(H.type=="blwh")o.qj(N,H.DB,[H.Lv,H.DZ,H.If,H.cJ,H.Tk,H.cD],Q);if(H.type=="matrix")o.El(N,H.Iw,Q)};
JO.O_=function(H,N){var Q=$.Y_(N,H)*6;return Math.max(0,Math.min(1,Q<0?1+Q:1-Q))};JO.ready={brit:1,levl:1,curv:1,expA:1,vibA:1,hue2:1,blnc:1,blwh:1,phfl:1,mixr:1,nvrt:1,thrs:1,grdm:1,selc:1};
JO.nR=["expA","mixr"];JO.ys={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr"};
JO.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15]};
JO.keys={levl:[K.sf,K.VN],curv:[K.sf,K.OB],hue2:[K.sf,K.Hr],nvrt:[K.sf,K.jt],blnc:[K.sf,K.Op]};JO.jw=function(H,N){if(H=="brit"){N.brit={Pk:0,dy:0,ul:0,uz:0};
N.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}}}if(H=="levl"){N[H]=[];
for(var Q=0;Q<62;Q++)N[H].push([0,255,0,255,100])}if(H=="curv")N[H]=[[0,0,255,255],[0,0,255,255],[0,0,255,255],[0,0,255,255]];
if(H=="expA")N[H]=[0,0,1];if(H=="vibA")N[H]={classID:"null",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(H=="hue2")N[H]={bc:!1,qq:[0,25,0],ry:[0,0,0],gV:[{gX:[315,345,15,45],fY:[0,0,0]},{gX:[15,45,75,105],fY:[0,0,0]},{gX:[75,105,135,165],fY:[0,0,0]},{gX:[135,165,195,225],fY:[0,0,0]},{gX:[195,225,255,285],fY:[0,0,0]},{gX:[255,285,315,345],fY:[0,0,0]}]};
if(H=="nvrt")N[H]=1;if(H=="grdm")N[H]={rev:!1,mz:!1,e:JSON.parse(B.cz[B.order.indexOf("GrFl")]).Grad.v,mode:0,dP:867527939,mU:!1,mN:!0,mF:2048,mu:3,_V:[0,0,0,0],_C:[32768,32768,32768,32768]};
if(H=="selc"){N[H]={ir:!0,uF:[]};for(var Q=0;Q<10;Q++)N[H].uF.push([0,0,0,0])}if(H=="blwh")N[H]={classID:"null",Rd:{t:"long",v:50},Yllw:{t:"long",v:50},Grn:{t:"long",v:50},Cyn:{t:"long",v:50},Bl:{t:"long",v:50},Mgnt:{t:"long",v:50},useTint:{t:"bool",v:!1},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},bwPresetKind:{t:"long",v:3},blackAndWhitePresetFileName:{t:"TEXT",v:""}};
if(H=="blnc")N[H]={fY:[[0,0,0],[0,0,0],[0,0,0]],If:!1};if(H=="thrs")N[H]=128;if(H=="phfl")N[H]={color:{L_:7,Dq:[1254,3530,63045,0]},mC:10,uT:!1};
if(H=="mixr")N[H]={_J:!1,R:[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}};JO.nt=function(H,N,Q){if(H=="brit"){Q.Brgh.v=N[0];
Q.Cntr.v=N[1];Q.useLegacy.v=N[2]}if(H=="levl"){var c=Q.Adjs.v=[];for(var _=0;_<4;_++){var O=N[_],L={classID:"LvlA",Chnl:JO.lq(_)};
L.Inpt={t:"VlLs",v:[{yC:"long",Dq:O[0]},{yC:"long",Dq:O[1]}]};L.Otpt={t:"VlLs",v:[{yC:"long",Dq:O[2]},{yC:"long",Dq:O[3]}]};
L.Gmm={yC:"doub",Dq:O[4]/100};c.push({t:"Objc",v:L})}}if(H=="curv"){var c=Q.Adjs.v=[];for(var _=0;_<4;
_++){var O=N[_],L={classID:"CrvA",Chnl:JO.lq(_),Crv:{t:"VlLs",v:[]}};for(var s=0;s<O.length;s++)L.Crv.v.push(O[s]);
c.push({t:"Objc",v:L})}}if(H=="expA"){Q.Exps.v=N[0];Q.Ofst.v=N[1];Q.gammaCorrection.v=N[2]}if(H=="vibA"){Q.vibrance.v=N[0];
Q.Strt.v=N[1]}if(H=="hue2"){Q.Clrz.v=N.bc;var c=Q.Adjs.v=[];for(var _=0;_<7;_++){var r=_==0?N.bc?N.qq:N.ry:N.gV[_-1].fY,u=JO.nr(r);
c.push({t:"Objc",v:u});if(_!=0){var V=N.gV[_-1].gX;u.LclR={t:"long",v:_},u.BgnR={t:"long",v:V[0]};u.BgnS={t:"long",v:V[1]};
u.EndS={t:"long",v:V[2]};u.EndR={t:"long",v:V[3]}}}}if(H=="blnc"){Q.PrsL.v=N.If;var C=["ShdL","MdtL","HghL"];
for(var _=0;_<3;_++){var c=Q[C[_]].v;for(var s=0;s<3;s++)c[s].v=N.fY[_][s]}}if(H=="blwh")JO.write(H,N,Q);
if(H=="phfl"){Q.Dnst.v=N.mC;Q.PrsL.v=N.uT;var T=$.e.NG(N.qq),e=JO.lB([T.T,T.q,T.H,0]);e={classID:"LbCl",Lmnc:{t:"doub",v:e[0]/100},A:{t:"doub",v:e[1]/100},B:{t:"doub",v:e[2]/100}};
Q.Clr={t:"Objc",v:e}}if(H=="grdm"){Q.Grad.v=N[0];Q.Rvrs={t:"bool",v:N[1]}}if(H=="selc"){Q.Mthd.v=N.ir?"Absl":"Rltv";
var t=["Cyn","Mgnt","Ylw","Blck"],Y="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),c=Q.ClrC.v=[];
for(var _=1;_<10;_++){var A=N.uF[_],u={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:Y[_-1]}}};for(var s=0;s<4;
s++)u[t[s]]={t:"UntF",v:{type:"#Prc",val:A[s]}};c.push({t:"Objc",v:u})}}if(H=="thrs")Q.Lvl.v=N;if(H=="mixr"){Q.Mnch={t:"bool",v:N._J};
function G(j,_){var d={classID:"ChMx"},w={Rd:0,Grn:1,Bl:2,Cnst:4};for(var f in w)d[f]={t:"UntF",v:{type:"#Prc",val:j[_+w[f]]}};
return{t:"Objc",v:d}}if(N._J)Q.Gry=G(N.R,0);else{Q.Rd=G(N.R,0);Q.Grn=G(N.R,5);Q.Bl=G(N.R,10)}}return Q};
JO.nr=function(H){return{classID:"Hst2",H:{t:"long",v:H[0]},Strt:{t:"long",v:H[1]},Lght:{t:"long",v:H[2]}}};
JO.lq=function(H){var N=["Cmps","Rd","Grn","Bl"];return{t:"obj ",v:[{t:"Enmr",v:{class:"Chnl",type:"Chnl",enum:N[H]}}]}};
JO.lK=function(H,N){var Q,c={Cmps:0,Rd:1,Grn:2,Bl:3};if(H=="brit")Q=JO.cP("brit",N);if(H=="levl"){var _=N.Adjs.v;
Q=[];for(var O=0;O<4;O++)Q.push([0,255,0,255,100]);for(var O=0;O<_.length;O++){var L=_[O].v,s=c[L.Chnl.v[0].v.enum],r=Q[s];
if(L.Inpt){r[0]=L.Inpt.v[0].v;r[1]=L.Inpt.v[1].v}if(L.Otpt){r[2]=L.Otpt.v[0].v;r[3]=L.Otpt.v[1].v}if(L.Gmm)r[4]=Math.round(L.Gmm.v*100)}}if(H=="curv"){var _=N.Adjs.v;
Q=[];for(var O=0;O<4;O++)Q.push([$.kv.oS(0,0,!0),$.kv.oS(255,255,!0)]);for(var O=0;O<_.length;O++){var L=_[O].v,s=c[L.Chnl.v[0].v.enum],u=L.Crv.v,V=[];
for(var C=0;C<u.length;C++)V.push($.kv.oS(u[C].v.Hrzn.v,u[C].v.Vrtc.v));Q[s]=V}}if(H=="expA")Q=[N.Exps.v,N.Ofst.v,N.gammaCorrection.v];
if(H=="vibA")Q=JO.cP(H,N);if(H=="hue2"){var _=N.Adjs.v;Q={bc:N.Clrz.v,qq:[100,25,0],ry:[0,0,0],gV:[{gX:[315,345,15,45],fY:[0,0,0]},{gX:[15,45,75,105],fY:[0,0,0]},{gX:[75,105,135,165],fY:[0,0,0]},{gX:[135,165,195,225],fY:[0,0,0]},{gX:[195,225,255,285],fY:[0,0,0]},{gX:[255,285,315,345],fY:[0,0,0]}]};
for(var O=0;O<_.length;O++){var L=_[O].v,T=[L.H.v,L.Strt.v,L.Lght.v];if(L.LclR==null)Q.ry=Q.qq=T;else Q.gV[L.LclR.v-1].fY=T}}if(H=="blnc"){Q={fY:[[0,0,0],[0,0,0],[0,0,0]],If:N.PrsL.v};
var e=["ShdL","MdtL","HghL"];for(var O=0;O<3;O++){var _=N[e[O]].v;Q.fY[O]=[_[0].v,_[1].v,_[2].v]}}if(H=="blwh")Q=JO.cP(H,N);
if(H=="phfl"){var t=[255,0,0];if(N.Clr){var Y=N.Clr.v;if(Y.classID=="LbCl")t=JO.jd([Y.Lmnc.v*100,Y.A.v*100,Y.B.v*100])}Q={mC:N.Dnst.v,uT:N.PrsL.v,qq:$.e.Ta({T:t[0],q:t[1],H:t[2]})}}if(H=="grdm")Q=[N.Grad.v,N.Rvrs?N.Rvrs.v:!1];
if(H=="selc"){var A=["Cyn","Mgnt","Ylw","Blck"],c="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
Q={ir:N.Mthd.v!="Rltv",uF:[]};for(var O=0;O<10;O++)Q.uF.push([0,0,0,0]);var _=N.ClrC.v;for(var O=0;O<_.length;
O++){var L=_[O].v,s=c.indexOf(L.Clrs.v.Clrs),G=Q.uF[s+1];for(var C=0;C<4;C++)if(L[A[C]])G[C]=L[A[C]].v.val}}if(H=="thrs")Q=N.Lvl.v;
if(H=="mixr"){function j(d,w,O){var f={Rd:0,Grn:1,Bl:2,Cnst:4};for(var b in f)if(d[b])w[O+f[b]]=d[b].v.val}Q={_J:!1,R:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(N.Mnch&&N.Mnch.v)Q._J=!0;if(Q._J)j(N.Gry.v,Q.R,0);else{j(N.Rd.v,Q.R,0);j(N.Grn.v,Q.R,5);j(N.Bl.v,Q.R,10)}}return Q};
JO.cV=function(H){var N=JO.get(H);if(N=="brit"){if(H.CgEd)return JO.cP(N,H.CgEd);else return[H.brit.Pk,H.brit.dy,!0]}else if(N=="levl"){var Q=[];
for(var c=0;c<4;c++)Q.push(JSON.parse(JSON.stringify(H[N][c])));return Q}else if(N=="curv"){var Q=H[N];
if(Q[0].length==256)return Q;var _=[];for(var c=0;c<4;c++){var O=Q[c],L=[];_.push(L);for(var s=0;s<O.length;
s+=2)L.push($.kv.oS(O[s],O[s+1],!0))}return _}else if(N=="vibA")return JO.cP(N,H[N]);else if(N=="grdm"){var r=H[N];
return[r.e,r.rev]}else if(N=="blwh")return JO.cP(N,H[N]);else if(N=="phfl"){var r=H[N],u=[255,0,0];if(r.color){var O=r.color;
if(O.L_==7)u=JO.jd(O.Dq)}return{mC:r.mC,uT:r.uT,qq:$.e.Ta({T:u[0],q:u[1],H:u[2]})}}else return H[N]};
JO.jd=function(H){var N=H[0]/100,Q=H[1]/100,c=H[2]/100,_=903.3,O=.008856,L=(N+16)/116,s=L*L*L,r=L-c/200,u=r*r*r,V=Q/500+L,C=V*V*V,T=u>O?u:(116*r-16)/_,e=s>O?s:(116*L-16)/_,t=C>O?C:(116*V-16)/_,Y=t*96.72,A=e*100,G=T*81.427,j=$.Iw.US($.Iw.pR,[Y/100,A/100,G/100,0]);
for(var d=0;d<4;d++)j[d]=Math.max(0,Math.min(255,$.hU(j[d])*255));return j};JO.lB=function(H){for(var N=0;
N<4;N++)H[N]=$.tVM(H[N]/255);var Q=$.Iw.US($.Iw.UK($.Iw.pR),H),c=100*Q[0]/96.72,_=100*Q[1]/100,O=100*Q[2]/81.427;
if(c>.008856)c=Math.pow(c,1/3);else c=7.787*c+16/116;if(_>.008856)_=Math.pow(_,1/3);else _=7.787*_+16/116;
if(O>.008856)O=Math.pow(O,1/3);else O=7.787*O+16/116;var L=116*_-16,s=500*(c-_),r=200*(_-O);return[L*100,s*100,r*100,0]};
JO.cP=function(H,N){if(H=="blwh"){var Q="Rd Yllw Grn Cyn Bl Mgnt".split(" "),c=[];for(var _=0;_<6;_++)c.push(N[Q[_]].v);
c.push(N.useTint.v,N.tintColor.v);return c}if(H=="brit")return[N.Brgh.v,N.Cntr.v,N.useLegacy?N.useLegacy.v:!0];
if(H=="vibA")return[N.vibrance?N.vibrance.v:0,N.Strt?N.Strt.v:0]};JO.write=function(H,N,Q){console.log(Q);
if(H=="blwh"){var c="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var _=0;_<6;_++)Q[c[_]].v=N[_];Q.useTint.v=N[6];
Q.tintColor.v=N[7]}};JO.qY=function(H,N){var Q=JO.get(N);if(Q=="brit"){if(!H[2]){N.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:H[0]},Cntr:{t:"long",v:H[1]},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}};
N.brit={Pk:0,dy:0,ul:0,uz:0}}else{delete N.CgEd;N.brit.Pk=H[0];N.brit.dy=H[1]}}else if(Q=="levl"){for(var c=0;
c<4;c++)N[Q][c]=JSON.parse(JSON.stringify(H[c]))}else if(Q=="curv"){if(H[0].length==256)N[Q]=H;else{var _=[];
for(var c=0;c<4;c++){var O=H[c],L=[];_.push(L);for(var s=0;s<O.length;s++)L.push(O[s].v.Hrzn.v,O[s].v.Vrtc.v)}N[Q]=_}}else if(Q=="vibA"){N[Q]={classID:"null",vibrance:{t:"long",v:H[0]},Strt:{t:"long",v:H[1]}}}else if(Q=="grdm"){N[Q].e=H[0];
N[Q].rev=H[1]}else if(Q=="blwh")JO.write(Q,H,N[Q]);else if(Q=="phfl"){var r={color:{L_:7,Dq:[8445,-4871,1032,0]},mC:H.mC,uT:H.uT},u=$.e.NG(H.qq);
r.color.Dq=JO.lB([u.T,u.q,u.H,0]);N[Q]=r}else N[Q]=H};var VJ={};VJ.BX=[{uL:"LqFy"},{qm:[24,2],nE:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{qm:[24,4],nE:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl".split(",")},{qm:[24,6],nE:["AdNs","DstS","Mdn "]},{qm:[24,8],nE:["ClrH","Msc "]},{qm:[24,10],nE:["Clds","DfrC"]},{qm:[24,12],nE:["Shrp","ShrM","UnsM"]},{qm:[24,14],nE:["FndE"]},{qm:[24,16],nE:["HghP","Mxm ","Mnm ","Ofst","Rept"]}];
VJ.names={LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],"Msc ":[24,9,5],Clds:[24,11,0],DfrC:[24,11,1],Shrp:[24,13,0],ShrM:[24,13,2],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5]};
VJ.vI=function(H){var N=null;if(H=="LqFy"){var Q={JX:50,ht:50,map:new Float32Array(50*50*2)},c=new Uint8Array(Vl.nX(Q)),_=[];
for(var O=0;O<c.length;O++)_.push(c[O]);N={__name:"Liquify\0",classID:"LqFy",LqMe:{t:"tdta",v:_}}}if(H=="LnCr")N={__name:"Lens Correction\0",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(H=="\0\0\x02\xB1")N={__name:"Box Blur\0",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};
if(H=="GsnB")N={__name:"Gaussian Blur\0",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};if(H=="MtnB")N={__name:"Motion Blur\0",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(H=="RdlB")N={__name:"Radial Blur\0",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(H=="\0\0\x02\xB5")N={__name:"Surface Blur\0",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(H=="Dspl")N={__name:"Displace\0",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(H=="Pnch")N={__name:"Pinch\0",classID:"Pnch",Amnt:{t:"long",v:-100}};if(H=="Plr ")N={__name:"Polar Coordinates\0",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(H=="Rple")N={__name:"Ripple\0",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(H=="Shr ")N={__name:"Shear\0",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(H=="Sphr")N={__name:"Spherize\0",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(H=="Twrl")N={__name:"Twirl\0",classID:"Twrl",Angl:{t:"long",v:90}};if(H=="AdNs")N={__name:"Add Noise\0",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(H=="DstS")N={__name:"Dust & Scratches\0",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};
if(H=="Mdn ")N={__name:"Median\0",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};if(H=="ClrH")N={__name:"Color Halftone\0",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(H=="Msc ")N={__name:"Mosaic\0",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(H=="UnsM")N={__name:"Unsharp Mask\0",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(H=="HghP")N={__name:"High Pass\0",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(H=="Mxm ")N={__name:"Maximum\0",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(H=="Mnm ")N={__name:"Minimum\0",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(H=="Ofst")N={__name:"Offset\0",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(H=="Rept")N={__name:"Repeat\0",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(H=="brit")N={__name:"Brightness/Contrast\0",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(H=="levl")N={__name:"Levels\0",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(H=="curv")N={__name:"Curves\0",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(H=="expA")N={__name:"Exposure\0",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:0}};
if(H=="vibA")N={__name:"Vibrance\0",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(H=="hue2")N={__name:"Hue/Saturation\0",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(H=="blnc")N={__name:"Color Balance\0",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(H=="blwh")N={__name:"Black & White\0",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(H=="phfl")N={__name:"Photo Filter\0",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(H=="grdm")N={__name:"Gradient Map\0",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(B.cz[6]).Grad};
if(H=="selc")N={__name:"Selective Color\0",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}};
if(H=="thrs")N={__name:"Threshold\0",classID:"Thrs",Lvl:{t:"long",v:128}};if(H=="mixr")N={__name:"Channel Mixer\0",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
return N};VJ.tyc=function(H){var N=new E(0,0);if(H.enab.v==!1)return N;var Q=H.filterFXList.v;for(var c=0;
c<Q.length;c++){var _=Q[c].v,L=0,s=0;if(_.enab.v==!1)continue;var O=x.Xn(_.filterID.v);if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(O)!=-1){var r=_.Fltr.v.Rds.v.val;
L=s=r*2.57}if(O=="MtnB")L=s=_.Fltr.v.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,RdlB,Plr ,LnCr".split(",").indexOf(O)!=-1){L=s=1e4}L=Math.ceil(L);
s=Math.ceil(s);if(L>N.x)N.x=L;if(s>N.y)N.y=s}return N};VJ.kn=function(H,N,Q,c,_,O,L){if(O==null)O={buffer:$.I(N.buffer.length),rect:N.rect.clone()};
$.sa(N.buffer,O.buffer);if(H=="Avrg"){var s=0,r=0,u=0,V=0,C=1;for(var T=0;T<N.buffer.length;T+=4){var e=N.buffer[T+3];
u+=N.buffer[T]*e;r+=N.buffer[T+1]*e;s+=N.buffer[T+2]*e;V+=e}var t=1/V;s=Math.round(C*(s*t)+(1-C)*255);
r=Math.round(C*(r*t)+(1-C)*255);u=Math.round(C*(u*t)+(1-C)*255);$.Mw(O.buffer,s<<16|r<<8|u,4278190080)}if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(H)!=-1){var Y=Q.Rds.v.val,A=H=="\0\0\x02\xB1"?$.blur.Lj:$.blur.tDU;
VJ.$U(Y,A,O.buffer,O.rect);if(H=="UnsM"){var G=Q.Amnt.v.val/100,j=Q.Thsh.v;for(var T=0;T<N.buffer.length;
T++){if((T&3)==3){O.buffer[T]=N.buffer[T];continue}var d=N.buffer[T],w=O.buffer[T],f=G*(d-w);if(f>0)f=Math.max(0,f-j);
else f=Math.min(0,f+j);O.buffer[T]=Math.max(0,Math.min(255,d+f))}}if(H=="HghP")for(var T=0;T<N.buffer.length;
T++){if((T&3)==3){O.buffer[T]=N.buffer[T];continue}var d=N.buffer[T],w=O.buffer[T];O.buffer[T]=Math.max(0,Math.min(255,128+d-w))}}if(H=="\0\0\x02\xB5"){var b=Q.Rds.v.val,F=Q.Thsh.v,n=N.rect.$,J=N.rect.z,Z=new $.wf(n*J);
$.GQ(N.buffer,Z);var P=new $.wf(n*J);$.HW.gr(Z.T,Z.o,P.T,n,J,b,$.HW.ug,[F]);$.HW.gr(Z.q,Z.o,P.q,n,J,b,$.HW.ug,[F]);
$.HW.gr(Z.H,Z.o,P.H,n,J,b,$.HW.ug,[F]);$.sa(Z.o,P.o);$.GL(P,O.buffer)}if(H=="AdNs"){var M=new Uint8ClampedArray(O.buffer.buffer),y=255*Q.Nose.v.val/100,a;
if(Q.Dstr.v.Dstr=="Gsn")a=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else a=function(){return Math.random()*2-1};for(var T=0;T<M.length;T+=4){var b=M[T],g=M[T+1],U=M[T+2],D,W,m;
if(Q.Mnch.v){D=W=m=a()}else{D=a();W=a();m=a()}b+=y*D;g+=y*W;U+=y*m;M[T]=b;M[T+1]=g;M[T+2]=U}}if(H=="Mdn "||H=="DstS"||H=="Mxm "||H=="Mnm "){var b=0;
if(H=="Mdn "||H=="Mxm "||H=="Mnm ")b=Q.Rds.v.val;if(H=="DstS")b=Q.Rds.v;var A=$.HW.tHG;if(H=="Mxm ")A=$.HW.t$V;
if(H=="Mnm ")A=$.HW.tJq;var n=N.rect.$,J=N.rect.z,Z=new $.wf(n*J);$.GQ(N.buffer,Z);var P=new $.wf(n*J);
$.HW.gr(Z.T,Z.o,P.T,n,J,b,A);$.HW.gr(Z.q,Z.o,P.q,n,J,b,A);$.HW.gr(Z.H,Z.o,P.H,n,J,b,A);if(H=="Mdn "){$.set(Z.T,255);
$.HW.gr(Z.o,Z.T,P.o,n,J,b,A)}else if(H=="Mxm "||H=="Mnm "){var q=$.I(Z.o.length);$.set(q,255);$.UK(Z.o);
$.HW.gr(Z.o,q,P.o,n,J,b,A);$.UK(Z.o);$.UK(P.o)}else $.sa(Z.o,P.o);$.GL(P,O.buffer);if(H=="DstS"){var F=Q.Thsh.v;
for(var T=0;T<n*J*4;T++){var S=Math.abs(N.buffer[T]-O.buffer[T]);if(S<=F)O.buffer[T]=N.buffer[T]}}}if(H=="ClrH"){var I=N.rect.clone();
I.x=I.y=0;var b=Q.Rds.v;b=Math.round(b*Math.sqrt(2));var n=I.$,J=I.z,Z=new $.wf(n*J);$.GQ(N.buffer,Z);
$.UK(Z.T);$.UK(Z.q);$.UK(Z.H);var v=z.B("canvas","");v.width=n;v.height=J;var h=v.getContext("2d"),i=$.I(n*J*4);
for(var JI=0;JI<3;JI++){var Jx=JI==0?Z.T:JI==1?Z.q:Z.H,Jd=Math.PI*Q["Ang"+(JI+1)].v/180,JC=new Jo(1/b,0,0,1/b,0,0);
JC.rotate(Jd);$.kw(Jx,i,3);var JM=l._.Qk([i,I],JC,!0),Jh=JM.rect;h.clearRect(0,0,n,J);var Jv=Math.sin(Jd),JW=Math.cos(Jd);
for(var T=0;T<Jh.z;T++)for(var Ji=0;Ji<Jh.$;Ji++){var Jc=(Ji+Jh.x+.5)*b,JT=(T+Jh.y+.5)*b,Jy=Jc,Jg=JT;
Jc=JW*Jy-Jv*Jg;JT=Jv*Jy+JW*Jg;var Jn=JM.buffer[(T*Jh.$+Ji<<2)+3]*(1/255),Y=b*Math.sqrt(Jn*(1/Math.PI));
h.beginPath();h.arc(Jc,JT,Y,0,2*Math.PI);h.fill()}var Jq=h.getImageData(0,0,n,J);$.rY(Jq.data,Jx,3)}$.UK(Z.T);
$.UK(Z.q);$.UK(Z.H);$.GL(Z,O.buffer)}if(H=="Msc "){var tJ=Q.ClSz.v.val,n=N.rect.$,J=N.rect.z,ty=Math.ceil(n/tJ),JA=Math.ceil(J/tJ),td=$.I(ty*JA*4);
$.scale.ke(N.buffer,n,J,td,ty,JA,1/tJ);$.scale.ke(td,ty,JA,O.buffer,n,J,tJ)}if(H=="Clds"||H=="DfrC"){if(H=="Clds")$.Mw(O.buffer,4278190080);
var Jk=$.I(256*4);for(var T=0;T<256;T++){var rR=T<<2,Je=T/255,JU=1-Je;Jk[rR]=Math.round(Je*c.T+JU*_.T);
Jk[rR+1]=Math.round(Je*c.q+JU*_.q);Jk[rR+2]=Math.round(Je*c.H+JU*_.H)}var n=O.rect.$,J=O.rect.z,Jn=n*J,JK=$.I(Jn);
noise.seed(Math.random());for(var JT=0;JT<J;JT++)for(var Jc=0;Jc<n;Jc++){var rH=0,rL=1,Ju=1;for(var T=0;
T<8;T++){var JZ=Ju*(1/170);rH+=noise.perlin2(Jc*JZ,JT*JZ)*rL;rL*=.5;Ju=Ju<<1}JK[JT*n+Jc]=Math.round(Math.max(0,255*Math.min(1,.5+.7*rH*.5)))}var Jl=O.buffer;
for(var T=0;T<Jn;T++){var rR=T<<2,rV=JK[T]<<2,b=Jk[rV],g=Jk[rV+1],U=Jk[rV+2];if(H=="Clds"){Jl[rR]=b;
Jl[rR+1]=g;Jl[rR+2]=U}else{Jl[rR]=Math.abs(Jl[4*T]-b);Jl[rR+1]=Math.abs(Jl[4*T+1]-g);Jl[rR+2]=Math.abs(Jl[4*T+2]-U)}}}if(H=="Blr "||H=="BlrM"||H=="Shrp"||H=="ShrM"){var n=N.rect.$,J=N.rect.z,rD;
if(H=="Blr ")rD=[1,2,1,2,16,2,1,2,1];else if(H=="BlrM")rD=[1,2,1,2,4,2,1,2,1];else{var tb=H=="Shrp"?14:11;
rD=[-1,-1,-1,-1,tb,-1,-1,-1,-1]}rD=$.HW.Cr(rD);var rv=N.buffer.slice(0);$.cf(rv);$.HW.zV(rv,O.buffer,n,J,rD,3,H=="Shrp"||H=="ShrM"?0:255);
$.cY(O.buffer)}if(H=="MtnB"){var rG=Date.now(),JC=new Jo;JC.rotate(-Q.Angl.v*Math.PI/180);var JM=l._.Qk([N.buffer,N.rect],JC,!1,null,!0);
VJ.$U(Q.Dstn.v.val/2,$.blur.LK,JM.buffer,JM.rect);JC.UK();JM=l._.Qk([JM.buffer,JM.rect],JC,!1,O.buffer.buffer,!0,O.rect);
console.log(Date.now()-rG)}if(H=="RdlB"){var n=N.rect.$,J=N.rect.z,G=Q.Amnt.v,Js=Q.BlrM.v.BlrM=="Zm",JI=Q.Cntr.v,rI=JI.Hrzn.v,tv=JI.Vrtc.v,tt=Math.max(rI,1-rI)*n,rE=Math.max(tv,1-tv)*J,Y=Math.sqrt(tt*tt+rE*rE),rX=2*Math.PI*Y*1.2,rQ=Math.round(rX),ra=Math.round(Y),I=new p(0,0,rQ,ra),rx=$.I(rQ*ra*4),rU=Js?4:1,rJ=Js?.6:8*((n+J)/2)/1400,tG=.1,JZ=1,rT=1;
$.F.CL(N.buffer,n,J,rx,rQ,ra,rI,tv,rU,tG,JZ,rT);var JR=Js?$.I(rQ*ra*4):null;if(Js){$.F.zC(rx,JR,rQ,ra);
var rO=JR;JR=rx;rx=rO;I.$=ra;I.z=rQ}VJ.$U(rJ*G,$.blur.LK,rx,I);if(Js){$.F.zC(rx,JR,ra,rQ);var rO=JR;
JR=rx;rx=rO;I.$=rQ;I.z=ra}$.F.CC(rx,rQ,ra,O.buffer,n,J,rI,tv,rU,tG,JZ,rT)}if(H=="Plr "){var n=N.rect.$,J=N.rect.z;
if(Q.Cnvr.v.Cnvr=="RctP")$.F.CC(N.buffer,n,J,O.buffer,n,J,.5,.5,1,0,2,n/J);else $.F.CL(N.buffer,n,J,O.buffer,n,J,.5,.5,1,0,2,n/J)}if(H=="FndE"){var n=N.rect.$,J=N.rect.z;
VJ.tyL(N.buffer,O.buffer,n,J)}if(H=="Ofst"){var n=N.rect.$,J=N.rect.z,rg=new Uint32Array(N.buffer.buffer),rc=new Uint32Array(O.buffer.buffer),Jy=Q.Hrzn.v,Jg=Q.Vrtc.v,rm=Q.Fl.v.FlMd;
$.Mw(rc,0);if(rm=="Bckg"||rm=="Rpt"){var I=N.rect.clone();I.offset(Jy,Jg);$.Pg(rg,I,rc,O.rect)}if(rm=="Rpt"){var rn,rK,V$,Vc,rb;
Jy=Math.max(-n,Math.min(n,Jy));Jg=Math.max(-J,Math.min(J,Jg));rn=Jy>0?Jy:0;V$=Jy>0?n:n+Jy;rK=Jg>0?0:Jg+J;
Vc=Jg>0?Jg:J;rb=Jg>0?0:n*(J-1);for(var JT=rK;JT<Vc;JT++)for(var Jc=rn;Jc<V$;Jc++)rc[JT*n+Jc]=rg[rb+Jc-Jy];
rn=Jy>0?0:n+Jy;V$=Jy>0?Jy:n;rK=Jg>0?Jg:0;Vc=Jg>0?J:J+Jg;rb=Jy>0?0:n-1;for(var JT=rK;JT<Vc;JT++)for(var Jc=rn;
Jc<V$;Jc++)rc[JT*n+Jc]=rg[rb+n*(JT-Jg)];if(Jy>=0&&Jg>=0){rn=0;V$=Jy;rK=0;Vc=Jg;rb=0}if(Jy>=0&&Jg<0){rn=0;
V$=Jy;rK=J+Jg;Vc=J;rb=n*(J-1)}if(Jy<0&&Jg>=0){rn=n+Jy;V$=n;rK=0;Vc=Jg;rb=n-1}if(Jy<0&&Jg<0){rn=n+Jy;
V$=n;rK=J+Jg;Vc=J;rb=n*J-1}for(var JT=rK;JT<Vc;JT++)for(var Jc=rn;Jc<V$;Jc++)rc[JT*n+Jc]=rg[rb]}if(rm=="Wrp"){Jy=(Jy+100*n)%n;
Jg=(Jg+100*J)%J;var I=new p(Jy-n,Jg-J,n,J);$.Pg(rg,I,rc,O.rect);I.offset(n,0);$.Pg(rg,I,rc,O.rect);I.offset(0,J);
$.Pg(rg,I,rc,O.rect);I.offset(-n,0);$.Pg(rg,I,rc,O.rect)}}if(H=="Rept"){var rl=Q.Rsft.v.val/100,rB=Q.SpcX.v.val/100;
rB=Math.max(rB,-.99);var HI=Q.SpcY.v.val/100;HI=Math.max(HI,-.99);var JZ=Q.Scl.v.val/100,JC=new Jo;JC.rotate(Q.Angl.v*Math.PI/180);
JC.scale(JZ,JZ);var Hw={buffer:N.buffer,rect:N.rect};$.bt(Hw);if(Hw.rect.km()){Hw.buffer=N.buffer;Hw.rect=N.rect}var Jl=Hw.buffer,I=Hw.rect,rf=$.Wr(Jl,I),VI=new Uint32Array(Jl.buffer)[0];
if(!rf.km()&&!rf.v$(I)){var rN=$.I(rf.f()*4);$.Pg(Jl,I,rN,rf);Jl=rN;I=rf}I.x=I.y=0;VI=rB==0&&HI==0||Q.SpcC.v?VI:0;
function rp(Jc){return Jc<0?Math.ceil(Jc):Math.floor(Jc)}var rZ=JC.Sk(new E(I.$,0));rZ.x=rp(rZ.x);rZ.y=rp(rZ.y);
var $u=JC.Sk(new E(0,I.z));$u.x=rp($u.x);$u.y=rp($u.y);var JM=l._.Qk([Jl,I],JC,!1),Jh=JM.rect,rz=JM.buffer,Hy=Math.round(Jh.x),HR=Math.round(Jh.y),tq=Math.max(O.rect.$,O.rect.z)/Math.min(I.$*JZ*(1+rB),I.z*JZ*(1+HI));
tq=Math.ceil(tq*1.7);$.Mw(O.buffer,VI);for(var JT=-tq;JT<tq;JT++){for(var Jc=-tq;Jc<tq;Jc++){var HH=(Jc+JT*rl)*(1+rB),rh=JT*(1+HI);
Jh.x=Hy+Math.round(HH*rZ.x+rh*$u.x);Jh.y=HR+Math.round(HH*rZ.y+rh*$u.y);if(Jh.p$(O.rect))$.a.MR("norm",rz,Jh,O.buffer,O.rect,Jh,1)}}}if("Lqfy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,LnCr".split(",").indexOf(H)!=-1){var n=N.rect.$,J=N.rect.z,tX,Hg=0;
if(H=="LqFy")tX=Vl.Fp(new Uint8Array(Q.LqMe.v).buffer);else{var HT=H=="Dspl"?1:3;tX={JX:Math.floor(n/HT),ht:Math.floor(J/HT)};
tX.map=new Float32Array(tX.JX*tX.ht*2);if(H=="LnCr"){var rI=.5*(tX.JX-1),tv=.5*(tX.ht-1),tN=Math.max(Math.abs(0-rI),Math.abs(1-rI)),Hx=Math.max(Math.abs(0-tv),Math.abs(1-tv)),Hf=Math.sqrt(tN*tN+Hx*Hx),Vr=0,Vg=0,VE=-1,Ht=2,Js=3,VQ=2.22;
for(var JT=0;JT<tX.ht;JT++){for(var Jc=0;Jc<tX.JX;Jc++){var tt=(Jc-rI)*Js/Hf,rE=(JT-tv)*Js/Hf,b=Math.sqrt(tt*tt+rE*rE)*VQ,Vy=Math.atan(b),HV=Vy/b,rT=rI+Hf*HV*tt,VA=tv+Hf*HV*rE,T=JT*tX.JX+Jc<<1;
tX.map[T]=rT-Jc;tX.map[T+1]=VA-JT}}}else if(H=="Dspl"&&L.length!=0){Hg=Q.UndA.v.UndA=="WrpA"?2:1;var $S=Q.DspF.v.pth,w$;
for(var T=0;T<L.length;T++)if(L[T].VB==$S)w$=L[T];if(w$==null)w$=L[0];w$.cn();var VM=w$.Eq[1],VO=$.I(VM.f());
$.BS(w$.Eq[0],VO);var $q=VM.$,Hi=2*Q.HrzS.v/HT,HO=2*Q.VrtS.v/HT;for(var JT=0;JT<tX.ht;JT++){for(var Jc=0;
Jc<tX.JX;Jc++){var tN=Math.floor(VM.$*Jc/tX.JX),Hx=Math.floor(VM.z*JT/tX.ht),tt=rE=-.5+VO[Hx*$q+tN]/255,T=JT*tX.JX+Jc<<1;
tX.map[T]=tt*Hi;tX.map[T+1]=rE*HO}}}else if(H=="Pnch"||H=="Twrl"||H=="Sphr"){var G=1,VP=Math.PI,Hj=0,JI=3,tJ=1.53,HV=1;
if(H=="Pnch"||H=="Sphr")G=Q.Amnt.v/100;if(H=="Twrl")VP=Q.Angl.v*Math.PI/180;if(H=="Sphr")Hj=["Nrml","HrzO","VrtO"].indexOf(Q.SphM.v.SphM);
function A(Jc){Jc=Math.pow(Jc,1-Jc*.3-Jc*Jc*(Jc*Jc)*.5);return-.225*Math.sin(Jc*Math.PI)}function HK(J,wI,b,rn,rK,V$,Vc,HV){var tt=V$-rn,rE=Vc-rK,Jr=rn-J,wy=rK-wI,Je=tt*tt+rE*rE,U=2*(tt*Jr+rE*wy),JI=Jr*Jr+wy*wy-b*b,wD=Math.sqrt(U*U-4*Je*JI),wc=HV/(2*Je),wL=(-U+wD)*wc,wC=(-U-wD)*wc;
return HV*Math.min(wL,wC)}var ty=tX.JX,JA=tX.ht,VN=tX.JX/2,$d=tX.ht/2,HB=1/VN,b=Math.sqrt(JI*JI+1)/JI,Hz=JI+Math.sqrt(1/(JI*JI));
if(G<0){JI=1.72;b=1;Hz=JI;tJ=-1;HV=-1}for(var JT=0;JT<JA;JT++){var rE=(JT-$d)/$d;for(var Jc=0;Jc<ty;
Jc++){var tt=(Jc-VN)*HB;if(Hj==1)rE=0;else if(Hj==2)tt=0;var ti=Math.sqrt(tt*tt+rE*rE);if(ti<1&&ti!=0){var T=JT*tX.JX+Jc<<1;
if(H=="Pnch"){var HA=-G*A(ti)/ti;tX.map[T]=tt*HA*VN;tX.map[T+1]=rE*HA*$d}else if(H=="Sphr"){var rO=HK(0,Hz,b,0,0,ti,JI,HV),HU=tJ*G*(rO-1);
tX.map[T]=tt*HU*VN;tX.map[T+1]=rE*HU*$d}else if(H=="Twrl"){var Jd=Math.atan2(rE,tt)-VP*(1-ti)*(1-ti),Hk=Math.cos(Jd),He=Math.sin(Jd);
tX.map[T]=(ti*Hk-tt)*VN;tX.map[T+1]=(ti*He-rE)*$d}}}}}else if(H=="Shr "){var HN=JSON.parse(JSON.stringify(Q.ShrP.v));
$.kv.UC(HN,new Jo(0,255/127,255/127,0,-2,0));var HF=$.kv.__(HN,tX.ht,!0);Hg=Q.UndA.v.UndA=="WrpA"?2:1;
for(var JT=0;JT<tX.ht;JT++){var tt=-HF[JT]*tX.JX;for(var Jc=0;Jc<tX.JX;Jc++){var T=JT*tX.JX+Jc<<1;tX.map[T]=tt}}}else if(H=="Rple"){Hg=1;
var G=Q.Amnt.v/100,Hm=4,Hs=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],Hn=1,H_=1,Jr=0,wt=["Sml","Mdm","Lrg"].indexOf(Q.RplS.v.RplS);
if(wt==0){Hn=1;H_=.2;Jr=3}if(wt==2){Hn=1;H_=2;Jr=-1;Hs=Hs.reverse()}var wV=function(Jc,JT){var JI=Math.cos,rH=0;
for(var T=0;T<Hm;T++)for(var Ji=0;Ji<Hm;Ji++)rH+=Hs[T*Hm+Ji]*JI(Jc*(T+Jr)-JT*(Ji+Jr));return rH},tW=Math.floor(50/HT),Hl=new Float32Array(tW*tW*2),wr=H_*G*.5/HT;
for(var JT=0;JT<tW;JT++)for(var Jc=0;Jc<tW;Jc++){var rI=Hn*Jc*2*Math.PI/tW,tv=Hn*JT*2*Math.PI/tW,wH=wV(rI,tv),tt=(wV(rI+.01,tv)-wH)*100,rE=(wV(rI,tv+.01)-wH)*100,T=(JT*tW+Jc)*2;
Hl[T]=tt*wr;Hl[T+1]=rE*wr}for(var JT=0;JT<tX.ht;JT++)for(var Jc=0;Jc<tX.JX;Jc++){var He=JT%tW,Hk=Jc%tW,T=JT*tX.JX+Jc<<1,ww=He*tW+Hk<<1;
tX.map[T]=Hl[ww];tX.map[T+1]=Hl[ww+1]}}}$.oL.CS(N.buffer,O.buffer,n,J,null,tX.map,tX.JX,tX.ht,Hg)}return O};
VJ.tyL=function(H,N,Q,c){var _=$.I(H.length);$.HW.zV(H,N,Q,c,[-1,0,1,-2,0,2,-1,0,1],3,0);$.HW.zV(H,_,Q,c,[1,2,1,0,0,0,-1,-2,-1],3,0);
for(var O=0;O<_.length;O+=4){var L=N[O],s=N[O+1],r=N[O+2],u=N[O+3],V=_[O],C=_[O+1],T=_[O+2],e=_[O+3];
N[O]=255-Math.max(0,Math.min(255,Math.sqrt(L*L+V*V)));N[O+1]=255-Math.max(0,Math.min(255,Math.sqrt(s*s+C*C)));
N[O+2]=255-Math.max(0,Math.min(255,Math.sqrt(r*r+T*T)))}};VJ.$U=function(H,N,Q,c){$.cf(Q);N(Q,c,H);$.cY(Q)};
VJ.lu=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
VJ.$m=function(H,N){var Q={T:N.AF>>16,q:N.AF>>8&255,H:N.AF&255},c={T:N.ze>>16,q:N.ze>>8&255,H:N.ze&255},_=VJ.names[H];
if(_==null)_=JO.names[H];var O=H;for(var L in JO.ys)if(JO.ys[L]==H)O=L;var s={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:tg.get(_)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:$.e.Ta(Q)},BckC:{t:"Objc",v:$.e.Ta(c)},filterID:{t:"long",v:x.twj(O)}}};
if(JD[H]||JE[H])s.v.Fltr={t:"Objc",v:VJ.vI(H)};return s};function ta(){}ta.XL=[2,5,5,7,4,4];ta.Cj="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ta.io="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ta.ln="Normal,Dissolve,Darken,Multiply,Color Burn,Linear Burn,Darker Color,Lighten,Screen,Color Dodge,Linear Dodge,Lighter Color,Overlay,Soft Light,Hard Light,Vivid Light,Linear Light,Pin Light,Hard Mix,Difference,Exclusion,Subtract,Divide,Hue,Saturation,Color,Luminosity".split(",");
ta.l_=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ta.FC=function(H){if(H=="passThrough")return"pass";return ta.Cj[ta.io.indexOf(H)]};ta.tyC=function(H){if(H=="pass")return"passThrough";
return ta.io[ta.Cj.indexOf(H)]};ta.getName=function(H){return ta.ln[ta.Cj.indexOf(H)]};function R(){this.rect=null;
this.kE="norm";this.opacity=255;this.fB=!1;this._c=0;this.nb=0;this.gA=[0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535];
this.name=null;this.add={};this.buffer=null;this.Gy=null;this._P=null;this.d=null;this.qz=null;this.cS=0;
this.Fd=z.B("canvas","").getContext("2d");this.LJ=z.B("canvas","").getContext("2d");this.LL=z.B("canvas","").getContext("2d");
this.Ld=z.B("canvas","").getContext("2d");this.G=0;this.uv=!1;this.UM=null;this.D=new R.jx}R.jx=function(){this.W$=!0;
this._$=!0;this.Jx=$.I(0);this.LG=$.I(0);this.jj=null;this.B_={};this.C$=null;this.JM=null;this.Gt=null;
this.FG=null;this.PD=null;this.Ca=null;this.wa=null;this.OU=null;this.Th=null;this.G$=null;this.WF=null;
this.JS=null;this.PL=!1};R.jx.prototype.fR=function(){this.W$=!1;this._$=!1;this.jj=null;this.PL=o.Yv};
R.jx.prototype.tyS=function(){Ja.KL(this.B_);this.Jx=$.I(0);this.LG=$.I(0);if(this.FG)this.FG.delete();
if(this.PD)this.PD.delete();this.FG=null;this.PD=null;var H=[this.Ca,this.wa,this.OU,this.Th,this.G$,this.WF];
for(var N=0;N<6;N++)if(H[N]!=null&&H[N]instanceof o.wf)H[N].delete();this.Ca=null;this.wa=null;this.OU=null;
this.Th=null;this.G$=null;this.WF=null};R.prototype.r=function(H){if(H==null)H=this.rect.clone();if(this.D.jj==null)this.D.jj=H;
else this.D.jj=this.D.jj.Fv(H)};R.prototype.oP=function(){return this.add.lsct==tR.Gp||this.add.lsct==tR.Vc};
R.prototype.TT=function(){var H=this.add;return H.SoCo!=null||H.GdFl!=null||H.PtFl!=null};R.prototype.ft=function(){var H=this.add.lmfx;
if(H==null)return;var N=["GrFl","patternFill"];for(var Q=0;Q<N.length;Q++){var c=B.vz[B.order.indexOf(N[Q])],_=H[c].v;
if(_.length==0)continue;for(var O=0;O<_.length;O++){var L=_[O].v;if(L.enab.v&&(L.Algn==null||!L.Algn.v))this.D._$=!0}}};
R.prototype.fr=function(){var H=this.d;if(this.TT())H=this.Ab();if(!o.Yv)return H.Lu();if(this.D.PD==null||this.D.W$||o.Yv!=this.D.PL){if(this.D.PD)this.D.PD.delete();
this.D.PD=new o.Vu(H.AK().$,H.AK().z);this.D.PD.set(H.Lu())}return this.D.PD};R.prototype.fH=function(H){var N=this.rect,Q=this.buffer;
if(!o.Yv){var c=this.jE(H,Q,N);if(c){Q=c.nn;N=c.rect}return Q}if(this.D.jj!=null||o.Yv!=this.D.PL){var c=this.jE(H,Q,N);
if(c){Q=c.nn;N=c.rect}var _=N;if(o.Yv!=this.D.PL||this.D.FG==null||this.D.FG.$!=_.$||this.D.FG.z!=_.z){if(this.D.FG)this.D.FG.delete();
this.D.FG=new o.wf(_.$,_.z);this.D.FG.set(Q)}else{var O=this.D.jj.clone();O.offset(-N.x,-N.y);this.D.FG.set(Q,O)}}return this.D.FG};
R.prototype.Vw=function(){var H=this.d;if(this.TT())H=this.Ab();return H!=null&&H.isEnabled&&(H.NG()==0||H.NG()!=0&&!H.rect.km())};
R.prototype.jE=function(H,N,Q){if(this.kl()){var c=this.hy(H);if(c.d&&c.d.isEnabled&&(!c.d.rect.km()||c.d.color==0)){var _=this.add.SoLd.filterFX.v;
c.d.JU=_.filterMaskDensity?_.filterMaskDensity.v:255;c.d.jQ=_.filterMaskFeather?_.filterMaskFeather.v:0;
var O=c.buffer,L=c.d.Qd(Q);$.UK(L);N=$.clone(N);$.a.fX(O,c.rect,N,Q,L,Q,0,Q,1);return{nn:N,rect:Q}}}};
R.prototype.tyl=function(){var H={Ws:!1,qG:!1,tJT:0,tJg:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)H.qG=!0;
if(this.Ab()&&this.Ab().isEnabled)H.Ws=!0;if(H.Ws&&H.qG){H.tJT=this.Ab().rect.x-this.add.vmsk.Ab().rect.x;
H.tJg=this.Ab().rect.y-this.add.vmsk.Ab().rect.y}return H};R.prototype.Sa=function(H){if(this.add.lsct==tR.JQ)return;
var N=this,Q=this.Ab()!=null&&this.Ab().rb,c=this.add.vmsk!=null&&this.add.vmsk.rb,_=this.tyl(),O=JSON.stringify(_)!=this.D.C$||_.Ws&&Q||_.qG&&c;
if(O){if(_.qG){var L=this.add.vmsk.Ab();if(_.Ws){this.d=this.Ab().NE(L);this.D.JM=new E(this.d.rect.x-this.Ab().rect.x,this.d.rect.y-this.Ab().rect.y)}else this.d=L}if(this.d)this.D.W$=!0;
if(this.d)this.D.Gt=new E(this.rect.x-this.d.rect.x,this.rect.y-this.d.rect.y);if(_.Ws)this.Ab().rb=!1;
if(_.qG)this.add.vmsk.rb=!1;this.r()}else{if(_.Ws&&_.qG){this.d.rect.x=this.Ab().rect.x+this.D.JM.x;
this.d.rect.y=this.Ab().rect.y+this.D.JM.y}}if(N.TT()){this.JV(H)}if(N.XX()){var s;if(this.d)s=new E(this.rect.x-this.d.rect.x,this.rect.y-this.d.rect.y);
if(this.d&&this.d.isEnabled&&(this.D.Gt==null||!s.v$(this.D.Gt))){this.D.Gt=s;this.r();this.D.W$=!0}}if(JO.get(N.add)!=null)this.D.W$=!0;
this.D.C$=JSON.stringify(_)};R.prototype.JV=function(H){var N=this,Q=N.add.vstk,c,_=N.add.vmsk?this.add.vmsk.Ab():null,L=!0;
if(_&&_.isEnabled&&_.NG()==0)c=_.AK().clone();else c=new p(0,0,H.$,H.z);var O=N.Ab();if(O&&O.isEnabled&&O.NG()==0)c=c.sj(N.d.AK());
if(Q&&!Q.fillEnabled.v)L=!1;var s=_&&Q;if(Q&&(!Q.strokeEnabled.v||Q.strokeStyleLineWidth.v.val==0))s=!1;
var r=$.I(c.f()*4);if(L){if(N.add.SoCo)Ja.Sy(r,N.add.SoCo.Clr.v);if(N.add.GdFl)Ja.Gw(N.add.GdFl,r,c,H,null,_&&_.color==0?_.rect:null);
if(N.add.PtFl)Ja.vh(N.add.PtFl,r,c,H,N.add.fxrp)}if(_){var u=_.JU;if(s)_.JU=255;var V=$.I(c.f());if(_.NG()!=0)$.set(V,Math.round(_.NG()));
if(_&&_.isEnabled){var C=_.AK(),T=_.Lu();if(C.v$(c))$.sa(T,V);else $.Jg(T,C,V,c)}if(N.add.SoCo&&L){$.kw(V,r,3)}else $.Sm(V,c,r,c);
if(s)_.JU=u}N.buffer=r;N.rect=c;if(s){var e=B.nO.e$.indexOf(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment),t=Q.strokeStyleContent.v,Y=B.nO.aw.indexOf(t.classID),A=this.add.vmsk.Ab(Q);
if(N.rect.v$(new p(0,0,H.$,H.z)))N.rect=N.rect;else if(e!=0){var G=N.rect.Fv(A.AK()),j=$.I(G.f()*4);
$.Pg(N.buffer,N.rect,j,G);N.buffer=j;N.rect=G}var u=A.JU;A.JU=255;var d=A.Qd(N.rect);A.JU=u;if(A.color==255)$.UK(d);
var w=$.I(N.rect.f()*4);if(Y==0)Ja.Sy(w,t.Clr.v);if(Y==1)Ja.Gw(t,w,N.rect,H,null,_.color==0?_.rect:null);
if(Y==2)Ja.vh(t,w,N.rect,H,N.add.fxrp);var f=Q.strokeStyleOpacity.v.val/100;if(f!=1)$.Yi(d,f);$.kw(d,w,3);
if(A.color==255)e=2-e;if(e==0){$.a.MR("norm",w,N.rect,N.buffer,N.rect,N.rect,1);$.Sm(V,N.rect,N.buffer,N.rect)}if(e==1){$.a.MR("norm",w,N.rect,N.buffer,N.rect,N.rect,1)}if(e==2){$.UK(V);
$.a.fX(w,N.rect,N.buffer,N.rect,V,c,255,N.rect,1,!1);$.UK(V)}if(A.JU!=255){var b=$.clone(w);$.Mw(b,4278190080,16777215);
$.a.MR("norm",b,N.rect,N.buffer,N.rect,N.rect,1-A.JU/255)}u=_.JU;_.JU=255;this.LG=_.Qd(N.rect);_.JU=u}this.r()};
R.prototype.fc=function(H,N){var Q=this,c=Q.add.SoLd.Idnt.v,_=Q.add.SoLd,O=H.Hj(c,_.Crop?_.Crop.v:null);
if(O==null)return;var L=O.Eq;_.Sz.v.Wdth.v=L[1].$;_.Sz.v.Hght.v=L[1].z;var s=_.warp.v,r=l._.HV(_.nonAffineTransform),u=$.F.tn(r,L[1]);
if(s&&!$.UB.vn(s)){var V=$.K.jm($.UB.cq(s)),C=V.x,T=V.y,e=1/V.$,t=1/V.z;u=$.F.tn(r);u=$.F.NE(u,[e,0,-C*e,0,t,-T*t,0,0])}var Y=l._.SJ(L,N,u,s);
if(Y==null){Q.buffer=$.I();Q.rect=new p}else if(Q.kl()){var A=Q.hy(H);A.buffer=Y.buffer;A.rect=Y.rect.clone();
this.ZF(H,N)}else{Q.buffer=Y.buffer;Q.rect=Y.rect}Q.Sa(H);Q.r();H.r()};R.prototype.ZF=function(H,N){if(N==null)N=!1;
var Q=this.hy(H),c=this.add.SoLd.filterFX.v,_=VJ.tyc(c),O=new p(0,0,H.$,H.z),L=Q.rect.Fv(O),s=Q.rect.clone();
s.FA(_.x,_.y);var r={buffer:null,rect:L.sj(s)};r.buffer=$.I(r.rect.f()*4);$.Pg(Q.buffer,Q.rect,r.buffer,r.rect);
if(c.enab.v&&N==!1){var u=c.filterFXList.v;for(var V=0;V<u.length;V++){var C=u[V].v;if(C.enab.v==!1)continue;
var T=$.e.NG(C.FrgC.v),e=$.e.NG(C.BckC.v),t=x.Xn(C.filterID.v),Y=C.Fltr?C.Fltr.v:null;if(JO.ys[t]!=null){var A=JO.ys[t],G=JO.lK(A,Y),j=JO.yz(A,G);
JO.kn(j,r.buffer,r.buffer)}else r=VJ.kn(t,r,Y,T,e,null,H.add.lnk2?H.add.lnk2:[])}}this.rect=r.rect;this.buffer=r.buffer;
this.hJ();this.r();H.r()};R.prototype.jp=function(H,N,Q){this.UM=this.fE(H,N,Q)};R.prototype.fD=function(H,N){var Q=this.fE(H,N,!0);
if(Q==null)return null;var c={rg:Q.G,fg:Q.nI,rect:Q.SB};if(c.rg==1||c.rg==3){var _=c.rect,O=$.I(_.$*_.z*4);
$.kw(c.fg,O,0);$.kw(c.fg,O,1);$.kw(c.fg,O,2);$.cl(H.t.channel,H.t.rect,O,_);c.fg=O}return c};R.prototype.fE=function(H,N,Q){var c,_,O,L,s,r,u;
if(this.G<=0){var V=$.I(this.rect.$*this.rect.z);$.rY(this.buffer,V,3);c=$.lO.Zh(N,{channel:V,rect:this.rect},"intersection");
if(c==null)return null;var C=$.hV(c.channel,c.rect);L=c.rect.clone();s=this.rect.clone();_=$.I(L.$*L.z*4);
$.Pg(this.buffer,s,_,L);$.kw(c.channel,_,3);O=$.clone(this.buffer);if(!Q){var T=$.clone(N.channel);$.UK(T);
$.Sm(T,N.rect,O,s)}r=$.clone(this.buffer);u=this.rect.clone()}if(this.G==1||this.G==3){var e=this.G==1?this.Ab():this.hy(H).d;
L=N.rect.clone();s=e.rect.clone();_=e.fA(L);var O=$.clone(e.channel);if(!Q)$.a.sF(e.color==255?$.cb(L.$*L.z):$.kh(L.$*L.z),L,O,s,N.channel,L,1);
r=$.clone(e.channel);u=e.rect.clone()}return{G:this.G,nI:_,SB:L,SZ:O,sv:s,CA:r,Cu:u}};R.prototype.jX=function(H,N){var Q=this.UM;
if(Q.G==0){this.rect=Q.Cu;this.buffer=Q.CA;this.r()}if(Q.G==1||Q.G==3){var c=Q.G==1?this.Ab():this.hy(H).d;
c.channel=Q.CA;c.rect=Q.Cu;if(this.G==1){c.rb=!0;this.Sa(H)}if(this.G==3)this.r()}this.UM=N};R.prototype.JJ=function(H,N){var Q=this.UM;
if(Q==null)return!1;if(Q.G!=this.G)return!1;if(!N.rect.v$(Q.SB))return!1;var c=Q.sv.Fv(Q.SB);if(Q.G<=0){if(!c.v$(this.rect))return!1;
var _=$.I(Q.nI.length>>2);$.rY(Q.nI,_,3);if(!$.v$(N.channel,_))return!1;var O=$.I(c.$*c.z*4);$.Pg(Q.SZ,Q.sv,O,c);
$.a.MR("norm",Q.nI,Q.SB,O,c,c,1);return $.v$(O,this.buffer)}if(Q.G==1||Q.G==3){var L=Q.G==1?this.Ab():this.hy(H).d;
if(!c.v$(L.rect))return!1;var s=$.I(c.f());$.set(s,L.color);$.Jg(Q.SZ,Q.sv,s,c);$.a.sF(Q.nI,Q.SB,s,c,N.channel,c,1);
return $.v$(s,L.channel)}};R.prototype.cX=function(H,N,Q,c){var _=this.UM;_.SB.offset(N,Q);var O=_.sv.Fv(_.SB);
if(_.G<=0){var L=$.I(O.f()*4);$.Pg(_.SZ,_.sv,L,O);$.a.MR("norm",_.nI,_.SB,L,O,O,1);this.buffer=L;this.rect=O;
this.r()}else{var s=this.G==1?this.Ab():this.hy(H).d,r=$.I(O.f());$.set(r,s.color);$.Jg(_.SZ,_.sv,r,O);
$.a.sF(_.nI,_.SB,r,O,c.channel,O,1);s.channel=r;s.rect=O.clone();if(this.G==1){s.rb=!0;this.Sa(H)}if(this.G==3)this.r()}};
R.prototype.fp=function(){var H=[-1,0,1,2];if(this.d)H.push(-2);if(this.qz)H.push(-3);return H};R.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
R.prototype.Vp=function(H){this.add.luni=this.name=H};R.prototype.jK=function(H){var N=this.add.lnsr,Q=this.add.TySh;
if(N=="rend"&&Q)this.Vp(X.Fk(Q.Bd).replace(/(?:\r\n|\r|\n)/g," ").slice(0,255))};R.prototype.op=function(){return(this._c&1<<1)==0};
R.prototype.XX=function(){return(this._c&1<<4)==0};R.prototype.Jq=function(){return(this._c&1<<5)!=0};
R.prototype.FT=function(H){var N=this.add.lspf;return N==null?!1:(N>>H&1)!=0};R.prototype.cE=function(H){if(H&&!this.op())this._c-=2;
if(!H&&this.op())this._c+=2};R.prototype.JP=function(){var H=this.add.lmfx;if(H==null)return!1;for(var N in H){if(N=="masterFXSwitch")continue;
if(N=="Scl")continue;if(N=="classID")continue;if(H[N].v.length>0)return!0}return!1};R.prototype.kl=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
R.prototype.oa=function(){var H=this.add.lmfx;if(H==null)return!1;if(!H.masterFXSwitch.v)return!1;for(var N in H){if(N=="masterFXSwitch")continue;
if(N=="Scl")continue;if(N=="classID")continue;var Q=H[N].v;for(var c=0;c<Q.length;c++)if(Q[c].v.enab.v)return!0}return!1};
R.prototype.vo=function(H,N,Q){var c=new p,_=this.Ja(H,Q);if(_.indexOf(0)!=-1)c=c.Fv(this.rect);if(_.indexOf(1)!=-1)c=c.Fv(this.Ab().AK());
if(_.indexOf(2)!=-1){var O=this.add.vmsk;c=c.Fv($.A.gw(O.L,O.g.length!=0&&N?O.g:null))}if(_.indexOf(3)!=-1)c=c.Fv(this.hy(H).d.AK());
if(_.length==0&&this.TT())c=new p(0,0,H.$,H.z);return c};R.prototype.As=function(){var H=this.add.artb.artboardRect.v,N=H.Btom.v,Q=H.Left.v,c=H.Rght.v,top=H.Top.v;
return new p(Q,top,c-Q,N-top)};R.prototype.L$=function(H){var N={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
N.Btom.v=H.y+H.z;N.Left.v=H.x;N.Rght.v=H.x+H.$;N.Top.v=H.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=N};R.prototype.Ja=function(H,N){var Q=[],c=this;if(c.G<=0||N){if(c.XX())if(!this.rect.km())Q.push(0);
if(c.Ab()&&!c.Ab().rect.km())if(c.Ab().WZ||N)Q.push(1);if(c.add.vmsk)if(c.add.vmsk.WZ||N)Q.push(2);if(c.kl()&&c.hy(H).d&&!c.hy(H).d.rect.km())Q.push(3)}else if(c.G==1){Q.push(1);
if(c.Ab().WZ&&!c.Ab().rect.km()){if(c.XX())if(!this.rect.km())Q.push(0);if(c.add.vmsk)if(c.add.vmsk.WZ)Q.push(2)}}else if(c.G==3&&!c.hy(H).d.rect.km())Q.push(3);
if(c.add.artb&&Q.indexOf(0)==-1)Q.push(0);Q.sort();return Q};R.prototype.Ab=function(){var H=this;return H.qz?H.qz:H.add.vmsk&&H.add.vmsk.isEnabled?null:H.d};
R.prototype.hy=function(H){var N=this.add.SoLd.placed.v,Q=H.add.FEid;if(Q==null)return null;for(var c=0;
c<Q.length;c++)if(Q[c].id==N)return Q[c];return null};R.prototype.extend=function(H){$.ttd(this,H)};
R.prototype.fo=function(H,N){var Q=H.clone();if(this.oa()){var c=this.add.lmfx,_=N.root.oo(N.b.indexOf(this)),O=c.gradientFillMulti.v,L=!1;
for(var s=0;s<O.length;s++)if(O[s].v.enab.v&&O[s].v.Algn.v)L=!0;if(L)Q=Q.Fv(_.AK(N,!1));var r=Ja.tDs(this,N);
Q.offset(r.x,r.y);Q.$+=r.$;Q.z+=r.z}return Q};R.prototype.hJ=function(){if(this.XX())$.bt(this);var H=this.Ab();
if(H)H.hJ()};R.prototype.clone=function(){var H=new R;H.rect=this.rect.clone();H.buffer=$.clone(this.buffer);
H.kE=this.kE;H.opacity=this.opacity;H.fB=this.fB;H._c=this._c;H.name=this.name;if(this.d)H.d=this.d.clone();
if(this.qz)H.qz=this.qz.clone();for(var N in this.add)H.add[N]=tE.clone(N,this.add[N]);return H};R.prototype.fb=function(H){var N=this;
if(N.add.TySh)delete N.add.TySh;if(N.add.SoLd){var Q=this.jE(H,this.buffer,this.rect);if(Q){this.buffer=Q.nn;
this.rect=Q.rect;this.r()}delete N.add.SoLd}if(N.add.SoCo||N.add.GdFl||N.add.PtFl){if(N.add.vogk)delete N.add.vogk;
if(N.add.SoCo)delete N.add.SoCo;if(N.add.GdFl)delete N.add.GdFl;if(N.add.PtFl)delete N.add.PtFl;if(N.add.vmsk){console.log(N.qz,N.d);
delete N.add.vmsk;if(N.qz==null&&N.d)delete N.d;else if(N.qz!=null&&N.d!=null){N.d=N.qz;delete N.qz}}}if(!N.oP()&&JO.get(N.add)==null&&!this.XX())this._c-=16};
R.prototype.fz=function(H){var N=255,Q=0;if(H==2){var c=this.add.SoLd.filterFX.v;if(c.filterMaskDensity)N=c.filterMaskDensity.v;
if(c.filterMaskFeather)Q=c.filterMaskFeather.v}else{var _=H==0?this.Ab():this.add.vmsk;N=_.JU;Q=_.jQ}return{hA:H,XD:N,Qe:Q}};
R.prototype.fZ=function(H){if(H.hA==2){var N=this.add.SoLd.filterFX.v;if(H.XD==255)delete N.filterMaskDensity;
else N.filterMaskDensity={t:"long",v:H.XD};if(H.Qe==0)delete N.filterMaskFeather;else N.filterMaskFeather={t:"doub",v:H.Qe};
this.r()}else{var Q=H.hA==0?this.Ab():this.add.vmsk;Q.JU=H.XD;Q.jQ=H.Qe;Q.rb=!0}};R.prototype.Ls=function(){var H=this,N=H.add.vmsk;
if(N==null)return;var Q=$.A.qh(N.L);H.add.vogk=[];for(var c=0;c<Q;c++)H.add.vogk.push($.FU.kh())};var tR={jZ:0,Gp:1,Vc:2,JQ:3};
R.qu=function(){this.color=255;this.WZ=!0;this.isEnabled=!0;this.iV=!1;this.JU=255;this.jQ=0;this.rect=new p;
this.channel=$.I(0);this.tJG=null;this.tJx=null;this.rb=!0};R.qu.prototype.NE=function(H){if(!this.isEnabled)return H;
var N=new R.qu;N.color=Math.round(this.NG()*H.NG()/255);if(this.NG()==0&&H.NG()==0)N.rect=this.AK().sj(H.AK());
else if(H.NG()==0)N.rect=H.AK().clone();else if(this.NG()==0)N.rect=this.AK().clone();else N.rect=this.AK().Fv(H.AK());
N.channel=this.Qd(N.rect);N.JU=255;N.jQ=0;var Q=H.Qd(N.rect);$.tJS(Q,N.rect,N.channel,N.rect);return N};
R.qu.prototype.AK=function(){if(this.jQ==0)return this.rect;var H=Math.ceil(this.jQ*2.2),N=this.rect.clone();
N.FA(H,H);return N};R.qu.prototype.Lu=function(){if(this.jQ==0&&this.JU==255)return this.channel;if(this.jQ==0){var H=$.clone(this.channel);
$.UK(H);$.Yi(H,this.JU/255);$.UK(H);return H}var N=this.AK(),Q=this.fA(N),H=$.I(N.f());$.blur.ur(Q,H,N,this.jQ);
if(this.JU!=255){$.UK(H);$.Yi(H,this.JU/255);$.UK(H)}return H};R.qu.prototype.NG=function(){return Math.round(255-(255-this.color)*(this.JU/255))};
R.qu.prototype.extend=function(H){$.extend(this,H,this.color)};R.qu.prototype.hJ=function(){if(this.color==255)$.UK(this.channel);
$.hJ(this);if(this.color==255)$.UK(this.channel)};R.qu.prototype.clone=function(){var H=new R.qu;H.color=this.color;
H.WZ=this.WZ;H.isEnabled=this.isEnabled;H.iV=this.iV;H.JU=this.JU;H.jQ=this.jQ;H.rect=this.rect.clone();
H.channel=$.clone(this.channel);return H};R.qu.prototype.fA=function(H,N){if(N==null)N=$.I(H.f());$.set(N,this.color);
$.Jg(this.channel,this.rect,N,H);return N};R.qu.prototype.Qd=function(H,N){var Q=this.AK(),c=this.Lu();
if(N==null)N=$.I(H.f());$.set(N,this.NG());$.Jg(c,Q,N,H);return N};R.hT=function(){this.WZ=!0;this.isEnabled=!0;
this.JU=255;this.jQ=0;this.L=[{type:6},{type:8,all:0}];this.qz=null;this.rb=!0;this.g=[];this.Pv=[]};
R.hT.prototype.offset=function(H,N){this.qz=this.Ab();$.A.Nj(this.L,new Jo(1,0,0,1,H,N));this.qz.rect.offset(H,N)};
R.hT.prototype.Ab=function(H){if(!this.rb&&this.qz&&H==null){this.qz.isEnabled=this.isEnabled;return this.qz}var N=$.A.gw(this.L);
if(H){var Q=Math.ceil(H.strokeStyleLineWidth.v.val);N.FA(Q,Q)}N=$.K.Cn(N);var c=new R.qu;c.color=$.A.eQ(this.L)?0:255;
c.WZ=this.WZ;c.isEnabled=this.isEnabled;c.iV=!0;c.rect=N;c.JU=this.JU;c.jQ=this.jQ;c.channel=$.I(c.rect.f());
if(!N.km())$.A.tHY(this.L,c.channel,c.rect,H);if(H==null){this.qz=c;this.rb=!1}return c};R.hT.prototype.clone=function(){var H=new R.hT;
H.WZ=this.WZ;H.isEnabled=this.isEnabled;H.JU=this.JU;H.jQ=this.jQ;H.L=R.hT.Cx(this.L);H.g=this.g.slice(0);
H.Pv=this.Pv.slice(0);return H};R.hT.prototype.concat=function(H){var N=H.L.slice(2);if(N.length==0)return;
N[0].AY=3;this.L=this.L.concat(N)};R.hT.Cx=function(H){var N=[];for(var Q=0;Q<H.length;Q++){var c=H[Q];
if(c.type>5||c.type==0||c.type==3)N.push(JSON.parse(JSON.stringify(c)));else N.push({type:c.type,kM:c.kM.clone(),P:c.P.clone(),kq:c.kq.clone()})}return N};
R.hT.tyB=function(H,N,Q){if(H.length!=N.length)return!1;for(var c=2;c<H.length;c++){var _=H[c],O=N[c];
if(_.type!=O.type)return!1;if(_.type==0||_.type==3){if(_.length!=O.length||!Q&&_.AY!=O.AY)return!1}else if(!_.kM.v$(O.kM)||!_.P.v$(O.P)||!_.kq.v$(O.kq))return!1}return!0};
R.hT.prototype.tyz=function(){var H=this.L;for(var N=3;N<H.length;N++)if(H[N].type==0||H[N].type==3)H[N].AY=-1};
R.JY=function(){this.type=null;this.dm=2;this.VB=null;this.Xl="";this.uV="";this.gZ="";this.open=0;this.raw=null;
this.Eq=null};R.JY.prototype.clone=function(){var H=new R.JY;H.type=this.type;H.dm=this.dm;H.VB=this.VB;
H.Xl=this.Xl;H.uV=this.uV;H.gZ=this.gZ;H.open=this.open;H.raw=new Uint8Array(this.raw.buffer.slice(0));
return H};R.JY.prototype.cn=function(H){var N=this;if(N.Eq)return;var Q=JP.Uw(N.raw.buffer);if(Q!="svg"&&Q!="pdf")H=0;
if(Q==null){alert("Unsupported format: "+x.sx(N.raw,0,4));return null}var c=JP.aD(Q);if(c.Ht){var _=new rw(name+(Q=="psd"?"":"-"+Q)+".psd");
c.cA(N.raw.buffer,_);for(var O=0;O<_.b.length;O++)if(_.b[O].TT())_.b[O].Sa(_);_.f$();_.r();_.LD();N.Eq=[_.cn(),new p(0,0,_.$,_.z)]}else if(c){var L=c.cA(N.raw.buffer)[0];
N.Eq=[new Uint8Array(L.data),L.MD]}if(N.Eq){if(H==1){var s=N.Eq[0],r=N.Eq[1],u=$.I(r.f());$.rY(s,u,3);
var V=$.hV(u,r),C=$.I(V.f()*4);$.Pg(s,r,C,V);N.Eq=[C,V]}$.cG(N.Eq)}};R.nJ="0";R.vN="2";R.JA="2.5";R.Jj="3";
R.rr="4";R.fU="5";R.jN="5.5";R.jF="6";R.KJ="7";R.CM="8";R.JK="9";R.v_="10";R.CK="11";R.rA="12";R.rU="13";
R.Jb="13.5";R.KT="13.7";R.HJ="14";R.Jk="14.5";R.nK="15";R.Ea="16";R.rR="17";R.rC="18";R.fk="19";R.rd="19.5";
R.HH="20";R.CY="21";R.Hw="21.5";R.rx="22";R.rS="22.5";R.Eh="23";R.tyP="24";R.rE="25";R.fN="26";R.fF="27";
R.HD="28";R.Hd="29";R.HS="30";R.Ei="31";R.Hl="32";R.KG="33";R.TG="34";R.rh="35";R.TS="36";R.Hb="36.5";
R.ri="37";R.TW="37.5";R.typ="37.6";R.HU="38";R.ro="38.5";R.uD="39";R.wt="40";R.fs="41";R.wJ="50";R.wr="51";
R.rB="52";R.rZ="53";R.wH="54";R.Kx="54.5";R.fu="54.6";R.KM="54.7";R.wL="55";R.fL="56";R.Pt="57";R.rF="58";
function rk(){this.depth=0;this.index=-1;this.i=null;this.tJp=null;this.TI=-1;this.children=null;this.parent=null;
this.JE=null}rk.prototype.tyk=function(){var H=0;if(this.i.oP()){for(var N=0;N<this.children.length;
N++)H+=this.children[N].tyk()}else if(this.i.buffer)H+=this.i.buffer.length;return H};rk.prototype.oo=function(H){var N=this.JE[H];
return this.JE[H]};rk.prototype.f_=function(H,N){var Q=this.i;if(!Q.op()||Q.FT(2)||Q.FT(31))return null;
if(Q.Vw()){var c=Q.d.rect.p$(H);if(!c&&Q.d.color==0)return}if(Q.oP()){for(var _=0;_<this.children.length;
_++){var O=this.children[_];O.f_(H,N)}}else if(Q.rect.p$(H))N.push(this.index)};rk.prototype.oc=function(H){var N=this.i;
if(!N.op()||N.FT(2)||N.FT(31))return null;if(N.Vw()){if(N.d.rect.Eo(H)){if(!$.oc(H,N.d.channel,N.d.rect))return null}else if(N.d.color==0)return null}if(N.oP()){for(var Q=this.children.length-1;
Q>=0;Q--){var c=this.children[Q],_=c.oc(H);if(_)return _}return null}else if(N.add.TySh&&N.rect.Eo(H))return this;
else if($.ttj(H,N.buffer,N.rect))return this;return null};rk.prototype.jR=function(H){var N=this.i;if(!N.op())return null;
var Q=N.add.vmsk;if(Q&&Q.isEnabled){var c=$.A.oc(Q.L,H).U_;if(c!=-1)return{tVv:this,$l:c}}if(N.oP()){for(var _=this.children.length-1;
_>=0;_--){var O=this.children[_],L=O.jR(H);if(L)return L}return null}return null};rk.prototype.jJ=function(H,N){H.push(this.index);
if(this.i.oP()){H.push(this.TI);if(N)if(this.i.G==1&&this.i.Ab().WZ==!1)return;for(var Q=0;Q<this.children.length;
Q++)this.children[Q].jJ(H)}};rk.prototype.uU=function(H,N,Q){var c=this.i,_,O;if(c.oP()&&c.add.artb!=null)N=c.As();
if(N.$>N.z){_=Q;O=Math.floor(Q*(N.z/N.$))}else{_=Math.floor(Q*(N.$/N.z));O=Q}var L=O;if(c.TT()&&c.add.vmsk){var s=c.rect.clone(),r,u;
if(s.km())s=new p(0,0,20,20);if(s.$>s.z){r=Q;u=Math.floor(Q*(s.z/s.$))}else{r=Math.floor(Q*(s.$/s.z));
u=Q}if(r*u==0)r=u=16;$.kg.Ze(c.Fd,r,u,s,c.buffer,c.rect,!1);$.kg.tDT(c.Fd,r,u);L=u}else if(c.add.SoCo){L=Math.max(16,Math.min(_,O));
$.kg.tcD(c.Fd,L,L,c.add.SoCo)}else if(c.add.GdFl){$.kg.tCq(c.Fd,L,L,c.add.GdFl)}else if(c.add.PtFl){$.kg.td$(c.Fd,L,L,c.add.PtFl,H)}else if(c.add.TySh){$.kg.tcf(c.Fd,L,L,c.add.TySh)}else if(JO.get(c.add)!=null){$.kg.tLY(c.Fd,L,L,c.add)}else if(c.add.SoLd){$.kg.Ze(c.Fd,_,O,N,c.buffer,c.rect,!1);
$.kg.tDc(c.Fd,_,O,c.add.SoLd)}else if(c.oP()){L=16}else{if(c.XX())$.kg.Ze(c.Fd,_,O,N,c.buffer,c.rect,!1);
else{$.kg.tcj(c.Fd,L,L)}}var V=c.Ab();if(V)$.kg.ib(c.LJ,_,O,N,V);if(c.kl()&&c.hy(H)&&c.hy(H).d){var C=c.hy(H).d;
$.kg.ib(c.Ld,_,O,N,C)}if(c.add.vmsk){$.kg.ib(c.LL,_,O,N,c.add.vmsk.Ab(),!0)}if(c.add.vmsk||V)L=Math.max(L,O);
c.cS=Math.max(L,16);if(c.oP()&&c.add.lsct==tR.Gp)for(var T=0;T<this.children.length;T++)this.children[T].uU(H,N,Q)};
rk.prototype.jI=function(H,N,Q,c){this.depth=Q;var _=H[N];if(c==null)c=[];this.JE=c;if(_.add.lsct==tR.JQ){this.tJp=_;
this.TI=N-1;this.children=[];var O=N+1;while(!0){var L=H[O];if(L==null)console.log(O,H.length);if(L.add.lsct==tR.Gp||L.add.lsct==tR.Vc){if(_.add.lyid==L.add.lyid)_.add.lyid+=16777215;
this.i=L;this.index=O-1;c[this.index]=this;c[N-1]=this;break}var s=new rk;s.parent=this;O=s.jI(H,O,Q+1,c);
this.children.push(s)}return O+1}else{this.i=_;this.index=N-1;c[this.index]=this;return N+1}};rk.prototype.KS=function(H,N,Q){var c=this.oo(Q),_=H;
while(c.parent!=null){_=c.i.fo(_,N);c=c.parent}return _};rk.prototype.AK=function(H,N){var Q=this.i,c=new p;
if(!Q.op())return c;var _=Q.Ab();if(Q.oP())for(var O=0;O<this.children.length;O++){var L=this.children[O].AK(H,!0);
c=c.Fv(L)}else if(JO.get(Q.add)!=null)c=Q.Vw()&&Q.d.color==0?Q.d.AK().clone():new p(0,0,H.$,H.z);else if(Q.TT()&&Q.add.vmsk&&Q.add.vmsk.isEnabled&&Q.add.vstk){var s=Q.add.vmsk,r=Q.add.vstk,u=Math.ceil(s.jQ*2.2),V=r.strokeEnabled.v?Math.ceil(r.strokeStyleLineWidth.v.val):0,C=B.nO.e$.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(C==0)V=0;else if(C==1)V/=2;c=$.K.Cn($.A.gw(s.L));c.FA(Math.ceil(u+V),Math.ceil(u+V))}else if(Q.TT()&&_&&_.isEnabled&&_.NG()!=0)c=new p(0,0,H.$,H.z);
else c=Q.vo(H,!1,!0);return N?Q.fo(c,H):c};rk.prototype.jy=function(H,N,Q,c,_){var O=this.i,L=Ja.oW(O);
if(!O.op())return;if(O.opacity==255){this.jD(H,N,Q,c,_);return}var s=$.clone(H);this.jD(s,N,Q,c,_);$.a.fX(s,N,H,N,null,null,0,Q,O.opacity/255,O.kE=="diss")};
rk.prototype.jD=function(H,N,Q,c,_){var O=this.i,L=Ja.oW(O),s=JO.get(O.add)!=null,C,t;if(O.oP()&&O.kE=="pass"&&!O.Vw()&&!(_.length>0||L.fill!=1||O.oa())){this.ru(H,N,Q,c);
return}var r=O.oP()&&O.kE=="pass"&&(_.length>0||L.fill!=1||O.oa()),u=O.rect,V=O.buffer;if(O.oP()){u=this.AK(c,!1);
var T=$.I(u.f()*4);C=$.I(u.f());this.ru(T,u,Q,c);$.rY(T,C,3)}else if(s){u=N.clone();C=$.I(u.f());$.set(C,255)}else{u=O.rect;
C=$.I(u.f());$.rY(V,C,3)}if(O.Vw()){var e=O.d.Qd(u);$.Yj(e,C)}if(O.oa())t=Ja.KC(O.add.lmfx,O.add.fxrp,C,u,c);
if(O.oa())Ja.Kg(O.add.lmfx,t,u,H,N,Q);if(O.oP()){V=$.I(u.f()*4);if(O.kE=="pass")$.Pg(H,N,V,u);if(r){var T=$.I(u.f()*4);
this.ru(T,u,Q,c);var Y=$.I(u.f());$.rY(T,Y,3);$.Sm(Y,u,V,u)}this.ru(V,u,Q,c)}if(s){V=$.clone(H);$.Mw(V,4278190080,16777215);
var A=JO.get(O.add),G=JO.yz(A,JO.cV(O.add));JO.kn(G,V,V)}var j=$.clone(V);$.Mw(j,4278190080,16777215);
for(var d=0;d<_.length;d++)_[d].jy(j,u,Q,c,[]);var w=$.I(u.f()*4);$.Pg(H,N,w,u);if(s)L.VE=!0;$.a.MR(O.kE=="pass"?"norm":O.kE,j,u,w,u,Q,1,L);
if(O.oa()){var f=O.D.B_.type.FrFX,b=null;if(f.length!=0){b=f[0];for(var d=0;d<f.length;d++)if(f[d].$C.$>b.$C.$)b=f[d];
var F=$.I(b.$C.$*b.$C.z*4);$.Pg(H,N,F,b.$C)}Ja.Ka(O.add.lmfx,t,u,H,N,Q,w,F,b?b.$C:null)}$.a.fX(w,u,H,N,C,u,0,Q,1,O.kE=="diss")};
rk.prototype.ru=function(H,N,Q,c){var _=this.children;for(var O=0;O<_.length;O++){var L=[];for(var s=O+1;
s<_.length;s++)if(_[s].i.fB)L.push(_[s]);else break;_[O].jy(H,N,Q,c,L);O+=L.length}};rk.Hr={delete:function(H){if(H&&H.$)H.delete()},I:function(H,N){return o.Yv?new o.wf(H,N):$.I(H*N*4)},$X:function(H,N,Q){if(o.Yv){if(H==null||H.$!=N||H.z!=Q){rk.Hr.delete(H);
return new o.wf(N,Q)}}else{if(H==null||!(H instanceof Uint8Array)||H.length!=N*Q*4){rk.Hr.delete(H);
return $.I(N*Q*4)}}return H},Jg:function(H,N,Q,c,_){(o.Yv?o.h_:$.Pg)(H,N,Q,c,_)},fX:function(H,N,Q,c,_,O,L,s,r,u){(o.Yv?o.a.Ak:$.a.fX)(H,N,Q,c,_,O,L,s,r,u)},MR:function(H,N,Q,c,_,O,L,s){if(o.Yv)o.a.dv(H,N,Q,c,_,O,L,s);
else $.a.MR(H,N,Q,c,_,O,L,s)},Mw:function(H,N,Q){if(o.Yv){o.jl(H);o.sk(N,Q)}else $.Mw(H,N,Q)},tye:function(H,N,Q,c,_){if(o.Yv){o.a.Ak(null,null,c,_,H,N,Q,_,1,!1)}else{if(Q==255)$.Sm(H,N,c,_);
else{var O=$.I(N.f());$.he(c,_,O,N);$.Yj(H,O);$.Mw(c,0,16777215);$.cl(O,N,c,_)}}},WJ:function(H,N,Q,c){if(o.Yv)o.a.Ak(null,null,Q,c,H,N,0,c,1,!1);
else $.WJ(H,N,Q,c)}};rk.prototype.Kf=function(H,N,Q,c,_,O){var L=typeof O=="number";if(!this.i.oP()&&(L&&this.index>O||!L&&O.indexOf(this.index)==-1)){return}var s=this.i,r=Ja.oW(s),u=rk.Hr,V=s.TT()?s.Ab():s.d;
if(!s.op())return;if(s.Vw()&&V.rect.km()){return}if(s.add.vstk==null&&this.AK(c,!1).km()){return}var C=this.AK(c,!0).sj(Q);
if(!N.v$(Q)&&!Q.p$(C))return;if(s.oP()&&s.add.artb)Q=Q.sj(s.As());var T=rk.jC(s,_);if(!T){this.jT(H,N,Q,c,_,O);
return}s.D.Ca=u.$X(s.D.Ca,C.$,C.z);u.Jg(H,N,s.D.Ca,C,Q);this.jT(s.D.Ca,C,Q,c,_,O);u.fX(s.D.Ca,C,H,N,null,null,0,Q,s.opacity/255,s.kE=="diss")};
rk.jC=function(H,N){return H.opacity!=255&&(N.length!=0||H.oP()||H.oa())};rk.prototype.jT=function(H,N,Q,c,_,O){var L=this.i,s=Ja.oW(L),r=JO.get(L.add)!=null,u=rk.Hr,V=rk.jC(L,_),C=V?1:L.opacity/255,T=L.TT()?L.Ab():L.d,e=L.oP()&&L.kE=="pass"&&!(_.length>0||s.fill!=1||L.oa()),t=!L.oP()&&!r&&!L.oa()&&_.length==0,Y=r&&!L.oa()&&_.length==0,w=null,f=null,b=null,Z;
if(e||t||Y){var A=H,G=N;if(L.Vw()){G=this.AK(c,!1);A=L.D.Th=u.$X(L.D.Th,G.$,G.z);u.Jg(H,N,L.D.Th,G)}if(e)this.KY(A,G,Q,c,O);
if(t)u.MR(L.kE,L.fH(c),L.rect,A,G,Q,C,s);if(Y){var j=L.Vw()&&T.NG()==0?T.AK().clone():G.clone();L.D.OU=this.jP(A,G,L.D.OU,j,L.add);
s.VE=!0;u.MR(L.kE,L.D.OU,j,A,G,Q,C,s)}if(L.Vw())u.fX(A,G,H,N,L.fr(),T.AK(),T.NG(),Q,1,L.kE=="diss");
L.D.fR();return}var d=L.oP()&&L.kE=="pass"&&(_.length>0||s.fill!=1||L.oa()),j=L.rect;if(L.oP()){j=this.AK(c,!1);
b=L.D.OU=u.$X(L.D.OU,j.$,j.z);u.Mw(b,0);this.KY(b,j,j,c,O);f=u.$X(L.D.wa,j.$,j.z);u.Jg(b,j,f,j)}else if(r){j=L.Vw()&&T.NG()==0?T.AK().clone():N.clone();
f=u.$X(L.D.wa,j.$,j.z);u.Mw(f,4294967295)}else{j=L.rect;w=L.fH(c);f=u.$X(L.D.wa,j.$,j.z);u.Jg(w,j,f,j)}L.D.wa=f;
if(L.Vw())u.tye(L.fr(),T.AK(),T.NG(),f,j);if(L.oa())if(L.D.jj||L.D._$||L.D.PL!=o.Yv||L.D.W$||L.oP()){var F=f;
if(o.Yv){F=$.I(j.$*j.z*4);f.get(F)}var n=$.I(j.$*j.z);$.rY(F,n,3);if(L.D._$||L.D.PL!=o.Yv||!$.v$(n,L.D.Jx)){var J=null;
if(L.TT()&&L.add.vmsk&&L.add.vmsk.isEnabled&&L.add.vmsk.Ab().color==0)J=L.add.vmsk.Ab().rect;Ja.tcg(L.D.B_,n,j,L.add.lmfx,L.add.fxrp,c,J);
L.D.Jx=$.clone(n)}}if(L.oa())Ja.Kg(L.add.lmfx,L.D.B_,j,H,N,Q);if(L.oP()){w=u.$X(L.D.Th,j.$,j.z);u.Mw(w,0);
if(L.kE=="pass")u.Jg(H,N,w,j);if(d)u.WJ(b,j,w,j);this.KY(w,j,Q,c,O);L.D.Th=w}if(r){w=L.D.Th=this.jP(H,N,L.D.Th,j,L.add)}if(L.oP()||r)Z=w;
else{Z=u.$X(L.D.Th,j.$,j.z);u.Jg(w,j,Z,j,Q);L.D.Th=Z}u.Mw(Z,4278190080,16777215);for(var P=0;P<_.length;
P++)_[P].Kf(Z,j,Q,c,[],O);var M=L.D.G$=u.$X(L.D.G$,j.$,j.z);u.Jg(H,N,M,j,Q);if(r)s.VE=!0;u.MR(L.kE=="pass"?"norm":L.kE,Z,j,M,j,Q,1,s);
if(L.oa()){var y=L.D.B_.type.FrFX,a=null;if(y.length!=0){a=y[0];for(var P=0;P<y.length;P++)if(y[P].$C.$>a.$C.$)a=y[P];
L.D.WF=u.$X(L.D.WF,a.$C.$,a.$C.z);u.Jg(H,N,L.D.WF,a.$C,Q);L.D.JS=u.$X(L.D.JS,a.$C.$,a.$C.z)}Ja.Ka(L.add.lmfx,L.D.B_,j,H,N,Q,M,L.D.WF,L.D.JS,a?a.$C:null)}if(!o.Yv){var g=$.I(j.f());
$.rY(f,g,3);f=g}u.fX(M,j,H,N,f,j,0,Q,1,L.kE=="diss");L.D.fR()};rk.prototype.jP=function(H,N,Q,c,_){var O=rk.Hr;
Q=O.$X(Q,c.$,c.z);O.Jg(H,N,Q,c);var L=JO.get(_),s=JO.yz(L,JO.cV(_));if(s!=null){if(o.Yv){var r=c.clone();
r.x=r.y=0;JO.tyw(s,Q,r)}else JO.kn(s,Q,Q)}return Q};rk.prototype.KY=function(H,N,Q,c,_){var O=this.children;
for(var L=0;L<O.length;L++){var s=[];for(var r=L+1;r<O.length;r++)if(O[r].i.fB)s.push(O[r]);else break;
O[L].Kf(H,N,Q,c,s,_);L+=s.length}};function rw(H){this.name=H;this._a=-1;this.fa=null;this.JO=null;this.mT=null;
this.tW=null;this.$=0;this.z=0;this.b=[];this.TP={};this.add={};this.buffer=null;this.FR=4;this.go=72;
this.g=[];this.UL=[[],[]];this.qO={classID:"CompList",list:{t:"VlLs",v:[]}};this.root=null;this.ec=null;
this.iI=!1;this.Te=!1;this.Jd=!1;this.Ow=!1;this.un=!1;this.kJ=!1;this.qf=!1;this.Pn=!1;this.EV=!1;this.jj=null;
this.Jn=null;this.UM={};this.t=null;this.S={Lg:[],tJe:[],rX:null,iG:null,WA:null,Nf:null};this.history=[new Jj([1,0],null)];
this.ei=0;this.aE=0;this.n=new Vf(this)}rw.prototype.jM=function(){var H=this.name;return H.slice(0,H.length-4).endsWith("-sketch")};
rw.prototype.HT=function(H){this.add.artd={classID:"null",Cnt:{t:"long",v:H},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
rw.prototype.wx=function(H){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(H)==-1)this.add.FEid.push(H)};
rw.prototype.ja=function(H){var N=this.add.FEid.indexOf(H);this.add.FEid.splice(N,1);if(this.add.FEid.length==0)delete this.add.FEid};
rw.prototype.r=function(H){if(H==null)H=new p(0,0,this.$,this.z);if(this.jj==null)this.jj=H;else this.jj=this.jj.Fv(H)};
rw.prototype.tyN=function(H){return this.jj!=null};rw.prototype.HG=function(H){var N=this.b[H],Q=this.root.oo(H);
if(Q==null)return!1;if(N.oP()||Q.parent.children.indexOf(Q)==0)return!1;return!0};rw.tym=function(H){if(H.add.lnk2)for(var N=0;
N<H.add.lnk2.length;N++){var Q=H.add.lnk2[N].VB;H.add.lnk2[N].VB=rw.kf()+Q.slice(8);for(var c=0;c<H.b.length;
c++){var _=H.b[c].add.SoLd;if(_&&_.Idnt.v==Q)_.Idnt.v=H.add.lnk2[N].VB}}};rw.prototype.jS=function(H){H.sort(function(V,C){return V-C});
var top=H[H.length-1],N=this.b.slice(0),Q=this.g.slice(0),c=[],_=[];for(var O=0;O<this.b.length;O++){if(H.indexOf(O)!=-1)_.push(this.b[O]);
else c.push(this.b[O])}this.rM(_);this.g=[];var L=this.root.AK(this,!0);if(L.km())L=new p(0,0,100,100);
var s=new p(-L.x,-L.y,this.$,this.z),r=new Uint8Array(JP.PSD.Dz(this,0,0,[!0,!1]));this.rM(N);this.g=Q;
var u=new rw(this.b[top].getName());JP.PSD.cA(r.buffer,u);delete u.add.artd;u.rM(u.b);rw.tym(u);l.$p.tt(u,L);
u.r();u.LD();u.cn();return[u,L,c,top]};rw.prototype.jW=function(H,N){var Q=this.jS(H),c=Q[0],_=Q[1],O=Q[2],top=Q[3],L=new Uint8Array(JP.PSD.Dz(c));
if(N)O=this.b.slice(0);var s=this.Pd(L,c.name,_.x,_.y);if(top==this.b.length-1)O.push(s);else O.splice(N?top+1:top-H.length+1,0,s);
this.rM(O);this.g=[O.indexOf(s)]};rw.kf=function(){var H="";for(var N=0;N<8;N++)H+=Math.floor(Math.random()*16).toString(16);
return H};rw.prototype.EO=function(H){if(H==null)return;if(this.add.Patt==null)this.add.Patt=[];var N=this.add.Patt;
for(var Q=0;Q<N.length;Q++)if(N[Q].id==H.id)return;N.push(H)};rw.prototype.Pd=function(H,N,Q,c){if(this.add.lnk2==null)this.add.lnk2=[];
var _=null;for(var O=0;O<this.add.lnk2.length;O++)if($.v$(H,this.add.lnk2[O].raw)){_=this.add.lnk2[O].VB;
break}var L=JP.Uw(H.buffer);if(_==null){_=rw.kf()+"-d71c-11e5-b1ae-a548a96e5f9f";var s=new R.JY;s.VB=_;
s.gZ=L=="psd"?"8BIM":"    ";s.Xl=N+"."+(L=="psd"?L:L+"\0");s.uV=L=="psd"?"8BPB":"    ";s.open=0;s.raw=H;
s.type="liFD";s.dm=2;this.add.lnk2.push(s)}var r=this.Hj(_),u=rw.kf()+"-d71c-11e5-b1ae-a548a96e5f9f",V=this.Zs();
V.Vp(N);if(r!=null){V.rect=r.Eq[1].clone();V.rect.offset(Q,c);V.buffer=$.I(V.rect.f()*4);$.sa(r.Eq[0],V.buffer)}V.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:_},placed:{t:"TEXT",v:u},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:$.UB.I(V.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:V.rect.$},Hght:{t:"doub",v:V.rect.z}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var C=$.K.DK(V.rect).Z;V.add.SoLd.Trnf=l._.Sz(C);V.add.SoLd.nonAffineTransform=l._.Sz(C);return V};rw.prototype.cn=function(H){if(H!=null){this.r();
this.LD(H);var N=this.buffer;if(o.Yv)this.ec.get(N);else N=N.slice(0);this.r();this.LD();return N}if(o.Yv&&this.Jn){this.ec.get(this.buffer);
this.Jn=null}return this.buffer};rw.prototype.jY=function(){for(var H=0;H<this.b.length;H++)this.b[H].ft();
this.r()};rw.prototype.jB=function(){for(var H=0;H<this.b.length;H++)if(this.b[H].add.lmfx)this.b[H].D._$=!0};
rw.prototype.KU=function(){var H=this.TP.r1044;if(H==null){H=this.TP.r1044=new Uint8Array(4);var N=0;
for(var Q=0;Q<this.b.length;Q++)N=Math.max(N,this.b[Q].add.lyid);x.nW(H,0,N)}var c=x.j(H,0);x.nW(H,0,c+1);
return c+1};rw.prototype.FS=function(H,N){if(H==null)H=!0;var Q=this;if(Q.g.length!=1){if(H)alert(Q.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Kk(H,N)};rw.prototype.Kk=function(H,N){if(H==null)H=!0;if(N==null)N=!1;var Q=this;
for(var c=0;c<Q.g.length;c++){var _=Q.b[Q.g[c]],O=N||_.G<=0;if(_.add.lsct!=null&&_.add.lsct!=tR.jZ&&_.G!=1){if(H)alert(tg.get([15,7,2]));
return!1}if(O&&!_.XX()){if(H)alert(tg.get([15,7,2]));return!1}if(O&&_.add.TySh){if(H)alert(tg.get([15,7,3]));
return!1}if(O&&_.add.SoLd){if(H)alert(tg.get([15,7,4]));return!1}if(_.FT(1)||_.FT(31)){if(H)alert(tg.get([6,57,0]));
return!1}}return!0};rw.prototype.jA=function(H){var N=this.root.oo(H);if(N.parent)return N.i.op()&&this.jA(N.parent.index);
else return N.i.op()};rw.prototype.jU=function(H){var N=this.root.oo(H);if(N==null)return null;var Q=N.i;
if(Q.add.artb)return Q.As();if(N.parent)return this.jU(N.parent.index);return null};rw.prototype.je=function(){var H=this.b[this.g[0]];
if(H.G<=0&&!H.rect.p$(this.t.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.t){var N=$.I(this.t.channel.length);
$.he(H.buffer,H.rect,N,this.t.rect);$.Yj(this.t.channel,N);if($.Wt(N,0)){alert("Selected area is empty.");
return!1}}return!0};rw.prototype.Ej=function(){if(this.TP["r"+1037]==null)this.wh(30);return x.eI(this.TP["r"+1037],0)};
rw.prototype.wh=function(H){if(this.TP["r"+1037]==null)this.TP["r"+1037]=new Uint8Array(4);if(x.eI(this.TP["r"+1037],0)==H)return;
x.nU(this.TP["r"+1037],0,H);this.jB()};rw.prototype.wO=function(){if(this.TP["r"+1049]==null)this.Hq(30);
return x.eI(this.TP["r"+1049],0)};rw.prototype.Hq=function(H){if(this.TP["r"+1049]==null)this.TP["r"+1049]=new Uint8Array(4);
if(x.eI(this.TP["r"+1049],0)==H)return;x.nU(this.TP["r"+1049],0,H);this.jB()};rw.prototype.nF=function(H){if(this.add.lnk2==null)return null;
for(var N=0;N<this.add.lnk2.length;N++)if(this.add.lnk2[N].VB==H)return this.add.lnk2[N];return null};
rw.prototype.tDR=function(H){var N=this.nF(H);if(N==null)return!1;var Q=JP.Uw(N.raw.buffer);if(Q==null)return!1;
if(JP.aD(Q)!=null||Q=="psd")return!0;return!1};rw.prototype.Hj=function(H,N){var Q=this.nF(H);if(Q==null)return null;
Q.cn(N);if(Q.Eq)return Q};rw.prototype.LD=function(H){if(H==null)H=1e9;var N=this.$,Q=this.z,c=new p(0,0,N,Q),_=c.sj(this.jj);
if(_.km())return;if(o.Yv&&this.ec==null)this.ec=new o.wf(N,Q,!0);if(this.buffer==null||this.buffer.length!=N*Q*4||o.Yv&&(this.ec.$!=N||this.ec.z!=Q)){this.buffer=$.I(N*Q*4);
if(this.ec)this.ec.delete();if(o.Yv)this.ec=new o.wf(N,Q,!0)}if(!_.v$(c)){if(!o.Yv){var O=$.kh(_.f()*4);
$.Pg(O,_,this.buffer,c)}if(o.Yv){o.jl(this.ec,_);o.sk(0)}}else{if(o.Yv){this.ec.set(null)}else{$.set(this.buffer,0)}}var L=Date.now(),s=o.Yv?this.ec:this.buffer;
this.root.Kf(s,c,_,this,[],H);this.Jn=this.jj.clone()};rw.prototype.Zs=function(){var H=new R;H.rect=new p(0,0,0,0);
H.buffer=$.I(1);H.add.luni=new E(0,0);H.add.lyid=this.KU();H.add.lsct=tR.jZ;H.add.lclr=0;H.add.fxrp=new E(0,0);
return H};rw.prototype.sd=function(){var H=this.Zs();H.Vp("</Layer group>");H.add.lsct=tR.JQ;H._c=24;
return H};rw.prototype.KF=function(){return this.ei!=this.aE};rw.prototype.Af=function(H){while(this.history.length>this.ei+1)this.history.pop();
if(this.aE>this.ei)this.aE=-1;if(H.c.id!=l.mq){this.Jd=!0;if(this.qO.lastAppliedComp){delete this.qO.lastAppliedComp;
this.qf=!0}}this.history.push(H);this.ei++;this.kJ=!0;var N=0;for(var Q=this.history.length-1;Q>=0;Q--){var c=this.history[Q];
if(c.JG)continue;N++;if(N==30){this.ei-=Q;this.history=this.history.slice(Q);break}}};rw.prototype.lk=function(){if(this.ei!=this.history.length-1)return null;
return this.history[this.history.length-1]};rw.prototype.MC=function(H,N){if(H==null)H=!1;var Q=N!=null?[N]:this.g.slice(0),c=[];
for(var _=0;_<Q.length;_++){var O=this.b[Q[_]].nb;if(O!=0&&c.indexOf(O)==-1)c.push(O)}for(var _=0;_<this.b.length;
_++){var O=this.b[_].nb;if(O!=0&&c.indexOf(O)!=-1&&Q.indexOf(_)==-1)Q.push(_)}var L=[];for(var _=0;_<Q.length;
_++){var s=this.wK(Q[_],H);for(var r=0;r<s.length;r++)if(L.indexOf(s[r])==-1)L.push(s[r])}return L};
rw.prototype.HK=function(H){var N=this,Q=N.MC(!1,H);Q.sort(function(r,u){return r-u});var c=[];for(var _=0;
_<Q.length;_++){var O=N.b[Q[_]].clone();O.add.lyid=N.KU();if(O.kl()){var L=O.hy(N),s={id:rw.kf()+L.id.slice(8),buffer:$.clone(L.buffer),rect:L.rect.clone(),d:L.d?L.d.clone():null};
N.wx(s);O.add.SoLd.placed.v=s.id}O.Sa(N);c.push(O)}return c};rw.prototype.wK=function(H,N){var Q=[],c=this.root.oo(H);
if(c)c.jJ(Q,N);return Q};rw.prototype.HZ=function(){this.root.uU(this,new p(0,0,this.$,this.z),32)};
rw.prototype.rM=function(H){for(var N=0;N<this.b.length;N++){var Q=this.b[N];if(H.indexOf(Q)==-1){Q.D.tyS();
Q.r()}}this.b=H.slice(0);this.f$()};rw.prototype.f$=function(){this.root=new rk;var H=this.Zs();H.kE="pass";
H.add.lsct=tR.Gp;var N=this.sd(),Q=[N];for(var c=0;c<this.b.length;c++)Q.push(this.b[c]);Q.push(H);this.root.jI(Q,0,0);
if(this.g.length==0)this.g=[this.b.length-1]};rw.prototype.Ku=function(){if(this.g.length!=1)return;
var H=this.root.oo(this.g[0]);while(H.parent!=null){var N=H.parent.i;N.add.lsct=tR.Gp;H=H.parent}this.un=this.tJQ=!0};
function Vf(H){this.Ti=H;this.s=0;this.M=new E(0,0);this.C=new p(0,0,1,1);this.Jl=new p(0,0,H.$,H.z);
this._E=null;this.uQ=0;this.Ot=null;this.wY=new Uint32Array(0);this.gS=null;this.Tn=null;this.nV=$.I(0);
this.nD=null;this.ah=null}Vf.prototype.kp=function(H,N){var Q=Math.round((this.C.$-this.Ti.$*this.s)/2+this.M.x),c=Math.round((this.C.z-this.Ti.z*this.s)/2+this.M.y),_=(H-Q)/this.s,O=(N-c)/this.s;
return new E(_,O)};Vf.prototype.PM=function(H,N){var Q=Math.round((this.C.$-this.Ti.$*this.s)/2+this.M.x),c=Math.round((this.C.z-this.Ti.z*this.s)/2+this.M.y),_=H*this.s+Q,O=N*this.s+c;
return new E(_,O)};Vf.prototype.Pi=function(){var H=this.Ti,N=this.s,Q=this.C.$,c=this.C.z,_=Math.floor(H.$*N),O=Math.floor(H.z*N);
if(N<.99){var L=$.Yp(null,new p(0,0,H.$,H.z),N).rect;_=L.$;O=L.z}return new p(Math.round((Q-_)/2+this.M.x),Math.round((c-O)/2+this.M.y),_,O)};
Vf.prototype.Yr=function(){var H=this.Ti,N=this,Q=1/N.s,c=this.Pi();return new p(Math.floor((N.C.x-c.x)*Q),Math.floor((N.C.y-c.y)*Q),Math.ceil(N.C.$*Q)+1,Math.ceil(N.C.z*Q)+1)};
function B(){}B.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");B.vz="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
B.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];B.ju=["DrSh","IrSh","SoFi","GrFl","FrFX"];
B.IS=["Clr"];B.fT="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");B.fP=["Ptrn","Scl","Algn","phase"];
B._Y={};B._Y.wb="{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}";
B._Y.e="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}";
B._Y.j_="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}";
B._Y.HN="{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}";
B._Y.wb="\"Clr\": "+B._Y.wb;B._Y.e="\"Grad\":"+B._Y.e+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
B._Y.HN="\"Ptrn\":"+B._Y.HN+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
B.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
B.cz=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+B._Y.wb+","+B._Y.e+","+B._Y.HN+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+B._Y.wb+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+B._Y.e+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+B._Y.HN+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":57},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
B.e={};B.e.types="Lnr Rdl Angl Rflc Dmnd shapeburst".split(" ");B.e.names=[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]];
B.stroke={};B.stroke.types=["InsF","CtrF","OutF"];B.stroke.names=[[19,5,2],[19,5,1],[19,5,0]];B.stroke.YI=["SClr","GrFl","Ptrn"];
B.stroke.tDr=[[13,0],[12,37],[12,62]];B.eV={};B.eV.types=["SfBL","PrBL"];B.eV.names=[[19,1,0],[19,1,1]];
B.eV.KR=["SrcC","SrcE"];B.eV.tDH=[[19,5,1],[12,69]];B.Dr={};B.Dr.types=["OtrB","InrB","Embs","PlEb","strokeEmboss"];
B.Dr.style=[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]];B.Dr.Kr=["SfBL","PrBL","Slmt"];B.Dr.tDO=[[19,3,0],[19,3,1],[19,3,2]];
B.Dr.dir=[[19,4,0],[19,4,1]];B.nO={};B.nO.Ky=["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"];
B.nO.e$=["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"];B.nO.join=["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"];
B.nO.aw=["solidColorLayer","gradientLayer","patternLayer"];B.nO.default={classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignOutside"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+B._Y.wb+"}")},strokeStyleResolution:{t:"doub",v:72}};
B.Ks=[{classID:"null",Clr:{t:"Objc",v:{}}},{classID:"null",Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}},Grad:{t:"Objc",v:{}}},{classID:"null",Ptrn:{t:"Objc",v:{}},Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
B.Ks[0].Clr.v=JSON.parse(B.cz[5]).Clr.v;B.Ks[1].Grad.v=JSON.parse(B.cz[6]).Grad.v;B.Ks[2].Ptrn.v=JSON.parse(B.cz[7]).Ptrn.v;
var Ja={};Ja.tyX=function(H,N,Q){if(H.km())return;var c=$.A.tJY(H.L);c.x=Math.floor(c.x*N);c.$=Math.ceil(c.$*N);
c.y=Math.floor(c.y*Q);c.z=Math.ceil(c.z*Q);H.rect=c;H.channel=$.I(c.f());$.lZ.width=c.$;$.lZ.height=c.z;
var _=$.C;_.fillStyle="#ffffff";$.A.tJb(_,H.L,N,Q,-c.x,-c.y);_.fill();var O=_.getImageData(0,0,c.$,c.z).data;
$.rY(O,H.channel,3)};Ja.Yy=function(H){var N,Q;if(H){if(H.solidFillMulti.v.length>0)N=H.solidFillMulti.v[0].v;
if(H.gradientFillMulti.v.length>0)Q=H.gradientFillMulti.v[0].v;if(N&&(N.enab.v==!1||N.Opct.v.val!=100||N.Md.v.BlnM!="Nrml"))N=null;
if(Q&&(Q.enab.v==!1||Q.Opct.v.val!=100||Q.Md.v.BlnM!="Nrml"))Q=null}return[N,Q]};Ja.Kc=function(H,N){var Q=["Sz","blur","Sftn","Dstn"];
for(var c=0;c<B.order.length;c++){var _=B.order[c],O=H[B.vz[c]].v;for(var L=0;L<O.length;L++){var s=O[L].v;
for(var r=0;r<Q.length;r++){var u=s[Q[r]];if(u){var V=u.v.val,C=V;C=Math.max(V==0?0:1,C*N);if(_=="ChFX")C=Math.min(C,250);
if(_=="ebbl"){if(Q[r]=="blur")C=Math.min(C,250);if(Q[r]=="Sftn")C=Math.min(C,16)}u.v.val=Math.round(C)}}if(_=="ebbl"||_=="patternFill"||_=="FrFX")if(s.Ptrn&&s.Scl)s.Scl.v.val=Math.max(1,Math.min(1e3,s.Scl.v.val*N))}}};
Ja.tDs=function(H,N){var Q=new p(-.5,-.5,1,1),c=H.add.lmfx;for(var _=0;_<B.order.length;_++){var O=B.order[_],L=c[B.vz[_]].v;
for(var s=0;s<L.length;s++){var r=L[s].v,T;if(!r.enab.v)continue;var u=r.blur?r.blur.v.val:0,V=r.Ckmt?r.Ckmt.v.val/100:0,C=Math.round(u*V);
if(O=="DrSh"){T=new p(-.5,-.5,1,1);T.FA(u,u);Ja.It(T,r,N,0)}if(O=="OrGl"){T=new p(-.5,-.5,1,1);T.FA(u,u)}if(O=="FrFX"){var e=Ja.wI(r)[1];
T=new p(-.5,-.5,1,1);T.FA(Math.ceil(e),Math.ceil(e))}if(O=="ebbl"){var u=r.blur.v.val;if(r.bvlS.v.BESl=="Embs"||r.bvlS.v.BESl=="PlEb")u/=2;
var t=["OtrB","InrB","Embs","PlEb","strokeEmboss"],Y=["SfBL","PrBL","Slmt"],A=["In","Out"],G=r.bvlT.v.bvlT!="SfBL"?u:u*.43,j=Math.round(u);
T=new p(-j-.5,-j-.5,2*j+1,2*j+1)}if(T)Q=Q.Fv(T)}}if(Q.x!=Math.ceil(Q.x)){Q.x=Math.ceil(Q.x);Q.$-=1}if(Q.y!=Math.ceil(Q.y)){Q.y=Math.ceil(Q.y);
Q.z-=1}return Q};Ja.wI=function(H){var N=0,Q=0,c=H.Styl.v.FStl,_=H.Sz.v.val;if(c=="OutF")Q=_;if(c=="InsF")N=_;
if(c=="CtrF")N=Q=_/2;return[N,Q]};Ja.KL=function(H){if(H.all==null)return;for(var N=0;N<H.all.length;
N++){var Q=H.all[N];if(Q.GJ)Q.GJ.delete();if(Q.ab)Q.ab.delete();if(Q.Sc)Q.Sc.delete()}};Ja.tcg=function(H,N,Q,c,_,O,L){Ja.KL(H);
var s=Ja.KC(c,_,N,Q,O,L);H.type=s.type,H.all=s.all;if(o.Yv)for(var r=0;r<H.all.length;r++){var u=H.all[r];
u.GJ=new o.wf(u.wq.$,u.wq.z);u.GJ.set(u.nn);delete u.nn;if(u.Sv){u.ab=new o.Vu(u.wq.$,u.wq.z);u.ab.set(u.Sv);
delete u.Sv}if(u.Sh){u.Sc=new o.Vu(u.wq.$,u.wq.z);u.Sc.set(u.Sh);delete u.Sh}}};Ja.KC=function(H,N,Q,c,_,O){if(O==null)O=c;
var L=0,s=0;for(var r=0;r<B.order.length;r++){var u=B.order[r],V=B.vz[r],C=H[V].v;for(var T=0;T<C.length;
T++){var e=C[T].v;if(u=="DrSh"&&e.enab.v&&e.Ckmt.v.val>0&&e.blur.v.val>0)L=Math.max(L,Math.ceil(e.Ckmt.v.val*e.blur.v.val/100));
if(u=="OrGl"&&e.enab.v&&e.Ckmt.v.val>0&&e.blur.v.val>0&&e.GlwT.v.BETE=="SfBL")L=Math.max(L,Math.ceil(e.Ckmt.v.val*e.blur.v.val/100));
if(u=="OrGl"&&e.enab.v&&e.blur.v.val>0&&e.GlwT.v.BETE=="PrBL")L=Math.max(L,e.blur.v.val);if(u=="FrFX"&&e.enab.v&&e.Sz.v.val>0){if(e.Styl.v.FStl=="OutF")L=Math.max(L,e.Sz.v.val);
if(e.Styl.v.FStl=="CtrF")L=Math.max(L,Math.ceil(e.Sz.v.val/2));s=Math.max(s,Ja.wI(e)[1])}}}var t=new Ja.eS(Q,c,L),Y={type:{},all:[]};
for(var A=0;A<B.order.length;A++){var u=B.order[A],V=B.vz[A];Y.type[u]=[];for(var G=H[V].v.length-1;
G>=0;G--){var j=H[V].v[G].v;if(!j.enab.v)continue;var d=j.blur?j.blur.v.val:0,w=j.Ckmt?j.Ckmt.v.val/100:0,f=d*w;
if(u=="DrSh"){var b=t.Gg(f,d-f,!0),F=b.y_,n=b.lU;n.offset(-t.rect().x-1,-t.rect().y-1);Ja.wc(F,j);Ja.It(n,j,_,0);
var J=$.I(n.f()*4);Ja.Sy(J,j.Clr.v);$.kw(F,J,3);var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100,Tm:j.layerConceals.v};
Y.type[u].push(Z);Y.all.push(Z)}if(u=="IrSh"){var b=t.Gg(f,d-f,!1);Ja.It(b.lU,j,_,0);var n=t.rect().clone(),F=$.I(n.f());
$.set(F,255);$.Jg(b.y_,b.lU,F,n);Ja.wc(F,j);var J=$.I(n.f()*4);Ja.Sy(J,j.Clr.v);$.kw(F,J,3);n.offset(-t.rect().x-1,-t.rect().y-1);
var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};Y.type[u].push(Z);Y.all.push(Z)}if(u=="GrFl"){var J=$.I(t.rect().f()*4);
Ja.Gw(j,J,t.rect(),_,null,O);var n=t.rect().clone();n.offset(-t.rect().x-1,-t.rect().y-1);var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};
Y.type[u].push(Z);Y.all.push(Z)}if(u=="SoFi"){var J=$.I(t.y_().length*4);Ja.Sy(J,j.Clr.v);var n=t.rect().clone();
n.offset(-t.rect().x-1,-t.rect().y-1);var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};Y.type[u].push(Z);
Y.all.push(Z)}if(u=="ebbl"){var P=!1,S=1;if(P)console.log(j);var M=Date.now(),y=j.bvlS.v.BESl;if(y=="strokeEmboss"){var a=H.frameFXMulti.v;
if(a.length==0)continue;a=a[0].v;if(!a.enab.v)continue;var g=a.Styl.v.FStl;if(g=="OutF")y="OtrB";if(g=="CtrF")y="Embs";
if(g=="InsF")y="InrB"}var d=j.blur.v.val;if(d==0)d=.7;if(y=="Embs"||y=="PlEb")d/=2;var U=["OtrB","InrB","Embs","PlEb","strokeEmboss"],D=["SfBL","PrBL","Slmt"],W=["In","Out"],m=j.bvlT.v.bvlT!="SfBL"?d:d*.45,q=Math.round(d);
d*=S;m*=S;q*=S;var I=t.rect().clone();I.x*=S;I.y*=S;I.$*=S;I.z*=S;var v=I.clone();v.FA(q,q);var h=v.$,i=v.z,JI=h*i,Jx=t.rect().$,Jd=t.rect().z,JC=$.I(Jx*Jd*S*S);
$.scale.in(t.y_(),Jx,Jd,JC,Jx*S,Jd*S,S);var JM=$.I(JI);$.Jg(JC,I,JM,v);var Jh=new Float64Array(JI),Jv=new Float64Array(JI);
$.style.td(JM,Jh,h,i);$.UK(JM);$.style.td(JM,Jv,h,i);if(P)console.log("distTransform computed",Date.now()-M);
var JW=Jv;Jv=new Float64Array(JI);for(var r=0;r<JI;r++)JW[r]=JW[r]-Jh[r];for(var r=0;r<JI;r++){var Ji=JW[r];
if(Ji<-m)JW[r]=-m;else if(Ji>m)JW[r]=m}if(P)console.log("summing + cropping",Date.now()-M);if(j.bvlT.v.bvlT=="SfBL"){$.blur.Wl(JW,Jh,v,Math.max(2,Math.pow(d*.21,1.22)));
var Jc=JW;JW=Jh;Jh=Jc}if(P)console.log("blurring",Date.now()-M);var JT=new Float64Array(JI);$.sa(JW,JT);
if(j.useShape.v){var Jg=Math.min(100,j.Inpr.v.val+1)/100;if(y!="OtrB"&&y!="InrB")Jg=1;var Jn=$.kv.__(j.MpgS.v.Crv.v,2e3),Jq=Math.round(2e3/Jg);
Jn=$.kv.tJt(Jn,Jq,y=="InrB");var tJ=.5/m;for(var r=0;r<JI;r++){var ty=JW[r],JA=.99999*(ty+m)*tJ;JW[r]=-m+2*m*Jn[~~(JA*(Jq-1))]}if(P)console.log("applying shape",Date.now()-M)}if(j.useTexture.v){var td=$.I(h*i*4);
Ja.vh(j,td,v,_,N);var Jk=$.I(h*i);$.BS(td,Jk);var rR=$.I(h*i);$.blur.tcs(Jk,rR,v,1);Jk=rR;var Je=d*j.textureDepth.v.val*(1/100)*(1/255);
if(j.InvT.v)Je=-Je;for(var r=0;r<JI;r++)JW[r]+=-Je*Jk[r];if(P)console.log("applying texture",Date.now()-M)}var JU=(j.bvlT.v.bvlT=="SfBL"?1:.5)*(j.bvlD.v.BESs=="In"?1:-1)*j.srgR.v.val/100;
for(var r=0;r<JI;r++)JW[r]*=JU;if(P)console.log("scaling",Date.now()-M);var JK=j.uglg&&j.uglg.v?_.Ej():j.lagl.v.val;
JK=JK*(Math.PI/180);var rH=j.uglg&&j.uglg.v?_.wO():j.Lald.v.val;rH=rH*(Math.PI/180);var rL=Math.cos(JK)*Math.cos(rH),Ju=-Math.sin(JK)*Math.cos(rH),JZ=Math.sin(rH),Jl=new Float64Array(JI),rD=new Float64Array(JI),tb=y=="PlEb";
for(var r=0;r<i;r++)for(var T=0;T<h;T++){var rv=r*h+T,rG=-(r==0?JW[rv+h]-JW[rv]:r==i-1?JW[rv]-JW[rv-h]:.5*(JW[rv+h]-JW[rv-h])),Js=-(T==0?JW[rv+1]-JW[rv]:T==h-1?JW[rv]-JW[rv-1]:.5*(JW[rv+1]-JW[rv-1])),rI=1,tv=1/Math.sqrt(Js*Js+rG*rG+1);
Js*=tv;rG*=tv;rI*=tv;var tt=Js*rL+rG*Ju+rI*JZ,rE=tt;if(tb)rE=-Js*rL-rG*Ju+rI*JZ;if(tt>0)Jl[rv]=tt;if(rE>0)rD[rv]=rE}if(P)console.log("raycasting",Date.now()-M);
if(j.Sftn.v.val!=0){$.blur.Wl(Jl,Jh,v,j.Sftn.v.val*.43);var Jc=Jh,Jh=Jl,Jl=Jc;if(tb){$.blur.Wl(rD,Jh,v,j.Sftn.v.val*.43);
var Jc=Jh,Jh=rD,rD=Jc}else $.sa(Jl,rD)}if(P)console.log("softening",Date.now()-M);var Jn=$.kv.__(j.TrnS.v.Crv.v,1024);
for(var r=0;r<JI;r++){Jl[r]=Jn[~~(Jl[r]*1024)];rD[r]=Jn[~~(rD[r]*1024)]}if(P)console.log("contour remap",Date.now()-M);
h=Math.round(h/S);i=Math.round(i/S);var rX=$.I(h*i*4);Ja.Sy(rX,j.hglC.v);var rQ=$.I(h*i*4);Ja.Sy(rQ,j.sdwC.v);
var ra=$.I(h*i*4);Ja.Sy(ra,j.hglC.v);var rx=$.I(h*i*4);Ja.Sy(rx,j.sdwC.v);var rU=1/JZ,rJ=1/(1-JZ),tJ=1/m,tG=new Float64Array(1e3);
for(var r=0;r<1e3;r++)tG[r]=Math.pow(r*.001,.2);for(var r=0;r<i;r++)for(var T=0;T<h;T++){var rv=r*h+T,rT=4*rv+3,JR=0,rO=0;
if(S==1){JR=Jl[rv];rO=rD[rv]}else{var rg=S*S*r*h+S*T;JR=.25*(Jl[rg]+Jl[rg+1]+Jl[rg+S*h]+Jl[rg+S*h+1]);
rO=.25*(rD[rg]+rD[rg+1]+rD[rg+S*h]+rD[rg+S*h+1])}var rc=Math.max(0,Math.min(.9999,(JT[rv]+m*.993)*tJ));
rc=tG[Math.floor(rc*1e3)];var rm=rc*(1-Math.min(1,JR*rU)),rn=rc*(1-Math.min(1,(1-JR)*rJ)),rK=rc*(1-Math.min(1,rO*rU)),V$=rc*(1-Math.min(1,(1-rO)*rJ));
rQ[rT]=Math.round(255*rm);rX[rT]=Math.round(255*rn);rx[rT]=Math.round(255*rK);ra[rT]=Math.round(255*V$)}if(P)console.log("baking textures",Date.now()-M);
v=t.rect().clone();v.FA(q/S,q/S);v.offset(-t.rect().x-1,-t.rect().y-1);var Vc={tJ_:j.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(y)!=-1){Vc.Sb={nn:rX,wq:v,UY:ta.FC(j.hglM.v.BlnM),uy:j.hglO.v.val/100};
Vc.SU={nn:rQ,wq:v,UY:ta.FC(j.sdwM.v.BlnM),uy:j.sdwO.v.val/100};Y.all.push(Vc.Sb,Vc.SU)}if(["OtrB","Embs","PlEb"].indexOf(y)!=-1){Vc.Ss={nn:ra,wq:v,UY:ta.FC(j.hglM.v.BlnM),uy:j.hglO.v.val/100};
Vc.vR={nn:rx,wq:v,UY:ta.FC(j.sdwM.v.BlnM),uy:j.sdwO.v.val/100};Y.all.push(Vc.Ss,Vc.vR)}if(P)console.log(Date.now()-M);
Y.type[u].push(Vc)}if(u=="patternFill"){var rb=t.rect(),J=$.I(rb.f()*4);Ja.vh(j,J,rb,_,N);var n=rb.clone();
n.offset(-rb.x-1,-rb.y-1);var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};Y.type[u].push(Z);
Y.all.push(Z)}if(u=="ChFX"){var J=$.I(t.y_().length*4);Ja.Sy(J,j.Clr.v);var d=j.blur.v.val,rl=t.rect().clone();
rl.FA(d,d);var rB=$.I(rl.f()),HI=$.I(rl.f());$.Jg(t.y_(),t.rect(),HI,rl);$.blur.ur(HI,rB,rl,d*.43);var Hw=$.kv.tH(j.MpgS.v.Crv.v,256,!0);
$.vs(rB,Hw);var rf=$.I(t.y_().length),VI=$.I(t.y_().length),rN=t.rect().clone();Ja.It(rN,j,_,0);$.Jg(rB,rl,rf,rN);
rN=t.rect().clone();Ja.It(rN,j,_,Math.PI);$.Jg(rB,rl,VI,rN);var rp=rf.length;for(var r=0;r<rp;r++)J[4*r+3]=Math.abs(rf[r]-VI[r]);
if(j.Invr.v)for(var r=0;r<rp;r++)J[4*r+3]=255-J[4*r+3];var n=t.rect().clone();n.offset(-t.rect().x-1,-t.rect().y-1);
var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};Y.type[u].push(Z);Y.all.push(Z)}if(u=="OrGl"){var b;
if(j.GlwT.v.BETE=="SfBL")b=t.Gg(f,d-f,!0);else b=t.KQ(d,w,!0);var F=b.y_,n=b.lU;Ja.Kp(F,j);Ja.wc(F,j);
var J=$.I(n.f()*4);if(j.Grad==null){Ja.Sy(J,j.Clr.v);$.kw(F,J,3)}else{var rZ={TR:F,oG:255,uA:0,EK:n};
Ja.Gw(j,J,n,_,rZ);for(var r=0;r<J.length;r+=4){var $u=F[r>>2];if($u<32)J[r+3]=Math.max(0,$u-1)<<3}}n.offset(-t.rect().x-1,-t.rect().y-1);
var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};Y.type[u].push(Z);Y.all.push(Z)}if(u=="IrGl"){var b;
if(j.GlwT.v.BETE=="SfBL")b=t.Gg(f,d-f,!1);else b=t.KQ(d,w,!1);var F=b.y_,n=b.lU;Ja.Kp(F,j);Ja.wc(F,j);
if(j.glwS.v.IGSr=="SrcC")$.UK(F);var J=$.I(n.f()*4);if(j.Grad==null){Ja.Sy(J,j.Clr.v);$.kw(F,J,3)}else{var rZ={TR:F,oG:255,uA:0,EK:n};
Ja.Gw(j,J,n,_,rZ)}n.offset(-t.rect().x-1,-t.rect().y-1);var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100};
Y.type[u].push(Z);Y.all.push(Z)}if(u=="FrFX"){var rz=Ja.wI(j),Hy=rz[0],HR=rz[1],n=t.rect().clone(),tq=null,HH=null;
n.FA(Math.ceil(s),Math.ceil(s));if(HR>0){var b=t.Gg(HR,0,!0);HH=b.y_;if(HH.length<n.f()){HH=$.I(n.f());
$.Jg(b.y_,b.lU,HH,n)}}if(Hy>0){var b=t.Gg(Hy,0,!1);tq=$.I(n.f());$.set(tq,255);$.Jg(b.y_,b.lU,tq,n)}n.offset(-t.rect().x-1,-t.rect().y-1);
var J=$.I(n.f()*4),rh=j.PntT.v.FrFl;if(rh=="SClr")Ja.Sy(J,j.Clr.v);if(rh=="GrFl")Ja.Gw(j,J,n,_,t.tcQ(Hy,HR));
if(rh=="Ptrn")Ja.vh(j,J,n,_,N);var Z={nn:J,wq:n,UY:ta.FC(j.Md.v.BlnM),uy:j.Opct.v.val/100,Sh:HH,Sv:tq};
Y.type[u].push(Z);Y.all.push(Z)}}}return Y};Ja._o=function(H){var N=1/Math.sqrt(H.x*H.x+H.y*H.y+H.Xh*H.Xh);
H.x*=N;H.y*=N;H.Xh*=N};Ja.tyn=function(H,N){return{x:H.y*N.Xh-H.Xh*N.y,y:H.Xh*N.x-H.x*N.Xh,Xh:H.x*N.y-H.y*N.x}};
Ja.tDP=function(H,N){return H.x*N.x+H.y*N.y+H.Xh*N.Xh};Ja.oW=function(H){var N=Ja.wU();return{fill:H.add.iOpa!=null?H.add.iOpa/255:N.fill,PE:H.add.brst!=null?H.add.brst:N.PE,Pq:H.add.knko!=null?H.add.knko:N.Pq,style:!1,VE:!1}};
Ja.wU=function(){return{fill:1,PE:[1,1,1],Pq:0,style:!1,VE:!1}};Ja.bE=function(H,N){if(N==null)return null;
var Q=H.Idnt.v,c=null;for(var _=0;_<N.length;_++)if(N[_].id==Q)return N[_];return null};Ja.KP=function(H,N,Q){var c=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var _=0;_<c.length;_++){var O=H.v[c[_]].v;for(var L=0;L<O.length;L++)if(O[L].v.Ptrn)N.EO(Ja.bE(O[L].v.Ptrn.v,Q))}};
Ja.vh=function(H,N,Q,c,_){var O=Ja.bE(H.Ptrn.v,c.add.Patt);if(O!=null&&!Q.km()){var L=$.scale.vh(O.nn,O.lU.$,O.lU.z),s=H.Scl.v.val/100,r=-Q.x+H.phase.v.Hrzn.v-1,u=-Q.y+H.phase.v.Vrtc.v-1;
if(H.Algn!=null&&!H.Algn.v){}else{r+=_.x;u+=_.y}$.scale.tCg(L,N,Q.$,Q.z,s,s,r+1,u+1)}};Ja.Gw=function(H,N,Q,c,_,O){if(O==null)O=Q;
var L=H.Type?H.Type.v.GrdT:"shapeburst",s=H.Algn&&H.Algn.v?O:new p(0,0,c.$,c.z),r=H.Angl?$.e.qL(H,s):[new E(0,0),new E(100,0)],u=r[0].x,V=r[0].y,C=r[1].x-u,T=r[1].y-V,e=Math.sqrt(C*C+T*T);
e=1/(2*e*e);var t=[C*e,T*e,-T*e,C*e];$.e.AH(H.Grad.v,N,Q,t,u,V,H.Rvrs?H.Rvrs.v:!1,B.e.types.indexOf(L),0,0,_)};
Ja.tcX=function(H,N){for(var Q=0;Q<H.all.length;Q++){var c=H.all[Q];c.$C=c.wq.clone();c.$C.offset(N.x,N.y)}};
Ja.Kg=function(H,N,Q,c,_,O){var L=o.Yv?Ja.Kh:Ja.Kv;Ja.tcX(N,Q);var s=N.type.DrSh;for(var r=0;r<s.length;
r++)if(!s[r].Tm)L(s[r],c,_,O)};Ja.Ka=function(H,N,Q,c,_,O,L,s,r,u){var V=Q,C=o.Yv?Ja.Kh:Ja.Kv,T=o.Yv?o.a.Ak:$.a.fX,e;
e=N.type.DrSh;for(var t=0;t<e.length;t++)if(e[t].Tm)C(e[t],c,_,O);e=N.type.OrGl;for(var t=0;t<e.length;
t++)C(e[t],c,_,O);var Y="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var A=0;A<Y.length;A++){var e=N.type[Y[A]];
for(var t=0;t<e.length;t++)C(e[t],L,V,O)}var G=N.type.ebbl[0],j=G!=null&&G.tJ_;e=N.type.FrFX;for(var t=0;
t<e.length;t++){var d=e[t];rk.Hr.Jg(s,u,r,u,O);C(d,r,u,O);if(j&&t==e.length-1){if(G.vR)C(G.vR,r,u,O);
if(G.Ss)C(G.Ss,r,u,O);if(G.SU)C(G.SU,r,u,O);if(G.Sb)C(G.Sb,r,u,O)}if(d.Sv||d.ab)T(r,u,L,V,o.Yv?d.ab:d.Sv,d.$C,0,O,1);
if(d.Sh||d.Sc)T(r,u,c,_,o.Yv?d.Sc:d.Sh,d.$C,0,O,1)}if(!j&&G!=null){if(G.vR)C(G.vR,c,_,O);if(G.Ss)C(G.Ss,c,_,O);
if(G.SU)C(G.SU,L,V,O);if(G.Sb)C(G.Sb,L,V,O)}};Ja.Kv=function(H,N,Q,c){var _=Ja.wU();_.fill=H.uy;_.style=!0;
$.a.MR(H.UY,H.nn,H.$C,N,Q,c,1,_)};Ja.Kh=function(H,N,Q,c){var _=Ja.wU();_.fill=H.uy;_.style=!0;o.a.dv(H.UY,H.GJ,H.$C,N,Q,c,1,_)};
Ja.Kp=function(H,N){var Q=1-N.Inpr.v.val/100,c=1+Math.tan(Q*(Math.PI/2)),_=H.length;for(var O=0;O<_;
O++)H[O]=Math.min(255,Math.round(H[O]*c))};Ja.wc=function(H,N){var Q=N.blur.v.val,c=Math.round(Q*(N.Ckmt.v.val/100));
if(Q>c){var _=$.kv.tH(N.TrnS.v.Crv.v,256,!0);$.vs(H,_)}if(N.Nose.v.val>0)$.style.tDI(H,N.Nose.v.val/100)};
Ja.Sy=function(H,N,Q){if(Q==null)Q=255;var c=$.e.NG(N),_=Q<<24|c.H<<16|c.q<<8|c.T;$.Mw(H,_)};Ja.It=function(H,N,Q,c){var _=N.uglg&&N.uglg.v?Q.Ej():N.lagl.v.val;
_=_*Math.PI/180+c;var O=Math.cos(_)*N.Dstn.v.val,L=Math.sin(_)*N.Dstn.v.val;H.x-=Math.round(O);H.y+=Math.round(L)};
Ja.Yq=function(H){if(H==null)return null;var N=H.frameFXMulti.v;if(N.length==0)return null;N=N[0].v;
var Q=JSON.parse(JSON.stringify(B.nO.default));Ja.Ki(N,Q);return Q};Ja.Ki=function(H,N){var Q=B.stroke.YI.indexOf(H.PntT.v.FrFl),c=[B.IS,B.fT,B.fP][Q],_=N.strokeStyleContent.v={classID:B.nO.aw[Q]};
for(var O=0;O<c.length;O++)_[c[O]]=H[c[O]];N.strokeEnabled=H.enab;N.strokeStyleLineWidth=H.Sz;N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=B.nO.e$[B.stroke.types.indexOf(H.Styl.v.FStl)];
N.strokeStyleOpacity=H.Opct;N.strokeStyleBlendMode=H.Md};Ja.Yo=function(H,N){var Q=[];for(var c=0;c<H.length;
c++)Q.push({t:"UntF",v:{type:"#Nne",val:Math.round(H[c]*N)}});return Q};Ja.eS=function(H,N,Q){this.GH=N.clone();
this.GH.FA(1,1);this.Po=N.clone();this.Po.FA(Q,Q);this.PF=$.I(this.GH.f());$.Jg(H,N,this.PF,this.GH);
this.vt=null;this.vV=null;this.vy=null};Ja.eS.prototype.y_=function(){return this.PF};Ja.eS.prototype.rect=function(){return this.GH};
Ja.eS.prototype.wM=function(){return this.Po};Ja.eS.prototype.b_=function(){if(this.vt)return this.vt;
this.vt=$.clone(this.y_());$.UK(this.vt);return this.vt};Ja.eS.prototype.wp=function(){if(this.vV)return this.vV;
this.vV=new Float64Array(this.rect().f());$.style.td(this.b_(),this.vV,this.rect().$,this.rect().z);
return this.vV};Ja.eS.prototype.YX=function(){if(this.vy)return this.vy;var H=this.wM(),N=$.I(H.f());
$.Jg(this.y_(),this.rect(),N,H);this.vy=new Float64Array(H.f());$.style.td(N,this.vy,H.$,H.z);return this.vy};
Ja.eS.prototype.tcQ=function(H,N){var Q={oG:-N,uA:H,EK:null,TR:null};if(N==0){Q.EK=this.rect();Q.TR=this.wp();
return Q}var c=this.YX().slice(0),_=this.wM();Q.EK=_;Q.TR=c;for(var O=0;O<c.length;O++)c[O]=-c[O];if(H==0)return Q;
var L=this.wp(),s=this.rect();for(var r=0;r<s.z;r++)for(var u=0;u<s.$;u++){var V=r*s.$+u,C=(r+s.y-_.y)*_.$+u+s.x-_.x;
c[C]+=L[V]}return Q};Ja.eS.prototype.Gg=function(H,N,Q){var c=Math.ceil(H+N),_={lU:this.rect().clone(),y_:null};
_.lU.FA(c,c);_.y_=$.I(_.lU.f());if(H==0&&N==0)$.sa(Q?this.y_():this.b_(),_.y_);else{var O=$.I(_.lU.f());
$.Jg(this.y_(),this.rect(),O,_.lU);if(!Q)$.UK(O);if(H!=0){if(Q)$.style.il(O,_.lU,this.YX(),this.wM(),H);
else $.style.il(O,_.lU,this.wp(),this.rect(),H)}if(N!=0)$.blur.ur(O,_.y_,_.lU,Math.max(1,N*.43));else _.y_=O}return _};
Ja.eS.prototype.KQ=function(H,N,Q){var c=H*(N-.5),_={lU:this.rect().clone(),y_:null};if(Q)_.lU.FA(H,H);
_.y_=$.I(_.lU.f());var O=_.lU.$,L=_.lU.z,s=Q?this.YX():this.wp(),r=Q?this.wM():this.rect(),u=_.lU,V=u.sj(r),O=V.$,L=V.z,C=V.x-u.x,T=V.y-u.y,e=V.x-r.x,t=V.y-r.y,Y=1-N*2;
for(var A=0;A<L;A++)for(var G=0;G<O;G++){var j=s[(A+t)*r.$+G+e],d=j/H;_.y_[(A+T)*u.$+G+C]=Math.max(0,Math.min(255,255-255*((d+Y)/(1+Y))))}return _};
Ja.KO=function(H,N,Q){var c=H.Lefx,_=H.blendOptions;if(c){var O=N.add.lmfx;if(Q==null)Q=O?O.Scl.v.val:100;
N.add.lmfx=JSON.parse(JSON.stringify(c.v));Ja.Kc(N.add.lmfx,Q/N.add.lmfx.Scl.v.val);if(O)N.add.lmfx.Scl.v.val=O.Scl.v.val}else delete N.add.lmfx;
if(_){_=_.v;if(_.Md)N.kE=ta.FC(_.Md.v.BlnM);else N.kE=N.oP()?"pass":"norm";if(_.fillOpacity)N.add.iOpa=Math.round(_.fillOpacity.v.val*255/100);
else N.add.iOpa=255}};Ja.Kn=function(H){var N={VI:{classID:"null",Idnt:{t:"TEXT",v:rw.kf()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},PH:{classID:"Styl",blendOptions:{t:"Objc",v:{classID:"blendOptions",fillOpacity:{t:"UntF",v:{type:"#Prc",val:H.add.iOpa!=null?H.add.iOpa*100/255:100}}}}}},Q=H.add.lmfx;
if(Q)N.PH.Lefx={t:"Objc",v:Q};return N};function HP(){}HP.FI=function(H){return JSON.parse(JSON.stringify(H))};
HP.wi=function(H){var N=HP.FI(HP.tcK),Q=N.Brsh.v;if(H!=null){delete Q.Hrdn;Q.classID="sampledBrush";
Q.Nm={t:"TEXT",v:"layer.png"},Q.sampledData={t:"TEXT",v:H}}return N};HP.tcK={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
HP._o={};HP._o.check=function(H){var N=HP._o.YO;for(var Q=0;Q<N.length;Q++)if(H[N[Q]]==null)H[N[Q]]=JSON.parse(HP._o.wX[N[Q]]);
var c=[];for(var Q=0;Q<N.length;Q++)c.push(N[Q]);var _=HP._o.Kl;for(var Q=0;Q<_.length;Q++){var O=_[Q][0],L=_[Q][1],s=!0;
for(var r=0;r<O.length;r++)s=s&&H[O[r]].v==!0;if(s)for(var r=0;r<L.length;r++){if(H[L[r]]==null)console.log("Missing conditional parameter "+L[r]);
else c.push(L[r])}}for(var u in H)if(c.indexOf(u)==-1)console.log("Extra parameter "+u);H=H.Brsh.v;N=HP._o.HF.YO;
for(var Q=0;Q<N.length;Q++)if(H[N[Q]]==null)H[N[Q]]=JSON.parse(HP._o.HF.wX[N[Q]]);c=[];for(var Q=0;Q<N.length;
Q++)if(H[N[Q]])c.push(N[Q]);else console.log("Missing default parameter "+N[Q]);_=HP._o.HF.tcz[H.classID];
for(var Q=0;Q<_.length;Q++)if(H[_[Q]]==null&&_[Q]!="dtipsGridSize"&&_[Q]!="dtipsErodibleTipHeightMap"&&H.trw!=1)console.log("Missing conditional parameter "+_[Q]);
else c.push(_[Q]);for(var u in H)if(c.indexOf(u)==-1)console.log("Extra parameter "+u)};HP._o.YQ=function(H){var N=HP._o.Kl;
for(var Q=0;Q<N.length;Q++){var c=N[Q][0],_=N[Q][1],O=!0;for(var L=0;L<c.length;L++)O=O&&H[c[L]]&&H[c[L]].v==!0;
if(O){for(var L=0;L<_.length;L++)if(H[_[L]]==null){H[_[L]]=JSON.parse(HP._o.wX[_[L]])}}else for(var L=0;
L<_.length;L++)if(H[_[L]]!=null){delete H[_[L]]}}};HP._o.HF={};HP._o.HF.YO="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
HP._o.HF.wX={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};HP._o.HF.tcz={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
HP._o.Kl=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
HP._o.YO="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
HP._o.wX={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function tL(H){this.vv=H;this.dir=0}tL.prototype.Kj=function(H,N){if(this.dir==0&&!this.vv.v$(H))this.dir=Math.abs(this.vv.x-H.x)<Math.abs(this.vv.y-H.y)?1:2;
var Q=H;if(N.l(K.Yz)){if(this.dir==1)Q=new E(this.vv.x,H.y);if(this.dir==2)Q=new E(H.x,this.vv.y)}return Q};
function Jf(H,N,Q,c,_,O,L,s){this.Fy=N;this.nw=Q;this.ze=O;this.oN=c;this.xQ=null;this.yd=null;this.Gc=0;
this.Pm=0;this.Ps=0;this.GG=0;this.dP=0;this.trC=L;this.MD=new p;this.Jz=new p;this.rect=new p;if(s!=null){this.nn=s}else{var r=Jf.KK;
if(r.length!=L.f()*4)r=$.I(L.f()*4);else r.fill(0);this.nn=Jf.KK=r}this.rect=L.clone();this.vO=[];this.GM=[];
this.kt=null;this.AF=0;this.H=null;this.vf="";this.n_=null;this.Kb(H,_)}Jf.KK=$.I(16);Jf.prototype.Kb=function(H,N){this.AF=N;
this.H=H;this.vf=JSON.stringify(H)+JSON.stringify(this.oN.tf);this.n_=Jf.tLd(H,this.Fy,this.nw)};Jf.prototype.moveTo=function(H,N,Q){Q=this.KB(Q);
this.Gc=Q;var c=new E(H,N),_=this.H.Brsh.v.Dmtr.v.val;this.xQ=c.clone();this.yd=c.clone();this.kt=c.clone();
this.vO=[H,N];this.GM=[Q];if(this.oN.tX!=Jf.MY)this.Yb(this.YR(c,this.K_()*Q,new E(0,0)));this.GG=c.clone()};
Jf.prototype.lineTo=function(H,N,Q){Q=this.KB(Q);var c=this.vO,_=c.length,O=c[_-2],L=c[_-1];if(H==O&&N==L)return;
var s=this.H.Brsh.v.Dmtr.v.val,r=Math.ceil(s)+1,u=new p(Math.round(O),Math.round(L),0,0);u.FA(r,r);var V=new p(Math.round(H),Math.round(N),0,0);
V.FA(r,r);this.YT(u.Fv(V));this.vO.push(H,N);this.GM.push(Q);_+=2;if(_>=6)this.Yb(this.KZ(_))};Jf.prototype.KB=function(H){if(H==null)H=1;
H=Math.max(.05,Math.min(5,H));if(isNaN(H)){alert("Pressure is not a number");throw"e"}return H};Jf.prototype.Yb=function(H){this.MD=H;
this.Jz=this.Jz.Fv(H)};Jf.prototype.finish=function(){var H=this.vO,N=H.length,Q;if(N==4)Q=this.Ke(H[N-2],H[N-1],this.GM[(N>>1)-1],!0);
if(N>4)Q=this.KZ(N+2);if(Q)this.Yb(Q)};Jf.prototype.KZ=function(H){var N=this.vO,Q=this.GM,c=N[H-6],_=N[H-5],O=N[H-4],L=N[H-3],s=Q[(H>>1)-3],r=Q[(H>>1)-2],u=new E(0,0),V=new E(0,0);
if(8<=H)u=Jf.KA(N[H-8],N[H-7],c,_,O,L);if(H<=N.length)V=Jf.KA(N[H-2],N[H-1],O,L,c,_);var C=c+u.x,T=_+u.y,e=O+V.x,t=L+V.y,Y=new p;
for(var A=0;A<10;A++){var G=(A+1)*.1,j=1-G,d=j*j*j*c+3*G*j*j*C+3*G*G*j*e+G*G*G*O,w=j*j*j*_+3*G*j*j*T+3*G*G*j*t+G*G*G*L,f=this.Ke(d,w,s+G*(r-s));
Y=Y.Fv(f)}return Y};Jf.KA=function(H,N,Q,c,_,O){var L=H-Q,s=N-c,r=_-Q,u=O-c,V=Math.sqrt(L*L+s*s),C=Math.sqrt(r*r+u*u),T=Math.acos((L*r+s*u)/(V*C))/Math.PI,e=.35,t=.1;
T=t+T*(e-t);var Y=_-H,A=O-N,G=Math.sqrt(Y*Y+A*A),j=T*C/G;return new E(Y*j,A*j)};Jf.prototype.Ke=function(H,N,Q,c){var _=new p,O=this.oN.tRh;
if(O==null)O=0;if(O==0||c){_=this.KN(H,N,Q);return _}var L=this.kt,s=H-L.x,r=N-L.y,u=Math.sqrt(s*s+r*r);
s/=u;r/=u;if(u>O){var V=L.x+s*(u-O),C=L.y+r*(u-O);_=this.KN(V,C,Q);this.kt.kR(V,C)}return _};Jf.prototype.KN=function(H,N,Q){var c=new p,_=new E(H,N),O=this.H.Brsh.v.Dmtr.v.val,L=this.oN.tX,s=_.Tr(this.yd);
s.normalize(1);var r=E.Ln(this.yd,_),u=-this.Pm,V=this.yd.clone();while(!0){var C=this.K_()*(this.Gc+(Q-this.Gc)*(Math.max(0,u)/r)),T=this.tLt()*(C+this.Ps)/2;
if(L==Jf.MY)T=1;if(u+T<r){u+=T;var e=new E(this.yd.x+s.x*u,this.yd.y+s.y*u),A=1;if(L==Jf.MY){var t=V.clone();
t.x+=s.x>0?1:-1;var Y=V.clone();Y.y+=s.y>0?1:-1;if(E.Ln(t,e)<E.Ln(Y,e))e=t;else e=Y;u=E.Ln(e,this.yd)}if(this.H.useScatter.v==!0){A=this.H.Cnt.v;
var G=this.H.countDynamics.v.jitter.v.val/100,j=G*(-1+2*this.Ux());A+=Math.round(A*j)}for(var d=0;d<A;
d++){var w=this.YR(e,C,s);c=c.Fv(w)}V=e}else break}this.Pm=r-u;this.yd=_;this.Gc=Q;return c};Jf.prototype.tLt=function(){var H=this.H.Brsh.v,N=H.Spcn.v.val,Q=Math.max(5,H.Rndn.v.val);
return Q/100*(N/100)};Jf.prototype.K_=function(){var H=this.H,N=H.Brsh.v.Dmtr.v.val;if(H.useTipDynamics.v){var Q=N*(H.minimumDiameter.v.val/100);
N=Q+(N-Q)*(1-this.Ux()*(H.szVr.v.jitter.v.val/100))}return N};Jf.prototype.YR=function(H,N,Q){var c=this.H,_=this.H.Brsh.v,O=_.Dmtr.v.val,L=this.oN,s=L.OO,r=L.tX,u=L.trM,V=new Jo;
V.translate(-this.n_.AM.$/2,-this.n_.AM.z/2);V.scale(1/this.n_.P_,1/this.n_.P_);V.scale(N/O,N/O);V.scale(1,Math.max(5,_.Rndn.v.val)/100);
if(c.useTipDynamics.v){var C=c.minimumRoundness.v.val/100;V.scale(1,C+(1-C)*Math.round(100-this.Ux()*c.roundnessDynamics.v.jitter.v.val)/100);
V.rotate((-.5+this.Ux())*4*Math.PI*(c.angleDynamics.v.jitter.v.val/100))}V.rotate(_.Angl.v.val*(Math.PI/180));
if(c.useScatter.v){var T=(-1+2*this.Ux())*c.scatterDynamics.v.jitter.v.val/100;V.translate(-T*N*Q.y,T*N*Q.x)}V.translate(H.x,H.y);
var e=this.tL$(V,H);this.YT(e.rect);var t=e.rect.clone();if(r==null){var Y=this.NG(c);$.Mw(e._K,Math.round(Y.H*255)<<16|Math.round(Y.q*255)<<8|Math.round(Y.T*255)<<0,4278190080);
$.a.tDM(e._K,e.rect,this.nn,this.rect,e.rect,s)}if(r==Jf.MY){var A=new E(e.rect.x+e.rect.$/2,e.rect.y+e.rect.z/2),G=Math.round(A.x-this.GG.x),j=Math.round(A.y-this.GG.y),d=e.rect.clone();
d.offset(-G,-j);var w=d.sj(this.rect);w.offset(G,j);$.Pg(this.nn,this.rect,e._K,d);$.a.Lq(e._K,e.rect,this.nn,this.rect,e.JZ,e.rect,s)}if(r==Jf._x||r==Jf._h||r==Jf.IR){var f=e.rect.sj(this.rect),b=$.I(f.f());
$.Jg(e.JZ,e.rect,b,f);var F=e._K;$.Pg(this.nn,this.rect,F,f);if(r==Jf._h){var n=$.clone(F),J=$.HW.Cr([-1,-1,-1,-1,25,-1,-1,-1,-1]);
$.HW.zV(F,n,f.$,f.z,J,3,0);$.sa(n,F)}else if(r==Jf.IR){var Z=VJ.vI("UnsM");Z.Amnt.v.val=15;Z.Thsh.v=0;
Z.Rds.v.val=5;var n=$.I(F.length);VJ.kn("UnsM",{buffer:F,rect:f},Z,0,0,{buffer:n,rect:f});$.sa(n,F)}else{VJ.$U(1,$.blur.Lj,F,f)}$.a.Lq(F,f,this.nn,this.rect,b,f,s)}this.Ps=N;
this.GG=A;return t};Jf.prototype.NG=function(H){var N=Jf.YJ(this.AF);if(H.useColorDynamics.v){var Q=1-this.Ux()*H.clVr.v.jitter.v.val/100,c=Jf.YJ(this.ze);
N.T=Q*N.T+(1-Q)*c.T;N.q=Q*N.q+(1-Q)*c.q;N.H=Q*N.H+(1-Q)*c.H;var _=(-.5+this.Ux())*H.H.v.val/100,O=(-1+2*this.Ux())*H.Strt.v.val/100,L=(-1+2*this.Ux())*H.Brgh.v.val/100,s=$.sM(N.T,N.q,N.H);
s.ht=(s.ht+_+1)%1;s._u=s._u+O;if(s._u<0)s._u=-s._u;if(s._u>1)s._u=1-(s._u-1);s.Dq=s.Dq+L;if(s.Dq<0)s.Dq=-s.Dq;
if(s.Dq>1)s.Dq=1-(s.Dq-1);N=$.pq(s.ht,s._u,s.Dq)}return N};Jf.prototype._o=function(H){return Math.max(0,Math.min(1,H))};
Jf.prototype.Ux=function(){this.dP++;return Jf.hash(this.dP)};Jf.YJ=function(H){return{T:(H>>16&255)/255,q:(H>>8&255)/255,H:(H>>0&255)/255}};
Jf.hash=function(H){H=H^61^H>>16;H=H+(H<<3);H=H^H>>4;H=H*668265261;H=H^H>>15;return(H&16777215)/16777215};
Jf.Kq=[];Jf.prototype.tL$=function(H,N){var Q=null,L;for(var c=0;c<Jf.Kq.length;c++)if(Jf.Kq[c].vf==this.vf){Q=Jf.Kq[c];
Jf.Kq.splice(c,1)}if(Q==null)Q={tV:[],vf:this.vf,Je:0};var _=Q.tV,O=this.oN.tf;if(O){H=H.clone();H.DX=Math.floor(H.DX);
H.Ug=Math.floor(H.Ug)}var s=Jf.YC(H.DX,H.Ug);for(var c=0;c<_.length;c++){var r=_[c];if(!(r.om.o==H.o&&r.om.H==H.H&&r.om.lA==H.lA&&r.om.KI==H.KI))continue;
if(Jf.tLc(r.Vn,s)<.2||r.rect.f()>1e4){L=r;break}}if(L){L.rect.x=Math.round(L.Gi.x-L.om.DX+H.DX);L.rect.y=Math.round(L.Gi.y-L.om.Ug+H.Ug)}else{var u=Math.round(this.H.Brsh.v.Dmtr.v.val),V;
if(O&&u<=3){V={buffer:$.I(u*u*4),rect:new p(Math.round(N.x-u/2),Math.round(N.y-u/2),u,u)};$.Mw(V.buffer,4278190080)}else V=l._.Qk([this.n_._K,this.n_.AM],H);
if(O){for(var c=0;c<V.buffer.length;c++)V.buffer[c]=V.buffer[c]>127?255:0}if(V==null)V={buffer:$.I(0),rect:new p};
var C=H.DX-Math.floor(H.DX),T=H.Ug-Math.floor(H.Ug);L={_K:V.buffer,JZ:$.I(V.rect.f()),rect:V.rect,Gi:V.rect.clone(),om:H,Vn:Jf.YC(H.DX,H.Ug)};
$.rY(L._K,L.JZ,3);_.push(L);if(_.length>200)_=_.slice(100)}Q.tV=_;Q.Je=Date.now();Jf.Kq.push(Q);Jf.Kq.sort(function(e,t){return t.Je-e.Je});
while(Jf.Kq.length>3)Jf.Kq.pop();return L};Jf.YC=function(H,N){return new E(H-Math.floor(H),N-Math.floor(N))};
Jf.tLc=function(H,N){var Q=N.x,c=N.y,_=Math.abs(Q-H.x),O=Math.abs(c-H.y);if(Math.abs(Q-1-H.x)<_)Q--;
else if(Math.abs(Q+1-H.x)<_)Q++;if(Math.abs(c-1-H.y)<O)c--;else if(Math.abs(c+1-H.y)<O)c++;_=H.x-Q;O=H.y-c;
return Math.sqrt(_*_+O*O)};Jf.prototype.YT=function(H){};Jf.tLd=function(H,N,Q){var c,_,O,L=H.Brsh.v.Dmtr.v.val;
if(H.Brsh.v.classID=="computedBrush"){var s=H.Brsh.v.Hrdn.v.val/100,r=1.55;O=1.2;var u=Math.round(O*L*r),V=Math.pow(s,.55);
_=new p(0,0,u,u);c=$.I(u*u);var C=u/2,T=1/C,N=Jf.tLG(s);for(var e=0;e<u;e++){var t=r*(e-C+.25)*T,Y=r*(e-C+.75)*T;
for(var A=0;A<u;A++){var G=r*(A-C+.25)*T,j=r*(A-C+.75)*T,d=Math.floor(Math.sqrt(G*G+t*t)*(1e3/1.55)),w=Math.floor(Math.sqrt(j*j+t*t)*(1e3/1.55)),f=Math.floor(Math.sqrt(G*G+Y*Y)*(1e3/1.55)),b=Math.floor(Math.sqrt(j*j+Y*Y)*(1e3/1.55));
c[e*u+A]=Math.round(255*.25*(N[d]+N[w]+N[f]+N[b]))}}}if(H.Brsh.v.classID=="sampledBrush"){var F;for(var e=0;
e<N.length;e++)if(N[e].id==H.Brsh.v.sampledData.v)F=N[e];c=F.channel;_=new p(0,0,F.lU.$,F.lU.z);O=Math.min(_.$,_.z)/L}var n=$.I(_.f()*4);
$.kw(c,n,3);while(Math.min(_.$,_.z)>L*2){var J=new p(_.x,_.y,Math.floor(_.$/2),Math.floor(_.z/2)),Z=l._.Qk([n,_],new Jo(J.$/_.$,0,0,J.z/_.z,0,0));
O*=J.$/_.$;_=Z.rect;n=Z.buffer}return{P_:O,AM:_,_K:n}};Jf.Ye=[];Jf.tLG=function(H){if(Jf.Ye[H])return Jf.Ye[H];
var N=Math.pow(H,.55),Q=new Float64Array(2e3);for(var c=0;c<2e3;c++)Q[c]=Jf.tLo(c*(1/1e3)*1.55,N);Jf.Ye[H]=Q;
return Q};Jf.tLo=function(H,N){var Q=H<N?1:Jf.tCt((H-N)/Math.pow(1.001-N,.86));return Q};Jf.tCt=function(H){var N=H*.85;
return Math.exp(-(N*N)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};Jf.prototype.AK=function(){return this.rect.clone()};
Jf.prototype.YN=function(){return this.MD.sj(this.rect)};Jf.prototype.Yd=function(){return this.Jz.sj(this.rect)};
Jf.prototype.GE=function(){return this.nn};Jf.uU=function(H,N,Q,c,_,O){var L=z.B("canvas",""),s=L.getContext("2d");
L.width=O!=null?O:c;L.height=_;s.fillStyle="#ffffff";s.fillStyle="#000000";s.font=Math.floor(10*z.h())+"px Arial";
var r=""+H.Brsh.v.Dmtr.v.val,u=s.measureText(r);s.fillText(r,(c-u.width)/2,_-2);var V=c,C=_-10*z.h(),T=Math.min(V,C),e=H.Brsh.v.Dmtr.v.val,t=H.Brsh.v.classID;
if(t=="computedBrush"){s.translate(V/2,C/2);s.rotate(-H.Brsh.v.Angl.v.val*Math.PI/180);s.scale(1,.1+.9*H.Brsh.v.Rndn.v.val/100);
var Y=Math.min(.95*T/2,r/2)+.5,A=.9*H.Brsh.v.Hrdn.v.val/100,G=s.createRadialGradient(0,0,0,0,0,Y);G.addColorStop(A,"rgba(0,0,0,1)");
G.addColorStop((.5+A)/1.5,"rgba(0,0,0,.5)");G.addColorStop(1,"rgba(0,0,0,0)");s.fillStyle=G;s.fillRect(-Y,-Y,2*Y,2*Y)}else if(t=="sampledBrush"){var j;
for(var d=0;d<N.length;d++)if(N[d].id==H.Brsh.v.sampledData.v)j=N[d];var w=z.B("canvas",""),f=w.getContext("2d");
w.width=j.lU.$;w.height=j.lU.z;var b=f.getImageData(0,0,w.width,w.height),F=new $.wf(w.width*w.height);
F.o=j.channel;$.GL(F,b.data);f.putImageData(b,0,0);T=Math.min(T,H.Brsh.v.Dmtr.v.val);var n=Math.max(w.width,w.height),J=.85*w.width*T/n,Z=.85*w.height*T/n;
s.drawImage(w,(V-J)/2,(C-Z)/2,J,Z)}else{}return L.toDataURL()};Jf.YF=function(H,N,Q){if(Q==0)Q=1;var c=new p(0,0,128,128),_=H.Brsh.v.Dmtr.v.val;
H.Brsh.v.Dmtr.v.val=Math.min(180,_*Q);var O=H.Brsh.v.Dmtr.v.val,L=new Jf(H,N,null,{OO:1},0,0,c);H.Brsh.v.Dmtr.v.val=_;
L.moveTo(c.$/2,c.z/2);var s=new $.wf(c.f()),r=$.I(c.f()*4);$.Pg(L.GE(),L.AK(),r,c);$.GQ(r,s);if(O>=3){var u=$.I(c.f());
$.t.tPM(s.o,u,c);var V=$.I(c.f());$.blur.ur($.clone(u),V,c,1);$.sk(s,255);$.sa(V,s.o);for(var C=0;C<u.length;
C++)if(u[C]==255){s.o[C]=255;s.T[C]=s.q[C]=s.H[C]=0}}else{var T=64*128+64,e=s.o,t=10;for(var C=0;C<4;
C++){e[T-t*128+C*128-1]=e[T-t*128+C*128]=255;e[T+t*128-C*128-1-128]=e[T+t*128-C*128-128]=255;e[T-128-t+C]=e[T-128-t+C+128]=255;
e[T-128+t-C-1]=e[T-128+t-C-1+128]=255}}var Y=$.I(c.f()*4);$.GL(s,Y);Y[3]=Math.max(Y[3],1);var A=JP.Km(Y,c.$,c.z);
return A};Jf.MY="0";Jf._x="1";Jf._h="2";Jf.IR="3";var ru={};ru.Iq=function(H,N){var Q=H.Ys(),r;if(Q.x==Infinity||Q.km())return{nn:$.I(0),rect:new p,_B:new p};
var c=H.Ys(),_=ru.Yx(H,N),O=$.K.TD(_.Z);if(O.km())return{nn:$.I(0),rect:new p,_B:new p};var L=z.B("canvas","");
L.width=O.$;L.height=O.z;var s=L.getContext("2d");s.translate(-O.x,-O.y);ru.tCw(_,s);if(H.hj.length!=0){var u=s.getImageData(0,0,O.$,O.z);
r=new Uint8Array(u.data.buffer)}else r=$.I(O.f()*4);return{nn:r,rect:O,_B:c}};ru.Yx=function(H,N){var Q={lX:[],Z:[]};
ru.tCI(H,Q);if(!$.UB.vn(N.O$)){var c=$.K.jm(Q.Z);Q=$.K.kX(Q);Q=$.K.kb(Q,Math.min(c.$,c.z)/8);var _=X.AK(N,H),O=$.UB.cq(N.O$,_);
$.nH.apply(O,Q.Z,_)}var L=N.UC;$.K.UC(Q.Z,L,Q.Z);return Q};ru.tCw=function(H,N){Typr.U.pathToContext({crds:H.Z,cmds:H.lX},N)};
ru.Ij=function(H,N){var Q=H.Bd.ResourceDict.FontSet,c=[],_=H.Bd.EngineDict.StyleRun.RunArray,L=!0;for(var O=0;
O<_.length;O++)c.push(X.Yh(H.Bd,O).Font);for(var O=0;O<c.length;O++){var s=c[O];if(N.jq(Q[s].Name)==null)L=!1}return L};
ru.tCI=function(H,N){var Q=new Jo;for(var c=0;c<H.re.length;c++)ru.tCM(H.hj,H.re[c],N,Q)};ru.tCM=function(H,N,Q,c){c.translate(N.Vn.x,N.Vn.y);
for(var _=0;_<N.KX.length;_++){var O={},L=N.KX[_];if(!L.Gq)break;c.translate(L.Vn.x,L.Vn.y);for(var s=L.start;
s<L.end;s++)ru.tCO(H,N.gY[s],O,Q,c);c.translate(-L.Vn.x,-L.Vn.y)}c.translate(-N.Vn.x,-N.Vn.y)};ru.tCQ="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
ru.tCO=function(H,N,Q,c,_){_.translate(N.Vn.x,N.Vn.y);for(var O=N.start;O<N.end;O++){var L=H[O],s=_.clone();
s.translate(L.Vn.x,L.Vn.y);var r=L.Nl.FontSize/L.nh.head.unitsPerEm,u=X.NG(L.Nl),V=(Math.round(u.T)<<16)+(Math.round(u.q)<<8)+Math.round(u.H);
c.lX.push("#"+$.fM(V));if(L.path.lX.length!=0){var C=new Jo(r,0,0,-r,0,0);if(L.on==1&&ru.tCQ.indexOf(L.oQ)!=-1)C.concat(new Jo(-1,0,0,1,L.rect.$,0));
if(L.Nl.FauxItalic)C.concat(new Jo(1,0,-Math.tan(.18),1,0,0));C.scale(L.scale.x,L.scale.y);C.concat(s);
$.K.concat(c,L.path,C)}if(L.Nl.Underline){if(Q.JN==null)Q.JN=L.nh.post.underlineThickness*r;if(Q.d$==null)Q.d$=L.nh.post.underlinePosition*r;
var T=0,e=-Q.d$+Q.JN/2,t=1.05*L.rect.$/L.scale.x,Y=Q.JN;$.K.concat(c,{lX:["M","L","L","L","Z"],Z:[T,e,T+t,e,T+t,e+Y,T,e+Y]},s)}if(L.Nl.Strikethrough){var A=L.nh["OS/2"].yStrikeoutSize*r,G=L.nh["OS/2"].yStrikeoutPosition*r,T=0,e=-G-A/2,t=1.05*L.rect.$/L.scale.x,Y=A;
$.K.concat(c,{lX:["M","L","L","L","Z"],Z:[T,e,T+t,e,T+t,e+Y,T,e+Y]},s)}c.lX.push("X")}_.translate(-N.Vn.x,-N.Vn.y)};
function tH(H,N){var Q,c=X.BR(H);if(c)Q=new p(c[0],c[1],c[2],c[3]);this.VF=0;this.V_=!1;this.re=[];this.rect=new p;
this.hj=[];var _=X.Fk(H),O={};for(var L=0;L<_.length;L++){var s={oQ:_.charAt(L),Nl:X.tTJ(H,L),fj:0,path:null,nh:null,rect:new p,AM:new p,Vn:new E(0,0),scale:new E(0,0),tq:0,lineHeight:0,yK:0,LP:0,on:0,U_:L},r=H.ResourceDict.FontSet[s.Nl.Font].Name,u=s.nh=N.jq(r),j=0;
if(O[r]==null){O[r]=Typr.U.stringToGlyphs(u,_)}var V=O[r],C=Typr.U.codeToGlyph(u,s.oQ.charCodeAt(0));
if(s.oQ=="\n")s.fj=-1;else if(V[L]==C&&s.Nl.FontCaps!=0)s.fj=Typr.U.codeToGlyph(u,s.oQ.toUpperCase().charCodeAt(0));
else s.fj=V[L];if(s.fj==-1)s.path={lX:[],Z:[]};else{var T=Typr.U.glyphToPath(u,s.fj);s.path={lX:T.cmds,Z:T.crds}}s.scale.x=s.Nl.HorizontalScale==null?1:s.Nl.HorizontalScale;
s.scale.y=s.Nl.VerticalScale==null?1:s.Nl.VerticalScale;var e=u["OS/2"],t=u.hhea;if(s.Nl.FontCaps==1&&V[L]==C&&s.oQ!=s.oQ.toUpperCase()){var Y=e.sxHeight?e.sxHeight/e.sTypoAscender:.76;
s.scale.x*=Y;s.scale.y*=Y}var A=1/u.head.unitsPerEm*s.Nl.FontSize;if(s.Nl.FontBaseline==1){var Y=H.ResourceDict.SuperscriptSize;
s.scale.x*=Y;s.scale.y*=Y;s.Vn.y-=H.ResourceDict.SuperscriptPosition*s.Nl.FontSize}if(s.Nl.FontBaseline==2){var Y=H.ResourceDict.SubscriptSize;
s.scale.x*=Y;s.scale.y*=Y;s.Vn.y+=H.ResourceDict.SubscriptPosition*s.Nl.FontSize}if(s.Nl.BaselineShift)s.Vn.y-=s.Nl.BaselineShift;
s.rect.x=0;s.rect.$=s.scale.x*(s.fj==-1?0:u.hmtx.aWidth[s.fj])*A;s.rect.y=-t.ascender*A;s.rect.z=-s.rect.y;
if(u.glyf==null){s.AM=s.rect.clone();s.AM.z*=s.scale.y;s.AM.y-=s.AM.z-s.rect.z;s.AM.z*=1.3}else if(u.glyf[s.fj]!=null){var G=u.glyf[s.fj];
s.AM.x=G.xMin*A;s.AM.$=(G.xMax-G.xMin)*A*s.scale.x;s.AM.y=-G.yMax*A*s.scale.y;s.AM.z=(G.yMax-G.yMin)*A*s.scale.y}s.AM.y=-A*(e?e.usWinAscent:u.head.yMax)*.9357;
s.AM.z=-s.AM.y-A*u.head.yMin;if(j==0&&e&&e.sxHeight&&r.toLowerCase().indexOf("capitals")!=-1)j=e.sxHeight;
if(j==0&&e&&e.sCapHeight)j=e.sCapHeight;if(j==0&&e&&e.sTypoAscender)j=e.sTypoAscender;if(j==0)j=t.ascender;
s.tq=j*A;s.lineHeight=(t.ascender-t.descender)*A;s.yK=t.ascender*A;s.LP=(-t.descender+t.lineGap)*A;if(s.Nl.AutoLeading==!1)s.lineHeight=s.Nl.Leading;
this.hj.push(s)}for(var L=0;L<H.EngineDict.ParagraphRun.RunLengthArray.length;L++){var d=new tH.Yu(H,N,this.hj,L,Q);
this.re.push(d)}var w=Q==null?0:this.re[0].KX[0].tq;for(var L=0;L<this.re.length;L++){var f=this.re[L].KX;
if(L>0)w+=f[0].lineHeight;this.re[L].Vn.y=w;this.VF+=f.length;if(Q)for(var b=0;b<f.length;b++){f[b].Gq=f[b].Vn.y+w<Q.y+Q.z;
if(!f[b].Gq)this.V_=!0}var F=this.re[L].rect.clone();F.xf(this.re[L].Vn);this.rect=this.rect.Fv(F);for(var b=1;
b<f.length;b++)w+=f[b].lineHeight;w+=X.b$(H,L).SpaceAfter;if(L<this.re.length-1)w+=X.b$(H,L+1).SpaceBefore}}tH.prototype.Ym=function(H){for(var N=0;
N<this.hj.length;N++)if(this.hj[N].U_==H)return this.hj[N];return null};tH.prototype.tCn=function(H){for(var N=0;
N<this.re.length;N++){var Q=this.re[N];for(var c=0;c<Q.KX.length;c++){var _=Q.KX[c],O=Q.gY[_.start].start,L=Q.gY[_.end-1].end;
if(O<H&&H<L)return[O,L-1]}}return[0,1]};tH.prototype.YM=function(H,N){var Q=-1;for(var c=0;c<this.re.length;
c++){var _=this.re[c];for(var O=0;O<_.KX.length;O++){Q++;var L=_.KX[O],s=_.KX[O+1];if(s==null&&c<this.re.length-1)s=this.re[c+1].KX[0];
if(N!=null){if(Q!=N)continue}else{if(s!=null&&_.Vn.y+L.Vn.y<H.y)continue}for(var r=L.start;r<L.end;r++){var u=_.gY[r];
if(r<L.end-1&&_.Vn.x+L.Vn.x+_.gY[r+1].Vn.x<H.x)continue;for(var V=u.start;V<u.end;V++){var C=this.hj[V],T=_.Vn.x+L.Vn.x+u.Vn.x+C.Vn.x,e=_.Vn.y+L.Vn.y+u.Vn.y+C.Vn.y;
if(V<u.end-1&&T-C.Vn.x+this.hj[V+1].Vn.x<H.x)continue;else break}return this.hj[V].U_}}}};tH.prototype.Ii=function(H){var N=0,_=0;
for(var Q=0;Q<this.hj.length;Q++)if(this.hj[Q].U_==H)N=Q;var c={rect:null,Pc:0};for(var O=0;O<this.re.length;
O++){var L=this.re[O];for(var s=0;s<L.KX.length;s++){var r=L.KX[s];c.Pc=_;_++;for(var u=r.start;u<r.end;
u++){var V=L.gY[u],C,T,e,t;for(T=V.start;T<V.end;T++){C=this.hj[T];e=L.Vn.x+r.Vn.x+V.Vn.x+C.Vn.x;t=L.Vn.y+r.Vn.y+V.Vn.y+C.Vn.y;
if(T==N){c.rect=new p(e,t-C.lineHeight,C.rect.$,C.lineHeight);return c}}}}}};tH.prototype.Ys=function(){var H=Infinity,N=Infinity,Q=-Infinity,c=-Infinity;
for(var _=0;_<this.re.length;_++){var O=this.re[_];for(var L=0;L<O.KX.length;L++){var s=O.KX[L];if(!s.Gq)break;
for(var r=s.start;r<s.end;r++){var u=O.gY[r];for(var V=u.start;V<u.end;V++){var C=this.hj[V],T=O.Vn.x+s.Vn.x+u.Vn.x+C.Vn.x,e=O.Vn.y+s.Vn.y+u.Vn.y+C.Vn.y;
H=Math.min(H,T+C.AM.x);N=Math.min(N,e+C.AM.y);Q=Math.max(Q,T+C.AM.x+C.AM.$);c=Math.max(c,e+C.AM.y+C.AM.z)}}}}return new p(H,N,Q-H,c-N)};
tH.Yg=function(H,N,Q,c,_,O){var L=[c],s=0;for(var r=c;r<_;r++){if(Q[r]==null)console.log(r,c,_,Q);var u=Q[r].oQ,V=u.charCodeAt(0);
if(V==32){L.push(s,r,1,r+1);s=0}else if(V==3851){L.push(s+1,r+1);s=0}else if(19968<=V&&V<=40959||12288<=V&&V<=12543){L.push(s,r);
s=1}else if(O!=null&&(O.indexOf(r-c)!=-1||r!=c&&Q[r].on!=Q[r-1].on)){L.push(s,r);s=1}else s++}L.push(s);
var C=[];for(var r=0;r<L.length;r+=2){var T=L[r],e=L[r+1];if(e==0)continue;C.push(new tH.tCf(H,N,Q,T,e))}return C};
tH.Ya=function(H,N,Q,c){var _=[[],[]],O=0,L=0;while(O<H.length){var s=0,r=O,u=N?N.$-Q.StartIndent-Q.EndIndent-(O==0?Q.FirstLineIndent:0):Infinity;
while(!0){if(O==H.length)break;var V=H[O],C=s==0;if(c)C=C||c.indexOf(L)==-1;else C=C||(V.PG||V.vb)||s+V.rect.$<u;
if(C){V.Vn.x=s;s+=V.rect.$;O++;L+=V.end-V.start}else break}_[0].push(O-r);_[1].push(u)}return _};tH.Yu=function(H,N,Q,c,_){this.gY=[];
this.KX=[];this.rect=new p;this.AM=new p;this.Vn=new E(0,0);var O=X.b$(H,c),L=H.EngineDict.ParagraphRun.RunLengthArray,s=L[c],r=0,Y=0,f=0,b=0,g=0;
for(var u=0;u<c;u++)r+=L[u];var V=O._Direction?O._Direction:0,C=UnicodeBidirectional.resolve,T=UnicodeBidirectional.reorderPermutation,e=X.Fk(H).slice(r,r+s),t=[];
for(var u=0;u<e.length;u++){var A=e.charCodeAt(u);t.push(A);if(A>Y)Y=A}var G=[];for(var u=0;u<e.length;
u++)G.push(0);if(Y>1424)G=C(t,V);for(var u=0;u<t.length;u++)Q[r+u].on=G[u]&1;var j=tH.Yg(H,N,Q,r,r+s),d=tH.Ya(j,_,O)[0],w=[];
for(var F=0;F<d.length;F++){var n=b;for(var u=0;u<d[F];u++){var J=j[f+u];b+=J.end-J.start}w.push(b);
var Z=G.slice(n,b),P=T(Z),M=Q.slice(r+n,r+b);if(P.length==M.length)for(var u=0;u<M.length;u++)Q[r+n+u]=M[P[u]];
f+=d[F]}this.gY=tH.Yg(H,N,Q,r,r+s,w);var y=tH.Ya(this.gY,_,O,w),d=y[0],a=y[1];for(var F=0;F<d.length;
F++){var U={start:g,end:0,rect:new p,AM:new p,Vn:new E(0,0),tq:0,lineHeight:0,yK:0,LP:0,Gq:!0};this.KX.push(U);
g+=d[F];U.end=g;var D=U.end==this.gY.length,W=a[F],m=X.Io(O);if(_&&m>2&&(m==6||!D))this.tCl(U,this.gY,Q,W,V);
for(var u=U.start;u<U.end;u++){var q=this.gY[u].rect.clone();q.xf(this.gY[u].Vn);U.rect=U.rect.Fv(q);
var S=this.gY[u].AM.clone();S.xf(this.gY[u].Vn);U.AM=U.AM.Fv(S);U.tq=Math.max(U.tq,this.gY[u].tq);U.lineHeight=Math.max(U.lineHeight,this.gY[u].lineHeight);
U.yK=Math.max(U.yK,this.gY[u].yK);U.LP=Math.max(U.LP,this.gY[u].LP)}if(_){var I=this.lineWidth(U,this.gY,V);
U.Vn.x=0;if(m==1||D&&m==4)U.Vn.x=I[1]+(W-I[0]);if(m==2||D&&m==5)U.Vn.x=I[1]+(W-I[0])/2;if(this.KX.length==1)U.Vn.x+=O.FirstLineIndent;
U.Vn.x+=O.StartIndent}else{if(m==0)U.Vn.x=O.StartIndent+O.FirstLineIndent;if(m==1)U.Vn.x=-U.rect.$-O.EndIndent;
if(m==2)U.Vn.x=-U.rect.$/2}if(this.KX.length==1)U.Vn.y=0;else U.Vn.y=this.KX[this.KX.length-2].Vn.y+Math.max(this.KX[this.KX.length-2].LP+U.yK,U.lineHeight)}for(var u=0;
u<this.KX.length;u++){var v=this.KX[u].rect.clone();v.xf(this.KX[u].Vn);this.rect=this.rect.Fv(v);var h=this.KX[u].AM.clone();
h.xf(this.KX[u].Vn);this.AM=this.AM.Fv(h)}};tH.Yu.prototype.lineWidth=function(H,N,Q){var c=0,_=0;for(var O=H.start;
O<H.end;O++)c+=N[O].rect.$;if(Q==0)for(var O=H.end-1;O>=H.start;O--)if(N[O].PG||N[O].vb)c-=N[O].rect.$;
else break;if(Q==1)for(var O=H.start;O<H.end;O++)if(N[O].PG||N[O].vb){var L=N[O].rect.$;c-=L;_-=L}else break;
return[c,_]};tH.Yu.prototype.tCl=function(H,N,Q,c,_){var O=0,L=0,s=0,r=0;for(var u=H.start;u<H.end;u++)if(N[u].PG)s++;
else{O+=N[u].rect.$;L++}if(_==0)for(var u=H.end-1;u>=H.start;u--)if(N[u].PG||N[u].vb){if(N[u].PG){s--}}else break;
if(_==1)for(var u=H.start;u<H.end;u++)if(N[u].PG||N[u].vb){if(N[u].PG){s--;r++}}else break;if(L<=1||s==0)return;
var V=(c-O)/s,C=-r*V;for(var u=H.start;u<H.end;u++){if(N[u].PG)Q[N[u].start].rect.$=N[u].rect.$=V;N[u].Vn.x=C;
C+=N[u].rect.$}};tH.tCf=function(H,N,Q,c,_){this.PG=_==1&&Q[c].oQ==" ";this.vb=_==1&&Q[c].oQ=="\n";this.start=c;
this.end=c+_;this.rect=new p;this.AM=new p;this.Vn=new E(0,0);this.tq=0;this.lineHeight=0;this.yK=0;
this.LP=0;var O=0,L=0;if(_==0){this.lineHeight=Q[c].lineHeight;this.tq=Q[c].tq;this.rect=new p(0,-Q[c].lineHeight,0,Q[c].lineHeight)}for(var s=0;
s<_;s++){var r=Q[c+s],u=[1611,1612,1614,1615,1618,1623,1624,1761,1613,1616,1622,1617,1552-1556,1625,1750-1756,1759,1760,1762,1764,1767,1768,1771,1772,1763,1770,1773,1648,1619,1620,1621].indexOf(r.oQ.charCodeAt(0))!=-1&&r.nh.kern==null&&r.nh.GPOS==null,V=1/r.nh.head.unitsPerEm*r.Nl.FontSize,t=0;
if(!r.Nl.AutoKerning)O+=r.Nl.Kerning*2*V;r.Vn.x=O;if(r.nh.hmtx.aWidth[r.fj])O+=(u?0:r.nh.hmtx.aWidth[r.fj])*r.scale.x*V;
if(r.Nl.AutoKerning&&s<_-1){var C=Q[c+s+1].fj,T=0;if(C!=-1){T=Typr.U.getPairAdjustment(r.nh,r.fj,C);
if(u)r.Vn.x+=r.scale.x*V*r.nh.hmtx.aWidth[C]/2}if(T==null)T=0;O+=T*V}var e=r.rect.clone();e.xf(r.Vn);
if(r.Nl.Tracking)t=r.Nl.Tracking*.001*r.Nl.FontSize;O+=t;if(_==1&&r.oQ==" ")e.$+=2*t;this.rect=this.rect.Fv(e);
var Y=r.AM.clone();Y.xf(r.Vn);this.AM=this.AM.Fv(Y);this.tq=Math.max(this.tq,r.tq);this.lineHeight=Math.max(this.lineHeight,r.lineHeight);
this.yK=Math.max(this.yK,r.yK);this.LP=Math.max(this.LP,r.LP)}};function X(){}X.FI=function(H){return JSON.parse(JSON.stringify(H))};
X.Ib=function(H,N){for(var Q in N)H[Q]=N[Q]};X.YD=function(H,N,Q){var c=X.tTE();if(Q)X.zX(c,0,0,Q);var _={UC:new Jo(1,0,0,1,Math.round(H),Math.round(N)),Bd:c};
_.ho=X.Yl();_.O$=$.UB.I();_._B=new p;return _};X.YS=function(H){var N=["CharacterDirection",0];for(var Q=0;
Q<N.length;Q+=2){if(H[N[Q]]!=null&&H[N[Q]]!=N[Q+1]){throw"e";console.log(N[Q],H[N[Q]])}}if(H instanceof Array)for(var Q=0;
Q<H.length;Q++)X.YS(H[Q]);else if(H instanceof Object)for(var c in H)X.YS(H[c])};X.Io=function(H,N){if(N==null)N=H.Justification;
var Q=H._Direction?H._Direction:0;if(Q==1){if(N==0||N==3)N++;else if(N==1||N==4)N--}return N};X.NG=function(H){var N={T:0,q:0,H:0};
if(H.FillColor){var Q=H.FillColor,c=Q.Values;if(Q.Type==1)N={T:c[1]*255,q:c[2]*255,H:c[3]*255};else if(Q.Type==2){var _={classID:"CMYC",Cyn:{t:"doub",v:c[1]*100},Mgnt:{t:"doub",v:c[2]*100},Ylw:{t:"doub",v:c[3]*100},Blck:{t:"doub",v:c[4]*100}};
N=$.e.NG(_)}else console.log("Unknown color type")}return N};X.AK=function(H,N){var Q;if(X.gG(H.Bd)==1){var c=X.BR(H.Bd);
Q=new p(0,0,c[2]-c[0],c[3]-c[1])}else Q=N.Ys();return Q};X.NE=function(H){var N=H[0];for(var Q=0;Q<H.length;
Q++)N=X.tCj(N,H[Q]);return N};X.tCj=function(H,N){var Q={};for(var c in H)if(JSON.stringify(H[c])==JSON.stringify(N[c]))Q[c]=H[c];
return Q};X.kP=function(H,N){var Q=H.vT,c=-1;for(var _=0;_<Q.length;_++)if(Q[_].Name==N)c=_;if(c==-1){c=Q.length;
Q.push({FontType:1,Name:N,Script:0,Synthetic:0})}H.hj.Font=c};X.Fk=function(H){return H.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
X.YE=function(H,N){H.EngineDict.Editor.Text=N.replace(/\n/g,"\r")};X.gG=function(H){return H.EngineDict.Rendered.Shapes.Children[0].ShapeType};
X.kN=function(H,N){var Q=H.EngineDict.Rendered.Shapes.Children[0];Q.ShapeType=N;var c=Q.Cookie.Photoshop;
c.ShapeType=N;c.Base.ShapeType=N;if(N==0){delete c.BoxBounds;c.PointBase=[0,0]}if(N==1){delete c.PointBase;
c.BoxBounds=[0,0,1,1]}};X.BR=function(H){return H.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
X.Yc=function(H,N){H.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=N};X.tTJ=function(H,N){return X.Yh(H,X.Sp(H.EngineDict.StyleRun.RunLengthArray,N).Vh)};
X.Yh=function(H,N){var Q=H.ResourceDict.StyleSheetSet[0].StyleSheetData,c={};for(var _ in Q)c[_]=Q[_];
var O=H.EngineDict.StyleRun.RunArray[N].StyleSheet.StyleSheetData;X.Ib(c,O);return c};X.b$=function(H,N){var Q=H.ResourceDict.ParagraphSheetSet[0].Properties,c=X.FI(Q),_=H.EngineDict.ParagraphRun.RunArray[N].ParagraphSheet.Properties;
X.Ib(c,_);return c};X.el=function(H,N,Q){if(Q=="")return;var c=X.Fk(H);X.YE(H,c.substring(0,N)+Q+c.substring(N,c.length));
var _=X.Sp(H.EngineDict.StyleRun.RunLengthArray,N-1);H.EngineDict.StyleRun.RunLengthArray[_.Vh]+=Q.length;
var O=H.EngineDict.ParagraphRun,L=O.RunLengthArray,s=X.Sp(L,N),r=Q.split("\n");if(r.length==1){L[s.Vh]+=Q.length;
return}L.splice(s.Vh+1,0,L[s.Vh]-(N-s.qE));O.RunArray.splice(s.Vh+1,0,X.FI(O.RunArray[s.Vh]));L[s.Vh]-=L[s.Vh+1];
L[s.Vh]+=r[0].length+1;for(var u=1;u<r.length-1;u++){O.RunArray.splice(s.Vh+u,0,X.FI(O.RunArray[s.Vh+u-1]));
O.RunLengthArray.splice(s.Vh+u,0,r[u].length+1)}L[s.Vh+r.length-1]+=r[r.length-1].length};X.bw=function(H,N,Q){var c=X.Fk(H);
X.YE(H,c.substring(0,N)+c.substring(Q,c.length));X.YW(H.EngineDict.ParagraphRun,N,Q,!0);X.YW(H.EngineDict.StyleRun,N,Q,!1)};
X.YW=function(H,N,Q,c){var _=H.RunLengthArray,O=X.Sp(_,N),L=X.Sp(_,Q),s=[];for(var r=0;r<_.length;r++)for(var u=0;
u<_[r];u++)s.push(r);s.splice(N,Q-N);var V=[];for(var r=0;r<_.length;r++)V.push(0);for(var r=0;r<s.length;
r++)V[s[r]]++;for(var r=0;r<_.length;r++){if(V[r]==0){V.splice(r,1);_.splice(r,1);H.RunArray.splice(r,1);
r--}else if(V[r]<_[r])_[r]=V[r]}if(c&&O.Vh!=L.Vh&&O.qE!=N){_[O.Vh]+=_[O.Vh+1];_.splice(O.Vh+1,1);H.RunArray.splice(O.Vh+1,1)}};
X.zX=function(H,N,Q,c){var _=H.EngineDict.Editor.Text.length;if(Q==_-2)Q++;if(c.hj.Font!=null)H.ResourceDict.FontSet=c.vT.slice(0);
if(N<=Q)X.Yn(H.EngineDict.StyleRun,c.hj,N,Q,!0);X.Yn(H.EngineDict.ParagraphRun,c.re,N,Q,!1)};X.Yn=function(H,N,Q,c,_){var O=H.RunLengthArray;
if(_){var L=X.Sp(O,Q);if(L.qE!=Q){var s=O[L.Vh];O.splice(L.Vh,0,Q-L.qE);O[L.Vh+1]=s-O[L.Vh];H.RunArray.splice(L.Vh+1,0,X.FI(H.RunArray[L.Vh]))}var r=X.Sp(O,c);
if(r.qE+O[r.Vh]-1!=c){var s=O[r.Vh];O.splice(r.Vh,0,c-r.qE+1);O[r.Vh+1]=s-O[r.Vh];H.RunArray.splice(r.Vh+1,0,X.FI(H.RunArray[r.Vh]))}}var L=X.Sp(O,Q),r=X.Sp(O,c);
if(_)for(var u=L.Vh;u<=r.Vh;u++)X.Ib(H.RunArray[u].StyleSheet.StyleSheetData,N);else for(var u=L.Vh;
u<=r.Vh;u++)X.Ib(H.RunArray[u].ParagraphSheet.Properties,N)};X.Sr=function(H,N,Q){var c={vT:H.ResourceDict.FontSet.slice(0),hj:[],re:[]},_=H.EngineDict.StyleRun.RunLengthArray,O=X.Sp(_,N).Vh,L=X.Sp(_,Q).Vh;
for(var s=O;s<=L;s++){var r=X.FI(H.ResourceDict.StyleSheetSet[0].StyleSheetData),u=H.EngineDict.StyleRun.RunArray[s].StyleSheet.StyleSheetData;
X.Ib(r,u);c.hj.push(r)}var V=H.EngineDict.ParagraphRun.RunLengthArray,C=X.Sp(V,N).Vh,T=X.Sp(V,Q).Vh;
for(var s=C;s<=T;s++){c.re.push(X.FI(H.EngineDict.ParagraphRun.RunArray[s].ParagraphSheet.Properties))}c.hj=X.NE(c.hj);
c.re=X.NE(c.re);return c};X.bO=function(H,N){var Q,c;Q=["FontSize","Leading","BaselineShift"];c=H.hj;
for(var _=0;_<Q.length;_++)if(c[Q[_]]!=null)c[Q[_]]*=N;Q=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
c=H.re;for(var _=0;_<Q.length;_++)if(c[Q[_]]!=null)c[Q[_]]*=N};X.tTI=function(){return X.Sr(X.YY,0,0)};
X.Yl=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
X.Sp=function(H,N){var Q=0,c=0;while(Q+H[c]<=N){Q+=H[c];c++}return{Vh:c,qE:Q}};X.tTE=function(){var H=X.FI(this.YY);
return H};X.Yf={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
X.tTb={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
X.YY={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(X.Yf))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(X.Yf))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(X.tTb))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var rM={};rM.tPy=function(H,N,Q){var c={};c._98={_0:"i7"};c._0=rM.tPD(H,N,Q?Q._0:null);c._1=rM.tPp(H,N,c._0,Q?Q._1:null);
return c};rM.tPD=function(H,N,Q){var c={};c._1=rM.tPC(H,Q?Q._1:null);c._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
c._3=JSON.parse(JSON.stringify(rM.tPb));c._4=JSON.parse(JSON.stringify(rM.tPm));c._5=rM.tPv(H,c._1._0,Q?Q._5:null);
c._6=rM.tPh(H,Q?Q._6:null);c._8=rM.tPW(H,N,Q?Q._8:null);c._9=rM.tPs;return c};rM.tPC=function(H,N){var Q=[],c=[];
for(var _=0;_<H.length;_++){var O=H[_].ResourceDict.FontSet;for(var L=0;L<O.length;L++){var s=O[L];if(c.indexOf(s.Name)!=-1)continue;
Q.push(s);c.push(s.Name)}}var r={_0:[]};for(var _=0;_<Q.length;_++){var u=Q[_],V={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+u.Name,_1:"i"+u.Script,_2:"i"+u.FontType}}};
if(u.Script==0)delete V._0._0._1;r._0.push(V)}return r};rM.tPv=function(H,N,Q){var c={_0:[],_1:[]},_={_0:JSON.parse(JSON.stringify(rM.bV))};
rM.YZ(_._0,H[0].ResourceDict.StyleSheetSet[0],N,H[0].ResourceDict.FontSet);c._0.push(_);c._1.push({_0:"i0"});
c._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});c._1.push({_0:"i1"});return c};rM.tPh=function(H,N){var Q={_0:[],_1:[]},c={_0:JSON.parse(JSON.stringify(rM.bz))};
rM.bn(c._0,H[0].ResourceDict.ParagraphSheetSet[0]);Q._0.push(c);Q._1.push({_0:"i0"});c={_0:JSON.parse(JSON.stringify(rM.bz))};
rM.bn(c._0,H[0].ResourceDict.ParagraphSheetSet[0]);c._0._0="sBasic Paragraph";c._0._6="i0";Q._0.push(c);
Q._1.push({_0:"i1"});return Q};rM.tPW=function(H,N,Q){var c={_0:[]};for(var _=0;_<H.length;_++){var O={};
c._0.push({_0:O});var L=X.gG(H[_]);if(L==1){var s=X.BR(H[_]),r=s[2],u=s[3];O._1={_0:rM.bR("f",[0,0,0,0,r,0,r,0,r,0,r,0,r,u,r,u,r,u,r,u,0,u,0,u,0,u,0,u,0,0,0,0])}}O._2={};
O._2._0="i"+L;O._2._6=L==0?["f-1","f-1"]:["f-2","f-2"];O._2._11={_4:"i-"+(L==0?1:2),_7:!1}}return c};
rM.tPp=function(H,N,Q,c){var _={};_._0=JSON.parse(JSON.stringify(rM.tPu));_._1=rM.tPf(H,N,Q,c?c._1:null);
_._2=JSON.parse(JSON.stringify(rM.bV._6));_._3=JSON.parse(JSON.stringify(rM.bz._5));return _};rM.tPf=function(H,N,Q,c){var _=[],O=Q._1._0;
for(var L=0;L<H.length;L++){var s=H[L],r={_0:{}};_.push(r);var u=c?c[L]:null;r._0._0="s"+s.EngineDict.Editor.Text;
r._0._0=r._0._0;var V={_0:[]};r._0._5=V;var C=s.EngineDict.ParagraphRun;for(var T=0;T<C.RunArray.length;
T++){var e={_0:{}};V._0.push(e);e._0._0={_0:"s",_5:{},_6:"i1"};rM.bn(e._0._0,s.EngineDict.ParagraphRun.RunArray[T].ParagraphSheet);
e._1="i"+C.RunLengthArray[T]}var t={_0:[]};r._0._6=t;var Y=u?u._0._6:null;C=s.EngineDict.StyleRun;for(var T=0;
T<C.RunArray.length;T++){var A={_0:{}};t._0.push(A);var G=Y?Y._0:null;A._0._0={_0:"s",_5:"i1",_6:{}};
rM.YZ(A._0._0,s.EngineDict.StyleRun.RunArray[T].StyleSheet,O,s.ResourceDict.FontSet,G?A._0._0:null);
A._1="i"+C.RunLengthArray[T]}r._0._10={_0:"i4",_2:!0};r._1=rM.view.tdW(s,null,L,null)}return _};rM.YZ=function(H,N,Q,c,_){H._0="s"+(N.Name?N.Name:"");
var O=H._6,L=_?_._6:null,s=N.StyleSheetData;if(s.Font==null)return;var r=c[s.Font].Name,u=-1;for(var V=0;
V<Q.length;V++)if("s"+r==Q[V]._0._0._0){u=V;break}O._0="i"+u;if(s.FontSize!=null)O._1="f"+s.FontSize;
if(s.FauxBold!=null)O._2=s.FauxBold;if(s.FauxItalic!=null)O._3=s.FauxItalic;if(s.AutoLeading!=null)O._4=s.AutoLeading;
if(s.Leading!=null)O._5="f"+s.Leading;if(s.HorizontalScale!=null)O._6="f"+s.HorizontalScale;if(s.VerticalScale!=null)O._7="f"+s.VerticalScale;
if(s.Tracking!=null)O._8="i"+s.Tracking;if(s.BaselineShift!=null)O._9="f"+s.BaselineShift;if(s.AutoKerning!=null)O._11="i"+(s.AutoKerning?1:0);
if(s.FontCaps!=null)O._12="i"+s.FontCaps;if(s.FontBaseline!=null)O._13="i"+s.FontBaseline;if(s.Strikethrough!=null)O._15="i"+(s.Strikethrough?1:0);
if(s.Underline!=null)O._16="i"+(s.Underline?2:0);if(s.Ligatures!=null)O._18=s.Ligatures;if(s.DLigatures!=null)O._19=s.DLigatures;
if(s.Language!=null)O._38="i"+s.Language;if(s.FillColor!=null)O._53={_99:"/SimplePaint",_0:{_0:"i1",_1:rM.bR("f",s.FillColor.Values)}}};
rM.bn=function(H,N){H._0="s"+(N.Name?N.Name:"");var Q=H._5,c=N.Properties;if(c.Justification!=null)Q._0="i"+c.Justification;
if(c.FirstLineIndent!=null)Q._1="f"+c.FirstLineIndent;if(c.StartIndent!=null)Q._2="f"+c.StartIndent;
if(c.EndtIndent!=null)Q._3="f"+c.EndtIndent;if(c.SpaceBefore!=null)Q._4="f"+c.SpaceBefore;if(c.SpaceAfter!=null)Q._5="f"+c.SpaceAfter;
if(c.AutoHyphenate!=null)Q._9=c.AutoHyphenate;if(c._Direction!=null)Q._33="i"+c._Direction};rM.bR=function(H,N){var Q=[];
for(var c=0;c<N.length;c++)Q.push(H+N[c]);return Q};rM.tPb={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
rM.tPm={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
rM.bV={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
rM.bz={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
rM.tPs={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
rM.tPu={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var rW={};rW.tdG=function(H){return rW.bm(H,rW.ck)};rW.tDg=function(H){return rW.B$(H,rW.ck)};rW.bm=function(H,N){var Q;
if(typeof H=="string")return H;if(H instanceof Array){Q=[];for(var c=0;c<H.length;c++)Q[c]=rW.bm(H[c],N)}else{Q={};
var _={};for(var O in N){var L=N[O],s="_"+L[0];if(H[s]!=null){Q[O]=L[1]?rW.bm(H[s],L[1]):H[s];_[s]=!0}}for(var O in H){if(_[O]==null){console.log(_);
console.log(O,H);throw"e"}}}return Q};rW.B$=function(H,N){var Q;if(H instanceof Array){Q=[];for(var c=0;
c<H.length;c++)Q[c]=rW.B$(H[c],N)}else{Q={};var _={};for(var O in N){var L=N[O],s="_"+L[0];if(H[O]!=null){Q[s]=L[1]?rW.B$(H[O],L[1]):H[O];
_[O]=!0}}for(var O in H){if(_[O]==null){console.log(_);console.log(O,H);throw"e"}}}return Q};rW.Fa={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
rW.io={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,rW.Fa],_StrokeColor:[54,rW.Fa],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,rW.Fa],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
rW.bJ={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,rW.io],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
rW.br={_Name:[0],_Features:[5,rW.bJ],_Parent:[6]};rW.bH={_Name:[0],_Parent:[5],_Features:[6,rW.io]};
rW.ck={_98:[98,{_0:[0]}],_DocumentResources:[0,{_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,rW.bH]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,rW.br]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,rW.br]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,rW.bH]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,rW.io],_OriginalNormalParagraphFeatures:[3,rW.bJ]}]};
rM.view={};rM.view.tdW=function(H,N,Q,c){var _={},O=X.gG(H);_._0=[{_0:"i"+Q}];return _};function CSS(){}CSS.bL=function(H){var N=H.add,Q=N.vmsk,c=N.vstk,_=N.lmfx,O=N.TySh,L=[];
if(H.TT()&&Q){var s=$.A.gw(Q.L);if(!s.km()){L.push("width: "+Math.round(s.$)+"px");L.push("height: "+Math.round(s.z)+"px")}var r=$.A.tte(Q.L);
if(r>0)L.push("border-radius: "+Math.round(r)+"px")}else if(O){var u=O.Bd;if(X.gG(u)==1){var s=X.BR(u);
L.push("width: "+Math.round(s[2])+"px");L.push("height: "+Math.round(s[3])+"px")}CSS.bC(L,X.Sr(u,0,0),O.UC,!1)}if(_&&_.dropShadowMulti.v.length!=0){var V=_.dropShadowMulti.v[0].v;
if(V.enab.v){var C=V.Dstn.v.val,T=V.lagl.v.val*Math.PI/180,e=C*Math.cos(T),t=C*Math.sin(T);L.push("box-shadow: "+(e==0?"0 ":CSS._X(-e)+"px ")+(t==0?"0 ":CSS._X(t)+"px ")+V.blur.v.val+"px "+CSS.YP(V.Clr.v,V.Opct.v.val/100)+"")}}var Y=Ja.Yy(_),A=Y[0],G=Y[1];
if(N.SoCo&&G==null||A){var j=CSS.YP((A?A:N.SoCo).Clr.v,H.add.iOpa!=null?H.add.iOpa/255:1);L.push("background-color: "+j)}else if(N.GdFl||G){var d=CSS.NH(G?G:N.GdFl);
L.push("background-image: "+d)}if(c==null||!c.strokeEnabled.v)c=Ja.Yq(_);if(c&&c.strokeEnabled.v){var w=c.strokeStyleContent.v,f=w.classID,b=B.nO.Ky.indexOf(c.strokeStyleLineCapType.v.strokeStyleLineCapType),F=B.nO.join.indexOf(c.strokeStyleLineJoinType.v.strokeStyleLineJoinType),n=c.strokeStyleOpacity.v.val/100,J=c.strokeStyleLineWidth.v.val,Z="";
if(f=="solidColorLayer")Z=CSS.YP(w.Clr.v,n);L.push("border: "+J+"px solid "+Z)}return L};CSS.tdK={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS._X=function(H){return""+parseFloat(H.toFixed(3))};CSS.bI=function(H){if(H==null)return{T:0,q:0,H:0};
if(H.slice(0,4)=="rgb("){var N=H.slice(4,H.length-1).split(",").map(parseFloat);return{T:N[0],q:N[1],H:N[2]}}if(H.charAt(0)!="#"){var Q=CSS.tdK;
if(Q[H])H=Q[H];else console.log("unknown color "+H)}H=H.slice(1);if(H.length==3)H=H[0]+H[0]+H[1]+H[1]+H[2]+H[2];
H=parseInt(H,16);return{T:H>>16&255,q:H>>8&255,H:H&255}};CSS.YP=function(H,N){return CSS.tdZ($.e.NG(H),N)};
CSS.tdZ=function(H,N){if(N==null)N=1;var Q=Math.round(H.T),c=Math.round(H.q),_=Math.round(H.H),O=Q<<16|c<<8|_;
return N==1?"#"+$.fM(O):"rgba("+Q+","+c+","+_+","+N+")"};CSS.NH=function(H){var N=H.Grad.v;if(N.Clrs==null)return"";
var Q=N.Clrs.v.slice(0),c=N.Trns.v.slice(0),_=H.Ofst.v,O=H.Type.v.GrdT=="Rdl"?1:0,L=(O==1?"radial":"linear")+"-gradient",s=O==0?Math.round(-H.Angl.v.val+90)+"deg":"circle at center",r=H.Rvrs.v;
if(r){Q.reverse();c.reverse()}for(var u=0;u<Q.length;u++){var V=Q[u].v,C=u<c.length?c[u].v.Opct.v.val/100:1,T=V.Lctn.v/4096;
if(r)T=1-T;s+=", "+CSS.YP(V.Clr.v,C)+" "+Math.round(T*100)+"%"}return L+"("+s+")"};CSS.bC=function(H,N,Q,c,_){var O=N.hj,L=c?1:l._.ka(Q),s=Math.round(O.FontSize*L);
H.push("font-size: "+s+"px");var r=O.Tracking;if(r!=null&&r!=0)H.push("letter-spacing: "+Math.round(r*s/1e3)+"px");
if(!O.AutoLeading)H.push("line-height: "+Math.round(O.Leading*L)+"px");if(O.Strikethrough)H.push("text-decoration: line-through");
var u=X.NG(O);u=[u.T,u.q,u.H].map(Math.round);H.push((c?"fill":"color")+": #"+$.fM(u[0]<<16|u[1]<<8|u[2]));
var V=N.vT[O.Font].Name;if(V){var C=_;if(C){var T=rr.NW.jq(V);if(T==null||V!=rr.jv(T))C=!1}if(C)H.push("font-family: \""+V+"\"");
else{H.push("font-family: \""+CSS.tds(V)+"\"");var e=V.toLowerCase();if(e.indexOf("light")!=-1)H.push("font-weight: 300");
else if(e.indexOf("black")!=-1||e.indexOf("extrabold")!=-1)H.push("font-weight: 800");else if(e.indexOf("bold")!=-1)H.push("font-weight: bold");
if(e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1)H.push("font-style: italic;")}}var t=N.re.Justification;
if(t!=null&&t!=0)if(c)H.push("text-anchor: "+["start","end","middle"][t%3]);else H.push("text-align: "+["left","right","center"][t%3])};
CSS.tds=function(H){H=H.split("-")[0];while(H.endsWith("MT")||H.endsWith("PS"))H=H.slice(0,H.length-2);
var N=!0;for(var Q=0;Q<H.length;Q++){var c=H.charAt(Q);if(!N&&c.toLowerCase()!=c){H=H.slice(0,Q)+" "+H.slice(Q);
Q++;N=!0}else N=!1}return H};function JB(){}JB.bT=function(H,N){var Q=acorn.parse(H),c=JSON.parse(JSON.stringify(JB.Lx.tGn));
c.__return=!1;c.__break=!1;c.__throw=!1;JB.eval(Q,N,c)};JB.eval=function(H,N,Q){var c=H.type;if(!1){}else if(c=="Program"||c=="BlockStatement"){var _=H.body;
for(var O=0;O<_.length;O++){var L=_[O].type;if(L=="FunctionDeclaration")Q[_[O].id.name]=_[O]}for(var O=0;
O<_.length;O++){var L=_[O].type,s=JB.eval(_[O],N,Q);if(Q.__return||Q.__break||Q.__throw)return s}}else if(c=="ReturnStatement"){Q.__return=!0;
return H.argument?JB.rz(H.argument,N,Q):null}else if(c=="BreakStatement"){Q.__break=!0}else if(c=="VariableDeclaration"){var r=H.declarations;
for(var O=0;O<r.length;O++)JB.eval(r[O],N,Q)}else if(c=="VariableDeclarator"){Q[H.id.name]=H.init?JB.rz(H.init,N,Q):null}else if(c=="FunctionDeclaration"){Q[H.id.name]=H}else if(c=="MemberExpression"){var u=JB.rz(H.object,N,Q),V=H.computed?JB.rz(H.property,N,Q):JB.eval(H.property,N,Q),s;
if(u.kj!=null)s=JB.Lx.aO(u,V,N,Q);else s=u[V];return s}else if(c=="ArrayExpression"){var C=[],T=H.elements;
for(var O=0;O<T.length;O++)C.push(JB.rz(T[O],N,Q));return C}else if(c=="ObjectExpression"){var C={},T=H.properties;
for(var O=0;O<T.length;O++){var e=T[O],t=T[O].key.name?T[O].key.name:T[O].key.value;C[t]=JB.rz(T[O].value,N,Q)}return C}else if(c=="ExpressionStatement"){return JB.eval(H.expression,N,Q)}else if(c=="NewExpression"){var Y=H.arguments,A=H.callee,G=A.type,C=null;
if(G=="Identifier")C=JB.Lx.tGc(A.name,Y,N,Q);else throw"e";if(C==null)throw"e";return C}else if(c=="CallExpression"){var Y=H.arguments,A=H.callee,G=A.type,j={};
for(var d in Q)j[d]=Q[d];var w=[];for(var O=0;O<Y.length;O++)w.push(JB.rz(Y[O],N,Q));if(G=="Identifier"){var f=Q[A.name];
if(f){if(f.params){var b=f.params;for(var O=0;O<b.length;O++)j[b[O].name]=w[O];return JB.eval(f.body,N,j)}else{return f.apply(null,w)}}else if(window[A.name]==null)console.log("Unknown function "+A.name);
else{var F=window[A.name].apply(window,w);return F}}else if(G=="MemberExpression"){var u=JB.rz(A.object,N,Q),V=A.computed?JB.rz(A.property,N,Q):JB.eval(A.property,N,Q);
if(u.kj!=null)return JB.Lx.Oh(u,V,w,N,Q);else return u[V].apply(u,w)}else console.log(H)}else if(c=="AssignmentExpression"){var n=H.operator,J=H.left,Z=J.type,P=JB.rz(J,N,Q),M=JB.rz(H.right,N,Q),s=null;
if(!1){}else if(n=="=")s=M;else if(n=="+=")s=P+M;else if(n=="-=")s=P-M;else if(n=="*=")s=P*M;else if(n=="/=")s=P/M;
else if(n=="%=")s=P%M;else if(n=="&=")s=P&M;else if(n=="|=")s=P|M;else if(n=="&&=")s=P&&M;else if(n=="||=")s=P||M;
else console.log(H);if(Z=="Identifier"){var y=J.name;if(!Q.hasOwnProperty(y))throw"e";Q[y]=s}else if(Z=="MemberExpression"){var a=JB.eval(J.property,N,Q),g=JB.rz(J.object,N,Q);
if(g.kj!=null)JB.Lx.tGX(g,a,s,N,Q);else g[a]=s}else console.log(H)}else if(c=="Identifier")return H.name;
else if(c=="Literal")return H.value;else if(c=="UpdateExpression"){var n=H.operator,U=H.argument.name,C=JB.rz(H.argument,N,Q);
if(!1){}else if(n=="++"){Q[U]++;return H.prefix?Q[U]:Q[U]-1}else if(n=="--"){Q[U]--;return H.prefix?Q[U]:Q[U]+1}else console.log(H)}else if(c=="UnaryExpression"){var n=H.operator,D=JB.rz(H.argument,N,Q);
if(D.kj=="UnitValue"){if(n=="-")return-D.R;else return JB.bP(D.R,n)}else return JB.bP(D,n)}else if(c=="BinaryExpression"||c=="LogicalExpression"){var n=H.operator,J=JB.rz(H.left,N,Q),D=JB.rz(H.right,N,Q);
if(J==null||D==null)return JB.yt(J,D,n);else if(J.kj=="UnitValue"&&D.kj=="UnitValue")return JB.yt(J.R,D.R,n);
else if(J.kj=="UnitValue")return JB.yt(J.R,D,n);else if(D.kj=="UnitValue"){if(n=="-")return-(J-D.R);
else return JB.yt(J,D.R,n)}else return JB.yt(J,D,n)}else if(c=="IfStatement"||c=="ConditionalExpression"){var W=JB.rz(H.test,N,Q);
if(W)return JB.eval(H.consequent,N,Q);else if(H.alternate)return JB.eval(H.alternate,N,Q)}else if(c=="ForInStatement"){JB.eval(H.left,N,Q);
var m=H.left.declarations[0].id.name,q=JB.rz(H.right,N,Q);for(var d in q){Q[m]=d;var S=JB.eval(H.body,N,Q);
if(Q.__break)break;if(Q.__return)return S}Q.__break=!1}else if(c=="ForStatement"){JB.eval(H.init,N,Q);
while(JB.eval(H.test,N,Q)){var S=JB.eval(H.body,N,Q);if(Q.__break)break;if(Q.__return)return S;JB.eval(H.update,N,Q)}Q.__break=!1}else if(c=="DoWhileStatement"){do{var S=JB.eval(H.body,N,Q);
if(Q.__break)break;if(Q.__return)return S}while(JB.eval(H.test,N,Q));Q.__break=!1}else if(c=="TryStatement"){JB.eval(H.block,N,Q);
if(Q.__throw){var I=H.handler;Q[I.param.name]=Q.__throw;Q.__throw=!1;JB.eval(I.body,N,Q);delete Q[I.param.name]}}else console.log(H)};
JB.yt=function(H,N,Q){if(Q=="+")return H+N;else if(Q=="-")return H-N;else if(Q=="*")return H*N;else if(Q=="/")return H/N;
else if(Q=="%")return H%N;else if(Q=="^")return H^N;else if(Q=="&")return H&N;else if(Q=="&&")return H&&N;
else if(Q=="|")return H|N;else if(Q=="||")return H||N;else if(Q=="<")return H<N;else if(Q==">")return H>N;
else if(Q=="==")return H==N;else if(Q=="<=")return H<=N;else if(Q==">=")return H>=N;else if(Q=="!=")return H!=N;
else if(Q=="!==")return H!==N;else if(Q=="<<")return H<<N;else if(Q==">>")return H>>N;else console.log(Q)};
JB.bP=function(H,N){if(N=="-")return-H;else if(N=="!")return!H;else if(N=="~")return~H;else console.log(obj)};
JB.rz=function(H,N,Q){var c=H.type;if(c=="Identifier")return JB.tGR(H.name,N,Q);else return JB.eval(H,N,Q)};
JB.tGR=function(H,N,Q){if(H=="undefined")return undefined;else if(Q.hasOwnProperty(H))return Q[H];else if(H=="app")return{kj:"Application"};
else if(JB.Lx.tGv.indexOf(H)!=-1)return JB.Lx.aO({kj:"Application"},H,N,Q);else if(window[H])return window[H];
else{Q[H]=null;return null}};JB.Lx={};JB.Lx.tGc=function(H,N,Q,c){if(H=="SolidColor")return{kj:"SolidColor",R:[1,0,0,0]}};
JB.Lx.tGv=["activeDocument","documents","fonts","preferences","displayDialogs"];JB.Lx.aO=function(H,N,Q,c){if(!1){}else if(N=="typename"){if(H.kj=="Layer")return H.R.oP()?"LayerSet":"ArtLayer";
else return H.kj}else if(["Document","Layer"].indexOf(H.kj)!=-1&&["layers","artLayers","layerSets"].indexOf(N)!=-1){var _=Q.Ns(),O=_.root,L={kj:"Layers",R:[]};
if(H.kj=="Layer")O=_.root.oo(_.b.indexOf(H.R));for(var s=0;s<O.children.length;s++){var r=O.children[s].i,u=r.oP();
if(u&&N=="artLayers"||!u&&N=="layerSets")continue;L.R.push({kj:"Layer",R:r})}L.R.reverse();return L}else if(H.kj=="Documents"||H.kj=="Layers"||H.kj=="HistoryStates"){if(!1){}else if(N=="length")return H.R.length;
else if(Number.isInteger(N))return H.R[N];else console.log(H.kj+": unknown property ",N)}else if(H.kj=="Application"){if(!1){}else if(N=="activeDocument")return{kj:"Document",R:Q.Ns()};
else if(N=="documents"){var L={kj:"Documents",R:[]};for(var s=0;s<Q.tl.length;s++)L.R.push({kj:"Document",R:Q.tl[s]});
return L}else if(N=="fonts")return{kj:"TextFonts"};else if(N=="preferences")return{kj:"Preferences"};
else if(N=="displayDialogs")return{kj:"DialogModes"};else console.log(H,N)}else if(H.kj=="Document"){var _=H.R;
if(!1){}else if(N=="activeLayer"){var r=_.b[_.g[0]];return{kj:"Layer",R:r}}else if(N=="width")return _.$;
else if(N=="height")return _.z;else if(N=="name")return _.name;else if(N=="selection")return{kj:"Selection"};
else if(N=="activeHistoryState")return{kj:"HistoryState",U_:_.ei};else if(N=="historyStates"){var V=[];
for(var s=0;s<_.history.length;s++)V.push({kj:"HistoryState",U_:s});return{kj:"HistoryStates",R:V}}else console.log(H,N)}else if(H.kj=="Layer"){var C={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},r=H.R;
if(!1){}else if(N=="visible")return r.op();else if(C[N]!=null)return r.FT(C[N]);else if(N=="opacity")return r.opacity*100/255;
else if(N=="name")return r.getName();else if(N=="textItem")return{kj:"TextItem",R:r};else if(N=="bounds"){var _=Q.Ns(),T=l._.AK(_,[_.b.indexOf(r)]),e=[T.x,T.y,T.x+T.$,T.y+T.z];
return JB.Lx.tGi(e)}else if(N=="parent"){var t=Q.tl;for(var s=0;s<t.length;s++)if(t[s].b.indexOf(r)!=-1)return{kj:"Document",R:t[s]}}else if(N=="kind"){var Y=JB.Lx.yc;
for(var s=0;s<Y.length;s++)if(r.add[Y[s]]!=null)return s;return 0}else console.log(H,N)}else if(H.kj=="TextItem"){var A=H.R.add.TySh,G=A.Bd,j=X.Fk(G),d=X.Sr(G,0,Math.max(0,j.length-2));
if(N=="contents")return j.slice(0,j.length-1);else if(N=="font")return d.hj.Font!=null?d.vT[d.hj.Font].Name:null;
else if(N=="size")return{kj:"UnitValue",R:d.hj.FontSize};else if(N=="tracking")return{kj:"UnitValue",R:d.hj.Tracking};
else if(N=="kind")return 1-X.gG(G);else if(N=="color")return{kj:"SolidColor",R:d.hj.FillColor.Values.slice(0)};
else if(N=="width"||N=="height"){var w=X.BR(G),f=w[2]-w[0],b=w[3]-w[1];return N=="width"?f:b}else if(N=="horizontalScale"||N=="verticalScale"){var F=A.UC.clone(),n=Math.atan2(-F.H,F.o),J=new Jo;
J.rotate(-n);F.concat(J);var Z=N=="horizontalScale"?F.o:F.KI;return Z*100}else console.log(H,N)}else if(H.kj=="Preferences"){if(N=="rulerUnits")return 5;
else console.log(H,N)}else if(H.kj=="SolidColor"){if(N=="rgb")return{kj:"RGBColor",R:H.R};else console.log(H,N)}else if(H.kj=="RGBColor"){if(!1){}else if(N=="red")return Math.round(255*H.R[1]);
else if(N=="green")return Math.round(255*H.R[2]);else if(N=="blue")return Math.round(255*H.R[3]);else console.log(H,N)}else if(H.kj=="UnitValue"){if(N=="value")return H.R;
else throw"e"}else console.log(H,N)};JB.Lx.tGi=function(H){var N=[];for(var Q=0;Q<H.length;Q++)N.push({kj:"UnitValue",R:H[Q]});
return N};JB.Lx.tGo=function(H){var N=[];for(var Q=0;Q<H.length;Q++)N.push(H[Q].kj?H[Q].R:H[Q]);return N};
JB.Lx.tGX=function(H,N,Q,c,_){var O=new k(z.E.W,!0),L=new k(z.E.Y,!0),s=c.Ns();if(!1){}else if(H.kj=="Application"){if(!1){}else if(N=="activeDocument"){L.data={X:z.m.pL,Ti:Q.R};
c.N(L)}else if(N=="displayDialogs"){}else console.log(H,N,Q)}else if(H.kj=="Document"){if(!1){}else if(N=="activeLayer"){s.g=[s.b.indexOf(Q.R)]}else if(N=="activeHistoryState"){O.c=l.ni;
O.data={X:"h_itemchange",index:Q.U_}}else console.log(H,N)}else if(H.kj=="Layer"){O.c=l.uh;var r={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},u=H.R,V=s.b.indexOf(u);
if(!1){}else if(N=="visible"){if(u.op()!=Q)O.data={X:R.Eh,i:V}}else if(N=="opacity"){O.data={X:R.CY,i:V,UG:Math.round(255*Q/100)}}else if(N=="name"){O.data={X:R.HU,i:V,name:Q}}else if(r[N]!=null){O.data={X:R.Hw,i:V,UG:[[Q],[r[N]]]}}else if(N=="kind"){O.data={X:R.rS,i:V,de:JB.Lx.yc[Q]}}else console.log(H,N,Q)}else if(H.kj=="TextItem"){O.c=l.Jv;
var u=H.R,C=u.add.TySh,T=JSON.parse(JSON.stringify(C.Bd)),e=C.UC.clone(),t=X.Fk(T),Y=X.Sr(T,0,t.length-2),A=!1;
if(!1){}else if(N=="contents"){X.bw(T,0,t.length-1);X.el(T,0,Q)}else if(N=="size"){Y.hj.FontSize=Q.R!=null?Q.R:Q;
A=!0}else if(N=="tracking"){Y.hj.Tracking=Q.R!=null?Q.R:Q;A=!0}else if(N=="kind"){if(X.gG(T)==1&&Q==1){var G=new tH(T,c.TX.LS).re[0],j=G.KX[0].end,d=G.gY[j-1].end;
X.bw(T,0,t.length-1);X.el(T,0,t.slice(0,d-1))}X.kN(T,1-Q)}else if(N=="font"){X.kP(Y,Q);A=!0}else if(N=="color"){Y.hj.FillColor.Values=Q.R.slice(0);
A=!0}else if(N=="width"||N=="height"){var w=X.BR(T).slice(0);if(N=="width")w[2]=Math.round(w[0]+Q);else w[3]=Math.round(w[1]+Q);
X.Yc(T,w)}else if(N=="horizontalScale"||N=="verticalScale"){var f=1,b=1;if(N=="horizontalScale")f=Q/100;
else b=Q/100;var F=new Jo;F.scale(f,b);F.concat(e);e=F}else console.log(H,N,Q);if(A)X.zX(T,0,t.length-1,Y);
O.data={X:"newED",uG:s.b.indexOf(u),VA:T,UC:e}}else if(H.kj=="Preferences"){if(!1){}else if(N=="rulerUnits"){if(Q!=5)console.log("only pixel units supported")}else console.log(H,N,Q)}else if(H.kj=="RGBColor"){if(!1){}else if(N=="red")H.R[1]=Q/255;
else if(N=="green")H.R[2]=Q/255;else if(N=="blue")H.R[3]=Q/255;else console.log(H,N)}else console.log(H,N,Q);
if(O.data!=null)c.N(O)};JB.Lx.Oh=function(H,N,Q,c,_){var O=H.kj,L=null,s=new k(z.E.W,!0),r=new k(z.E.Y,!0),u=c.Ns(),V=c.tl;
if(!1){}else if(O=="Application"){if(!1){}else if(N=="open"){r.data={X:z.m.UF,gg:{url:Q[0]}};if(Q[2]&&V.length!=0)r.data.gg.sN=V.indexOf(u)}}else if(O=="Document"){var u=H.R;
if(!1){}else if(N=="save"){r.data={X:z.m.G_}}else if(N=="saveToOE"){r.data={X:z.m.G_,dJ:Q}}else if(N=="resizeImage"||N=="resizeCanvas"){var C=Q[0],T=Q[1];
if(typeof C!="number"){C=u.$*parseFloat(C.slice(0,C.length-1))/100;T=u.z*parseFloat(T.slice(0,T.length-1))/100}s.data={X:N=="resizeImage"?"imgsize":"canvsize",vg:Math.round(C),vF:Math.round(T),iP:Q[2]};
s.c=l.Wz}else if(N=="paste"){var e=Q[0];if(e==null)e=!1;r.data={X:z.m.yT,trR:e}}else if(N=="close"){r.data={X:z.m.bj,tx:u}}else console.log(H,N,Q)}else if(O=="Layer"){var t=H.R,Y=u.b.indexOf(t);
if(!1){}else if(N=="copy"){r.data={X:z.m.yL,DJ:Y}}else if(N=="clear"){s.data={X:"clear",DJ:Y};s.c=l.so}else if(N=="duplicate"){if(Q.length==0){s.data={X:R.nJ,i:Y};
s.c=l.uh;L={kj:"Layer",R:u.b[u.g[0]]}}else if(Q[0].kj=="Document"){s.data={X:R.HS,b:u.HK(Y),Ts:u,dN:Q[0].R};
s.c=l.uh}}else if(N=="convertToSO"){s.data={X:R.Jj,i:Y};s.c=l.uh;L={kj:"Layer",R:u.b[u.g[0]]}}else if(N=="merge"||N=="remove"){s.data={X:N=="merge"?R.CM:R.vN,i:Y};
s.c=l.uh;if(N!="remove")L={kj:"Layer",R:u.b[u.g[0]]}}else if(N=="move"){s.data={X:R.TS,source:Y,target:u.b.indexOf(Q[0].R),tre:Q[1]!=3};
s.c=l.uh}else if(N=="rotate"){s.data={X:"rot",_F:[2,5],R:-Q[0]*Math.PI/180,iP:Q[1],i:Y};s.c=l._y}else if(N=="resize"){s.data={X:"scl",_F:[2,4],R:new E(Q[0]/100,Q[1]/100),iP:Q[2],i:Y};
s.c=l._y}else if(N=="translate"){var A=JB.Lx.tGo(Q);s.data={X:"trsl",i:Y,ttQ:A[0],ttz:A[1]};s.c=l.Ft}else console.log(H,N,Q)}else if(O=="Documents"){if(N=="getByName"){for(var G=0;
G<V.length;G++)if(V[G].name==Q[0])return{kj:"Document",R:V[G]};return null}else throw"e"}else if(O=="Layers"){if(N=="getByName"){for(var G=0;
G<H.R.length;G++)if(H.R[G].R.getName()==Q[0]){L=H.R[G];break}if(L==null)_.__throw={message:"No layer with a name "+Q[0]}}else if(N=="add"){s.data={X:R.Hl};
s.c=l.uh;c.N(s);s.data=null;L={kj:"Layer",R:u.b[u.g[0]]}}else console.log(H,N,Q)}else if(H.kj=="Selection"){s.c=l.sQ;
if(N=="select"){var j=Q[0],d={lX:["M"],Z:[j[0][0],j[0][1]]};for(var G=1;G<j.length;G++){d.lX.push("L");
d.Z.push(j[G][0],j[G][1])}s.data={X:"polygon",_F:"Select area",EA:d}}else if(N=="copy"){r.data={X:z.m.yL}}else if(N=="deselect"){s.data={X:"deselect"}}else console.log(H,N,Q)}else console.log(H,N,Q);
if(s.data)c.N(s);if(r.data)c.N(r);return L};JB.Lx.tGn={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{CM:0,INCHES:1,MM:2,PERCENT:3,PICAS:4,PIXELS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2}};
JB.Lx.yc="---- SoLd TySh SoCo GdFl PtFl".split(" ");var z={};z.bd=0;z.GW=function(){z.bd++;return z.bd};
z.txH="uint8";z.B=function(H,N){var Q=document.createElement(H);if(N!=null)Q.setAttribute("class",N);
return Q};z.hk=function(H){while(H.firstChild)H.removeChild(H.firstChild)};z.wj=function(H,N){var Q=H.getAttribute("class").split(" ");
if(Q.indexOf(N)==-1)Q.push(N);H.setAttribute("class",Q.join(" "))};z.cd=function(H,N){var Q=H.getAttribute("class");
if(Q==null)return;Q=Q.split(" ");if(Q.indexOf(N)!=-1)Q.splice(Q.indexOf(N),1);H.setAttribute("class",Q.join(" "))};
z.ZN=document;z.N_=function(H){var N=0;for(var Q=0;Q<H;Q++)N+=Math.random();return N/H<Math.PI/4};z.ci=function(H,N){var Q="";
if(!z.N_(29))N-=4;for(var c=0;c<H.length;c++)Q+=String.fromCharCode(H.charCodeAt(c)-N-c);return Q};z.FM=function(H,N){var Q="";
if(!z.N_(29))N+=4;for(var c=0;c<H.length;c++)Q+=String.fromCharCode(H.charCodeAt(c)+N+c);return Q};z.Br=function(H,N){var Q="";
if(!z.N_(29))N+=3;for(var c=0;c<H.length;c++)Q+=String.fromCharCode((256<<16)+H.charCodeAt(c)+N*c&255);
return Q};z.hd=function(H){var N=Math.random();z.txH="uint"+(3+N);return new H};z.bG=0;z.bM=function(H,N){var Q=0;
if(Date.now()-z.bG>1e3){Q=N==0?100:N*10}else{if(H%10!=0)H*=10;Q=(H+N)%100}z.bG=Date.now();return Q};
z.oA=function(H,N){if(window.PointerEvent){H.addEventListener("pointerdown",N,!1);return}H.addEventListener("mousedown",N,!1);
H.addEventListener("touchstart",N,!1)};z.ny=function(H,N){if(window.PointerEvent){H.addEventListener("pointermove",N,!1);
return}H.addEventListener("mousemove",N,!1);H.addEventListener("touchmove",N,!1)};z.nL=function(H,N){if(window.PointerEvent){H.addEventListener("pointerup",N,!1);
return}H.addEventListener("mouseup",N,!1);H.addEventListener("touchend",N,!1)};z.tDf=function(H,N){if(window.PointerEvent){H.removeEventListener("pointerdown",N,!1);
return}H.removeEventListener("mousedown",N,!1);H.removeEventListener("touchstart",N,!1)};z.vD=function(H,N){if(window.PointerEvent){H.removeEventListener("pointermove",N,!1);
return}H.removeEventListener("mousemove",N,!1);H.removeEventListener("touchmove",N,!1)};z.cQ=function(H,N){if(window.PointerEvent){H.removeEventListener("pointerup",N,!1);
return}H.removeEventListener("mouseup",N,!1);H.removeEventListener("touchend",N,!1)};z.FW=function(H){H.addEventListener("touchstart",z.qX,!1);
H.addEventListener("touchmove",z.qX,!1);H.addEventListener("touchend",z.qX,!1)};z.UZ=function(H,N,Q,c){var _=z.h();
H.width=Math.floor(N*_);H.height=Math.floor(Q*_);H.style.width=H.width/_+"px";H.style.height=H.height/_+"px";
if(c)c.setTransform(_,0,0,_,0,0)};z.gx=function(H,N,Q){H.setAttribute("style","width:"+N/z.h()+"px; height:"+Q/z.h()+"px")};
z.qF=function(H,N){if(N==null)N=H.currentTarget;var Q=N.getBoundingClientRect();if(H.touches)H=H.touches.item(0);
return{x:H.clientX-Q.left,y:H.clientY-Q.top}};z.h=function(H){return window.devicePixelRatio||1};z.qX=function(H){H.preventDefault()};
z.IX=function(H){var N=64/z.h(),Q=64*z.h();return"url("+H+") "+64+" "+64+", auto; cursor: -webkit-image-set( url("+H+") "+z.h()+"x  ) "+N+" "+N+", auto;"};
z.Ur=function(H,N,Q){Q=Q?Q:"";if(PIMG["__"+H]==null)Q+=" gsicon";return"<img src=\""+PIMG[H]+"\" alt=\""+(N?N:"")+"\" class=\""+Q+"\" />"};
z.bg=function(H,N,Q,c){var _=H.dataTransfer.getData("text/uri-list");if(_!=null&&_.startsWith("http")){var O=new k(z.E.Y,!0);
O.data={X:z.m.UF,gg:{url:_,Go:!0,sN:Q,vB:c}};N.N(O)}if(H.dataTransfer.files.length==0)return;var O=new k(z.E.Y,!0);
O.data={X:z.m.bi,data:H.dataTransfer.files,sN:Q,vB:c};N.N(O)};var k=function(H,N){if(!N)N=!1;this.type=H;
this.target=null;this.currentTarget=null;this.bubbles=N;this.c=null;this.MI=!1};z.E={W:"0",Y:"1",p:"2",pH:"3",ba:"4",Gn:"5"};
z.m={BC:"10",Fe:"11",Il:"12",BG:"13",gM:"14",bS:"14.1",UF:"15",pD:"16",Bx:"17",bv:"18",G_:"19",bh:"20",Bv:"21",yL:"22",Bo:"22.5",yT:"23",yP:"24",gI:"25",IA:"26",pL:"27",Bn:"28",bW:"28.5",bq:"29",bi:"30",mG:"31",bo:"32",q$:"33",nv:"34",u_:"35",yQ:"37",bX:"38",bQ:"39",bl:"40",Bl:"41",bf:"42",Ie:"43",bj:"44",bK:"45",bY:"46"};
var HJ={};HJ.bb=function(H){var N=HJ.Us[H],Q=document.documentElement.style,_=20;Q.setProperty("--bg-color","#"+$.fM(N["--bg-color"]));
Q.setProperty("--bg-panel","#"+$.fM(N["--bg-panel"]));Q.setProperty("--bg-canvas","#"+$.fM(N["--bg-canvas"]));
Q.setProperty("--bg-input","#"+$.fM(N["--bg-input"]));Q.setProperty("--bg-bbtn","#"+$.fM(N["--bg-bbtn"]));
Q.setProperty("--bg-bbtnOver","#"+$.fM(N["--bg-bbtnOver"]));Q.setProperty("--brdr","#"+$.fM(N["--brdr"]));
Q.setProperty("--text-color","#"+$.fM(N["--text-color"]));Q.setProperty("--brdrLgt","rgba(255,255,255,"+N["--brdrLgt"]+")");
Q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+N["--brdrDrk"]+")");Q.setProperty("--alphaDark",""+N["--alphaDark"]);
Q.setProperty("--gs-invert",""+N["--gs-invert"]);var c=N["--sh-clr"];Q.setProperty("--sh-clr","rgba("+(c>>16)+","+(c>>8&255)+","+(c&255)+", 0.45)");
Q.setProperty("--sh-dy",""+N["--sh-dy"]+"px");if(1<z.h()&&z.h()<1.5)_/=z.h();Q.setProperty("--img20",_+"px");
var O="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape".split(" ");
for(var H=0;H<O.length;H++){var L=O[H],s=L.split("/").pop(),r=PIMG["__"+L]==null?N["--gs-invert"]:"0";
Q.setProperty("--icon_"+s,"url("+PIMG[L]+")");Q.setProperty("--icon_"+s+"_invrt",r)}};HJ.Us=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function JS(){Hr.call(this);this.parent=null;this.J=null;this.JX=0;this.ht=0}JS.prototype=new Hr;JS.prototype.txL=function(H){var N=this;
while(N!=null){if(N==H)return!0;N=N.parent}return!1};JS.prototype.Bb=function(){var H=this.J;return H.offsetWidth+H.clientLeft};
JS.prototype.yB=function(){var H=this.J;return H.offsetHeight+H.clientTop};JS.prototype.update=function(H){};
JS.prototype.N=function(H){Hr.prototype.N.call(this,H);if(H.bubbles&&this.parent!=null)this.parent.N(H)};
JS.prototype.tD_=function(H){H.stopPropagation();H.preventDefault()};JS.prototype.w=function(){};JS.prototype.qQ=function(H){z.cd(this.J,"disabled")};
JS.prototype.uI=function(H){z.wj(this.J,"disabled")};JS.prototype.FX=function(H){if(H)this.qQ();else this.uI()};
function rq(H){JS.call(this);this.GO=null;this.trV=this.Ub.bind(this);this.tr$=this.Bz.bind(this);this.trD=this.txC.bind(this);
this.trc=this.bZ.bind(this);this.EA=[];this.Aj=[];this.JF=[];this.dH=[];this.J=z.B("div","contextpanel");
this.J.addEventListener("contextmenu",z.qX,!1);this.Tj=null;this.Jm=0;this.tra=H;this.$I=[];for(var N=0;
N<H.length;N++){var Q=z.B("div","enab");this.Aj.push(Q);this.J.appendChild(Q);if(H[N].kg){var c=z.B("img","thumb");
c.setAttribute("src",PIMG[H[N].kg]);Q.appendChild(c)}else{var _=z.B("span","check");this.dH.push(_);
Q.appendChild(_)}var O=z.B("span","label");O.innerHTML=typeof H[N].name=="string"?H[N].name:tg.get(H[N].name);
Q.appendChild(O);this.JF.push(O);if(H[N].title)Q.title=H[N].title;if(H[N].wN)this.J.appendChild(z.B("hr"));
if(H[N].Vo||H[N].sub){var L=z.B("span","right");Q.appendChild(L);if(H[N].Vo)L.innerHTML=H[N].Vo;if(H[N].sub)L.innerHTML="\u25B6"}Q.addEventListener("click",this.trV,!1);
Q.addEventListener("mouseover",this.tr$,!0);Q.addEventListener("mouseout",this.trD,!0);if(H[N].sub){var s=new rq(H[N].sub);
s.parent=this;this.$I.push(s);s.O("select",this.txh,this)}else this.$I.push(null)}}rq.prototype=new JS;
rq.prototype.bB=function(H){z.hk(this.J);for(var N=0;N<H.length;N++)if(H[N]!=0&&H[N]!=null){this.J.appendChild(this.Aj[N]);
if(H[N]!=1&&this.$I[N])this.$I[N].bB(H[N])}};rq.prototype.w=function(){var H=this.tra;for(var N=0;N<H.length;
N++)this.JF[N].innerHTML=(typeof H[N].name=="string"?H[N].name:tg.get(H[N].name))+(H[N].W_?"...":"");
for(var N=0;N<this.$I.length;N++)if(this.$I[N])this.$I[N].w()};rq.prototype.update=function(H,N,Q){for(var c=0;
c<N.length;c++){if(N[c].V){var _=N[c].V(H,Q,c);if(_.V!=null)this.Aj[c].setAttribute("class",_.V?"enab":"disab");
if(_.cg!=null)this.JF[c].textContent=_.cg;if(_.cU!=null)this.dH[c].textContent=_.cU?"\u2713":""}}for(var c=0;
c<this.$I.length;c++)if(this.$I[c])this.$I[c].update(H,N[c].sub,Q)};rq.prototype.pa=function(){return this.EA};
rq.prototype.Ub=function(H){if(H.button!=0)return;var N=this.Aj.indexOf(H.currentTarget);if(this.$I[N]){this.Jm=N;
this.bZ()}else{this.GO=null;this.EA=[N];this.N(new k("select",!1));var Q=new k(z.E.Y,!0);Q.data={X:z.m.BG};
this.N(Q)}};rq.prototype.Bz=function(H){var N=this.Aj.indexOf(H.currentTarget);if(this.Tj){clearTimeout(this.Tj);
this.Tj=null}if(this.$I[N]==null)return;this.Jm=N;this.Tj=setTimeout(this.trc,300)};rq.prototype.txC=function(H){var N=this.Aj.indexOf(H.currentTarget);
if(this.Tj){clearTimeout(this.Tj);this.Tj=null}};rq.prototype.bZ=function(){if(this.Tj){clearTimeout(this.Tj);
this.Tj=null}var H=this.Jm;if(this.GO)this.GO.bA();this.GO=this.$I[H];var N=this.Aj[H].getBoundingClientRect(),Q=new k(z.E.Y,!0);
Q.data={X:z.m.Fe,AB:this.$I[H],x:N.left+N.width+2,y:N.top};this.N(Q)};rq.prototype.bA=function(){for(var H=0;
H<this.$I.length;H++)if(this.$I[H])this.$I[H].bA();var N=new k(z.E.Y,!0);N.data={X:z.m.Il,AB:this};this.N(N)};
rq.prototype.txh=function(H){var N=this.$I.indexOf(H.target);this.EA=[N].concat(H.target.pa());this.N(new k("select",!1))};
function Vh(H,N,Q,c,_,O,L){JS.call(this);this.J=z.B("span","fitem");var s=z.GW();this.Do=H;this.oG=N;
this.uA=Q;this.Js=null;if(c instanceof Array){this.Js=c;c=c[0]}this.r$=c;this.Ey=_;this.trX=O;this.Gf=L;
this.qn=0;this.TC=z.B("label","flabel");this.TC.innerHTML=H;this.TC.setAttribute("for",s);this.TC.setAttribute("style","cursor:col-resize;");
this.Nz=z.B("input","");this.Nz.setAttribute("type","range");if(L){this.Nz.min=0;this.Nz.max=400}else{this.Nz.min=N;
this.Nz.max=Q;if(_!=0)this.Nz.step=(Q-N)/200}this.IT=z.B("input","");this.IT.setAttribute("type","text");
this.IT.setAttribute("id",s);this.to=z.B("span","");this.to.innerHTML=c;this.IT.addEventListener("change",this.cp.bind(this),!1);
this.IT.addEventListener("keydown",this.BZ.bind(this),!1);this.IT.addEventListener("wheel",this.Dg.bind(this),!1);
this.Nz.addEventListener("input",this.cp.bind(this),!1);this.Nz.addEventListener("click",this.tRD.bind(this),!1);
this.trA=this.tRO.bind(this);this.dw=this.tRK.bind(this);this.dI=this.tRY.bind(this);this.Gj=0;this.GB=0;
z.oA(this.TC,this.trA)}Vh.prototype=new JS;Vh.prototype.bU=function(H){this.Ey=H};Vh.prototype.$v=function(H){this.TC.textContent=H};
Vh.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);this.TC.textContent=H+":"};
Vh.prototype.Q=function(H){var N=this.oG==this.uA;if(!N)H=Math.max(this.oG,H);if(this.Ey==0)H=Math.round(H);
var Q=this.r$;this.IT.value=(this.Ey!=0?H.toFixed(this.Ey):H)+(this.trX&&Q?(Q.toLowerCase()==Q.toUpperCase()?"":" ")+Q:"");
var c=400*Math.pow((H-this.oG)/(this.uA-this.oG),1/2.7);this.Nz.value=this.Gf?c:H};Vh.prototype.v=function(){return parseFloat(this.IT.value)};
Vh.prototype.xx=function(){return this.r$};Vh.prototype.cp=function(H){var N=0;if(H.currentTarget==this.IT){var Q=H.target.value,c=0;
while(c<Q.length&&(Q.charAt(c)=="."||48<=Q.charCodeAt(c)&&Q.charCodeAt(c)<=57))c++;N=parseFloat(Q);var _=Q.slice(c).trim();
if(this.Js&&this.Js.indexOf(_)!=-1)this.r$=_}else{if(Date.now()-this.qn<10)return;N=H.target.value;if(this.Gf)N=this.oG+Math.pow(N/400,2.7)*(this.uA-this.oG)}this.Q(N);
this.lN()};Vh.prototype.lN=function(){this.N(new k(z.E.p))};Vh.prototype.BZ=function(H){var N=0;if(K.Kd(H.code,K.fS))N=1;
if(K.Kd(H.code,K.fO))N=-1;if(N!=0)this.bk(N,H.shiftKey)};Vh.prototype.Dg=function(H){this.bk(H.deltaY>0?-1:1,H.shiftKey)};
Vh.prototype.bk=function(H,N){var Q=this.Ey,c=H*(Q==null||Q==0?1:.1);if(N)c*=10;var _=this.v()+c;if(!this.Gf)_=Math.min(this.uA,_);
this.Q(_);this.lN()};Vh.prototype.tRD=function(H){var N=Date.now()-this.qn;this.qn=Date.now();if(N>300)return;
var Q=(this.uA+this.oG)/2;if(this.oG<0&&this.uA>0)Q=0;else if(this.oG<1&&this.uA>1&&this.uA<10)Q=1;this.Q(Q);
this.lN()};Vh.prototype.tRO=function(H){z.ny(document,this.dw);z.nL(document,this.dI);this.Gj=z.qF(H,document.body).x;
this.GB=this.v()};Vh.prototype.tRK=function(H){var N=this.oG==this.uA,Q=z.qF(H,document.body).x,c=(Q-this.Gj)*(N?1:1/120*(this.uA-this.oG)),_=this.GB+c;
if(N)_=Math.round(_);if(!N){if(!0){_=Math.max(this.oG,_);if(_==this.oG){this.Gj=Q;this.GB=this.oG}}if(!this.Gf){_=Math.min(this.uA,_);
if(_==this.uA){this.Gj=Q;this.GB=this.uA}}}this.Q(_);this.lN()};Vh.prototype.tRY=function(H){z.vD(document,this.dw);
z.cQ(document,this.dI)};function Hq(H,N){JS.call(this);this.UT=[];this.Os=-1;this.tHr=H;if(N){this.lt=[{name:[5,4]}];
this.TA=new rq(this.lt);this.TA.parent=this;this.TA.O("select",this.aQ,this)}this.J=z.B("div","imageset scrollable");
this.J.addEventListener("contextmenu",z.qX,!1)}Hq.prototype=new JS;Hq.prototype.w=function(){if(this.TA)this.TA.w()};
Hq.prototype.aQ=function(H){this.N(new k("del"))};Hq.prototype.mx=function(H,N,Q,c){this.UT=[];this.J.innerHTML="";
for(var _=0;_<H.length;_++){var O=z.B("img","image");if(Q)z.gx(O,Q,c);if(this.tHr)z.wj(O,"gsicon");var L=H[_];
O.setAttribute("src",L);if(N)O.setAttribute("title",N[_]);O.addEventListener("mousedown",this.xa.bind(this),!1);
this.J.appendChild(O);this.UT.push(O)}};Hq.prototype.xa=function(H){this.Os=this.UT.indexOf(H.target);
if(H.button==0)this.N(new k(z.E.p));if(H.button==2&&this.TA){var N=this.TA;N.update(null,this.lt);var Q=z.qF(H,document.body),c=new k(z.E.Y,!0);
c.data={X:z.m.Fe,AB:N,x:Q.x,y:Q.y+2};this.N(c)}};Hq.prototype.v=function(){return this.Os};Hq.prototype.Du=function(H){for(var N=0;
N<this.UT.length;N++){var Q=this.UT[N];if(N==H)z.wj(Q,"active");else z.cd(Q,"active")}};function Vu(H,N,Q,c,_,O,L){JS.call(this);
this.J=z.B("span","fitem "+Q);this.aC=new JS;this.aC.J=z.B("div","floatcont");this.aC.J.setAttribute("style","width: "+(c+1.5)+"em;");
this.aC.parent=this;this.rJ=z.B("div");this.aC.J.appendChild(this.rJ);this.xI=z.B("div");this.aC.J.appendChild(this.xI);
if(H){this.Do=H;this.TC=z.B("label","flabel");this.J.appendChild(this.TC)}this.X=z.B("button",L?"nopadding":"");
this.X.setAttribute("style","position:relative;");this.X.addEventListener("click",(N?this.zI:this.Fu).bind(this),!1);
this.J.appendChild(this.X);this.Fx=z.B("img",L?"gsicon":"");this.X.appendChild(this.Fx);if(N){var s=z.B("button");
s.textContent="\u25BC";s.addEventListener("click",this.Fu.bind(this),!1);this.J.appendChild(s)}else{var r=z.B("span");
r.textContent="\u25BC";r.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.X.appendChild(r)}var u=z.B("span");
this.xI.appendChild(u);u.setAttribute("style","display:inline-block;  vertical-align:top; width:"+c+"em;");
this.ut=new Hq(L,!0);u.appendChild(this.ut.J);this.ut.parent=this.aC;this.ut.O(z.E.p,this.tRb,this);
this.ut.O("del",this.tRu,this);this.ut.J.style.height=_+"em";this.rH=z.B("button");this.rH.textContent="\u25BC";
this.rH.addEventListener("click",this.tR_.bind(this),!1);this.xI.appendChild(this.rH);var V=O!=JG.fd&&O!=JG.Sl?O:null,C=O==null?"":JG.qC[O][0].toUpperCase();
this.lt=V?[{name:[12,87]}]:[];this.lt=this.lt.concat([{name:"",V:function(T){return{cg:tg.get([1,0])+" ."+C}}},{name:"",V:function(T){return{cg:tg.get([1,8])+" ."+C}}}]);
this.TA=new rq(this.lt);this.TA.parent=this.aC;this.TA.O("select",this.aQ,this);this.dD=O;this.dL=V;
this.TM=null;this.ia=!0;this.M$=null}Vu.prototype=new JS;Vu.prototype.tRb=function(H){this.pS(H);this.ut.Du(this.ut.v())};
Vu.prototype.tRu=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.u_,fa:"del",gg:this.dD,gB:[this.ut.v()]};
this.N(N)};Vu.prototype.zI=function(){};Vu.prototype.w=function(){this.TA.w();this.ut.w();var H=this.Do;
if(H==null)return;var N=typeof H=="string"?H:tg.get(H);this.TC.textContent=N+":"};Vu.prototype.$v=function(H){this.TC.textContent=H};
Vu.prototype.aA=function(H){this.TM=H;this.ia=!0};Vu.prototype.aQ=function(H){var N=H.target.pa()[0];
if(this.dL==null)N++;var Q=new k(z.E.Y,!0);if(N==0)Q.data={X:z.m.u_,fa:"add",gg:this.dL,Tb:this.be()};
if(N==1)Q.data={X:z.m.pD};if(N==2)Q.data={X:z.m.bY,tHa:this.dD};this.N(Q)};Vu.prototype.be=function(){return[this.v()]};
Vu.prototype.tR_=function(H){var N=this.TA,Q=this.lt;N.update(null,Q);var c=H.currentTarget.getBoundingClientRect(),_=new k(z.E.Y,!0);
_.data={X:z.m.Fe,AB:N,x:c.left,y:c.top+c.height};this.N(_)};Vu.prototype.Fu=function(H){this._I();var N=this.X.getBoundingClientRect(),Q=new k(z.E.Y,!0);
Q.data={X:z.m.Fe,AB:this.aC,x:N.left,y:N.top+N.height,tHS:!0};this.N(Q)};function Hc(H){JS.call(this);
this.PQ=0;this.alt=0;var N="ai"+z.GW();this.J=z.B("span","fitem angleinput");if(H){this.TC=z.B("label","flabel");
this.Do=H;this.J.appendChild(this.TC);this.TC.setAttribute("for",N)}this.eH=20;this.rP=z.B("canvas","gsicon");
this._m=this.rP.getContext("2d");z.UZ(this.rP,this.eH*2+1,this.eH*2+1,this._m);this.J.appendChild(this.rP);
z.oA(this.rP,this.uB.bind(this));this.tQ=this.Ll.bind(this);this.tO=this.uZ.bind(this);this.IT=z.B("input","");
this.IT.setAttribute("type","text");this.J.appendChild(this.IT);this.IT.setAttribute("id",N);this.IT.addEventListener("change",this.cp.bind(this),!1);
this.to=z.B("span","");this.to.innerHTML="\xB0";this.J.appendChild(this.to);this.Q(this.PQ,this.alt)}Hc.prototype=new JS;
Hc.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);this.TC.textContent=H+":"};
Hc.prototype.$v=function(H){this.TC.textContent=H};Hc.prototype.v=function(){return{PQ:this.PQ,alt:this.alt}};
Hc.prototype.Q=function(H,N){if(H!=null)this.PQ=H;if(N!=null)this.alt=N;this.IT.value=this.PQ;H=Math.PI*this.PQ/180;
N=.9*this.eH*(90-this.alt)/90;var Q=this.eH+.5,c=this._m;c.clearRect(0,0,100,100);c.strokeStyle="#000000";
c.beginPath();c.arc(Q,Q,.9*this.eH,0,2*Math.PI);c.moveTo(Q,Q);c.lineTo(Q+Math.cos(H)*this.eH*.9,Q-Math.sin(H)*this.eH*.9);
c.stroke();c.strokeStyle="#ff0000";c.beginPath();c.moveTo(Q+Math.cos(H)*N-3,Q-Math.sin(H)*N);c.lineTo(Q+Math.cos(H)*N+3,Q-Math.sin(H)*N);
c.moveTo(Q+Math.cos(H)*N,Q-Math.sin(H)*N-3);c.lineTo(Q+Math.cos(H)*N,Q-Math.sin(H)*N+3);c.stroke()};
Hc.prototype.cp=function(H){var N=parseInt(this.IT.value);N=N%360;this.Q(N);this.N(new k(z.E.p,!1))};
Hc.prototype.uB=function(H){z.ny(window,this.tQ);z.nL(window,this.tO);this.Ll(H)};Hc.prototype.Ll=function(H){var N=z.qF(H,this.rP),Q=N.x-this.eH,c=N.y-this.eH,_=180*Math.atan2(-c,Q)/Math.PI,O=90-90*Math.min(1,Math.sqrt(Q*Q+c*c)/(.9*this.eH));
this.Q(Math.round(_),Math.round(O));this.N(new k(z.E.p,!1))};Hc.prototype.uZ=function(H){this.N(new k(z.E.p,!1));
z.vD(window,this.tQ);z.cQ(window,this.tO)};function tK(H){JS.call(this);this.$$=0;this.J=z.B("span","fitem angleinput");
if(H){this.TC=z.B("label","flabel");this.Do=H;this.J.appendChild(this.TC)}this.rP=z.B("canvas","gsicon");
this._m=this.rP.getContext("2d");z.UZ(this.rP,41,41);this.J.appendChild(this.rP);z.oA(this.rP,this.uB.bind(this));
this.tQ=this.Ll.bind(this);this.tO=this.uZ.bind(this);this.Q(0)}tK.prototype=new JS;tK.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);
this.TC.textContent=H+":"};tK.prototype.$v=function(H){this.TC.textContent=H};tK.prototype.v=function(){return this.$$};
tK.prototype.Q=function(H){this.$$=H;var N=this.rP.width,Q=Math.floor(H/3),c=H-3*Q,_=(c+.5)*N/3,O=(Q+.5)*N/3,L=this._m,s=[.5,Math.round(N/3)+.5,Math.round(2*N/3)+.5,N-.5];
L.clearRect(0,0,N,N);L.setLineDash([]);L.strokeStyle=L.fillStyle="#000000";L.beginPath();for(var r=0;
r<4;r++){var u=s[r];L.moveTo(u,0);L.lineTo(u,N);L.moveTo(0,u);L.lineTo(N,u)}L.stroke();L.setLineDash([1,2]);
var V=N*.53,C=Math.max(0,Math.min(N-V,_-V/2)),T=Math.max(0,Math.min(N-V,O-V/2));L.strokeRect(Math.round(C)+.5,Math.round(T)+.5,Math.round(V),Math.round(V));
L.beginPath();L.arc(_,O,N/8,0,Math.PI*2);L.fill()};tK.prototype.uB=function(H){z.ny(window,this.tQ);
z.nL(window,this.tO);this.Ll(H)};tK.prototype.Ll=function(H){var N=z.qF(H,this.rP),Q=Math.max(0,Math.min(2,Math.floor(N.x/(41/3)))),c=Math.max(0,Math.min(2,Math.floor(N.y/(41/3))));
this.Q(c*3+Q)};tK.prototype.uZ=function(H){this.N(new k(z.E.p,!1));z.vD(window,this.tQ);z.cQ(window,this.tO)};
function tf(H){Vu.call(this,H,!1,"brushbutton nopadding",16.6,10,JG.Tz,!0);this.EC=new Jb([12,14],1,1e3," px",0,!0);
this.EC.O(z.E.p,this.bN,this);this.rJ.appendChild(this.EC.J);this.lV=new Jb([12,17],0,100,"%");this.lV.O(z.E.p,this.bN,this);
this.rJ.appendChild(this.lV.J)}tf.prototype=new Vu;tf.prototype.Fu=function(H){this._I();var N=this.J.getBoundingClientRect(),Q=new k(z.E.Y,!0);
Q.data={X:z.m.Fe,AB:this.aC,x:N.left,y:N.top+N.height};this.N(Q)};tf.prototype.Q=function(H,N,Q){this.M$=JSON.parse(JSON.stringify(H));
var c=Math.floor(20*z.h()),_=Math.floor(36*z.h()),O=Math.floor(24*z.h()),L=Jf.uU(H,N,Q,c,O,_);this.Fx.setAttribute("src",L);
z.gx(this.Fx,_,O);var s=H.Brsh.v;this.EC.Q(s.Dmtr.v.val);if(s.Hrdn!=null){this.lV.qQ();this.lV.Q(s.Hrdn.v.val)}else this.lV.uI();
this.ut.Du(-1)};tf.prototype.be=function(){return{list:[{t:"Objc",v:this.v()}],Fy:[],nw:[]}};tf.prototype.v=function(){return this.M$};
tf.prototype._I=function(){if(!this.ia)return;var H=[],N=[],Q=this.TM,c=Math.floor(33*z.h()),_=Math.floor(40*z.h());
for(var O=0;O<Q.list.length;O++){var L=Q.list[O].v,s=Jf.uU(L,Q.Fy,Q.nw,c,_);H.push(s);N.push(L.Nm.v.split("=").pop())}this.ut.mx(H,N,c,_);
this.ia=!1};tf.prototype.pS=function(H){var N=this.TM;this.Q(N.list[this.ut.v()].v,N.Fy,N.nw);this.N(new k(z.E.p))};
tf.prototype.w=function(){Vu.prototype.w.call(this);this.EC.w();this.lV.w()};tf.prototype.bN=function(H){var N=this.TM,Q=this.M$;
Q.Brsh.v.Dmtr.v.val=this.EC.v();if(Q.Brsh.v.Hrdn!=null)Q.Brsh.v.Hrdn.v.val=this.lV.v();this.Q(Q,N.Fy,N.nw);
this.N(new k(z.E.p))};function JQ(H,N,Q,c){JS.call(this);this.J=z.B("button","fitem"+(N?" spread":"")+(c?" bbtn":""));
this.Do=H;this.EG=Q;this.w();this.J.addEventListener("click",this.xa.bind(this),!1);if(Q!=null)this.J.setAttribute("title",Q)}JQ.prototype=new JS;
JQ.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);this.J.innerHTML=H;
if(this.EG){var N=typeof this.EG=="string"?this.EG:tg.get(this.EG);this.J.setAttribute("title",N)}};
JQ.prototype.tcV=function(H){this.J.setAttribute("title",H)};JQ.prototype.xa=function(H){this.N(new k("click",!1))};
JQ.prototype.PT=function(){z.wj(this.J,"active")};JQ.prototype.vl=function(){z.cd(this.J,"active")};
JQ.prototype.$v=function(H,N){if(H)this.Do=H;if(N)this.EG=N;this.w()};JQ.prototype.Q=function(H){if(H)this.PT();
else this.vl()};JQ.prototype.Tv=function(){return this.J.getAttribute("class").indexOf("active")!=-1};
JQ.prototype.v=function(){return this.Tv()};function VW(H){JS.call(this);this.rw=!1;this.Fa={T:0,q:0,H:0};
this.Ga=H;this.J=z.B("span","fitem colorsample");this.J.addEventListener("click",this.xa.bind(this),!1)}VW.prototype=new JS;
VW.prototype.w=function(){};VW.prototype.bF=function(H){if(this.rw==H)return;this.rw=H;this.zD()};VW.prototype.xa=function(H){var N=this.Fa,Q=new k(z.E.Y,!0);
Q.data={X:z.m.gI,gL:"colorpicker",nx:N.T<<16|N.q<<8|N.H,rI:this.yh.bind(this),rc:this.Ga};this.N(Q)};
VW.prototype.yh=function(H){this.kI(H);this.N(new k(z.E.p))};VW.prototype.ttq=function(){this.xa(null)};
VW.prototype.zy=function(){var H=this.Fa;return H.T<<16|H.q<<8|H.H};VW.prototype.v=function(){return $.e.Ta(this.Fa)};
VW.prototype.kI=function(H){this.Fa={T:H>>16&255,q:H>>8&255,H:H&255};this.zD()};VW.prototype.Q=function(H){this.Fa=$.e.NG(H);
this.zD()};VW.prototype.zD=function(){var H=this.Fa,N=H.T,Q=H.q,c=H.H;if(this.rw)N=Q=c=Math.round($.YK(N,Q,c));
var _=N<<16|Q<<8|c;this.J.setAttribute("style","background-color:#"+$.fM(_))};function tn(H){JS.call(this);
this.J=z.B("span","fitem cswatch");this.dC=0;this.qb=[];this.$G=[];var N=this.ttU.bind(this);for(var Q=0;
Q<H;Q++){this.qb.push(0);var c=z.B("span","colorsample");c.addEventListener("click",N,!1);this.$G.push(c);
this.J.appendChild(c)}var _=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],O=Math.min(H,_.length);
for(var Q=0;Q<O;Q++)this.qb[Q]=_[Q];this.TE()}tn.prototype=new JS;tn.prototype.ttU=function(H){this.dC=this.$G.indexOf(H.currentTarget);
this.N(new k(z.E.p))};tn.prototype.v=function(){return this.qb[this.dC]};tn.prototype.Q=function(H){var N=this.qb,Q=N.indexOf(H);
if(Q!=-1)N.splice(Q,1);else N.pop();N.unshift(H);this.TE()};tn.prototype.TE=function(){for(var H=0;H<this.qb.length;
H++){this.$G[H].setAttribute("style","background-color:#"+$.fM(this.qb[H]))}};function tA(H){Vu.call(this,H,!0,"contourbutton",17,10.5,JG.J$)}tA.prototype=new Vu;
tA.prototype.pS=function(H){this.Q(this.TM[H.target.v()]);this.N(new k(z.E.p))};tA.prototype.zI=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.gI,gL:"contoureditor",C:this.M$,response:this.tts.bind(this)};this.N(N)};tA.prototype.tts=function(H){this.Q(H);
this.N(new k(z.E.p))};tA.prototype._I=function(){if(!this.ia)return;var H=Math.floor(38*z.h()),N=Math.floor(38*z.h()),Q=[],c=[],_=this.TM;
for(var O=0;O<_.length;O++){c.push(_[O].Nm?_[O].Nm.v:"");Q.push($.kv.uU(_[O].Crv.v,H,N))}this.ut.mx(Q,c,H,N);
this.ia=!1};tA.prototype.Q=function(H){this.M$=JSON.parse(JSON.stringify(H));var N=this.M$.Crv.v;for(var Q=0;
Q<N.length;Q++)if(N[Q].v.Cnty==null)N[Q].v.Cnty={t:"bool",v:!0};this.fC()};tA.prototype.fC=function(){var H=Math.floor(30*z.h()),N=Math.floor(30*z.h()),Q=$.kv.uU(this.M$.Crv.v,H,N);
this.Fx.setAttribute("src",Q);z.gx(this.Fx,H,N)};tA.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))};
function te(H){JS.call(this);this.qs=null;this.Sn=null;this.$c=null;this.xy=null;this.dT=[];this.dd=[];
this.J=z.B("span","fitem fillbutton");this.aC=new JS;this.aC.J=z.B("div","floatcont form");this.aC.J.setAttribute("style","width: 21em;");
this.aC.parent=this;this.TB=H;this.TC=this.TC=z.B("label","flabel");this.J.appendChild(this.TC);this.rP=z.B("canvas");
this._m=this.rP.getContext("2d");this.dG=null;this.J.appendChild(this.rP);this.rP.addEventListener("click",this.Fu.bind(this),!1);
this.rL=new r_([12,66],["","Color","Grad","Patt"]);this.aC.J.appendChild(this.rL.J);this.rL.O(z.E.p,this.pw,this);
this.aC.J.appendChild(z.B("hr"));this.tHn=z.B("span");this.sb=new VW(!0);this.sb.parent=this.aC;this.sb.O(z.E.p,this.pw,this);
this.xD=new tn(10);this.xD.O(z.E.p,this.pw,this);this.lP=z.B("div","marged hiline");this.lP.appendChild(this.sb.J);
this.lP.appendChild(z.B("br"));this.lP.appendChild(this.xD.J);this.uE=new $m("GrFl",!0);this.uE.parent=this.aC;
this.uE.O(z.E.p,this.pw,this);this.EM=z.B("div","marged hiline");var N="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var Q=0;Q<N.length;Q++){var c=this.uE.Ju[N[Q]].J;this.EM.appendChild(c)}this.uo=new $m("patternFill",!0);
this.uo.parent=this.aC;this.uo.O(z.E.p,this.pw,this);this.Eg=z.B("div","marged hiline");var N=["Ptrn","Scl","Algn","phase"];
for(var Q=0;Q<N.length;Q++){var c=this.uo.Ju[N[Q]].J;this.Eg.appendChild(c)}}te.prototype=new JS;te.prototype.qB=function(H,N){if(N==JG.Sd){this.dT=[];
this.dd=[];if(this.qs)this.Q(this.$c,this.v(),this.qs)}this.Sn=H;this.uE.qB(H,N);this.uo.qB(H,N)};te.prototype.w=function(){this.TC.textContent=tg.get(this.TB)+": ";
this.rL.w();this.sb.w();this.uE.w();this.uo.w()};te.prototype.pw=function(H){var N=H.currentTarget;if(N==this.rL){var Q=this.rL.v(),c={uV:Q,uL:this.qs[Q]};
if(Q>0&&c.uL==null)c.uL=JSON.parse(JSON.stringify(B.Ks[Q-1]));if(this.qs)this.Q(this.$c,c,this.qs)}if(N==this.xD)this.sb.kI(N.v());
this.N(new k(z.E.p,!1))};te.prototype.Fu=function(H){var N=this.rP.getBoundingClientRect(),Q=new k(z.E.Y,!0);
Q.data={X:z.m.Fe,AB:this.aC,x:N.left,y:N.top+N.height+4};this.N(Q);this.xD.Q(this.sb.zy())};te.prototype.Q=function(H,N,Q){this.qs=Q;
this.$c=H;var c=[[13,1,0],[13,0],[12,37],[12,62]],_=this.dT,O=this.dd,L=!1,C;for(var s=0;s<4;s++){var r={uV:s,uL:Q[s]},u=te.BH(r);
if(O[s]==u)continue;L=!0;var V=te.Bw(null,r,this.Sn,this.$c,22,22,!1);_[s]="<img width=\"22\" height=\"22\" src=\""+V+"\" />";
O[s]=u}if(L)this.rL.ea(_,c);this.rL.Q(N.uV);var u=te.BH(N);if(u!=this.dG)te.Bw(this._m,N,this.Sn,this.$c,30,23,!0);
this.dG=u;var T=N.uV;if(T==0){C=this.tHn}if(T==1){this.sb.Q(N.uL.Clr.v);C=this.lP}if(T==2){this.uE.update(H,N.uL);
C=this.EM}if(T==3){this.uo.update(H,N.uL);C=this.Eg}if(C!=this.xy){if(this.xy!=null){this.aC.J.removeChild(this.xy)}this.aC.J.appendChild(C);
this.xy=C}};te.prototype.v=function(){var H={uV:this.rL.v()};if(H.uV==1){H.uL=JSON.parse(JSON.stringify(B.Ks[0]));
H.uL.Clr.v=this.sb.v()}if(H.uV==2){H.uL=this.uE.v()}if(H.uV==3){H.uL=this.uo.v()}return H};te.BH=function(H){var N=H.uV,Q=H.uL,c="empty";
if(N==1){c=$.e.NG(Q.Clr.v);c=c.T+","+c.q+","+c.H}if(N==2)c=JSON.stringify(Q.Grad.v);if(N==3)c=Q.Ptrn.v.Idnt.v;
return c};te.Bw=function(H,N,Q,c,_,O,L){if(H==null)H=te._m;var s=Math.floor(_*z.h()),r=Math.floor(O*z.h()),u=H.canvas,V;
u.width=s;u.height=r;z.gx(u,s,r);var C=N.uV;if(C==0){H.fillStyle="#ffffff";H.fillRect(0,0,s,r);H.strokeStyle="#ff0000";
H.lineWidth=2;H.moveTo(0,0);H.lineTo(s,r);H.moveTo(0,r);H.lineTo(s,0);H.stroke()}if(C==1){var T=N.uL.Clr.v;
T=$.e.NG(T);H.fillStyle="#"+$.fM(T.T<<16|T.q<<8|T.H);H.fillRect(0,0,s,r)}if(C==2){l.Aa.uU(N.uL.Grad.v,s,r,0,Q.AF,Q.ze,u)}if(C==3){var e=N.uL.Ptrn.v,t;
if(c!=null)t=Ja.bE(e,c.add.Patt);if(t==null)t=Ja.bE(e,Q.wg);tl.uU(t,s,r,u)}if(L){H.beginPath();H.strokeStyle="#000000";
H.fillStyle="#ffffff";H.lineWidth=2;var Y=s*.7,A=Math.floor(r*.7),G=7*z.h();H.moveTo(Y,A);H.lineTo(Y+G,A);
H.lineTo(Y+G/2,A+G/2);H.closePath();H.stroke();H.fill()}if(H==te._m)return u.toDataURL()};te._m=z.B("canvas").getContext("2d");
function tl(H){Vu.call(this,H,!1,"patternbutton",18,10,JG.Sd)}tl.prototype=new Vu;tl.prototype.pS=function(H){var N=this.TM[this.ut.v()];
this.M$={classID:"Ptrn",Nm:{t:"TEXT",v:N.name},Idnt:{t:"TEXT",v:N.id}};this.N(new k(z.E.p));this.fC()};
tl.prototype._I=function(){if(!this.ia)return;var H=this.TM,N=Math.floor(34*z.h()),Q=Math.floor(34*z.h()),c=[],_=[];
for(var O=0;O<H.length;O++){c.push(tl.uU(H[O],N,Q));_.push(H[O].name)}this.ut.mx(c,_,N,Q);this.ia=!1};
tl.prototype.Q=function(H,N){if(this.M$&&H.Idnt.v==this.M$.Idnt.v)return;this.M$=JSON.parse(JSON.stringify(H));
this.fC(N)};tl.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))};tl.prototype.fC=function(H){var N=Math.floor(50*z.h()),Q=Math.floor(50*z.h()),c;
if(H!=null)c=Ja.bE(this.M$,H.add.Patt);if(c==null)c=Ja.bE(this.M$,this.TM);var _=tl.uU(c,N,Q);this.Fx.setAttribute("src",_);
z.gx(this.Fx,N,Q)};tl.ql=z.B("canvas","");tl.uU=function(H,N,Q,c){if(c==null)c=tl.ql;var _=c.getContext("2d");
c.width=N;c.height=Q;if(H){var O=H.lU.$,L=H.lU.z,s=H.nn,r=Math.min(N/O,Q/L),u=r;if(u*O<2)u=2/O;var V=r;
if(V*L<2)V=2/L;var C=l._.Qk([s,H.lU],new Jo(u,0,0,V,0,0),!1),T=C.rect.$,e=C.rect.z,t=_.createImageData(T,e);
$.sa(C.buffer,t.data);_.putImageData(t,Math.floor((N-T)/2),Math.floor((Q-e)/2))}return c.toDataURL()};
function VK(H){Vu.call(this,H,!1,"patternbutton",24.2,17,JG.fd)}VK.prototype=new Vu;VK.prototype.pS=function(H){this.M$=JSON.parse(JSON.stringify(this.TM[0][this.ut.v()]));
this.N(new k(z.E.p))};VK.prototype._I=function(){var H=this.TM;if(H==null||!this.ia)return;var N=Math.floor(50*z.h()),Q=Math.floor(50*z.h()),c=[],_=[];
for(var O=0;O<H[0].length;O++){c.push(VK.uU(this.TM[0][O].PH,N,Q,this.TM[1]));_.push(H[0][O].VI.Nm.v.split("=").pop())}this.ut.mx(c,_,N,Q);
this.ia=!1};VK.prototype.Q=function(H,N,Q,c){this.M$=JSON.parse(JSON.stringify(H));this.fC(N,Q,c);this.ut.Du(-1)};
VK.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))};VK.prototype.fC=function(H,N,Q){var c=Math.floor(68*z.h()),_=Math.floor(68*z.h()),O=VK.uU(this.M$.PH,c,_,H?H:this.TM[1],N,Q);
this.Fx.setAttribute("src",O);z.gx(this.Fx,c,_)};VK.uU=function(H,N,Q,c,_,O){var L=new rw;L.$=N;L.z=Q;
L.buffer=$.I(N*Q*4);L.add.Patt=c;L.wh(_==null?90:_);L.Hq(O==null?30:O);var s=new p(0,0,Math.round(N*.5),Math.round(Q*.5));
s.x=Math.round((N-s.$)/2);s.y=Math.round((Q-s.z)/2);var r=L.Zs();r.rect=s;r.buffer=$.I(s.f()*4);$.Mw(r.buffer,4284045657);
Ja.KO(H,r,.5*100);L.b.push(r);L.f$();L.r();var u=o.Yv;o.Yv=!1;L.LD();var V=L.cn();o.Yv=u;var C=JP.Km(V,L.$,L.z);
return C};function tS(H,N){JS.call(this);this.J=z.B("span","fitem curveeditor");this.mode=0;this.xc=H;
this.tHl=N;this.hc=null;this.Ko=null;this.yd=new E;this.t_=this.Ll.bind(this);this.Vt=this.uZ.bind(this);
this.rP=z.B("canvas","");this._m=this.rP.getContext("2d");z.FW(this.rP);z.UZ(this.rP,256,256,this._m);
this.J.appendChild(this.rP);z.oA(this.rP,this.uB.bind(this))}tS.prototype=new JS;tS.prototype.Q=function(H,N){var Q=JSON.stringify(H);
if(Q==JSON.stringify(this.hc))return;this.mode=H.length==256?1:0;this.hc=JSON.parse(Q);if(N!=null)this.Ko=this.hc[N];
this.Uz()};tS.prototype.v=function(){return JSON.parse(JSON.stringify(this.hc))};tS.prototype.BI=function(){return this.hc.indexOf(this.Ko)};
tS.prototype.uB=function(H){var N=z.qF(H,this.rP),Q=N.x,c=256-N.y;if(this.xc){var _=Q;Q=256-c;c=_}this.yd.kR(Q,c);
if(this.mode==0){var O=null;for(var L=0;L<this.hc.length;L++){var s=this.hc[L].v,r=Math.sqrt((s.Hrzn.v-Q)*(s.Hrzn.v-Q)+(s.Vrtc.v-c)*(s.Vrtc.v-c));
if(r<5)O=this.hc[L]}if(O==null){O=$.kv.oS(Q,c,!0);this.hc.push(O)}this.Ko=O}z.ny(document.body,this.t_);
z.nL(document.body,this.Vt);this.Ll(H)};tS.prototype.Ll=function(H){var N=z.qF(H,this.rP),Q=N.x,c=256-N.y;
if(this.xc){var _=Q;Q=256-c;c=_}if(this.mode==0){var O=this.hc,L=this.tHl,s=O.indexOf(this.Ko),r=s==0||s==O.length-1,u=0,V=255,C=!0;
if(r){u=1;V=254}if(!L||!r)this.Ko.v.Hrzn.v=Math.max(u,Math.min(V,Math.round(Q)));this.Ko.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(c)));
for(var T=0;T<O.length;T++){if(O[T]==this.Ko)continue;if(Math.abs(O[T].v.Hrzn.v-this.Ko.v.Hrzn.v)<2)C=!1}if(Q<0||Q>255||c<0||c>255)C=!1;
if(C&&O.indexOf(this.Ko)==-1)O.push(this.Ko);if(!C&&O.indexOf(this.Ko)!=-1&&O.length>2&&(!L||!r))O.splice(O.indexOf(this.Ko),1);
if(O[0].v.Hrzn.v==O[1].v.Hrzn.v)if(O[0].v.Hrzn.v==0)O[1].v.Hrzn.v=1;else O[0].v.Hrzn.v--;O.sort(function(j,d){return j.v.Hrzn.v-d.v.Hrzn.v})}else{Q=Math.max(0,Math.min(255,Q));
c=Math.max(0,Math.min(255,c));var e=this.yd.x,t=Q,Y=this.yd.y,A=c;if(Q<this.yd.x){t=e;e=Q;A=Y;Y=c}this.hc[Q]=c;
if(e!=t)for(var G=e;G<=t;G++)this.hc[G]=Math.round(Y+(G-e)*(A-Y)/(t-e))}this.yd.kR(Q,c);this.Uz();this.N(new k(z.E.p))};
tS.prototype.uZ=function(H){z.vD(document.body,this.t_);z.cQ(document.body,this.Vt);this.N(new k(z.E.p))};
tS.prototype.Uz=function(){var H=this._m;H.fillStyle="#ffffff";H.fillRect(0,0,256,256);H.strokeStyle="#aaaaaa";
H.lineWidth=1;H.beginPath();for(var N=1;N<4;N++){H.moveTo(0,64*N-.5);H.lineTo(255,64*N-.5);H.moveTo(64*N-.5,0);
H.lineTo(64*N-.5,255)}H.stroke();if(this.xc){H.save();H.transform(0,1,-1,0,256,0)}if(this.mode==0){var Q=this.hc,c=$.kv.tH(Q,256);
H.strokeStyle="#000000";H.beginPath();H.moveTo(0,255.5-c[0]);for(var N=0;N<256;N++)H.lineTo(N,255.5-c[N]);
H.stroke();H.lineWidth=2;for(var N=0;N<Q.length;N++){var _=Q[N].v;H.fillStyle=this.Ko==Q[N]?"#333":"#fff";
H.beginPath();H.moveTo(_.Hrzn.v,255.5-_.Vrtc.v);H.arc(_.Hrzn.v,255.5-_.Vrtc.v,3,0,2*Math.PI);H.stroke();
H.fill()}}else{var c=this.hc;H.strokeStyle="#000000";H.beginPath();H.moveTo(0,255.5-c[0]);for(var N=0;
N<256;N++)H.lineTo(N,255.5-c[N]);H.stroke()}if(this.xc)H.restore()};function r_(H,N){JS.call(this);if(!N)return;
this.Os=0;this.J=z.B("span","fitem bbmenu");if(H){this.Do=H;this.TC=z.B("label","flabel");this.TC.textContent=H+":";
this.J.appendChild(this.TC)}this.Fr=[];this.Ev=null;this.ea(N);this.Q(0)}r_.prototype=new JS;r_.prototype.$v=function(H){this.Do=H;
this.w()};r_.prototype.w=function(){if(this.Do!=null){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);
this.TC.textContent=H+": "}for(var N=0;N<this.Fr.length;N++)this.Fr[N].w()};r_.prototype.v=function(){return this.Os};
r_.prototype.ea=function(H,N){while(this.Fr.length>0)this.J.removeChild(this.Fr.pop().J);this.Ev=H;for(var Q=0;
Q<H.length;Q++){var c=new JQ(H[Q],!1,N?N[Q]:null);c.O("click",this.cp,this);this.J.appendChild(c.J);
this.Fr.push(c)}this.w()};r_.prototype.Q=function(H){this.Os=H;for(var N=0;N<this.Fr.length;N++)this.Fr[N].vl();
this.Fr[H].PT()};r_.prototype.cp=function(H){var N=this.Fr.indexOf(H.target);this.Q(N);this.N(new k(z.E.p,!1))};
function J_(H,N,Q,c){JS.call(this);if(!N)return;if(Q==null)Q=!1;this.Os=0;this.twt=Q;this.Do=H;this.xL=null;
this.dx=c;var _="dd"+z.GW();this.J=z.B("span","fitem ddmenu");if(H&&!Q){this.TC=z.B("label","flabel");
this.J.appendChild(this.TC);this.TC.setAttribute("for",_)}this.GX=z.B("select","bbtn");this.GX.setAttribute("id",_);
this.J.appendChild(this.GX);this.GX.addEventListener("change",this.cp.bind(this),!1);this.Fr=[];this.Ev=null;
this.ea(N,c);this.w()}J_.prototype=new JS;J_.prototype.$v=function(H){this.Do=H;this.w()};J_.prototype.w=function(){if(this.Do!=null){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);
if(this.twt)this.GX.setAttribute("title",H);else this.TC.textContent=H+":"}if(this.Ev)this.ea(this.Ev,this.dx);
this.Q(this.Os)};J_.prototype.v=function(){return this.Os};J_.prototype.ea=function(H,N){z.hk(this.GX);
var Q=[],_=0;if(N){Q.push(N[0]);for(var c=1;c<N.length;c++)Q.push(Q[c-1]+N[c])}this.Ev=H;this.xL=[];
this.dx=N;for(var c=0;c<H.length;c++){var O=z.B("option");if(typeof H[c]=="string")O.textContent=H[c];
else O.textContent=tg.get(H[c]);O.setAttribute("value",c);this.GX.appendChild(O);this.Fr.push(O);this.xL.push(c+_);
if(Q.indexOf(c+1)!=-1&&c!=H.length-1){var L=z.B("option");L.setAttribute("disabled","");L.textContent="";
this.GX.appendChild(L);_++}}};J_.prototype.Q=function(H){this.Os=H;this.GX.selectedIndex=this.xL[H]};
J_.prototype.cp=function(H){this.Os=this.xL.indexOf(this.GX.selectedIndex);this.N(new k(z.E.p,!1))};
function $s(){JS.call(this);this.le=null;this.li=new $n;this.li.O(z.E.p,this.tVH,this);this.li.parent=this;
this.lm=new ry([12,14],1,500,"px",0,!0);this.lm.O(z.E.p,this.tVd,this);this.lm.parent=this;this.fJ=new rd([16,0]," px",3);
this.fJ.O(z.E.p,this.Py,this);this.jc=new ry([16,1],-500,5e3,"%",0,!0);this.jc.O(z.E.p,this.Py,this);
this.jc.parent=this;this.EB=new ry("V-scal",0,300,"%");this.EB.O(z.E.p,this.Py,this);this.EB.parent=this;
this.Ez=new ry("H-scal",0,300,"%");this.Ez.O(z.E.p,this.Py,this);this.Ez.parent=this;this.pc=new ry([16,2],-10,10,"px");
this.pc.O(z.E.p,this.Py,this);this.pc.parent=this;this.jO=new VW(!0);this.jO.O(z.E.p,this.tVj,this);
this.jO.parent=this;this.xC=new JQ("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");
this.xG=new JQ("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");this.xM=new JQ("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");
this.xg=new JQ("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");this.xS=new JQ("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");
this.xE=new JQ("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");this.xW=new JQ("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");
var H=[this.xC,this.xG,this.xM,this.xg,this.xS,this.xE,this.xW];for(var N=0;N<H.length;N++)H[N].O("click",this.ttu,this);
this.rT=new JQ("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");this.rW=new JQ("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");
this.rm=new JQ("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");this.dM=new JQ("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");
this.dg=new JQ("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");this.da=new JQ("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");
this.dS=new JQ("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");this.px=[this.rT,this.rW,this.rm,this.dM,this.dg,this.da,this.dS];
for(var N=0;N<this.px.length;N++)this.px[N].O("click",this.Py,this);var Q=["lind","rind","flind","bind","aind"],c=[];
for(var N=0;N<5;N++)c.push("<img src=\""+PIMG["par/"+Q[N]]+"\" class=\"autoscale gsicon\" /> ");this.EZ=new ry(c[0],-20,20,"px");
this.EZ.O(z.E.p,this.Py,this);this.EZ.parent=this;this.EU=new ry(c[1],-20,20,"px");this.EU.O(z.E.p,this.Py,this);
this.EU.parent=this;this.Em=new ry(c[2],-20,20,"px");this.Em.O(z.E.p,this.Py,this);this.Em.parent=this;
this.h$=new ry(c[3],-20,20,"px");this.h$.O(z.E.p,this.Py,this);this.h$.parent=this;this.ha=new ry(c[4],-20,20,"px");
this.ha.O(z.E.p,this.Py,this);this.ha.parent=this;this.pv=new r_([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.pv.O(z.E.p,this.Py,this);this.pv.parent=this}$s.prototype=new JS;$s.prototype.w=function(){this.li.w();
this.lm.w();this.fJ.w();this.jc.w();this.pc.w();this.pv.w()};$s.prototype.zc=function(H){this.iJ=JSON.parse(JSON.stringify(H.iJ));
var N=this.iJ,Q=N.hj,c=N.re;this.xC.Q(Q.FauxItalic);this.xG.Q(Q.FontCaps==2);this.xM.Q(Q.FontCaps==1);
this.xS.Q(Q.FontBaseline==1);this.xg.Q(Q.FontBaseline==2);this.xE.Q(Q.Underline);this.xW.Q(Q.Strikethrough);
this.li.Q(Q.Font==null?null:N.vT[Q.Font].Name,H.LS,H.xq);var _=Q.FontSize==null?20:Q.FontSize;this.lm.Q(_);
this.jc.Q(Q.Tracking);if(Q.AutoLeading)this.fJ.Q("Auto");else this.fJ.Q(Q.Leading);this.EB.Q(Q.VerticalScale*100);
this.Ez.Q(Q.HorizontalScale*100);this.pc.Q(Q.BaselineShift);if(Q.FillColor){var O=X.NG(Q);this.jO.kI(Math.round(O.T)<<16|Math.round(O.q)<<8|Math.round(O.H))}else this.jO.kI(0);
var L=c._Direction?c._Direction:0,s=X.Io(c);for(var r=0;r<this.px.length;r++)this.px[r].Q(s==r);this.pv.Q(L);
this.EZ.Q(c.StartIndent);this.EU.Q(c.EndIndent);this.Em.Q(c.FirstLineIndent);this.h$.Q(c.SpaceBefore);
this.ha.Q(c.SpaceAfter)};$s.prototype.Id=function(){var H=new k(z.E.Y,!0);H.data={X:z.m.u_,gg:JG.vw,iJ:this.iJ};
this.N(H)};$s.prototype.ttu=function(H){var N=this.iJ.hj,Q=H.target,c=!Q.Tv();if(Q==this.xC)N.FauxItalic=c;
if(Q==this.xG)N.FontCaps=c?2:0;if(Q==this.xM)N.FontCaps=c?1:0;if(Q==this.xS)N.FontBaseline=c?1:0;if(Q==this.xg)N.FontBaseline=c?2:0;
if(Q==this.xE)N.Underline=c;if(Q==this.xW)N.Strikethrough=c;this.Id()};$s.prototype.Py=function(H){var N=this.iJ.hj,Q=this.iJ.re,c=H.target;
if(c==this.jc)N.Tracking=this.jc.v();if(c==this.fJ){var _=this.fJ.v().toLowerCase();N.AutoLeading=_=="auto";
N.Leading=_=="auto"?40:parseInt(_)}if(c==this.EB)N.VerticalScale=c.v()/100;if(c==this.Ez)N.HorizontalScale=c.v()/100;
if(c==this.pc)N.BaselineShift=c.v();if(this.px.indexOf(c)!=-1){Q.Justification=X.Io(Q,this.px.indexOf(c))}if(c==this.EZ)Q.StartIndent=c.v();
if(c==this.EU)Q.EndIndent=c.v();if(c==this.Em)Q.FirstLineIndent=c.v();if(c==this.h$)Q.SpaceBefore=c.v();
if(c==this.ha)Q.SpaceAfter=c.v();if(c==this.pv)Q._Direction=c.v();this.Id()};$s.prototype.tVH=function(H){var N=this.iJ,Q=this.li.v(),c=-1;
for(var _=0;_<N.vT.length;_++)if(N.vT[_].Name==Q)c=_;if(c==-1){c=N.vT.length;var O=JSON.parse(JSON.stringify(N.vT[0]));
O.Name=Q;N.vT.splice(c,0,O)}N.hj.Font=c;this.Id()};$s.prototype.tVd=function(H){var N=parseFloat(this.lm.v());
if(isNaN(N))return;this.iJ.hj.FontSize=N;this.Id()};$s.prototype.tVj=function(H){var N=this.jO.zy(),Q={Type:1,Values:[1,(N>>16&255)/255,(N>>8&255)/255,(N>>0&255)/255]};
for(var c=0;c<4;c++)Q.Values[c]=Math.round(Q.Values[c]*1e3)/1e3;this.iJ.hj.FillColor=Q;this.Id()};function $n(){JS.call(this);
this.J=z.B("span","fontinput");this.FQ=null;this.rs=null;this.jk=null;this.pW=[];this.pi=[];this.po="";
this.UT={};this.dW={};this.r_=!1;this.Kt=z.B("button","fitem");this.Kt.setAttribute("style","width:9em;");
this.Kt.textContent="Family Name \u25BC";this.J.appendChild(this.Kt);this.Kt.addEventListener("mousedown",this.By.bind(this),!1);
this.pQ=new JS;this.pQ.J=z.B("div","floatcont");var H=z.B("div","flexrow");this.pQ.J.appendChild(H);
var N=z.B("div",""),Q=z.B("div","");H.appendChild(N);H.appendChild(Q);this.BX=[];for(var c=0;c<FNTS.cats.length;
c++)this.BX.push({name:FNTS.cats[c],index:c,NA:0});for(var c=0;c<FNTS.list.length;c++)this.BX[FNTS.list[c][4]].NA++;
this.BX.sort(function(r,u){return u.NA-r.NA});this.HR=new JF([7,0]);this.HR.O(z.E.p,this.t$u,this);N.appendChild(this.HR.J);
this.H$=z.B("div","vlist marged scrollable");this.H$.setAttribute("style","width:10em; height:6.8em; ");
N.appendChild(this.H$);this.HI=[];for(var c=0;c<this.BX.length;c++){var _=this.BX[c],O=new JF(_.name);
this.HI.push(O);O.O(z.E.p,this.tJB,this);O.Q(!0);this.H$.appendChild(O.J);this.pW.push(1)}this.Hy=new JF([7,0]);
this.Hy.O(z.E.p,this.tJr,this);Q.appendChild(this.Hy.J);this.HP=z.B("div","vlist marged scrollable");
this.HP.setAttribute("style","width:10em; height:6.8em; ");Q.appendChild(this.HP);this.Hx=[];for(var c=0;
c<FNTS.subsetNames.length;c++){var O=new JF(FNTS.subsetNames[c]);this.Hx.push(O);O.O(z.E.p,this.trt,this);
O.Q(!1);this.HP.appendChild(O.J);this.pi.push(0)}var L=z.B("div","form");this.pQ.J.appendChild(L);this.pf=new JQ(z.Ur("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.pf.O("click",this.t$O,this);L.appendChild(this.pf.J);this.Gb=new rd([12,86],null,9);this.Gb.O("input",this.zL,this);
L.appendChild(this.Gb.J);var s=new JQ("Load Font",!1,"Load OTF / TTF file from your computer",!0);s.O("click",this.t$c,this);
s.J.style.marginLeft="1.5em";L.appendChild(s.J);this.xp=z.B("span","fitem imageset scrollable marged");
this.xp.style.height="30em";this.pQ.J.appendChild(this.xp);this.pj=z.B("button","fitem");this.pj.setAttribute("style","width:6em;");
this.pj.textContent="SubFamily Name \u25BC";this.J.appendChild(this.pj);this.pj.addEventListener("mousedown",this.By.bind(this),!1);
this.xi=new JS;this.xi.J=z.B("div","floatcont");this.HM=z.B("span","fitem imageset scrollable marged");
this.xi.J.appendChild(this.HM)}$n.prototype=new JS;$n.prototype.t$c=function(){var H=new k(z.E.Y,!0);
H.data={X:z.m.pD,twH:".otf,.ttf,.ttc"};this.N(H)};$n.prototype.w=function(){this.HR.w();this.Hy.w();
this.pf.$v(z.Ur("tools/cshape",null,"autoscale"))};$n.prototype.t$O=function(H){this.pf.Q(!this.pf.Tv());
this.kx()};$n.prototype.zL=function(H){this.po=this.Gb.v().toLowerCase();this.kx()};$n.prototype.t$u=function(H){var N=H.target.v(),Q=this.HI,c=this.pW;
for(var _=0;_<Q.length;_++){Q[_].Q(N);c[_]=N?1:0}this.kx()};$n.prototype.tJr=function(H){var N=H.target.v(),Q=this.Hx,c=this.pi;
for(var _=0;_<Q.length;_++){Q[_].Q(N);c[_]=N?1:0}this.kx()};$n.prototype.By=function(H){H.preventDefault();
H.stopPropagation();var N=H.currentTarget,Q=N.getBoundingClientRect(),c=N==this.Kt;if(!c&&this.FQ.g_()[this.jk]==null)return;
var _=new k(z.E.Y,!0);_.data={X:z.m.Fe,AB:c?this.pQ:this.xi,x:Q.left,y:Q.top+Q.height};this.N(_);if(c){this.kx();
this.Gb.yW()}};$n.prototype.tJB=function(H){var N=this.HI.indexOf(H.target),Q=this.BX[N].index;this.pW[Q]=1-this.pW[Q];
this.kx()};$n.prototype.trt=function(H){var N=this.Hx.indexOf(H.target);this.pi[N]=1-this.pi[N];this.kx()};
$n.prototype.try=function(H){var N=H.currentTarget.firstChild.nextSibling.textContent;if(H.target.tagName.toLowerCase()=="button"){var Q=this.rs.slice(0),c=Q.indexOf(N);
if(c==-1){Q=Q.slice(Math.max(0,Q.length-9));Q.push(N)}else Q.splice(c,1);var _=new k(z.E.Y,!0);_.data={X:z.m.u_,gg:JG.tb,UG:Q};
this.N(_);this.r_=!0;this.kx()}else this.BD(N,null)};$n.prototype.trL=function(H){this.BD(null,H.currentTarget.firstChild.textContent)};
$n.prototype.BD=function(H,N){var Q=H==null?this.xi:this.pQ,c=this.FQ;if(H==null)H=c.g_()[this.jk][0];
else{var _=c.DS(H),O=c.g_()[this.jk];N=rr.Da(_,O?O[1]:"regular")}var L=c.EN(H,N)[2];this.Q(L,c);this.N(new k(z.E.p,!1));
var s=new k(z.E.Y,!0);s.data={X:z.m.Il,AB:Q};this.N(s)};$n.prototype.v=function(){return this.jk};$n.prototype.Q=function(H,N,Q){var c=this.FQ;
if(H!=null)this.jk=H;else H=this.jk;this.FQ=N;this.rs=Q;if(H!=null){var _=N.g_()[H],O,L;if(_==null){O="- "+H;
L="-------"}else{O=_[0];L=_[1];var s=N.DS(O);s.sort(rr.tHK);var r=s.indexOf(L),u=this.trL.bind(this);
this.HM.textContent="";for(var V=0;V<s.length;V++){var _=N.EN(O,s[V]);if(this.pW[_[4]]==0)continue;var C=this.Bc(_,_[1],u,!1);
this.HM.appendChild(C)}}this.Kt.textContent=O.substring(0,15)+" \u25BC";this.Kt.setAttribute("title",O);
this.pj.textContent=L.substring(0,10)+" \u25BC";this.pj.setAttribute("title",L)}};$n.prototype.kx=function(){var H=this.FQ.g_()[this.jk],N=this.rs,Q=null,c=this.FQ.ttx(),_=this.try.bind(this);
for(var O in c){var L=rr.Da(c[O],"regular"),s=this.FQ.EN(O,L),r=N.indexOf(O)!=-1,u=!0;if(this.po.length>0&&s[0].toLowerCase().indexOf(this.po)==-1)u=!1;
else if(this.pW[s[4]]==0)u=!1;else if(this.pf.Tv()&&!r)u=!1;else for(var V=0;V<this.pi.length;V++)if(this.pi[V]==1&&(s[3]>>>V&1)==0)u=!1;
var C=this.UT[O];if(C==null){var C=this.Bc(s,O,_,!0);this.UT[O]=C;this.xp.appendChild(C)}var T=u?"":"display:none; ",e="opacity: "+(r?"1":"0.2");
if(H&&H[0]==O){T+="background-color:rgba(0,0,0,0.13);";Q=C}if(this.dW[O]!=T+e){C.setAttribute("style",T);
C.firstChild.setAttribute("style",e);this.dW[O]=T+e}}if(Q&&!this.r_)this.xp.scrollTop=Q.offsetTop-210;
this.r_=!1};$n.prototype.Bc=function(H,N,Q,c){var _=z.B("div","fontitem"),r="";_.addEventListener("click",Q,!1);
if(c)_.appendChild(z.B("button","star"));var O=z.B("span","label");O.setAttribute("title",N);O.textContent=N;
_.appendChild(O);var L=z.h(),s=1/L,u=rr.Ek*s,V=rr.jg*s;if(1<L&&L<1.5)r="width:"+u+"px; height:"+V+"px;";
var C=z.B("span","thumb gsicon");if(H.eZ){if(1<L&&L<1.5)r+="background-size: "+u+"px "+V+"px;";r+="background: url("+H.eZ+")"}else{var T=Math.ceil(FNTS.list.length/rr.cols),e=Math.floor(H.U_/T),t=H.U_%T,Y=e*rr.Ek,A=t*rr.jg;
if(1<L&&L<1.5){r+="background-size: "+rr.cols*u+"px "+T*V+"px;";Y*=s;A*=s}r+="background-position:-"+Y+"px -"+A+"px;"}C.setAttribute("style",r);
_.appendChild(C);return _};function J$(H,N,Q){Vu.call(this,N,!0,"gradientbutton",18,10,JG.wB);this.AF=-1;
this.ze=-1;this.dq=null;this.tww=H;this.Ga=Q}J$.prototype=new Vu;J$.prototype.pS=function(H){var N=this.TM;
this.Q(N[this.ut.v()]);this.N(new k(z.E.p))};J$.prototype.zI=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.gI,gL:"gradienteditor",e:this.M$,rI:this.trd.bind(this),rc:this.Ga};
this.N(N)};J$.prototype.trd=function(H){this.Q(H);this.N(new k(z.E.p))};J$.prototype._I=function(){if(!this.ia)return;
var H=Math.floor(36*z.h()),N=Math.floor(36*z.h()),Q=[],c=[],_=this.TM;for(var O=0;O<_.length;O++){var L=_[O];
c.push(L.Nm?L.Nm.v.split("=").pop():"");var s=l.Aa.uU(L,H,N,Math.PI/4,this.AF,this.ze);Q.push(s)}this.ut.mx(Q,c,H,N);
this.ia=!1};J$.prototype.zE=function(H,N){this.BT(this.M$,H,N)};J$.prototype.Q=function(H){this.BT(H,this.AF,this.ze)};
J$.prototype.BT=function(H,N,Q){this.AF=N;this.ze=Q;if(H==null)return;var c=JSON.stringify(H),_=c+N+","+Q;
if(_==this.dq)return;this.dq=_;this.M$=JSON.parse(c);var O=Math.floor(80*z.h()),L=Math.floor(16*z.h()),s=l.Aa.uU(this.M$,O,L,0,this.AF,this.ze);
this.Fx.setAttribute("src",s);z.gx(this.Fx,O,L)};J$.prototype.v=function(){var H;if(this.tww)H=l.Aa.tRR(this.M$,this.AF,this.ze);
else H=JSON.parse(JSON.stringify(this.M$));return H};function tp(H){Vu.call(this,H,!1,"swatchbutton",16,8.75,JG.Jr)}tp.prototype=new Vu;
tp.prototype.pS=function(H){this.Q(this.TM[H.target.v()]);this.N(new k(z.E.p))};tp.prototype._I=function(){if(!this.ia)return;
var H=Math.floor(10*z.h()),N=Math.floor(10*z.h()),Q=[],c=[],_=this.TM;for(var O=0;O<_.length;O++){c.push(_[O].qm?_[O].qm.split("=").pop():"");
Q.push(tp.uU(_[O],H,N))}this.ut.mx(Q,c,H,N);this.ia=!1};tp.prototype.aA=function(H){this.TM=H;this.ia=!0;
this._I()};tp.prototype.Q=function(H){this.M$=JSON.parse(JSON.stringify(H));this.fC()};tp.prototype.fC=function(){var H=Math.floor(24*z.h()),N=Math.floor(20*z.h()),Q=tp.uU(this.M$,H,N);
this.Fx.setAttribute("src",Q);z.gx(this.Fx,H,N)};tp.prototype.v=function(){return JSON.parse(JSON.stringify(this.M$))};
tp.uU=function(H,N,Q){var c=H.H<<16|H.q<<8|H.T,_=$.I(N*Q*4);$.Mw(_,4278190080|c);var O=JP.Km(_,N,Q);
return O};function JF(H,N,Q){JS.call(this);this.J=z.B("span","fitem cbox");if(N==null)N=!0;if(Q==null)Q="flabel";
var c="cb"+z.GW();this.IT=z.B("input","");this.IT.setAttribute("type","checkbox");this.IT.setAttribute("id",c);
this.J.appendChild(this.IT);this.Do=H;this.TC=z.B("label",Q);if(N)this.TC.setAttribute("for",c);this.J.appendChild(this.TC);
this.w();this.IT.addEventListener("change",this.cp.bind(this),!1)}JF.prototype=new JS;JF.prototype.BP=function(){return this.Do};
JF.prototype.$v=function(H){this.TC.textContent=H};JF.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);
this.TC.textContent=H};JF.prototype.PT=function(){this.IT.checked=!0};JF.prototype.vl=function(){this.IT.checked=!1};
JF.prototype.Tv=function(){return this.IT.checked};JF.prototype.Q=function(H){this.IT.checked=H};JF.prototype.v=JF.prototype.Tv;
JF.prototype.cp=function(H){this.N(new k(z.E.p,!1))};function tF(H,N){JS.call(this);this.J=z.B("span","fitem mbox");
if(H){this.Do=H;this.TC=z.B("label","flabel");this.J.appendChild(this.TC)}var Q=this.cp.bind(this);this.Ph=N;
this.Dw=[];this.dp=[];for(var c=0;c<N.length;c++){var _="mb"+z.GW(),O=z.B("input","");this.Dw.push(O);
O.setAttribute("type","checkbox");O.setAttribute("id",_);O.addEventListener("change",Q,!1);this.J.appendChild(O);
var L=z.B("label","flabel");this.dp.push(L);L.setAttribute("for",_);this.J.appendChild(L)}this.w()}tF.prototype=new JS;
tF.prototype.Q=function(H){for(var N=0;N<this.Ph.length;N++)this.Dw[N].checked=H[N]};tF.prototype.v=function(){var H=[];
for(var N=0;N<this.Ph.length;N++)H[N]=this.Dw[N].checked;return H};tF.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);
this.TC.innerHTML=H+":";for(var N=0;N<this.Ph.length;N++){var Q=this.Ph[N],H=typeof Q=="string"?Q:tg.get(Q);
this.dp[N].textContent=H}};tF.prototype.cp=function(H){this.N(new k(z.E.p,!1))};function tc(H,N,Q,c,_,O){Vh.call(this,H,N,Q,c,_,!1,O);
this.J.appendChild(this.TC);var L=z.B("span","rangecont");this.J.appendChild(L);L.appendChild(this.Nz);
this.J.appendChild(this.IT);this.IT.setAttribute("style","width:3.3em");this.J.appendChild(this.to)}tc.prototype=new Vh;
function $r(H,N,Q){if(H==null)H=!1;if(N==null)N=!1;if(Q==null)Q=!1;JS.call(this);this.TF=new E;this.ew=new E;
this.twy=72;this.hv=72;this.J=z.B("span","");this.fQ=new ry([12,41],0,0,null,0,!1,!0);this.J.appendChild(this.fQ.J);
this.fQ.O(z.E.p,this.pw,this);var c=["px","%"];if(H)c=c.concat(["mm","in"]);this.pb=new J_(null,c);this.J.appendChild(this.pb.J);
this.pb.O(z.E.p,this.pw,this);this.ET=new ry([12,42],0,0,null,0,!1,!0);this.J.appendChild(this.ET.J);
this.ET.O(z.E.p,this.pw,this);var _=new JQ("\u21F5",!1,null,!0);_.O("click",this.trN,this);this.J.appendChild(_.J);
this.hh=new rd("DPI","Px / Inch",5);if(H)this.J.appendChild(this.hh.J);this.hh.O(z.E.p,this.pw,this);
this.hi=new JF("Relative");this.hi.O(z.E.p,this.pw,this);if(Q){this.J.appendChild(z.B("br"));this.J.appendChild(this.hi.J)}this.pm=new JF([12,51]);
this.pm.O(z.E.p,this.pw,this);this.di=new $J("Ratio: ");this.J.appendChild(z.B("br"));if(N){this.J.appendChild(this.pm.J);
this.J.appendChild(this.di.J);this.pm.PT()}}$r.prototype=new JS;$r.prototype.trW=function(H){this.pm.Q(H)};
$r.prototype.w=function(){this.fQ.w();this.ET.w();this.pm.w()};$r.prototype.trN=function(H){var N=this.ew.x;
this.ew.x=this.ew.y;this.ew.y=N;this.cj()};$r.prototype.pw=function(H){if(H.target==this.pb||H.target==this.hi){this.cj();
return}var N=this.TF,Q=this.hv,c=parseFloat(this.fQ.v());if(isNaN(c))c=1;var _=parseFloat(this.ET.v());
if(isNaN(_))_=1;var O=this.pb.v();if(O==1){c=this.TF.x*(c/100);_=this.TF.y*(_/100)}var L=[1,1,25.4/Q,1/Q][O];
c/=L;_/=L;if(this.hi.v()){c+=this.TF.x;_+=this.TF.y}if(H.target==this.hh){var s=parseInt(this.hh.v());
if(O>1){var r=s/Q;c*=r;_*=r}Q=s}if(this.pm.Tv()){if(H&&H.target==this.fQ)_=c*(N.y/N.x);else c=_*(N.x/N.y)}c=Math.max(Math.abs(c),1);
_=Math.max(Math.abs(_),1);this.ew=new E(Math.round(c),Math.round(_));this.hv=Q;this.cj();this.N(new k(z.E.p,!1))};
$r.prototype.tru=function(H){this.pb.Q(H);this.cj()};$r.prototype.Q=function(H,N){this.TF=H.clone();
this.ew=H.clone();this.twy=N;this.hv=N;this.cj()};$r.prototype.cj=function(){var H=this.ew.x,N=this.ew.y,Q=this.hv,c=(H/N).toFixed(3);
while(c.charAt(c.length-1)=="0")c=c.substring(0,c.length-1);if(c.charAt(c.length-1)==".")c=c.substring(0,c.length-1);
this.di.Q("  "+c+" : 1");if(this.hi.v()){H-=this.TF.x;N-=this.TF.y}var _=this.pb.v();if(_==1){H=100*H/this.TF.x;
N=100*N/this.TF.y}H=Math.round(H);N=Math.round(N);var O=[1,1,25.4/Q,1/Q][_];H*=O;N*=O;var L=_>2?2:0;
this.fQ.bU(L);this.ET.bU(L);this.fQ.Q(H);this.ET.Q(N);this.hh.Q(Q)};$r.prototype.v=function(){return this.ew.clone()};
$r.prototype.zi=function(){return this.hv};function VT(){JS.call(this);this.Hg=0;this.twp=[0,0,1,1,100,100];
this.J=z.B("span","fitem");this.hu=new J_(null,[[12,89,0],[12,89,1],[12,89,2]]);this.J.appendChild(this.hu.J);
this.hu.O(z.E.p,this.pw,this);this.fQ=new rd("W",null,3);this.fQ.Q(0);this.J.appendChild(this.fQ.J);
this.fQ.O(z.E.p,this.pw,this);this.ET=new rd("H",null,3);this.ET.Q(0);this.J.appendChild(this.ET.J);
this.ET.O(z.E.p,this.pw,this);this.Q({yC:0,x:0,y:0})}VT.prototype=new JS;VT.prototype.w=function(){this.fQ.$v(tg.get([12,41]).charAt(0));
this.ET.$v(tg.get([12,42]).charAt(0));this.hu.w()};VT.prototype.pw=function(H){if(H.target==this.hu){var N=this.v(),Q=this.twp;
Q[this.Hg*2]=N.x;Q[this.Hg*2+1]=N.y;this.Hg=N.yC;this.Q({yC:N.yC,x:Q[N.yC*2],y:Q[N.yC*2+1]})}this.N(new k(z.E.p,!1))};
VT.prototype.Q=function(H){this.hu.Q(H.yC);this.fQ.Q(H.x);this.ET.Q(H.y);if(H.yC==0){this.fQ.uI();this.ET.uI()}else{this.fQ.qQ();
this.ET.qQ()}};VT.prototype.v=function(){return{yC:this.hu.v(),x:parseInt(this.fQ.v()),y:parseInt(this.ET.v())}};
function $J(H,N){JS.call(this);this.Do=H;this.J=z.B("span","labelitem fitem"+(N?" spread":""));this.w()}$J.prototype=new JS;
$J.prototype.Q=function(H){this.J.textContent=H};$J.prototype.v=function(){return this.J.textContent};
$J.prototype.qQ=function(){this.J.removeAttribute("disabled")};$J.prototype.uI=function(){this.J.setAttribute("disabled","")};
$J.prototype.$v=function(H){this.J.textContent=H};$J.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);
this.J.textContent=H};$J.prototype.BP=function(){return this.Do};function VY(H){JS.call(this);this.J=z.B("span","");
this.dX=H;this.K$=new tc("Off X",-100,100,H?"%":"px",0,!1);this.Yt=new tc("Off Y",-100,100,H?"%":"px",0,!1);
this.K$.O(z.E.p,this.pw,this);this.Yt.O(z.E.p,this.pw,this);this.J.appendChild(this.K$.J);this.J.appendChild(this.Yt.J)}VY.prototype=new JS;
VY.prototype.w=function(){this.K$.w();this.Yt.w()};VY.prototype.pw=function(H){this.N(new k(z.E.p,!1))};
VY.prototype.tHP=function(H){this.K$.Q(H.x);this.Yt.Q(H.y)};VY.prototype.tHv=function(){return new E(this.K$.v(),this.Yt.v())};
VY.prototype.Q=function(H){var N=H.Hrzn.v,Q=H.Vrtc.v;if(this.dX){N=N.val;Q=Q.val}this.K$.Q(N);this.Yt.Q(Q)};
VY.prototype.v=function(){var H=this.K$.v(),N=this.Yt.v();if(this.dX)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:H}},Vrtc:{t:"UntF",v:{type:"#Prc",val:N}}};
else return{classID:"Pnt",Hrzn:{v:H,t:"doub"},Vrtc:{v:N,t:"doub"}}};function ry(H,N,Q,c,_,O,L){Vh.call(this,H,N,Q,c,_,!0,O);
z.wj(this.J,"rangedropinput");this.J.appendChild(this.TC);this.IT.setAttribute("style","width:3.3em");
this.J.appendChild(this.IT);this.dQ=z.B("span","rangecont");this.dQ.appendChild(this.Nz);this.Hh=z.B("button");
this.Hh.innerHTML="\u25BC";this.Hh.addEventListener("click",this.tHE.bind(this),!1);if(L!=!0)this.J.appendChild(this.Hh);
this.VV=new JS;this.VV.J=this.dQ}ry.prototype=new Vh;ry.prototype.tHE=function(H){var N=this.J.getBoundingClientRect();
this.Nz.setAttribute("style","width:"+N.width+"px;");var Q=new k(z.E.Y,!0);Q.data={X:z.m.Fe,AB:this.VV,x:N.left,y:N.top+N.height};
this.N(Q)};function HZ(){JS.call(this);this.J=z.B("span","fitem strokebutton");this.dO=[{strokeStyleLineDashSet:{t:"VlLs",v:[]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:4}},{t:"UntF",v:{type:"#Nne",val:2}}]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleRoundCap"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:0}},{t:"UntF",v:{type:"#Nne",val:2}}]}}];
this.Hp=null;this.hO=z.B("button");this.J.appendChild(this.hO);this.hO.addEventListener("click",this.Fu.bind(this),!1);
var H=z.B("canvas","gsicon");z.UZ(H,40,16);this._m=H.getContext("2d");this.hO.appendChild(H);var N=z.B("span");
N.textContent=" \u25BC";this.hO.appendChild(N);this.aC=new JS;this.aC.J=z.B("div","floatcont form");
this.aC.J.setAttribute("style","width: 12em;");this.aC.parent=this;this.UT=[new J_([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new J_("Caps",["Butt","Round","Square"]),new J_("Corners",["Miter","Round","Bevel"]),new rd("Gaps")];
for(var Q=0;Q<this.dO.length;Q++)this.UT.push(new JQ(["Full","Dash","Dots"][Q]));for(var Q=0;Q<this.UT.length;
Q++){var c=this.UT[Q];this.aC.J.appendChild(c.J);var _=Q<4?z.E.p:"click";c.O(_,this.pw,this);if(Q==3){this.aC.J.appendChild(z.B("br"))}}}HZ.prototype=new JS;
HZ.prototype.Fu=function(H){var N=this.hO.getBoundingClientRect(),Q=new k(z.E.Y,!0);Q.data={X:z.m.Fe,AB:this.aC,x:N.left,y:N.top+N.height+4};
this.N(Q)};HZ.prototype.pw=function(H){var N=this.Hp,VG=this.UT,Q=VG.indexOf(H.target),c=B.nO.e$[VG[0].v()],_=B.nO.Ky[VG[1].v()],O=B.nO.join[VG[2].v()];
N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=c;N.strokeStyleLineCapType.v.strokeStyleLineCapType=_;
N.strokeStyleLineJoinType.v.strokeStyleLineJoinType=O;var L=N.strokeStyleLineDashSet.v=[],s=VG[3].v().split(" ");
for(var r=0;r<s.length;r++)L.push({t:"UntF",v:{type:"#Nne",val:parseInt(s[r])}});if(H.type=="click"){var u=JSON.parse(JSON.stringify(this.dO[Q-4]));
for(var V in u)N[V]=u[V]}this.N(new k(z.E.p,!1))};HZ.prototype.w=function(){for(var H=0;H<this.UT.length;
H++)this.UT[H].w()};HZ.prototype.Q=function(H){this.Hp=JSON.parse(JSON.stringify(H));var N=H.strokeStyleLineAlignment.v.strokeStyleLineAlignment,Q=H.strokeStyleLineCapType.v.strokeStyleLineCapType,c=H.strokeStyleLineJoinType.v.strokeStyleLineJoinType,_=[],O=H.strokeStyleLineDashSet.v;
for(var L=0;L<O.length;L++)_.push(O[L].v.val);var VG=this.UT;VG[0].Q(B.nO.e$.indexOf(N));VG[1].Q(B.nO.Ky.indexOf(Q));
VG[2].Q(B.nO.join.indexOf(c));VG[3].Q(_.join(" "));var s=this._m,r=s.canvas.width,u=s.canvas.height,V=Math.min(5,H.strokeStyleLineWidth.v.val);
for(var C=0;C<_.length;C++)_[C]*=V;s.clearRect(0,0,r,u);s.setLineDash(_);s.lineCap=["butt","round","square"][B.nO.Ky.indexOf(Q)];
s.lineJoin=["miter","round","bevel"][B.nO.join.indexOf(c)];s.lineWidth=V;s.beginPath();s.moveTo(0,u/2);
s.lineTo(r*2,u/2);s.stroke()};HZ.prototype.v=function(){return JSON.parse(JSON.stringify(this.Hp))};
function H$(H){Vu.call(this,H,!1,"contourbutton",34,16,JG.Sl);this.Gb=new rd([12,86],null,16);this.Gb.O("input",this.zL,this);
this.aC.J.appendChild(this.Gb.J);this.HX=null;this.po="";this.VP=null}H$.prototype=new Vu;H$.prototype.w=function(){Vu.prototype.w.call(this);
this.Gb.w()};H$.prototype.pS=function(H){this.Q(this.HX[H.target.v()]);this.N(new k(z.E.p))};H$.prototype.zL=function(H){this.po=this.Gb.v().toLowerCase();
this.Bg()};H$.prototype._I=function(){if(!this.ia)return;var H=this.TM,N=Math.floor(38*z.h()),Q=Math.floor(38*z.h());
this.VP=[];for(var c=0;c<H.length;c++)this.VP.push(H$.Ba(H[c],N,Q));this.Bg();this.ia=!1};H$.prototype.Bg=function(){var H=Math.floor(38*z.h()),N=Math.floor(38*z.h());
this.HX=[];var Q=[],c=[],_=this.TM;for(var O=0;O<_.length;O++){if(_[O].Ff.toLowerCase().indexOf(this.po)==-1)continue;
this.HX.push(_[O]);Q.push(this.VP[O]);c.push(_[O].Ff)}this.ut.mx(Q,c,H,N)};H$.prototype.Q=function(H){this.M$=H$.clone(H);
this.fC()};H$.prototype.fC=function(){var H=Math.floor(23*z.h()),N=Math.floor(23*z.h()),Q=H$.Ba(this.M$,H,N);
this.Fx.setAttribute("src",Q);z.gx(this.Fx,H,N)};H$.prototype.v=function(){return H$.clone(this.M$)};
H$.clone=function(H){return{Ff:H.Ff,VI:H.VI,L:R.hT.Cx(H.L),SZ:H.SZ.clone()}};H$.ql=null;H$.zQ=null;H$.Ba=function(H,N,Q){var c=R.hT.Cx(H.L),_=H.SZ,O=Math.min(N/_.$,Q/_.z)*.9,L=new Jo;
L.translate(-.5,-.5);L.scale(.95,.95);L.translate(.5,.5);L.scale(O*_.$,O*_.z);$.A.Nj(c,L);var s=new R.hT;
s.L=c;var r=s.Ab();r.rect.x=Math.floor((N-r.rect.$)/2);r.rect.y=Math.floor((Q-r.rect.z)/2);var u=$.I(r.rect.f()*4);
$.Mw(u,4278190080);$.UK(r.channel);$.kw(r.channel,u,0);$.kw(r.channel,u,1);$.kw(r.channel,u,2);var V=H$;
if(V.ql==null)V.ql=z.B("canvas");var C=V.ql,T=C.getContext("2d");if(C.width!=N||C.height!=Q||V.zQ==null){C.width=N;
C.height=Q;V.zQ=T.createImageData(N,Q)}var e=V.zQ;$.Mw(e.data,4294967295);$.Pg(u,r.rect,e.data,new p(0,0,N,Q));
T.putImageData(e,0,0);return C.toDataURL()};function tO(){JS.call(this);this.oE=null;this.J=z.B("span","fitem");
this.xo=new te([14,9]);this.HB=new ry([12,14],0,150,"pt",1,!0);this.ws=new HZ;this.xY=[this.xo,this.HB,this.ws];
for(var H=0;H<this.xY.length;H++){var N=this.xY[H];this.J.appendChild(N.J);N.parent=this;N.O(z.E.p,this.pw,this)}}tO.prototype=new JS;
tO.prototype.w=function(){for(var H=0;H<this.xY.length;H++)this.xY[H].w()};tO.prototype.qB=function(H,N){this.xo.qB(H,N)};
tO.prototype.pw=function(H){var N=this.oE,Q=this.xo.v(),c=Q.uV;N.strokeEnabled.v=c!=0;if(c!=0){N.strokeStyleContent.v=Q.uL;
Q.uL.classID=B.nO.aw[c-1]}N.strokeStyleLineWidth.v.val=this.HB.v();if(H.target==this.ws)N=this.ws.v();
this.oE=N;this.N(new k(z.E.p,!1))};tO.prototype.Q=function(H,N,Q){this.oE=JSON.parse(JSON.stringify(N));
var c=N.strokeEnabled.v,_=N.strokeStyleContent.v,O=c?{uV:1+B.nO.aw.indexOf(_.classID),uL:_}:{uV:0};this.xo.Q(H,O,Q);
this.HB.Q(N.strokeStyleLineWidth.v.val);this.ws.Q(N)};tO.prototype.v=function(){return JSON.parse(JSON.stringify(this.oE))};
function tk(H,N){JS.call(this);this.J=z.B("span","fitem");this.hB=["front","union","difference","intersection","xor"];
this.tyI=[[18,0],[18,1],[18,2],[18,3],[18,4]];this.Aj=[];this.Hm=0;for(var Q=0;Q<this.hB.length;Q++){var c=new JQ("<img src=\""+PIMG["set/"+this.hB[Q]]+"\" class=\"autoscale gsicon\" />",!1);
c.O("click",this.tHo,this);this.J.appendChild(c.J);this.Aj.push(c)}this.Aj[0].PT()}tk.prototype=new JS;
tk.prototype.v=function(){return this.hB[this.Hm]};tk.prototype.Q=function(H){this.Hm=this.hB.indexOf(H);
for(var N=0;N<this.Aj.length;N++)this.Aj[N].vl();this.Aj[this.Hm].PT()};tk.prototype.tHo=function(H){this.Q(this.hB[this.Aj.indexOf(H.currentTarget)]);
this.N(new k(z.E.p,!1))};tk.prototype.w=function(){};function rd(H,N,Q){JS.call(this);var c=z.GW();this.J=z.B("span","fitem tinput");
if(H){this.Do=H;this.TC=z.B("label","flabel");this.J.appendChild(this.TC);this.TC.setAttribute("for",c);
this.w()}this.IT=z.B("input","");this.IT.setAttribute("type","text");this.IT.setAttribute("id",c);if(Q)this.IT.setAttribute("style","width:"+Q+"em");
this.J.appendChild(this.IT);if(N){this.to=z.B("span","");this.to.textContent=N;this.J.appendChild(this.to)}this.IT.addEventListener("change",this.cp.bind(this),!1);
this.IT.addEventListener("input",this.twr.bind(this),!1)}rd.prototype=new JS;rd.prototype.w=function(){if(this.Do==null)return;
var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);this.TC.textContent=H+":"};rd.prototype.$v=function(H){this.TC.textContent=H};
rd.prototype.Q=function(H){this.IT.value=H==null?"":H};rd.prototype.v=function(){return this.IT.value};
rd.prototype.yW=function(){this.IT.select();this.IT.focus()};rd.prototype.cp=function(H){this.N(new k(z.E.p,!1))};
rd.prototype.twr=function(H){this.N(new k("input",!1))};function Jb(H,N,Q,c,_,O){Vh.call(this,H,N,Q,c,_,!0,O);
z.wj(this.J,"trangeinput");this.J.appendChild(this.TC);this.J.appendChild(this.IT);var L=z.B("span","rangecont");
this.J.appendChild(L);L.appendChild(this.Nz);this.Nz.setAttribute("style","width:97%;")}Jb.prototype=new Vh;
function $t(){JS.call(this);this.Ae={GS:20,Gh:!0};this.J=z.B("span","");this.p_=new ry([12,24],0,255);
this.p_.Q(10);this.J.appendChild(this.p_.J);this.p_.O(z.E.p,this.pw,this);this.hZ=new JF([12,25]);this.hZ.PT();
this.J.appendChild(this.hZ.J);this.hZ.O(z.E.p,this.pw,this)}$t.prototype=new JS;$t.prototype.pw=function(){var H=parseInt(this.p_.v());
H=Math.max(0,Math.min(255,H));this.p_.Q(H);this.Ae.GS=H;this.Ae.Gh=this.hZ.Tv();this.N(new k(z.E.p,!1))};
$t.prototype.v=function(){return JSON.parse(JSON.stringify(this.Ae))};$t.prototype.w=function(){this.p_.w();
this.hZ.w()};function tj(H,N){JS.call(this);if(N==null)N=!1;this.VP=[];this.WT=0;this.WO=[];this.ln=[];
for(var Q in $.UB.type){if(Q=="warpCustom"&&!N)continue;this.WO.push(Q);this.ln.push($.UB.type[Q])}this.J=z.B("span","fitem warpbutton");
this.aC=new JS;this.aC.J=z.B("div","floatcont");this.aC.J.setAttribute("style","width: 10em;");if(H){this.TC=z.B("label","flabel");
this.TC.innerHTML=H;this.J.appendChild(this.TC)}this.X=z.B("button");this.J.appendChild(this.X);this.X.addEventListener("click",this.Fu.bind(this),!1);
this.xm=new Hq(!0);this.aC.J.appendChild(this.xm.J);this.xm.O(z.E.p,this.twC,this);this.w()}tj.prototype=new JS;
tj.prototype.$v=function(H){this.TC.textContent=H};tj.prototype.w=function(){this.VP=[];var H=Math.floor(114*z.h()),N=Math.floor(23*z.h()),Q=z.B("canvas","");
Q.width=H;Q.height=N;var c=Q.getContext("2d");c.lineWidth=1;c.strokeStyle="#000000";c.font=Math.floor(13*z.h())+"px sans-serif";
var _=Math.floor(16*z.h()),O=new p(0,0,_,_);for(var L=0;L<this.WO.length;L++){var s=this.WO[L];c.clearRect(0,0,Q.width,Q.height);
var r=$.UB.UB(O,s,!0,.3,0,0),u=$.K.DK(O);u.lX.push("M","L","M","L");u.Z.push(0,_/2,_,_/2);u.Z.push(_/2,0,_/2,_);
u=$.K.kX(u);u=$.K.kb(u,_/5);$.nH.apply(r,u.Z,O);$.K.UC(u.Z,new Jo(1,0,0,1,Math.floor(8*z.h())+.5,Math.floor(3*z.h())+.5),u.Z);
c.beginPath();Typr.U.pathToContext({cmds:u.lX,crds:u.Z},c);c.stroke();c.fillText(tg.get($.UB.type[s]),Math.floor(40*z.h()),Math.floor(16*z.h()));
this.VP.push(Q.toDataURL())}this.xm.mx(this.VP,null,H,N);this.fC()};tj.prototype.Fu=function(H){var N=this.X.getBoundingClientRect(),Q=new k(z.E.Y,!0);
Q.data={X:z.m.Fe,AB:this.aC,x:N.left,y:N.top+N.height+4};this.N(Q)};tj.prototype.twC=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.Il,AB:this.aC};this.N(N);this.WT=H.target.v();this.fC();this.N(new k(z.E.p))};tj.prototype.fC=function(){this.xm.Du(this.WT);
this.X.innerHTML="<img src=\""+this.VP[this.WT]+"\" class=\"gsicon\" />";var H=Math.floor(114*z.h()),N=Math.floor(23*z.h());
z.gx(this.X.firstChild,H,N)};tj.prototype.v=function(){return this.WO[this.WT]};tj.prototype.Q=function(H){this.WT=this.WO.indexOf(H);
this.fC()};function Vx(H,N,Q){JS.call(this);if(H==null)H=!1;if(N==null)N=!1;if(Q==null)Q=!1;this.twN=N;
this.UB=null;this.Me=new tj("Style:",Q);this.Me.parent=this;this.Me.O(z.E.p,this.Id,this);this.VG=new J_("Orientation:",["Horizontal","Vertical"]);
this.VG.O(z.E.p,this.Id,this);var c=H?ry:Jb;this.$j=new c("Bend:",-100,100,"%");this.$N=new c("Horizontal Distortion:",-100,100,"%");
this.Jf=new c("Vertical Distortion:",-100,100,"%");this.$j.parent=this.$N.parent=this.Jf.parent=this;
this.$j.O(z.E.p,this.Id,this);this.$N.O(z.E.p,this.Id,this);this.Jf.O(z.E.p,this.Id,this)}Vx.prototype=new JS;
Vx.prototype.w=function(){var H=this.twN?1:100;this.Me.$v(tg.get([12,22])+":");this.Me.w();this.VG.$v(tg.get([22,0])+":");
this.VG.ea([tg.get([22,4,0]),tg.get([22,4,1])]);this.$j.$v(tg.get([22,1])+":");this.$N.$v(tg.get([22,2]).substring(0,H)+":");
this.Jf.$v(tg.get([22,3]).substring(0,H)+":")};Vx.prototype.Id=function(){var H=this.UB,N=this.Me.v(),Q=H.warpStyle.v.warpStyle;
if(N=="warpCustom")$.UB.P$($.UB.cq(H),H);else delete H.customEnvelopeWarp;H.warpStyle.v.warpStyle=this.Me.v();
H.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.VG.v()];H.warpValue.v=this.$j.v();H.warpPerspective.v=this.$N.v();
H.warpPerspectiveOther.v=this.Jf.v();if(N=="warpNone"||N=="warpCustom"){H.warpValue.v=0;H.warpPerspective.v=0;
H.warpPerspectiveOther.v=0}else if(Q=="warpNone"||Q=="warpCustom")H.warpValue.v=50;this.N(new k(z.E.p,!1));
this.Q(H)};Vx.prototype.v=function(H){return JSON.parse(JSON.stringify(this.UB))};Vx.prototype.Q=function(H){this.UB=JSON.parse(JSON.stringify(H));
this.Me.Q(H.warpStyle.v.warpStyle);this.VG.Q(H.warpRotate.v.Ornt=="Hrzn"?0:1);this.$j.Q(H.warpValue.v);
this.$N.Q(H.warpPerspective.v);this.Jf.Q(H.warpPerspectiveOther.v);var N=H.warpStyle.v.warpStyle,Q=N=="warpNone"||N=="warpCustom",c=[this.VG,this.$j,this.$N,this.Jf];
for(var _=0;_<c.length;_++)if(Q)c[_].uI();else c[_].qQ()};function $$(H){JS.call(this);this.J=z.B("div");
this.Hu=H;this.WY=!1;this.Md=new E(0,0);this.oH="grab; cursor:-moz-grab; cursor:-webkit-grab;";this.J.setAttribute("style","cursor:"+this.oH);
this.lZ=z.B("canvas","canv");this.J.appendChild(this.lZ);this._m=this.lZ.getContext("2d");this.MG=null;
this.dU=null;this.wV=null;this.rj=0;this.twF=this.Bq.bind(this);this.dn=null;this.ck=null;this.n=new Vf({$:1,z:1});
this.i$=null;this.yo=null;this.twm=this.nZ.bind(this);this.dl=this.fI.bind(this);this.df=this.Ub.bind(this);
this.tws=this.Dg.bind(this);this.qr=0;this.Mx=null;this.Bh(this.lZ);this.zj(this)}$$.prototype=new JS;
$$.prototype.FJ=function(H){var N=this.oH;this.WY=H.l(K.JW);if(this.WY)N="grab; cursor:-moz-grab; cursor:-webkit-grab;";
this.J.setAttribute("style","cursor:"+N);if(H.l(K.sf)){var Q=0;if(H.l(K.Ve))Q=1;if(H.l(K.fn))Q=-1;if(Q!=0){this.BW(new E(this.lZ.width/2,this.lZ.height/2),Q==1)}}};
$$.prototype.yp=function(H){this.oH=H;this.J.setAttribute("style","cursor:"+H)};$$.prototype.Bh=function(H){z.oA(H,this.twm);
z.FW(H);H.addEventListener("wheel",this.tws,!1)};$$.prototype.zj=function(H){H.O("viewchange",this.twg,this)};
$$.prototype.twg=function(H){var N=this.n.s,Q=H.currentTarget.yi();this.n.s=Q.s;this.n.M=Q.M.clone();
if(N!=Q.s)this.zb();this.Uz()};$$.prototype.yi=function(){return{s:this.n.s,M:this.n.M}};$$.prototype.Q=function(H,N){var Q=H[0].MD;
if(this.dU!=null&&this.dU[0].MD.v$(Q)){}else{this.n.Ti={$:Q.$,z:Q.z};this.n.M=new E(0,0);this.n.s=1}this.dU=H;
this.zb();this.yY();this.rj=0;this.Bq();this.ck=N};$$.prototype.Dg=function(H){H.preventDefault();if(H.deltaY==0||Date.now()-this.qr<100)return;
var N=z.qF(H);N.x=z.h()*N.x;N.y=z.h()*N.y;this.qr=Date.now();this.BW(N,H.deltaY<0)};$$.prototype.BW=function(H,N){l.He.Qr(this.n,H,N);
this.zb();this.N(new k("viewchange"));this.N(new k("zoom"))};$$.prototype.zb=function(){this.wV=[];var H=this.n.s;
for(var N=0;N<this.dU.length;N++){var Q=this.dU[N],c=new Uint8Array(Q.data),_;if(H>=1)_={nn:c,rect:Q.MD};
else _=$.Yp(c,Q.MD,H);this.wV.push(_)}};$$.prototype.yY=function(){clearTimeout(this.dn)};$$.prototype.Uz=function(){if(this.dU==null)return;
var H=this.dU[this.rj],N=this.wV[this.rj],Q=this.n,c,_;if(Q.s<=1){var O=N.rect.clone();O.x=Q.M.x+Math.floor((Q.C.$-N.rect.$)/2);
O.y=Q.M.y+Math.floor((Q.C.z-N.rect.z)/2);c=N.nn;_=O}else{var L=Q.Yr(),s=Q.Pi(),r=new p(0,0,L.$*Q.s,L.z*Q.s);
r.x=L.x*Q.s+s.x;r.y=L.y*Q.s+s.y;if(Q.wY==null||Q.wY.length!=L.f()*4){Q.wY=$.I(L.f()*4)}if(Q.Ot==null||Q.Ot.length!=r.f()*4){Q.Ot=$.I(r.f()*4)}$.Mw(Q.wY,0);
$.Pg(N.nn,N.rect,Q.wY,L);$.scale.ke(Q.wY,L.$,L.z,Q.Ot,r.$,r.z,Q.s);c=Q.Ot;_=r}var s=Q.Pi();$.by(this.MG.data,Q.C.$,Q.C.z,8,-s.x,-s.y);
$.a.MR("norm",c,_,this.MG.data,Q.C,Q.C,1);this._m.setTransform(1,0,0,1,0,0);this._m.putImageData(this.MG,0,0);
var u=this.ck;if(u){this._m.fillStyle="#00ff00";this._m.lineWidth=1;var V=this.dU[0].MD,C=Q.s*V.$/u.JX;
this._m.beginPath();this._m.strokeStyle="#ff6600";for(var T=0;T<u.ht;T++)for(var e=0;e<u.JX;e++){var t=T*u.JX+e<<1,Y=(e+u.map[t])*C+s.x,A=(T+u.map[t+1])*C+s.y;
if(e!=u.JX-1){this._m.moveTo(Y,A);var G=(e+1+u.map[t+2])*C+s.x,j=(T+u.map[t+3])*C+s.y;this._m.lineTo(G,j)}if(T!=u.ht-1){this._m.moveTo(Y,A);
var G=(e+u.map[t+u.JX*2])*C+s.x,j=(T+1+u.map[t+u.JX*2+1])*C+s.y;this._m.lineTo(G,j)}}this._m.stroke()}if(Q.s<1)s=_;
var e=s.x,T=s.y,d=s.$,w=s.z;this._m.clearRect(e,T,-1e3,w);this._m.clearRect(e+d,T,1e3,w);this._m.clearRect(e-1e3,T,d+2e3,-1e3);
this._m.clearRect(e-1e3,T+w,d+2e3,1e3);this._m.setTransform(1,0,0,1,0,Q.C.z);this._m.scale(z.h(),z.h());
this._m.fillStyle="rgba(0,0,0,1)";this._m.fillRect(0,0,50,-18);this._m.font=11+"px monospace";this._m.fillStyle="rgba(255,255,255,1)";
var f=Q.s*100;if(f<100)f=f.toFixed(2);f=f+"%";var b=this._m.measureText(f).width;this._m.fillText(f,(50-b)/2,-6)};
$$.prototype.Bq=function(){var H=this.dU,N=H.length,Q=this.dU[this.rj];this.Uz();if(N!=1&&H[(this.rj+1)%N].MD.v$(Q.MD)){var c=Q.pA?parseInt(Q.pA.split(",").pop()):30;
if(c==0)c=16;this.dn=setTimeout(this.twF,c)}this.rj=(this.rj+1)%N};$$.prototype.Tc=function(H,N){var Q=Math.floor(H*z.h()),c=Math.floor(N*z.h());
this.n.C=new p(0,0,Q,c);this.lZ.width=Q;this.lZ.height=c;this.lZ.setAttribute("style","width:"+Q/z.h()+"px; height:"+c/z.h()+"px; display:block;");
this.MG=this._m.createImageData(Q,c);this.Uz()};$$.prototype.nZ=function(H){this.Mx=H.target;z.ny(window,this.dl);
z.nL(window,this.df);this.i$=z.qF(H,this.lZ);this.i$.x*=z.h();this.i$.y*=z.h();this.Md=this.i$;this.yo=this.n.M.clone();
if(this.Hu&&this.Mx==this.lZ&&!this.WY)this.N(new k("mousedown"))};$$.prototype.fI=function(H){var N=this.n,Q=this.dU[this.rj].MD.clone();
Q.$*=N.s;Q.z*=N.s;var c=z.qF(H,this.lZ);c.x*=z.h();c.y*=z.h();this.Md=c;if(this.Hu&&this.Mx==this.lZ&&!this.WY)this.N(new k("mousemove"));
else if(!N.C.pk(Q)){var _=c.x-this.i$.x,O=c.y-this.i$.y;N.M.x=this.yo.x+Math.round(_);N.M.y=this.yo.y+Math.round(O);
this.N(new k("viewchange"))}};$$.prototype.Ub=function(H){z.vD(window,this.dl);z.cQ(window,this.df);
if(H.detail>1){this.n.s=1;this.n.M.kR(0,0);this.Uz()}if(this.Hu&&this.Mx==this.lZ&&!this.WY)this.N(new k("mouseup"))};
$$.prototype.cZ=function(){return this.n.kp(this.Md.x,this.Md.y)};function Vj(){JS.call(this);this.J=z.B("span","fitem");
this.$$=!1;this.wy=new JQ("No",!1,"Cancel");this.Di=new JQ("Yes",!1,"Confirm");this.J.appendChild(this.wy.J);
this.J.appendChild(this.Di.J);this.wy.O("click",this.ki,this);this.Di.O("click",this.ki,this);this.w()}Vj.prototype=new JS;
Vj.prototype.w=function(){this.wy.$v(z.Ur("cross",null,"autoscale"));this.Di.$v(z.Ur("checkmark",null,"autoscale"))};
Vj.prototype.ki=function(H){this.$$=H.target==this.Di;this.N(new UIEvent("click"))};Vj.prototype.v=function(){return this.$$};
function JE(){JS.call(this);this.J=z.B("div")}JE.prototype=new JS;JE.prototype.fi=function(){return!1};
JE.prototype.Tc=function(H,N){};JE.prototype.Q=function(H){};JE.prototype.yb=function(H){};JE.prototype.Id=function(H){this.N(new k(z.E.p))};
JE.prototype.w=function(){};JE.prototype.qB=function(H,N){};JE.blnc=function(){JE.call(this);var H=this.J;
this.$$=null;this.si=new J_([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.si.O(z.E.p,this.k_,this);H.appendChild(this.si.J);
this.fY=[];for(var N=0;N<3;N++){var Q=new Jb(["Red","Green","Blue"][N],-100,100);Q.O(z.E.p,this.Id,this);
this.fY.push(Q);H.appendChild(Q.J)}this.gy=new JF("Preserve Luminosity");this.gy.O(z.E.p,this.Id,this);
H.appendChild(this.gy.J)};JE.blnc.prototype=new JE;JE.blnc.prototype.w=function(){this.si.w()};JE.blnc.prototype.Q=function(H){this.$$=JSON.parse(JSON.stringify(H));
this.k_()};JE.blnc.prototype.v=function(H){var N=this.$$.fY[this.si.v()];for(var Q=0;Q<3;Q++)N[Q]=this.fY[Q].v();
this.$$.If=this.gy.v();return JSON.parse(JSON.stringify(this.$$))};JE.blnc.prototype.k_=function(H){var N=this.$$.fY[this.si.v()];
for(var Q=0;Q<3;Q++)this.fY[Q].Q(N[Q]);this.gy.Q(this.$$.If)};JE.brit=function(){JE.call(this);var H=this.J;
this.qT=new Jb([12,2],-150,150,"");this.qT.O(z.E.p,this.Id,this);H.appendChild(this.qT.J);this.qg=new Jb([12,3],-100,100,"");
this.qg.O(z.E.p,this.Id,this);H.appendChild(this.qg.J);this.Ma=new JF("Old Way");this.Ma.O(z.E.p,this.Id,this);
H.appendChild(this.Ma.J)};JE.brit.prototype=new JE;JE.brit.prototype.w=function(){this.qT.w();this.qg.w()};
JE.brit.prototype.Q=function(H){this.qT.Q(H[0]);this.qg.Q(H[1]);this.Ma.Q(H[2])};JE.brit.prototype.v=function(H){return[this.qT.v(),this.qg.v(),this.Ma.v()]};
JE.curv=function(){JE.call(this);this.value=null;var H=this.J;this.bx=new J_("...",["RGB","Red","Green","Blue"]);
this.bx.O(z.E.p,this.Uz,this);H.appendChild(this.bx.J);this.hu=new J_(null,["Spline","Sketch"]);this.hu.O(z.E.p,this.twq,this);
H.appendChild(this.hu.J);var N=new JQ("Reset");N.O("click",this.Bi,this);H.appendChild(N.J);this.uW=new tS;
this.uW.O(z.E.p,this.zz,this);H.appendChild(this.uW.J)};JE.curv.prototype=new JE;JE.curv.prototype.w=function(){this.bx.$v(tg.get([12,4])+": ")};
JE.curv.prototype.Bi=function(H){var N=this.hu.v();this.value=[];if(N==0)for(var Q=0;Q<4;Q++){this.value.push([$.kv.oS(0,0,!0),$.kv.oS(255,255,!0)])}else for(var Q=0;
Q<4;Q++){var c=[];this.value.push(c);for(var _=0;_<256;_++)c.push(_)}this.Uz();this.Id()};JE.curv.prototype.twq=function(H){var N=this.value[0].length==256?1:0,Q=this.hu.v();
if(N==Q)return;this.Bi()};JE.curv.prototype.zz=function(){this.value[this.bx.v()]=this.uW.v();this.Id()};
JE.curv.prototype.Uz=function(){var H=this.value[0].length==256?1:0;this.hu.Q(H);this.uW.Q(this.value[this.bx.v()])};
JE.curv.prototype.Q=function(H){this.value=H;this.Uz()};JE.curv.prototype.v=function(H){return this.value};
JE.expA=function(){JE.call(this);var H=this.J;this.qv=new Jb([12,5],-20,20,null,3);this.qv.O(z.E.p,this.Id,this);
H.appendChild(this.qv.J);this.qp=new Jb([12,6],-.5,.5,null,3);this.qp.O(z.E.p,this.Id,this);H.appendChild(this.qp.J);
this.qN=new Jb([12,7],.01,6.99,null,3);this.qN.O(z.E.p,this.Id,this);H.appendChild(this.qN.J)};JE.expA.prototype=new JE;
JE.expA.prototype.w=function(){this.qv.w();this.qp.w();this.qN.w()};JE.expA.prototype.Q=function(H){this.qv.Q(H[0]);
this.qp.Q(H[1]);this.qN.Q(H[2])};JE.expA.prototype.v=function(H){return[this.qv.v(),this.qp.v(),this.qN.v()]};
JE.grdm=function(){JE.call(this);var H=this.J;this.YA=new J$(!0,null,!0);H.appendChild(this.YA.J);this.YA.O(z.E.p,this.Id,this);
this.YA.parent=this;this.pT=new JF([12,23]);H.appendChild(this.pT.J);this.pT.O(z.E.p,this.Id,this)};
JE.grdm.prototype=new JE;JE.grdm.prototype.qB=function(H,N){this.YA.zE(H.AF,H.ze);if(N==JG.nc||N==JG.wB)this.YA.aA(H.MS)};
JE.grdm.prototype.w=function(){this.pT.w()};JE.grdm.prototype.Q=function(H){this.YA.Q(H[0]);this.pT.Q(H[1])};
JE.grdm.prototype.v=function(H){return[this.YA.v(),this.pT.v()]};JE.selc=function(){JE.call(this);var H=this.J;
this.gP=[];this.gU=null;this.si=new J_("Colors","Reds,Yellows,Greens,Cyans,Blues,Magentas,Whites,Neutrals,Blacks".split(","));
this.si.O(z.E.p,this.lN,this);H.appendChild(this.si.J);for(var N=0;N<4;N++){var Q=new Jb(["Cyan","Magenta","Yellow","Black"][N],-100,100,"%");
Q.O(z.E.p,this.lN,this);this.gP.push(Q);H.appendChild(Q.J)}this.pP=new JF("Absolute");H.appendChild(this.pP.J);
this.pP.O(z.E.p,this.lN,this)};JE.selc.prototype=new JE;JE.selc.prototype.w=function(){this.si.w();this.pP.w();
for(var H=0;H<4;H++)this.gP[H].w()};JE.selc.prototype.Q=function(H){this.gU=JSON.parse(JSON.stringify(H));
this.k_()};JE.selc.prototype.v=function(H){return JSON.parse(JSON.stringify(this.gU))};JE.selc.prototype.lN=function(H){if(H.target!=this.si){var N=this.gU,Q=N.uF[this.si.v()+1];
for(var c=0;c<4;c++)Q[c]=this.gP[c].v();N.ir=this.pP.v()}this.k_();this.Id()};JE.selc.prototype.k_=function(){var H=this.gU,N=H.uF[this.si.v()+1];
for(var Q=0;Q<4;Q++)this.gP[Q].Q(N[Q]);this.pP.Q(H.ir)};JE.blwh=function(){JE.call(this);var H=this.J;
this.Mp=new JF([12,11]);this.Mp.O(z.E.p,this.Id,this);H.appendChild(this.Mp.J);this.nx=new VW;this.nx.parent=this;
this.nx.O(z.E.p,this.Id,this);H.appendChild(this.nx.J);this.wC=[];var N="Red Yellow Green Cyan Blue Magenta".split(" ");
for(var Q=0;Q<6;Q++){var c=new Jb(N[Q]+"s",-200,300);c.O(z.E.p,this.Id,this);this.wC.push(c);H.appendChild(c.J)}};
JE.blwh.prototype=new JE;JE.blwh.prototype.Q=function(H){for(var N=0;N<6;N++)this.wC[N].Q(H[N]);this.Mp.Q(H[6]);
this.nx.Q(H[7])};JE.blwh.prototype.v=function(){var H=[];for(var N=0;N<6;N++)H.push(this.wC[N].v());
H.push(this.Mp.v());H.push(this.nx.v());return H};JE.hue2=function(){JE.call(this);this.value=null;var H=this.J;
this.si=new J_([12,12],"Master Red Yellow Green Cyan Blue Magenta".split(" "));this.si.O(z.E.p,this.Uz,this);
H.appendChild(this.si.J);this.PW=new Jb([12,8],-180,180);this.PW.O(z.E.p,this.zF,this);H.appendChild(this.PW.J);
this.GY=new Jb([12,9],-100,100);this.GY.O(z.E.p,this.zF,this);H.appendChild(this.GY.J);this.pd=new Jb([12,10],-100,100);
this.pd.O(z.E.p,this.zF,this);H.appendChild(this.pd.J);this.pE=new JF([12,11]);this.pE.O(z.E.p,this.twK,this);
H.appendChild(this.pE.J);this.dj=new $J("...",!0);H.appendChild(this.dj.J)};JE.hue2.prototype=new JE;
JE.hue2.prototype.w=function(){this.PW.w();this.GY.w();this.pd.w();this.pE.w();this.si.w()};JE.hue2.prototype.twK=function(H){this.value.bc=this.pE.v();
this.Uz();this.Id()};JE.hue2.prototype.zF=function(H){var N=this.BQ();N[0]=this.PW.v();var Q=this.GY.v();
N[1]=this.value.bc?Math.max(0,Q):Q;N[2]=this.pd.v();this.Uz();this.Id()};JE.hue2.prototype.BQ=function(){var H=this.value;
if(H.bc)return H.qq;var N=this.si.v();return N==0?H.ry:H.gV[N-1].fY};JE.hue2.prototype.Uz=function(){var H=this.value,Q="";
this.pE.Q(H.bc);if(H.bc)this.si.uI();else this.si.qQ();var N=this.BQ();this.PW.Q(N[0]);this.GY.Q(N[1]);
this.pd.Q(N[2]);if(!H.bc){Q+="Apply to hue interval: ";var c=this.si.v();if(c==0)Q+="full";else{var _=H.gV[c-1].gX;
Q+=_}}this.dj.Q(Q)};JE.hue2.prototype.Q=function(H){this.value=JSON.parse(JSON.stringify(H));this.Uz()};
JE.hue2.prototype.v=function(H){return JSON.parse(JSON.stringify(this.value))};JE.levl=function(){JE.call(this);
this.value=null;this.tV=null;this.XW=[new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0)];this.xV=-1;
this.t_=this.Ll.bind(this);this.Vt=this.uZ.bind(this);var H=this.J;this.bx=new J_("Channel: ",["RGB","Red","Green","Blue"]);
this.bx.O(z.E.p,this.Uz,this);H.appendChild(this.bx.J);var N=new JQ("Reset");N.O("click",this.twY,this);
H.appendChild(N.J);var Q=z.B("div","");H.appendChild(Q);var c=z.B("div","");H.appendChild(c);this.rP=z.B("canvas");
Q.appendChild(this.rP);this._m=this.rP.getContext("2d");this.iy=new E(256,120);this.rP.setAttribute("style","display:block");
z.UZ(this.rP,this.iy.x,this.iy.y,this._m);z.FW(this.rP);z.oA(this.rP,this.uB.bind(this));this.nM=z.B("canvas","");
c.appendChild(this.nM);this.Mh=this.nM.getContext("2d");this.MQ=new E(this.iy.x,40);this.nM.setAttribute("style","display:block");
z.UZ(this.nM,this.MQ.x,this.MQ.y,this.Mh);z.FW(this.nM);z.oA(this.nM,this.twB.bind(this));var _=this.dK=[];
for(var O=0;O<5;O++){var L=new rd(null,null,3);_.push(L);L.O(z.E.p,this.twb,this);(O<2||O==4?Q:c).appendChild(L.J)}Q.appendChild(_[1].J);
_[4].J.setAttribute("style","margin: 0 4.7em");_[3].J.setAttribute("style","margin:0 0 0 13em")};JE.levl.prototype=new JE;
JE.levl.prototype.w=function(){this.bx.$v(tg.get([12,4])+": ")};JE.levl.prototype.twY=function(H){var N=this.tV;
this.Q([[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);this.yb(N);this.Id()};
JE.levl.prototype.twb=function(H){var N=this.value[this.bx.v()];for(var Q=0;Q<4;Q++){var c=255,_=1;if(Q==4){c=999;
_=100}N[Q]=Math.max(0,Math.min(c,parseInt(this.dK[Q].v())*_))}this.Uz();this.Id()};JE.levl.prototype.Uz=function(H){var N=this.value[this.bx.v()];
for(var Q=0;Q<5;Q++)this.dK[Q].Q(N[Q]/(Q==4?100:1));var c=this.iy.x,_=this.iy.y,O=this._m;O.clearRect(0,0,c,_);
O.fillStyle="#cccccc";O.fillRect(8,8,c-16,_-16-8);if(this.tV){var L=this.tV[this.bx.v()],s=0;for(var Q=0;
Q<L.length;Q++)s+=L[Q];O.fillStyle="#333333";O.beginPath();O.moveTo(8,_-16);for(var Q=0;Q<256;Q++){var r=55*L[Q]/s;
O.lineTo(8+Q/256*(c-16),Math.max(8,_-16-_*r))}O.lineTo(c-8,_-16);O.closePath();O.fill()}this.XW[0].kR(8+N[0]/255*(c-16),_-14);
this.XW[1].kR(8+N[1]/255*(c-16),_-14);var u=Math.log(N[4]/100)/Math.log(9.99);u=.5-u/2;this.XW[4].kR(this.XW[0].x+u*(this.XW[1].x-this.XW[0].x),_-14);
this.cu(O,this.XW[0],"#000000");this.cu(O,this.XW[4],"#777777");this.cu(O,this.XW[1],"#ffffff");var c=this.MQ.x,_=this.MQ.y;
O=this.Mh;O.clearRect(0,0,c,_);var V=O.createLinearGradient(0,0,c-16,0);V.addColorStop(0,"black");V.addColorStop(1,"white");
O.fillStyle=V;O.fillRect(8,8,c-16,16);this.XW[2].kR(8+N[2]/255*(c-16),_-14);this.XW[3].kR(8+N[3]/255*(c-16),_-14);
this.cu(O,this.XW[2],"#000000");this.cu(O,this.XW[3],"#ffffff")};JE.levl.prototype.cu=function(H,N,Q){H.fillStyle=Q;
H.fillRect(N.x-5,N.y,10,10)};JE.levl.prototype.uB=function(H){var N=z.qF(H,this.rP);if(E.Ln(this.XW[4],N)<10)this.xV=4;
for(var Q=0;Q<3;Q++)if(E.Ln(this.XW[Q],N)<10)this.xV=Q;this.Bf()};JE.levl.prototype.twB=function(H){var N=z.qF(H,this.nM);
for(var Q=2;Q<4;Q++)if(E.Ln(this.XW[Q],N)<10)this.xV=Q;this.Bf()};JE.levl.prototype.Bf=function(H){if(this.xV==-1)return;
z.ny(document.body,this.t_);z.nL(document.body,this.Vt)};JE.levl.prototype.Ll=function(H){var N=this.value[this.bx.v()],Q=z.qF(H,this.xV==2&&this.xV==3?this.nM:this.rP),c=255*(Q.x-8)/(this.iy.x-16);
c=Math.max(0,Math.min(255,c));if(this.xV==0)c=Math.min(c,N[1]-2);if(this.xV==1)c=Math.max(c,N[0]+2);
if(this.xV!=4)N[this.xV]=Math.round(c);else{var _=(c-N[0])/(N[1]-N[0]);_=1-2*_;_=Math.pow(9.99,_);N[4]=Math.min(999,Math.max(10,Math.round(_*100)))}this.Uz();
this.Id()};JE.levl.prototype.uZ=function(H){z.vD(document.body,this.t_);z.cQ(document.body,this.Vt);
this.xV=-1};JE.levl.prototype.Q=function(H){this.value=H;this.tV=null;this.Uz()};JE.levl.prototype.yb=function(H){this.tV=H;
this.Uz()};JE.levl.prototype.v=function(H){return JSON.parse(JSON.stringify(this.value))};JE.phfl=function(){JE.call(this);
var H=this.J;this.nx=new VW;this.nx.parent=this;this.nx.O(z.E.p,this.Id,this);H.appendChild(this.nx.J);
this.JU=new Jb([12,74],0,100,"%");this.JU.O(z.E.p,this.Id,this);H.appendChild(this.JU.J);this.gy=new JF("Preserve Luminosity");
this.gy.O(z.E.p,this.Id,this);H.appendChild(this.gy.J)};JE.phfl.prototype=new JE;JE.phfl.prototype.w=function(){this.JU.w()};
JE.phfl.prototype.Q=function(H){this.nx.Q(H.qq);this.JU.Q(H.mC);this.gy.Q(H.uT)};JE.phfl.prototype.v=function(){return{mC:this.JU.v(),uT:this.gy.v(),qq:this.nx.v()}};
JE.vibA=function(){JE.call(this);var H=this.J;this.gh=new Jb([12,13],-100,100,null);this.gh.O(z.E.p,this.Id,this);
H.appendChild(this.gh.J);this.GY=new Jb([12,9],-100,100,null);this.GY.O(z.E.p,this.Id,this);H.appendChild(this.GY.J)};
JE.vibA.prototype=new JE;JE.vibA.prototype.w=function(){this.gh.w();this.GY.w()};JE.vibA.prototype.Q=function(H){this.gh.Q(H[0]);
this.GY.Q(H[1])};JE.vibA.prototype.v=function(H){return[this.gh.v(),this.GY.v()]};JE.thrs=function(){JE.call(this);
var H=this.J;this.gh=new Jb([4,13],1,255,null);this.gh.O(z.E.p,this.Id,this);H.appendChild(this.gh.J)};
JE.thrs.prototype=new JE;JE.thrs.prototype.w=function(){this.gh.w()};JE.thrs.prototype.Q=function(H){this.gh.Q(H)};
JE.thrs.prototype.v=function(H){return this.gh.v()};JE.mixr=function(){JE.call(this);var H=this.J;this.gP=[];
this.gU=null;this.si=new J_([12,4],["Red","Green","Blue"]);this.si.O(z.E.p,this.lN,this);H.appendChild(this.si.J);
H.appendChild(z.B("br"));this._J=new JF([12,60]);H.appendChild(this._J.J);this._J.O(z.E.p,this.lN,this);
for(var N=0;N<4;N++){var Q=new Jb(["Red","Green","Blue","Total"][N],-200,200,"%");Q.O(z.E.p,this.lN,this);
this.gP.push(Q);H.appendChild(Q.J)}};JE.mixr.prototype=new JE;JE.mixr.prototype.w=function(){this.si.w();
this._J.w();for(var H=0;H<4;H++)this.gP[H].w()};JE.mixr.prototype.Q=function(H){this.gU=JSON.parse(JSON.stringify(H));
this.k_()};JE.mixr.prototype.v=function(H){return JSON.parse(JSON.stringify(this.gU))};JE.mixr.prototype.lN=function(H){if(H.target!=this.si){var N=this.gU;
if(H.target==this._J){N._J=this._J.v();if(N._J)N.R=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else N.R=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var Q=(N._J?0:this.si.v())*5,c=this.gP.indexOf(H.target);
N.R[Q+(c<3?c:4)]=H.target.v()}}this.k_();this.Id()};JE.mixr.prototype.k_=function(){var H=this.gU;this._J.Q(H._J);
var N=(H._J?0:this.si.v())*5;for(var Q=0;Q<4;Q++)this.gP[Q].Q(H.R[N+(Q<3?Q:4)])};function JD(H){JS.call(this);
this.tIc=H;this.J=z.B("div","");this.Fq=[]}JD.prototype=new JS;JD.prototype.Bj=function(H){};JD.prototype.fi=function(){return!1};
JD.prototype.Tc=function(H,N){};JD.prototype.Q=function(H,N,Q,c,_,O){var L=[];this.Fw(H,L,O);for(var s=0;
s<this.Fq.length;s++)this.Fq[s].Q(L[s])};JD.prototype.v=function(){var H=VJ.vI(this.tIc),N=[];for(var Q=0;
Q<this.Fq.length;Q++)N.push(this.Fq[Q].v());this.ts(H,N);return H};JD.prototype.FJ=function(H){};JD.prototype.Id=function(H){this.N(new k(z.E.p))};
JD.prototype.w=function(){for(var H=0;H<this.Fq.length;H++)this.Fq[H].w()};JD.prototype.sA=function(){z.wj(this.J,"form");
for(var H=0;H<this.Fq.length;H++){this.Fq[H].O(z.E.p,this.Id,this);this.J.appendChild(this.Fq[H].J);
this.J.appendChild(z.B("br"))}};JD.LnCr=function(){JD.call(this,"LnCr");this.Fq.push(new Jb([12,57],-100,100,"%"));
this.sA()};JD.LnCr.prototype=new JD;JD.LnCr.prototype.Fw=function(H,N){};JD.LnCr.prototype.ts=function(H,N){};
JD["\0\0\x02\xB1"]=function(){JD.call(this,"\0\0\x02\xB1");this.Fq.push(new Jb([12,56],1,200," px"));
this.sA()};JD["\0\0\x02\xB1"].prototype=new JD;JD["\0\0\x02\xB1"].prototype.Fw=function(H,N){N[0]=H.Rds.v.val};
JD["\0\0\x02\xB1"].prototype.ts=function(H,N){H.Rds.v.val=N[0]};JD.GsnB=function(){JD.call(this,"GsnB");
this.Fq.push(new Jb([12,56],1,200," px"));this.sA()};JD.GsnB.prototype=new JD;JD.GsnB.prototype.Fw=function(H,N){N[0]=H.Rds.v.val};
JD.GsnB.prototype.ts=function(H,N){H.Rds.v.val=N[0]};JD.MtnB=function(){JD.call(this,"MtnB");this.Fq.push(new Hc([12,15]));
this.Fq.push(new Jb([12,28],1,100," px"));this.sA()};JD.MtnB.prototype=new JD;JD.MtnB.prototype.Fw=function(H,N){N[0]=H.Angl.v;
N[1]=H.Dstn.v.val};JD.MtnB.prototype.ts=function(H,N){H.Angl.v=N[0].PQ;H.Dstn.v.val=N[1]};JD.RdlB=function(){JD.call(this,"RdlB");
this.Fq.push(new Jb([12,57],1,100));this.Fq.push(new r_([12,36],["Spin","Zoom"]));this.Fq.push(new tc("Off X",0,1,null,2));
this.Fq.push(new tc("Off Y",0,1,null,2));this.sA()};JD.RdlB.prototype=new JD;JD.RdlB.prototype.Fw=function(H,N){N[0]=H.Amnt.v;
N[1]=["Spn","Zm"].indexOf(H.BlrM.v.BlrM);N[2]=H.Cntr.v.Hrzn.v;N[3]=H.Cntr.v.Vrtc.v};JD.RdlB.prototype.ts=function(H,N){H.Amnt.v=N[0];
H.BlrM.v.BlrM=["Spn","Zm"][N[1]];H.Cntr.v.Hrzn.v=N[2];H.Cntr.v.Vrtc.v=N[3]};JD.Dspl=function(){JD.call(this,"Dspl");
this.Fq.push(new J_("Smart Object",["a","b"]));this.Fq.push(new Jb([22,4,0],-100,100,"px"));this.Fq.push(new Jb([22,4,1],-100,100,"px"));
this.Fq.push(new J_([24,18,0],[[24,18,3],[24,18,2]]));this.sA()};JD.Dspl.prototype=new JD;JD.Dspl.prototype.Fw=function(H,N,Q){this.dY=[];
this.wT=[];var c=-1;for(var _=0;_<Q.length;_++){var O=Q[_];this.dY.push(O.Xl.trim());this.wT.push(O.VB);
if(O.VB==H.DspF.v.pth)c=_}this.Fq[0].ea(this.dY);N[0]=c==-1?0:c;N[1]=H.HrzS.v;N[2]=H.VrtS.v;N[3]=["WrpA","RptE"].indexOf(H.UndA.v.UndA)};
JD.Dspl.prototype.ts=function(H,N){if(this.wT.length==0)return;H.DspF.v.pth=this.wT[N[0]];H.HrzS.v=N[1];
H.VrtS.v=N[2];H.UndA.v.UndA=["WrpA","RptE"][N[3]]};JD.Pnch=function(){JD.call(this,"Pnch");this.Fq.push(new Jb([12,57],-100,100,"%"));
this.sA()};JD.Pnch.prototype=new JD;JD.Pnch.prototype.Fw=function(H,N){N[0]=H.Amnt.v};JD.Pnch.prototype.ts=function(H,N){H.Amnt.v=N[0]};
JD["Plr "]=function(){JD.call(this,"Plr ");this.Fq.push(new r_(null,["Rect to Polar","Polar to Rect"]));
this.sA()};JD["Plr "].prototype=new JD;JD["Plr "].prototype.Fw=function(H,N){N[0]=["RctP","PlrR"].indexOf(H.Cnvr.v.Cnvr)};
JD["Plr "].prototype.ts=function(H,N){H.Cnvr.v.Cnvr=["RctP","PlrR"][N[0]]};JD.Rple=function(){JD.call(this,"Rple");
this.Fq.push(new Jb([12,57],-999,999));this.Fq.push(new J_([12,14],[[19,8,0],[19,8,1],[19,8,2]]));this.sA()};
JD.Rple.prototype=new JD;JD.Rple.prototype.Fw=function(H,N){N[0]=H.Amnt.v;N[1]=["Sml","Mdm","Lrg"].indexOf(H.RplS.v.RplS)};
JD.Rple.prototype.ts=function(H,N){H.Amnt.v=N[0];H.RplS.v.RplS=["Sml","Mdm","Lrg"][N[1]]};JD["Shr "]=function(){JD.call(this,"Shr ");
this.Fq.push(new tS(!0,!0));this.Fq.push(new J_([24,18,0],[[24,18,3],[24,18,2]]));this.sA()};JD["Shr "].prototype=new JD;
JD["Shr "].prototype.Fw=function(H,N){var Q=new Jo(0,255/127,255/127,0,-2,128),c=JSON.parse(JSON.stringify(H.ShrP.v));
$.kv.UC(c,Q);N[0]=c;N[1]=["WrpA","RptE"].indexOf(H.UndA.v.UndA)};JD["Shr "].prototype.ts=function(H,N){var Q=new Jo(0,255/127,255/127,0,-2,128);
Q.UK();$.kv.UC(N[0],Q);H.ShrP.v=N[0];H.ShrE.v=N[0].length-1;H.UndA.v.UndA=["WrpA","RptE"][N[1]]};JD.Sphr=function(){JD.call(this,"Sphr");
this.Fq.push(new Jb([12,57],-100,100));this.Fq.push(new J_([12,36],["Normal",[22,4,0],[22,4,1]]));this.sA()};
JD.Sphr.prototype=new JD;JD.Sphr.prototype.Fw=function(H,N){N[0]=H.Amnt.v;N[1]=["Nrml","HrzO","VrtO"].indexOf(H.SphM.v.SphM)};
JD.Sphr.prototype.ts=function(H,N){H.Amnt.v=N[0];H.SphM.v.SphM=["Nrml","HrzO","VrtO"][N[1]]};JD.Twrl=function(){JD.call(this,"Twrl");
this.Fq.push(new Jb([12,15],-999,999));this.sA()};JD.Twrl.prototype=new JD;JD.Twrl.prototype.Fw=function(H,N){N[0]=H.Angl.v};
JD.Twrl.prototype.ts=function(H,N){H.Angl.v=N[0]};JD["\0\0\x02\xB5"]=function(){JD.call(this,"\0\0\x02\xB5");
this.Fq.push(new Jb([12,56],1,200," px"));this.Fq.push(new Jb([4,13],1,255," px"));this.sA()};JD["\0\0\x02\xB5"].prototype=new JD;
JD["\0\0\x02\xB5"].prototype.Fw=function(H,N){N[0]=H.Rds.v.val;N[1]=H.Thsh.v};JD["\0\0\x02\xB5"].prototype.ts=function(H,N){H.Rds.v.val=N[0];
H.Thsh.v=N[1]};JD.AdNs=function(){JD.call(this,"AdNs");this.Fq.push(new Jb([12,57],0,200," %"));this.Fq.push(new J_([12,58],[[12,59,0],[12,59,1]]));
this.Fq.push(new JF([12,60]));this.sA()};JD.AdNs.prototype=new JD;JD.AdNs.prototype.Fw=function(H,N){N[0]=H.Nose.v.val;
N[1]=["Unfr","Gsn"].indexOf(H.Dstr.v.Dstr);N[2]=H.Mnch.v};JD.AdNs.prototype.ts=function(H,N){H.Nose.v.val=N[0];
H.Dstr.v.Dstr=["Unfr","Gsn"][N[1]];H.Mnch.v=N[2]};JD.DstS=function(){JD.call(this,"DstS");this.Fq.push(new Jb([12,56],1,200," px"));
this.Fq.push(new Jb([4,13],1,255," px"));this.sA()};JD.DstS.prototype=new JD;JD.DstS.prototype.Fw=function(H,N){N[0]=H.Rds.v;
N[1]=H.Thsh.v};JD.DstS.prototype.ts=function(H,N){H.Rds.v=N[0];H.Thsh.v=N[1]};JD["Mdn "]=function(){JD.call(this,"Mdn ");
this.Fq.push(new Jb([12,56],1,200," px"));this.sA()};JD["Mdn "].prototype=new JD;JD["Mdn "].prototype.Fw=function(H){vs[0]=H.Rds.v.val};
JD["Mdn "].prototype.ts=function(){$R.Rds.v.val=vs[0]};JD.ClrH=function(){JD.call(this,"ClrH");this.Fq.push(new Jb([12,56],4,100," px"));
for(var H=1;H<4;H++)this.Fq.push(new Jb("Angle "+H,0,90," \xB0"));this.sA()};JD.ClrH.prototype=new JD;
JD.ClrH.prototype.Fw=function(H,N){N[0]=H.Rds.v;for(var Q=1;Q<4;Q++)N[Q]=H["Ang"+Q].v};JD.ClrH.prototype.ts=function(H,N){H.Rds.v=N[0];
for(var Q=1;Q<4;Q++)H["Ang"+Q].v=N[Q]};JD.ClrH.prototype.w=function(){var H=this.Fq;H[0].w();for(var N=1;
N<4;N++)H[N].$v(tg.get([12,15])+" "+N)};JD["Msc "]=function(){JD.call(this,"Msc ");this.Fq.push(new Jb([12,61],2,200," px"));
this.sA()};JD["Msc "].prototype=new JD;JD["Msc "].prototype.Fw=function(H,N){N[0]=H.ClSz.v.val};JD["Msc "].prototype.ts=function(H,N){H.ClSz.v.val=N[0]};
JD.UnsM=function(){JD.call(this,"UnsM");this.Fq.push(new Jb([12,57],1,200," %"));this.Fq.push(new Jb([12,56],0,200," px"));
this.Fq.push(new Jb([4,13],0,255," "));this.sA()};JD.UnsM.prototype=new JD;JD.UnsM.prototype.Fw=function(H,N){N[0]=H.Amnt.v.val;
N[1]=H.Rds.v.val;N[2]=H.Thsh.v};JD.UnsM.prototype.ts=function(H,N){H.Amnt.v.val=N[0];H.Rds.v.val=N[1];
H.Thsh.v=N[2]};JD.HghP=function(){JD.call(this,"HghP");this.Fq.push(new Jb([12,56],1,200," px"));this.sA()};
JD.HghP.prototype=new JD;JD.HghP.prototype.Fw=function(H,N){N[0]=H.Rds.v.val};JD.HghP.prototype.ts=function(H,N){H.Rds.v.val=N[0]};
JD["Mxm "]=function(){JD.call(this,"Mxm ");this.Fq.push(new Jb([12,56],1,200," px"));this.sA()};JD["Mxm "].prototype=new JD;
JD["Mxm "].prototype.Fw=function(H,N){N[0]=H.Rds.v.val};JD["Mxm "].prototype.ts=function(H,N){H.Rds.v.val=N[0]};
JD["Mnm "]=function(){JD.call(this,"Mnm ");this.Fq.push(new Jb([12,56],1,200," px"));this.sA()};JD["Mnm "].prototype=new JD;
JD["Mnm "].prototype.Fw=function(H,N){N[0]=H.Rds.v.val};JD["Mnm "].prototype.ts=function(H,N){H.Rds.v.val=N[0]};
JD.Ofst=function(){JD.call(this,"Ofst");this.Fq.push(new Jb([22,4,0],-1024,1024," px"));this.Fq.push(new Jb([22,4,1],-1024,1024," px"));
this.Fq.push(new J_([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.sA()};JD.Ofst.prototype=new JD;
JD.Ofst.prototype.Fw=function(H,N){N[0]=H.Hrzn.v;N[1]=H.Vrtc.v;N[2]=["Bckg","Rpt","Wrp"].indexOf(H.Fl.v.FlMd)};
JD.Ofst.prototype.ts=function(H,N){H.Hrzn.v=N[0];H.Vrtc.v=N[1];H.Fl.v.FlMd=["Bckg","Rpt","Wrp"][N[2]]};
JD.Rept=function(){JD.call(this,"Rept");this.Fq.push(new tc([12,38],1,300," %"));this.Fq.push(new tc("Row Shift",-50,50," %"));
this.Fq.push(new tc("Space X",-99,200," %"));this.Fq.push(new tc("Space Y",-99,200," %"));this.Fq.push(new JF([4,16,2]));
this.Fq.push(new Hc([12,15]));this.sA()};JD.Rept.prototype=new JD;JD.Rept.prototype.Fw=function(H,N){N[0]=H.Scl.v.val;
N[1]=H.Rsft.v.val;N[2]=H.SpcX.v.val;N[3]=H.SpcY.v.val;N[4]=H.SpcC.v;N[5]=H.Angl.v};JD.Rept.prototype.ts=function(H,N){H.Scl.v.val=N[0];
H.Rsft.v.val=N[1];H.SpcX.v.val=N[2];H.SpcY.v.val=N[3];H.SpcC.v=N[4];H.Angl.v=N[5].PQ;return H};JD.LqFy=function(){JD.call(this,"LqFy");
this.qt=!1;this.Lk=null;this.tIp=null;this.c=0;this.Uj={iD:[[{c:{id:0,name:[24,1,0,1,0],Xg:"liq/smudge"}}],[{c:{id:1,name:[24,1,0,1,1],Xg:"liq/reconstruct"}}],[{c:{id:2,name:[24,1,0,1,2],Xg:"liq/smooth"}}],[{c:{id:3,name:[24,1,0,1,3],Xg:"liq/twirl"}}],[{c:{id:4,name:[24,1,0,1,4],Xg:"liq/shrink"}}],[{c:{id:5,name:[24,1,0,1,5],Xg:"liq/blow"}}],[{c:{id:6,name:[24,1,0,1,6],Xg:"liq/pleft"}}]],keys:[]};
this.My=new JH(this.Uj,!1);this.My.VL(0);this.My.O(z.E.Y,this.twZ,this);this.iM=HP.wi();this.ck=null;
this.BK=[];this.AZ=-1;this.EK=null;this.db=null;this.dB=null;this.Mz=null;this.dz=null;var H=z.B("div","flexrow");
this.lT=H;this.J.appendChild(H);H.appendChild(this.My.J);this.view=new $$(!0);this.view.Tc(100,100);
this.view.O("mousedown",this.nZ,this);this.view.O("mousemove",this.fI,this);this.view.O("mouseup",this.Ub,this);
this.view.O("zoom",this.Hf,this);H.appendChild(this.view.J);var N=z.B("div","form");H.appendChild(N);
this.wd=N;N.style.width="230px";this.Dw=[new Jb([12,14],0,1e3,null,!1,!0),new Jb([12,74],0,100,null,!1,!1),new Jb([12,84],0,100,null,!1,!1),new JF([12,46]),new Jb([12,0],0,100,null,!1,!1)];
var Q=this.iM.Brsh.v;Q.Dmtr.v.val=100;var c=[100,50,100,!1,100];for(var _=0;_<this.Dw.length;_++){var O=this.Dw[_];
O.Q(c[_]);O.O(z.E.p,this.twA,this);N.appendChild(O.J)}var L=new JQ("Reset",!0,null,!0);L.O("click",this.tIr,this);
N.appendChild(L.J);this.LO=new JS;this.LO.J=z.B("div","floatcont");this.MZ=new JQ("Menu",!1,null,!0);
this.MZ.O("click",this.twz,this);var s=this.MZ.J;s.setAttribute("style","position:absolute; right:13px; top:47px");
this.Hf()};JD.LqFy.prototype=new JD;JD.LqFy.prototype.fi=function(){return!0};JD.LqFy.prototype.Bj=function(H){this.wd.appendChild(H)};
JD.LqFy.prototype.twz=function(H){var N=this.MZ.J.getBoundingClientRect();this.LO.J.appendChild(this.wd);
var Q=new k(z.E.Y,!0);Q.data={X:z.m.Fe,AB:this.LO,x:N.right+N.width-290,y:N.top+N.height};this.N(Q)};
JD.LqFy.prototype.FJ=function(H){this.qt=H.l(K.kz);var N=l.mh.Og(this.iM,H);if(N!=null){this.iM=N;this.Hf();
this.Dw[0].Q(N.Brsh.v.Dmtr.v.val)}else if(H.l(K.sf)&&H.l(K.$f)){var Q=this.BK;if(H.l(K.Yz)){if(this.AZ+1<Q.length)this.AZ++}else if(this.AZ>0)this.AZ--;
this.ck.map=Q[this.AZ].slice(0);this.k_(null)}else this.view.FJ(H)};JD.LqFy.prototype.twZ=function(H){if(H.data.X==z.m.mG){this.c=H.data.c;
this.My.VL(this.c)}};JD.LqFy.prototype.twA=function(H){var N=H.currentTarget,Q=this.Dw.indexOf(N),c=this.iM.Brsh.v;
if(Q==0){c.Dmtr.v.val=N.v();this.Hf()}if(Q>2)this.k_(null)};JD.LqFy.prototype.c_=function(){var H=this.BK;
this.AZ++;H[this.AZ]=this.ck.map.slice(0);while(H.length>this.AZ+1)H.pop();while(H.length>50){H=H.slice(1);
this.AZ--}};JD.LqFy.prototype.nZ=function(H){this.ye();this.Lk=this.view.cZ();this.tIp=new E(0,0);this.O(z.E.Gn,this.LR,this)};
JD.LqFy.prototype.fI=function(H){var N=this.view.cZ(),Q=new E(N.x-this.Lk.x,N.y-this.Lk.y);if(this.c==0||this.c==6)this.BY(Q);
this.Lk=N};JD.LqFy.prototype.Ub=function(H){this.c_();this.ye()};JD.LqFy.prototype.ye=function(){if(this.tHp(z.E.Gn,this.LR))this.removeEventListener(z.E.Gn,this.LR,this)};
JD.LqFy.prototype.LR=function(H){if(this.c!=0&&this.c!=6)this.BY(new E(0,0))};JD.LqFy.prototype.BY=function(H){var N=this.ck,Q=N.JX/this.EK.$,c=this.Lk,_=this.iM.Brsh.v,O=_.Dmtr.v.val,L=Date.now(),s=N.JX,r=N.ht,u=Math.sqrt(H.x*H.x+H.y*H.y),V=Math.max(1,Math.ceil(u/2)),C=H.x/V,T=H.y/V,e=c.clone(),t=this.c,Y=this.Dw[1].v()/100,A=this.Dw[2].v()/100,G=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],j=G[t*2],d=G[t*2+1],w=(1-Y)*j+Y*d,f=O*Q/2;
for(var b=0;b<V;b++){var F=[];e.x+=C;e.y+=T;$.oL.tri(N.map,s,r,t,e.x*Q,e.y*Q,f,1,Y,A,new E(C*Q,T*Q),F,this.qt);
$.oL.tJj(s,r,N.map,F,w*A)}var n=new p(0,0,s,r),J=new p(c.x*Q,c.y*Q,0,0);J.FA(O*Q*.5,O*Q*.5);var Z=J.clone();
Z.offset(H.x*Q,H.y*Q);J=J.Fv(Z);var P=new p(J.x/Q,J.y/Q,J.$/Q,J.z/Q);P=$.K.Cn(P).sj(this.EK);this.k_(P)};
JD.LqFy.prototype.Hf=function(){var H=Jf.YF(this.iM,null,this.view.yi().s),N=z.IX(H);this.view.yp(N)};
JD.LqFy.prototype.Q=function(H,N,Q,c,_){if(N==null)return;if(!c.v$(Q)){var O=Q.Fv(c),L=$.I(O.f()*4);
$.Pg(N,Q,L,O);N=L;Q=O}this.dB=N;this.db=_;this.dz=N.slice(0);this.Mz=N.slice(0);this.EK=Q;this.ck=Vl.Fp(new Uint8Array(H.LqMe.v).buffer);
var s=Q.$,r=Q.z;if(this.ck.JX/s<.22){this.ck={JX:Math.floor(s/4),ht:Math.floor(r/4)};this.ck.map=new Float32Array(this.ck.JX*this.ck.ht*2)}this.BK=[];
this.AZ=-1;this.c_();this.k_(null)};JD.LqFy.prototype.v=function(){this.ye();var H=VJ.vI("LqFy"),N=new Uint8Array(Vl.nX(this.ck)),Q=[];
for(var c=0;c<N.length;c++)Q.push(N[c]);H.LqMe.v=Q;return H};JD.LqFy.prototype.Tc=function(H,N){this.My.Tc(H,N);
var Q=this.MZ.J,c=this.wd;this.lT.appendChild(c);this.lT.appendChild(Q);if(H>450){c.style.marginLeft="1em";
this.lT.removeChild(Q);this.view.Tc(H-238-45,N)}else{c.style.marginLeft="";this.lT.removeChild(c);this.view.Tc(H-40,N)}};
JD.LqFy.prototype.w=function(){this.My.w();for(var H=0;H<this.Dw.length;H++)this.Dw[H].w()};JD.LqFy.prototype.tIr=function(){this.ye();
this.ck.map.fill(0);this.c_();this.k_(null)};JD.LqFy.prototype.k_=function(H){var N=this.EK,Q=this.dB,c=this.dz,_=this.ck;
$.oL.CS(Q,this.Mz,N.$,N.z,H,_.map,_.JX,_.ht,0);if(this.Dw[3].Tv()){$.Pg(this.db,N,c,N,H?H:N);$.a.MR("norm",this.Mz,N,c,N,H?H:N,this.Dw[4].v()/100)}else $.sa(this.Mz,c);
this.view.Q([{MD:N,data:c.buffer}])};function Jp(H,N){JS.call(this);this.id=N;this.pN=H;this.wW=null;
this.J=z.B("div","window "+N);this.Mt=z.B("div","head");this.J.appendChild(this.Mt);this.tIQ=this.tIv.bind(this);
this.dA=this.tIh.bind(this);this.GV=this.ty$.bind(this);z.FW(this.Mt);z.oA(this.Mt,this.tIQ);this.wo=z.B("span","cross");
Jp.prototype.w.call(this);z.nL(this.wo,this.BB.bind(this));this.body=z.B("div","body");this.J.appendChild(this.body)}Jp.prototype=new JS;
Jp.prototype.ZQ=function(){return!1};Jp.prototype.Zy=function(){return!1};Jp.prototype.w=function(){if(this.pN==null)return;
var H=typeof this.pN=="string"?this.pN:tg.get(this.pN);this.Mt.innerHTML="<span class=\"wname\">"+H+"</span>";
this.Mt.appendChild(this.wo);var N=PIMG.__cross==null?"filter:invert(1);":"";this.wo.setAttribute("style","background-image:url("+PIMG.cross+");"+N)};
Jp.prototype.cL=function(H,N,Q,c,_){};Jp.prototype.XY=function(H,N,Q,c,_){};Jp.prototype.Nu=function(H,N,Q,c,_){};
Jp.prototype.OH=function(H,N,Q,c,_){};Jp.prototype.FJ=function(H,N,Q,c){};Jp.prototype.jV=function(H){return!1};
Jp.prototype.mv=function(H,N){return!0};Jp.prototype.aK=function(H,N,Q){};Jp.prototype.qB=function(H,N){};
Jp.prototype.fi=function(){return!1};Jp.prototype._S=function(H,N){return H<450||N<450?new E(0,0):new E(150,150)};
Jp.prototype.Tc=function(){};Jp.prototype.close=function(){this.N(new k(z.E.pH))};Jp.prototype.tIv=function(H){this.wW=z.qF(H,this.J);
z.ny(window,this.dA);z.nL(window,this.GV)};Jp.prototype.tIh=function(H){var N=this.J.parentNode,Q=z.qF(H,N);
this.J.style.left=Math.round(Q.x-this.wW.x)+"px";this.J.style.top=N.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(Q.y-this.wW.y)))+"px"};
Jp.prototype.ty$=function(H){z.vD(window,this.dA);z.cQ(window,this.GV)};Jp.prototype.BB=function(H){this.N(new k("closebtn"));
this.close()};function tr(){Jp.call(this,[0,13,0],"account");this.AA=z.B("div","form padded scrollable");
this.AA.setAttribute("style","max-width:42em;  max-height:33em;");this.body.appendChild(this.AA);this.ii=[new tr.vS,new tr.xj];
for(var H=0;H<this.ii.length;H++)this.ii[H].parent=this;this.O("showpage",this.tyH,this)}tr.prototype=new Jp;
tr.prototype.tyH=function(H){z.hk(this.AA);this.AA.scrollTop=0;this.AA.appendChild(this.ii[H.data.U_].J)};
tr.prototype.w=function(){Jp.prototype.w.call(this);for(var H=0;H<this.ii.length;H++)this.ii[H].w()};
tr.prototype.aK=function(H,N,Q){z.hk(this.AA);var c=this.ii[0];this.AA.appendChild(c.J);c.aK();this.w()};
tr.prototype.qB=function(H,N){this.aK(null,null,null)};tr.vS=function(){JS.call(this);this.J=z.B("div");
var H=this.J,N,Q,c="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.wQ=z.B("div");H.appendChild(this.wQ);this.MA=new JQ([0,11],!1,null,!0);this.MA.J.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.MA.O("click",this.hg,this);H.appendChild(this.MA.J);this.wl=new JQ([0,13,1],!1,null,!0);this.wl.O("click",this.BA,this);
H.appendChild(this.wl.J);N=z.B("h2","");N.innerHTML="Account types";H.appendChild(N);Q=z.B("table","");
Q.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">PSD import and export</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Advanced editing tools</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Helping us improve PP</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
H.appendChild(Q);var _=[9,20,30,80,100,240,40,80,100,200,200,400];this.Mg=[];for(var O=0;O<_.length;
O++)this.Mg.push(new JQ("Buy: $"+_[O],!1,null,!0));for(var O=0;O<this.Mg.length;O++){this.Mg[O].J.setAttribute("style",c);
this.Mg[O].O("click",this.tyE,this)}N=z.B("h2","");N.innerHTML="Go Premium";H.appendChild(N);this.Mk=new JQ("...",!0);
this.Mk.J.setAttribute("style",c);H.appendChild(this.Mk.J);Q=this.BN(["Single user",this.Mg[0],this.Mg[1],"Team of 5",this.Mg[2],this.Mg[3],"Team of 20",this.Mg[4],this.Mg[5]]);
H.appendChild(Q);this.xw=new JF("I accept",!0,"");H.appendChild(this.xw.J);this.wz=new JQ([0,13,1],!1,null,!0);
this.wz.O("click",this.BA,this);H.appendChild(this.wz.J);N=z.B("h2","");N.textContent="Team Settings";
H.appendChild(N);this.Hi=new JF("Join a team");H.appendChild(this.Hi.J);this.Hi.O(z.E.p,this.Be,this);
this.Hi.PT();this.gd=new rd("Email of a leader",null,14);H.appendChild(this.gd.J);H.appendChild(z.B("br"));
this.iL=new JF("Start a team");H.appendChild(this.iL.J);this.iL.O(z.E.p,this.Be,this);var L=new $J("Emails of other members:");
H.appendChild(L.J);H.appendChild(z.B("br"));this._L=z.B("textarea");this._L.setAttribute("rows",3);this._L.setAttribute("cols",70);
this._L.setAttribute("style","display:block;tab-size:4;");H.appendChild(this._L);var s=new JQ("Save Team Settings",!1,null,!0);
H.appendChild(s.J);s.O("click",this.tyT,this);var r=this.tIz=new JQ("More about Teams",!1,null,!0);H.appendChild(r.J);
r.O("click",this.BU,this);N=z.B("h2","");N.innerHTML="Distributor Account";H.appendChild(N);this.gv=new JQ("...",!0);
this.gv.J.setAttribute("style",c);H.appendChild(this.gv.J);Q=this.BN(["1000 views/month",this.Mg[6],this.Mg[7],"5000 views/month",this.Mg[8],this.Mg[9],"20000 views/month",this.Mg[10],this.Mg[11]]);
H.appendChild(Q);this.gQ=new rd("Domain name (e.g. domain.com)",null,14);H.appendChild(this.gQ.J);H.appendChild(z.B("br"));
var s=new JQ("Save Domain Settings",!1,null,!0);s.PT();H.appendChild(s.J);s.O("click",this.tyv,this);
var r=new JQ("More about Distributors",!1,null,!0);H.appendChild(r.J);r.O("click",this.BU,this)};tr.vS.prototype=new JS;
tr.vS.prototype.BA=function(H){var N=new k("showpage",!0);N.data={U_:1};this.N(N)};tr.vS.prototype.w=function(){this.MA.$v(JX.TQ()?tg.get([0,11]):tg.get([0,10]));
this.wz.w();this.wl.w()};tr.vS.prototype.BU=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.yQ,link:"https://www.photopea.com/api/accounts#"+(H.target==this.tIz?"teams":"distributors")};
this.N(N)};tr.vS.prototype.Be=function(H){var N=H.currentTarget==this.Hi;this.Hi.Q(N);this.iL.Q(!N)};
tr.vS.prototype.tyT=function(H){var N=this.Hi.v(),Q=this.gd.v().trim(),c=this._L.value.trim();if(Q.length>60){alert("Too long email address");
return}if(c.length>600){alert("Too many team members");return}c=c.split(",").join(" ").trim();c=c.replace(/\s+/g," ");
if(c=="")c=[];else c=c.split(" ");var _=JX.jf();if(_==null)_={};if(_.acc==null)_.acc={};_.acc.team={jin:N,ldr:Q,mmb:c};
JX.hn(_,this.ZD.bind(this));alert("Saved!");this.aK()};tr.vS.prototype.tyv=function(H){var N=this.gQ.v().trim();
if(N.length==0){alert("Domain is empty.");return}if(!JX.TQ()){alert("You have to log in first.");return}if(JX.PS().distrib=="0"){alert("Order a distributor account first.");
return}var Q=JX.jf();if(Q==null)Q={};if(Q.acc==null)Q.acc={};Q.acc.dname=N;JX.hn(Q,this.ZD.bind(this));
alert("Saved!");this.aK()};tr.vS.prototype.aK=function(){if(JX.TQ()){var H=JX.PS();if(H==null)return;
this.wQ.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+H.name+"</span> "+H.email+" <br/>"}else this.wQ.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var N=JX.TQ()&&H.premium*1e3>Date.now();this.Mk.J.style.display=N?"block":"none";if(N){var Q=parseInt(H.premium)-Date.now()/1e3,c=parseInt(H.ptype),_;
if(c==-1)_="member of a team";else if(c==1)_="Single user";else _="Team of "+c;this.Mk.$v("Premium active for "+Math.round(Q/(60*60*24))+" more days! ("+_+")")}var O=JX.TQ()&&H.distrib*1e3>Date.now();
this.gv.J.style.display=O?"block":"none";if(O){var Q=parseInt(H.distrib)-Date.now()/1e3,c=parseInt(H.ptype);
this.gv.$v("Distributor active for "+Math.round(Q/(60*60*24))+" more days! ("+c+" visitos)")}var L=JX.jf();
if(L&&L.acc&&L.acc.team){var s=L.acc.team;this.Hi.Q(s.jin);this.iL.Q(!s.jin);this.gd.Q(s.ldr);this._L.value=s.mmb.join(", ")}else{this.Hi.Q(!0);
this.iL.Q(!1);this.gd.Q("");this._L.value=""}if(L&&L.acc&&L.acc.dname)this.gQ.Q(L.acc.dname);else this.gQ.Q("")};
tr.vS.prototype.BN=function(H){var N=z.B("table","");N.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> </tr>\t\t\t\t</table>\t\t\t";
for(var Q=0;Q<H.length;Q+=3){var c=z.B("tr"),_;N.appendChild(c);_=z.B("td","left");c.appendChild(_);
_.innerHTML="<b>"+H[Q]+"</b>";_=z.B("td");c.appendChild(_);_.appendChild(H[Q+1].J);_=z.B("td");c.appendChild(_);
_.appendChild(H[Q+2].J)}return N};tr.vS.prototype.tyE=function(H){var N=this.Mg.indexOf(H.currentTarget);
if(!JX.TQ()){alert("You must log in before buying Premium");return}if(this.xw.v()==!1&&N<6){alert("You must accept Terms of Service");
return}var Q=(N&1)==0?30:90,c=[1,5,20,1e3,5e3,2e4][Math.floor(N/2)],_=JX.TQ()&&JX.PS().premium*1e3>Date.now();
if(_&&c<1e3){alert("You already have premium.");return}JX.order(Q,c,this.ZD.bind(this));this.Zc()};tr.vS.prototype.ZD=function(H){if(JX.TQ()&&JX.PS().msg)alert(JX.PS().msg);
this.aK();this.Zc()};tr.vS.prototype.hg=function(H){if(JX.TQ()){JX.tRn();this.Zc();this.aK(null,null,null)}else JX.hg(this.tyf.bind(this))};
tr.vS.prototype.tyf=function(){var H=new k(z.E.Y,!0);H.data={X:z.m.tIk};this.N(H)};tr.vS.prototype.Zc=function(){var H=new k(z.E.Y,!0);
H.data={X:z.m.bX};this.N(H)};tr.xj=function(){JS.call(this);this.J=z.B("div");var H=this.J,N=this.tIF=new JQ([0,13,2],!1,null,!0);
N.O("click",this.tyZ,this);H.appendChild(N.J);var Q=z.B("div","");Q.innerHTML=tr.xj.tys;H.appendChild(Q)};
tr.xj.prototype=new JS;tr.xj.prototype.tyZ=function(H){var N=new k("showpage",!0);N.data={U_:0};this.N(N)};
tr.xj.prototype.w=function(){this.tIF.w()};tr.xj.tys="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function tB(H){Jp.call(this,JO.names[H],"adjust_"+H);this.qd=H;this.wZ=null;this.AA=z.B("div","form");
this.AA.setAttribute("style","width:24em");this.body.appendChild(this.AA);this.uW=new JE[H];this.uW.O(z.E.p,this.Id,this);
this.AA.appendChild(this.uW.J);this.uW.parent=this;this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this.wS,this);
this.AA.appendChild(this.Di.J);this.O("closebtn",this.eA,this)}tB.prototype=new Jp;tB.prototype.ZQ=function(){return!0};
tB.prototype.mv=function(H,N){return H!=null};tB.prototype.w=function(){Jp.prototype.w.call(this);if(this.uW)this.uW.w()};
tB.prototype.Id=function(H){this.oe({X:"edit",Dq:this.uW.v()})};tB.prototype.eA=function(H){this.oe({X:"cancel"})};
tB.prototype.wS=function(H){this.wZ=this.uW.v();this.oe({X:"confirm"});this.close()};tB.prototype.aK=function(H,N,Q,c){if(c.l(K.kz)&&this.wZ)this.uW.Q(this.wZ);
else{var _={};JO.jw(this.qd,_);var O=JO.cV(_);this.uW.Q(O)}var L=JL.sU.getData(H),s=$.Yk(L[0].gk);this.uW.yb(s);
this.Id(null)};tB.prototype.qB=function(H,N){this.uW.qB(H,N)};tB.prototype.oe=function(H){var N=new k(z.E.W,!0);
H.qd=this.qd;N.data=H;N.c=l.nP;N.MI=!0;this.N(N)};function re(){Jp.call(this,[11,0],"camera");this.data=null;
this.wA=new E(1,1);this.AA=z.B("div","form hbar");this.body.appendChild(this.AA);this.tcH=new J_(null,[]);
this.zd=new r_([21,0],[[21,2],[21,1]]);this.AA.appendChild(this.zd.J);this.wk=new JQ([11,0],!1,null,!0);
this.wk.O("click",this.tDt,this);this.AA.appendChild(this.wk.J);this.xs=new $J("");this.AA.appendChild(this.xs.J);
this.stream=null;this.aV=z.B("video","");this.aV.setAttribute("autoplay","true");this.body.appendChild(this.aV);
this.gH=this.tDQ.bind(this);this.vU=this.tDZ.bind(this);this.tIs=this.Bu.bind(this);this.O("closebtn",this.tDk,this)}re.prototype=new Jp;
re.prototype.w=function(){Jp.prototype.w.call(this);this.zd.w();this.wk.w();this.Bu()};re.prototype.cn=function(){var H=this.aV.videoWidth,N=this.aV.videoHeight,Q=z.B("canvas","");
Q.width=H;Q.height=N;var c=Q.getContext("2d");c.drawImage(this.aV,0,0,H,N);var _=c.getImageData(0,0,H,N);
return{MD:new p(0,0,H,N),data:_.data.buffer}};re.prototype.tDt=function(H){if(this.zd.v()==0)this.tDp();
else this.tDL()};re.prototype.tDL=function(){var H=this.cn(),N={buffer:new Uint8Array(H.data),rect:H.MD},Q=new k(z.E.W,!0);
Q.MI=!0;Q.c=l.uh;Q.data={X:R.rh,lD:N};this.N(Q);alert(tg.get([21,4]))};re.prototype.tDp=function(){var H=this.cn(),N=tM.Uc("camera",[H]),Q=new k(z.E.Y,!0);
Q.data={X:z.m.pL,Ti:N};this.N(Q);alert(tg.get([21,5]))};re.prototype.aK=function(H,N,Q){var c={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(c).then(this.gH).catch(this.vU);
else navigator.webkitGetUserMedia(c,this.gH,this.vU)};re.prototype.tDQ=function(H){this.stream=H;this.aV.srcObject=H;
this.aV.addEventListener("loadedmetadata",this.tIs,!1)};re.prototype.Bu=function(H){var N=this.aV.videoWidth,Q=this.aV.videoHeight;
this.xs.Q(tg.get([21,3])+": "+N+" x "+Q+" px");this.wA.kR(N,Q);this.Tc(this.JX,this.ht)};re.prototype._S=function(H,N){return Math.min(H,N)<500?new E(0,0):new E(100,100)};
re.prototype.Tc=function(H,N){this.JX=H;this.ht=N;var Q=H-28,c=N-28-38,_=this.wA.x/this.wA.y;if(Q/c>_)Q=c*_;
else c=Q/_;this.aV.setAttribute("style","display: block; width: "+Math.round(Q)+"px; height:"+Math.round(c)+"px;")};
re.prototype.tDZ=function(H){console.log("error",H);alert(tg.get([21,6]));this.close()};re.prototype.tDk=function(H){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.aV.src="";this.stream=null}};function ts(){Jp.call(this,[7,8],"crange");this.Ho=null;this.wF=0;
this.w_=0;this.hF=null;this.AA=z.B("div","form");this.AA.setAttribute("style","width:18em");this.body.appendChild(this.AA);
this.gn=new Jb("Fuzziness",0,200);this.gn.Q(40);this.gn.O(z.E.p,this.k_,this);this.AA.appendChild(this.gn.J);
this.ql=z.B("canvas");this.AA.appendChild(this.ql);this.gO=new JQ("OK",!0,null,!0);this.gO.O("click",this.create,this);
this.body.appendChild(this.gO.J)}ts.prototype=new Jp;ts.prototype.mv=function(H,N){return H!=null};ts.prototype.Zy=function(){return!0};
ts.prototype.cL=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y);this.wF=Math.max(0,Math.min(H.$-1,Math.floor(O.x)));
this.w_=Math.max(0,Math.min(H.z-1,Math.floor(O.y)));this.k_()};ts.prototype.w=function(){Jp.prototype.w.call(this)};
ts.prototype.create=function(H){var N=new k(z.E.W,!0);N.c=l.sQ;N.data={X:"setsel",_F:[7,8],t:{rect:new p(0,0,this.Ho.$,this.Ho.z),channel:this.hF}};
N.MI=!0;this.N(N);this.close()};ts.prototype.aK=function(H,N){this.Ho=H;this.wF=0;this.w_=0;this.k_()};
ts.prototype.k_=function(){var H=this.Ho,N=this.wF,Q=this.w_,c=this.ql,_=c.getContext("2d"),O=Math.floor(230*z.h()),L=Math.floor(O*(H.z/H.$));
c.width=O;c.height=L;z.gx(c,O,L);var s=new p(0,0,H.$,H.z),r=H.$*H.z,u=H.cn(),V=this.hF=$.I(r),C=(Q*H.$+N)*4,T=1/255,e=u[C]*T,t=u[C+1]*T,Y=u[C+2]*T,A=$.pI(e,t,Y),G=this.gn.v()/200,j=1/G,d=1/Math.sqrt(3);
for(var w=0;w<r;w++){var f=w<<2,b=u[f]*T,F=u[f+1]*T,n=u[f+2]*T,J=$.pI(b,F,n),Z=$.Y_(J.ht,A.ht);if(J.NK==1||A.NK==1)Z=0;
var P=Math.abs(J._u-A._u),M=Math.abs(J.NK-A.NK),y=Math.sqrt((e-b)*(e-b)+(t-F)*(t-F)+(Y-n)*(Y-n))*d,a=y<=G?1-y*j:0;
V[w]=255*a*(1-Z)}var g=$.I(V.length*4);$.Mw(g,4294967295);for(var w=0;w<3;w++)$.kw(V,g,w);var U=l._.Qk([g,s],new Jo(O/H.$,0,0,L/H.z,0,0)),D=_.createImageData(U.rect.$,U.rect.z);
$.sa(U.buffer,D.data);_.putImageData(D,0,0)};function tV(){Jp.call(this,[11,1],"colorpicker");this.iT=null;
this.oE=null;this.aj=null;this.ZR=!1;this.Ga=!1;var H=z.B("div","flexrow"),O,L;this.body.appendChild(H);
this.MH=new E;this.ZV=new E;this.tQ=this.zt.bind(this);this.tO=this.tcx.bind(this);this.rP=z.B("canvas","");
this._m=this.rP.getContext("2d");this.rP.width=this.rP.height=256;z.FW(this.rP);z.oA(this.rP,this.tct.bind(this));
H.appendChild(this.rP);this.WV=this.zr.bind(this);this.WP=this.tcY.bind(this);this.nM=z.B("canvas","");
this.Mh=this.nM.getContext("2d");this.nM.width=20;this.nM.height=256;z.FW(this.nM);z.oA(this.nM,this.tcO.bind(this));
H.appendChild(this.nM);var N=z.B("div","form");N.setAttribute("style","width:14.5em; margin-left:1em;");
H.appendChild(N);this.Wd=z.B("div","full");N.appendChild(this.Wd);this.WG=z.B("div","full");N.appendChild(this.WG);
var Q=z.B("div","flexrow");N.appendChild(Q);var c=z.B("div"),_=z.B("div");Q.appendChild(c);Q.appendChild(_);
O=["R","G","B"];L=c;this.I$=[];for(var s=0;s<3;s++){var r=new ry(O[s]+":",0,255,null,0,!1,!0);this.I$.push(r);
r.O(z.E.p,this.tDm,this);L.appendChild(r.J)}O=["H","S","B"];L=_;this.IJ=[];for(var s=0;s<3;s++){var u=0,V=360,C="\xB0";
if(s!=0){V=100;C="%"}var r=new ry(O[s]+":",u,V,C,0,!1,!0);this.IJ.push(r);r.O(z.E.p,this.tcR,this);L.appendChild(r.J)}this.ET=new rd("Hex",null,6);
this.ET.O(z.E.p,this.ZC,this);N.appendChild(this.ET.J);this.iW=z.B("input","fitem");this.iW.setAttribute("type","color");
this.iW.addEventListener("change",this.ZC.bind(this),!1);N.appendChild(this.iW);this.iQ=new tn(9);this.iQ.O(z.E.p,this.ZC,this);
N.appendChild(this.iQ.J);this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this._O,this);N.appendChild(this.Di.J);
this.O("closebtn",this.eA,this);this.gl=!1}tV.prototype=new Jp;tV.prototype.Zy=function(){return!0};
tV.prototype.Tc=function(H,N){this.rP.style.width=Math.min(256,H-250)+"px"};tV.prototype.cL=function(H,N,Q,c,_){this.gl=!0;
this.zR(H,_)};tV.prototype.XY=function(H,N,Q,c,_){if(!this.gl)return;this.zR(H,_)};tV.prototype.Nu=function(H,N,Q,c,_){this.gl=!1};
tV.prototype.zR=function(H,N){var Q=l.uS.WL(H,N,1),c=Q&255,_=Q>>8&255,O=Q>>16&255;this.oE={T:O/255,q:_/255,H:c/255};
this.update()};tV.prototype.tDm=function(H){var N=this.I$,Q=this._o(parseInt(N[0].v())),c=this._o(parseInt(N[1].v())),_=this._o(parseInt(N[2].v()));
this.oE={T:Q/255,q:c/255,H:_/255};this.update()};tV.prototype.tcR=function(H){var N=this.IJ,Q=this.Lt(parseInt(N[0].v())/360),c=this.Lt(parseInt(N[1].v())/100),_=this.Lt(parseInt(N[2].v())/100);
this.oE=$.pq(Q,c,_);this.ZV.y=(1-Q)*255;this.update()};tV.prototype.ZC=function(H){var N;if(H.currentTarget==this.iQ)N=this.iQ.v();
else{N=H.currentTarget==this.ET?this.ET.v():this.iW.value;if(N.charAt(0)=="#")N=N.slice(1);if(N.length==3)N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2];
N=$.ttO(N)}this.oE={T:(N>>16&255)/255,q:(N>>8&255)/255,H:(N&255)/255};this.update()};tV.prototype.tct=function(H){z.ny(window,this.tQ);
z.nL(window,this.tO);this.zt(H)};tV.prototype.tcx=function(H){z.vD(window,this.tQ);z.cQ(window,this.tO)};
tV.prototype.zt=function(H){var N=z.qF(H,this.rP);N.x=N.x*(256/parseFloat(this.rP.style.width));this.MH.kR(this._o(N.x),this._o(N.y));
this.oE=this.z$();this.update()};tV.prototype.z$=function(){var H=$.pq((255-this._o(this.ZV.y))/255,this.Lt(this.MH.x/255),this.Lt(1-this.MH.y/255));
return{T:H.T,q:H.q,H:H.H}};tV.prototype.tcO=function(H){z.ny(window,this.WV);z.nL(window,this.WP);this.zr(H)};
tV.prototype.tcY=function(H){z.vD(window,this.WV);z.cQ(window,this.WP)};tV.prototype.zr=function(H){var N=z.qF(H,this.nM);
this.ZV.kR(this._o(N.x),this._o(N.y));this.oE=this.z$();this.update()};tV.prototype.DD=function(H){var N=H.T,Q=H.q,c=H.H;
return Math.round(N*255)<<16|Math.round(Q*255)<<8|Math.round(c*255)};tV.prototype._O=function(H){this.zH();
var N=this.DD(this.oE);this.iQ.Q(N);this.aj(N);this.close()};tV.prototype.eA=function(H){this.zH();if(this.ZR)this.aj(this.DD(this.iT))};
tV.prototype.zH=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.bS};this.N(N)};tV.prototype.aK=function(H,N){var Q=new k(z.E.Y,!0);
Q.data={X:z.m.gM,Ut:"crosshair",push:!0};this.N(Q);this.gl=!1;this.aj=N.rI;this.ZR=!1;this.Ga=N.rc;var c=N.nx;
this.oE={T:(c>>16&255)/255,q:(c>>8&255)/255,H:(c>>0&255)/255};this.iT=JSON.parse(JSON.stringify(this.oE));
this.WG.setAttribute("style","height:3em;background-color:#"+$.fM(c)+";");this.update()};tV.prototype.update=function(){var H=this.oE,N=this.DD(H),Q=this.I$;
Q[0].Q(Math.round(H.T*255));Q[1].Q(Math.round(H.q*255));Q[2].Q(Math.round(H.H*255));this.ET.Q($.fM(N));
this.iW.value="#"+$.fM(N);this.Wd.setAttribute("style","height:3em;background-color:#"+$.fM(N)+";");
var c=$.sM(H.T,H.q,H.H);if(c.Dq==0)c._u=this.MH.x/255;if(c._u==0||c.Dq==0)c.ht=(255-this._o(this.ZV.y))/255;
Q=this.IJ;Q[0].Q(Math.round(c.ht*360));Q[1].Q(Math.round(c._u*100));Q[2].Q(Math.round(c.Dq*100));if(c.Dq!=0)this.MH.x=c._u*255;
this.MH.y=(1-c.Dq)*255;this.ZV.y=(1-c.ht)*255;var _=this._m.getImageData(0,0,256,256);this.tcB(_.data,256,256,c.ht);
this._m.putImageData(_,0,0);this._m.strokeStyle="#000000";this._m.beginPath();this._m.arc(this.MH.x+1,this.MH.y+1,5,0,2*Math.PI);
this._m.stroke();this._m.strokeStyle="#ffffff";this._m.beginPath();this._m.arc(this.MH.x,this.MH.y,5,0,2*Math.PI);
this._m.stroke();var _=this.Mh.getImageData(0,0,20,256);this.tcZ(_.data,20,256);this.Mh.putImageData(_,0,0);
this.Mh.strokeStyle="#ffffff";this.Mh.beginPath();this.Mh.moveTo(0,this.ZV.y);this.Mh.lineTo(20,this.ZV.y);
this.Mh.lineWidth=2;this.Mh.stroke();if(this.Ga){this.aj(this.DD(this.oE));this.ZR=!0}};tV.prototype.tcB=function(H,N,Q,c){for(var _=0;
_<Q;_++)for(var O=0;O<N;O++){var L=$.pq(c,O/N,(Q-_-1)/Q),s=_*N+O<<2;H[s+0]=~~(L.T*255);H[s+1]=~~(L.q*255);
H[s+2]=~~(L.H*255);H[s+3]=255}};tV.prototype.tcZ=function(H,N,Q){for(var c=0;c<Q;c++){var _=$.pq(1-c/Q,1,1);
for(var O=0;O<N;O++){var L=4*(c*N+O);H[L+0]=_.T*255;H[L+1]=_.q*255;H[L+2]=_.H*255;H[L+3]=255}}};tV.prototype._o=function(H){return Math.max(0,Math.min(255,H))};
tV.prototype.Lt=function(H){return Math.max(0,Math.min(1,H))};function VH(){Jp.call(this,[11,2],"contoureditor");
this.Wx=null;this.Px=null;this.response=null;this.DI=z.B("div","cell");this.body.appendChild(this.DI);
this.Kw=z.B("div","cell padded");this.body.appendChild(this.Kw);var H=z.B("div","bordered padded vmargin");
this.DI.appendChild(H);this.uW=new tS;this.uW.O(z.E.p,this.zz,this);H.appendChild(this.uW.J);this.Di=new JQ("OK",!0,null,!0);
this.Di.O("click",this.close,this);this.Kw.appendChild(this.Di.J);this.coords=z.B("div","");this.coords.setAttribute("style","width:250px");
this.DI.appendChild(this.coords);this.ap=new rd("X (in)","%",4);this.al=new rd("Y (out)","%",4);this.if=new JF([19,3,0]);
this.ap.O(z.E.p,this.Zq,this);this.al.O(z.E.p,this.Zq,this);this.if.O(z.E.p,this.Zq,this);this.coords.appendChild(this.ap.J);
this.coords.appendChild(this.if.J);this.coords.appendChild(this.al.J);this.O("closebtn",this.ua,this)}VH.prototype=new Jp;
VH.prototype.w=function(){Jp.prototype.w.call(this);this.if.w()};VH.prototype.zz=function(H){this.Px.Crv.v=this.uW.v();
this.response(this.Px);this.ZW()};VH.prototype.ua=function(H){this.response(this.Wx)};VH.prototype.aK=function(H,N){this.Wx=JSON.parse(JSON.stringify(N.C));
this.Px=N.C;this.response=N.response;this.uW.Q(this.Px.Crv.v);this.ZW()};VH.prototype.ZW=function(){var H=this.uW.BI();
this.coords.setAttribute("class",H==-1?"disabled":"");if(H==-1)return;var N=this.Px.Crv.v[H].v;this.ap.Q(Math.round(N.Hrzn.v*(100/255)));
this.al.Q(Math.round(N.Vrtc.v*(100/255)));this.if.Q(N.Cnty.v)};VH.prototype.Zq=function(H){var N=this.uW.BI(),Q=this.Px.Crv.v[N];
Q.v.Hrzn.v=parseFloat(this.ap.v())*(255/100);Q.v.Vrtc.v=parseFloat(this.al.v())*(255/100);Q.v.Cnty.v=this.if.v();
this.Px.Crv.v.sort(function(c,_){return c.v.Hrzn.v-_.v.Hrzn.v});this.uW.Q(this.Px.Crv.v,this.Px.Crv.v.indexOf(Q));
this.ZW();this.response(this.Px)};function $O(){Jp.call(this,[11,3],"csize");this.gf=0;this.AA=z.B("div","form");
this.AA.setAttribute("style","width:22em");this.body.appendChild(this.AA);this.JB=new $r(!1,!0,!0);this.JB.trW(!1);
this.AA.appendChild(this.JB.J);this.ge=new r_("Align with",["Document","Offset"]);this.ge.O(z.E.p,this.tcN,this);
this.AA.appendChild(this.ge.J);this.iu=new tK("Anchor");this.AA.appendChild(this.iu.J);this.iu.Q(4);
this.gN=new VY(!1);this.gN.tHP(new E(0,0));this.gO=new JQ("OK",!0,null,!0);this.gO.O("click",this.create,this);
this.body.appendChild(this.gO.J)}$O.prototype=new Jp;$O.prototype.mv=function(H,N){return H!=null};$O.prototype.tcN=function(){var H=[this.iu.J,this.gN.J];
this.AA.removeChild(H[this.gf]);this.gf=this.ge.v();this.AA.appendChild(H[this.gf])};$O.prototype.w=function(){Jp.prototype.w.call(this);
this.JB.w();this.ge.w();this.iu.w();this.gN.w()};$O.prototype.create=function(H){var N=this.JB.v(),Q=N.x,c=N.y,_=new k(z.E.W,!0);
_.c=l.Wz;_.data={X:"canvsize",vg:Q,vF:c,vm:this.JB.zi()};if(this.gf==0)_.data.iP=this.iu.v();else _.data.M=this.gN.tHv();
_.MI=!0;this.N(_);this.close()};$O.prototype.aK=function(H,N){this.JB.Q(new E(H.$,H.z),H.go)};function $c(){Jp.call(this,[11,4],"duplinto");
this.b=null;this.tx=null;this.ZM=null;this.AA=z.B("div","form");this.AA.setAttribute("style","width:18em");
this.body.appendChild(this.AA);this.Aw=new J_([12,43],["abc","def"]);this.Aw.O(z.E.p,this.zw,this);this.AA.appendChild(this.Aw.J);
this.A_=new rd([12,48]);this.AA.appendChild(this.A_.J);this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this._O,this);
this.AA.appendChild(this.Di.J)}$c.prototype=new Jp;$c.prototype.w=function(){Jp.prototype.w.call(this);
this.Aw.w();this.A_.w()};$c.prototype.zw=function(H){var N=this.Aw.v();if(N==this.ZM.length)this.A_.qQ();
else this.A_.uI()};$c.prototype.aK=function(H,N,Q){this.b=H.HK();this.tx=H;this.ZM=Q;this.A_.Q(this.b.length==0?"Layer":this.b[this.b.length-1].getName());
var c=[];for(var _=0;_<Q.length;_++)c.push(Q[_].name);c.push([11,7]);this.Aw.ea(c);this.Aw.Q(Q.indexOf(H));
this.zw(null)};$c.prototype._O=function(H){var N=this.Aw.v();if(N==this.ZM.length){var Q=new rw(this.A_.v()+".psd");
Q.$=this.tx.$;Q.z=this.tx.z;Q.buffer=$.I(Q.$*Q.z*4);var c=Q.Zs();c.Vp("Background");Q.rM([c]);var _=new k(z.E.Y,!0);
_.data={X:z.m.pL,Ti:Q};this.N(_)}var _=new k(z.E.W,!0);_.data={X:R.HS,b:this.b,Ts:this.tx,dN:this.ZM[N]};
_.c=l.uh;_.MI=!0;this.N(_);this.close()};function HQ(){Jp.call(this,[1,9],"eassets");this.Sn=null;this.Al=null;
var H=z.B("div","form");H.setAttribute("style","width:37em");this.body.appendChild(H);var N=z.B("span");
N.innerHTML="A layer is <b>exportable</b>, when its name starts with <b>\"-e-\"</b>.<br/>";H.appendChild(N);
this.iK=z.B("span");H.appendChild(this.iK);H.appendChild(z.B("br"));this.aR=new tF([12,50],["PNG","JPG","SVG"]);
this.aR.Q([!0,!1,!1]);H.appendChild(this.aR.J);this.at=new tF([12,14],["1x","2x","3x","4x"]);this.at.Q([!0,!1,!1,!1]);
H.appendChild(this.at.J);this.gO=new JQ([1,9],!0,null,!0);this.gO.O("click",this.DG,this);H.appendChild(this.gO.J);
this.O("closebtn",this.Zp,this)}HQ.prototype=new Jp;HQ.prototype.Zp=function(H){this.Al=null};HQ.prototype.w=function(){Jp.prototype.w.call(this);
this.aR.w();this.at.w();this.gO.w()};HQ.prototype.aK=function(H,N,Q){var c=[];for(var _=0;_<H.b.length;
_++){var O=H.b[_].getName();if(O.startsWith("-e"))c.push(O)}var L="- - - "+c.length+" exportable layers";
this.iK.textContent=L;this.Al=H};HQ.prototype.qB=function(H,N){this.Sn=H};HQ.prototype.DG=function(H){var N=this.Al,Q=this.aR.v(),c=[];
for(var _=0;_<Q.length;_++)if(Q[_])c.push(["PNG","JPG","SVG"][_]);var O=this.at.v(),L={};for(var _=0;
_<N.b.length;_++){var s=N.b[_],r=s.getName();if(!r.startsWith("-e"))continue;var u=s.op();s.cE(!0);for(var V=0;
V<O.length;V++){if(!O[V])continue;var C=V+1,T=l.UP.pJ(N,c,C,this.Sn,_);for(var e=0;e<c.length;e++){var t=c[e],Y=r.slice(3)+(C==1?"":"-"+C+"x")+"."+t.toLowerCase();
L[Y]=new Uint8Array(T[e])}}s.cE(u)}var A=UZIP.encode(L),G=new k(z.E.Y,!0);G.data={X:z.m.IA,data:A,name:"assets.zip"};
this.N(G)};function HL(H){Jp.call(this,JD[H]?VJ.names[H]:JO.names[H],"filter_"+H);this.qd=H;this.UQ=null;
this.uW=JD[H]?new JD[H]:new JE[H];this.uW.O(z.E.p,this.Id,this);this.uW.parent=this;if(!this.fi())this.body.setAttribute("style","width:22em");
this.body.appendChild(this.uW.J);this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this.wS,this);if(this.uW.fi())this.uW.Bj(this.Di.J);
else this.body.appendChild(this.Di.J);this.O("closebtn",this.eA,this)}HL.prototype=new Jp;HL.prototype.ZQ=function(){return!0};
HL.prototype.fi=function(){return this.uW!=null&&this.uW.fi()};HL.prototype._S=function(){return this.uW.fi()?new E(0,0):Jp.prototype._S()};
HL.prototype.w=function(){Jp.prototype.w.call(this);if(this.uW)this.uW.w()};HL.prototype.qB=function(H,N){if(JD[this.qd]==null)this.uW.qB(H,N)};
HL.prototype.FJ=function(H,N,Q,c){if(this.uW)this.uW.FJ(c)};HL.prototype.Id=function(H){var N=this.uW.v();
if(JD[this.qd]==null){var Q=VJ.vI(this.qd);N=JO.nt(this.qd,N,Q)}this.oe({X:"edit",Dq:N})};HL.prototype.aK=function(H,N){this.UQ=N.UQ;
var Q=H.add.lnk2?H.add.lnk2:[],c,_,O=new p(0,0,H.$,H.z),L=H.b[H.g[0]],s=null;c=L.buffer;_=L.rect;if(this.fi())s=H.cn(H.g[0]-1);
if(JE[this.qd]){var r={};JO.jw(this.qd,r);this.uW.Q(JO.cV(r))}else if(JD[this.qd])this.uW.Q(VJ.vI(this.qd),c,_,O,s,Q);
if(N.UQ){var L=H.b[this.UQ.i];if(L.kl()){var u=L.hy(H);c=u.buffer;_=u.rect;var V=L.add.SoLd.filterFX.v.filterFXList.v;
if(V[this.UQ.index]){var C=V[this.UQ.index].v.Fltr.v;if(JD[this.qd])this.uW.Q(C,c,_,O,s,Q);else this.uW.Q(JO.lK(this.qd,C))}}}if(!this.fi())this.Id()};
HL.prototype.eA=function(H){this.oe({X:"cancel"})};HL.prototype.wS=function(H){if(this.fi())this.Id();
this.oe({X:"confirm"});this.close()};HL.prototype.oe=function(H){var N=new k(z.E.W,!0);H.filter=this.qd;
H.UQ=this.UQ;N.data=H;N.c=l.Mb;N.MI=!0;this.N(N)};HL.prototype.Tc=function(H,N){N=N-26;H=H-26;this.uW.Tc(H,N)};
function tT(){Jp.call(this,[11,5],"gradienteditor");this.iT=null;this.oE=null;this.wR=null;this.aj=null;
this.ZR=!1;this.Ga=!1;z.wj(this.body,"form");this.To=null;this.g$=null;this.uu=-1;this.BE=-1;this.qn=0;
this.t_=this.Ll.bind(this);this.Vt=this.uZ.bind(this);this.rP=z.B("canvas","");this._m=this.rP.getContext("2d");
this.rP.setAttribute("style","display:block");this.VM=null;z.FW(this.rP);z.oA(this.rP,this.uB.bind(this));
this.oR=new ry("Smoothness:",0,100,"%");this.oR.O(z.E.p,this.MP,this);this.oR.parent=this;this.body.appendChild(this.oR.J);
this.body.appendChild(z.B("br"));this.SX=new $J([12,0]);this.body.appendChild(this.SX.J);this.oT=z.B("div","bordered padded noalign");
this.body.appendChild(this.oT);this.OO=new ry([12,0],0,100,"%");this.OO.parent=this;this.OO.O(z.E.p,this.MP,this);
this.oT.appendChild(this.OO.J);this.vJ=new ry([12,40],0,100,"%");this.vJ.parent=this;this.vJ.O(z.E.p,this.MP,this);
this.oT.appendChild(this.vJ.J);this.a$=new JQ([5,4],!1,null,!0);this.a$.O("click",this.zT,this);this.oT.appendChild(this.a$.J);
this.body.appendChild(this.rP);this.body.appendChild(z.B("br"));this.Wg=new $J([13,0]);this.body.appendChild(this.Wg.J);
this.Va=z.B("div","bordered padded noalign");this.body.appendChild(this.Va);this.ZI=new J_([12,44],[[12,45],[12,46],[12,47]]);
this.ZI.O(z.E.p,this.MP,this);this.Va.appendChild(this.ZI.J);this.MB=new VW(!0);this.MB.parent=this;
this.MB.O(z.E.p,this.MP,this);this.Va.appendChild(this.MB.J);this.vC=new ry([12,40],0,100,"%");this.vC.parent=this;
this.vC.O(z.E.p,this.MP,this);this.Va.appendChild(this.vC.J);this.aH=new JQ([5,4],!1,null,!0);this.aH.O("click",this.zP,this);
this.Va.appendChild(this.aH.J);this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this._O,this);this.body.appendChild(this.Di.J);
this.O("closebtn",this.eA,this)}tT.prototype=new Jp;tT.prototype.eA=function(H){if(this.ZR)this.aj(this.iT)};
tT.prototype.w=function(){Jp.prototype.w.call(this);this.SX.w();this.Wg.w();this.a$.w();this.aH.w();
this.OO.w();this.vJ.w();this.ZI.w();this.vC.w()};tT.prototype.qB=function(H,N){this.wR=H};tT.prototype.aK=function(H,N){this.oE=JSON.parse(JSON.stringify(N.e));
this.iT=JSON.parse(JSON.stringify(N.e));this.To=this.g$=null;this.Uz();this.xK();this.aj=N.rI;this.ZR=!1;
this.Ga=N.rc};tT.prototype._O=function(H){var N=this.oE;this.aj(N);this.close()};tT.prototype.jV=function(H){return H==K.nC};
tT.prototype.FJ=function(H,N,Q,c){if(c.l(K.nC)){if(this.g$)this.zT();if(this.To)this.zP()}};tT.prototype.zT=function(H){var N=this.oE.Trns.v;
if(this.g$==null||N.length==2)return;N.splice(N.indexOf(this.g$),1);this.g$=null;this.Uz();this.xK()};
tT.prototype.zP=function(H){var N=this.oE.Clrs.v;if(this.To==null||N.length==2)return;N.splice(N.indexOf(this.To),1);
this.To=null;this.Uz();this.xK()};tT.prototype.Uz=function(){var H=this.rP,N=this._m,Q=z.h();H.width=Math.floor(410*Q);
H.height=Math.floor(90*Q);z.gx(H,H.width,H.height);this.VM=new p(0,0,Math.floor(380*Q),Math.floor(32*Q));
this.VM.x=Math.floor((this.rP.width-this.VM.$)/2);this.VM.y=Math.floor((this.rP.height-this.VM.z)/2);
var c=this.VM,_=c.$,O=c.z,L=c.x,s=c.y,r=new p(0,0,_,O),u=N.getImageData(0,0,_,O),V=new Uint8Array(u.data.buffer);
$.by(V,_,O,8,0,0);var C=$.I(_*O*4);$.e.AH(this.oE,C,r,[1/_,0,0,1/O],_/2,O/2,!1,0,this.wR.AF,this.wR.ze);
$.a.MR("norm",C,c,V,c,c,1);N.clearRect(0,0,H.width,H.height);N.putImageData(u,L,s);var T=this.oE.Trns.v,e=this.oE.Clrs.v,t=$.e.zp(e,this.wR.AF,this.wR.ze),Y=Math.round(6*z.h()),A=Math.round(14*z.h()),G=this.g$?this.g$.v:null,j=this.To?this.To.v:null;
for(var d=0;d<T.length;d++){var w=T[d].v,f=Math.round(255-255*w.Opct.v.val/100);if((w==G||T[d-1]&&T[d-1].v==G||d==this.BE)&&d!=0){N.fillStyle="#000000";
N.fillRect(L-3+_*(T[d-1].v.Lctn.v+(w.Lctn.v-T[d-1].v.Lctn.v)*w.Mdpn.v/100)/4096,s-6-2,6,6)}if(w==G){N.fillStyle="#ffffff";
N.fillRect(L-Y+_*(w.Lctn.v/4096)-2,s-2-A-2,2*Y+4,A+4)}N.fillStyle="rgb("+f+","+f+","+f+")";N.fillRect(L-Y+_*(w.Lctn.v/4096),s-2-A,2*Y,A)}for(var d=0;
d<e.length;d++){var b=e[d].v,F=t[d];if((b==j||e[d-1]&&e[d-1].v==j||d==this.uu)&&d!=0){N.fillStyle="#000000";
N.fillRect(L-3+_*(e[d-1].v.Lctn.v+(b.Lctn.v-e[d-1].v.Lctn.v)*b.Mdpn.v/100)/4096,s+O+2,6,6)}if(b==j){N.fillStyle="#ffffff";
N.fillRect(L-Y+_*(b.Lctn.v/4096)-2,s+O+2-2,2*Y+4,A+4)}N.fillStyle="rgb("+Math.round(F.T)+", "+Math.round(F.q)+","+Math.round(F.H)+")";
N.fillRect(L-Y+_*(b.Lctn.v/4096),s+O+2,2*Y,A)}if(this.Ga){this.aj(this.oE);this.ZR=!0}};tT.prototype.xK=function(){this.oR.Q(Math.round(100*this.oE.Intr.v/4096));
var H=this.oE.Trns.v,N=this.oE.Clrs.v,Q=this.g$!=null,c=this.BE!=-1;this.OO.FX(Q);this.vJ.FX(Q||c);this.a$.FX(Q);
if(Q){this.oT.setAttribute("style","");var _=this.g$.v;this.vJ.Q(Math.round(100*_.Lctn.v/4096));this.OO.Q(_.Opct.v.val)}if(c)this.vJ.Q(H[this.BE].v.Mdpn.v);
var Q=this.To!=null,c=this.uu!=-1;this.ZI.FX(Q);this.MB.FX(Q);this.vC.FX(Q||c);this.aH.FX(Q);if(Q){this.Va.setAttribute("style","");
var O=this.To.v;this.vC.Q(Math.round(100*O.Lctn.v/4096));var L=O.Type.v.Clry;this.ZI.Q(["FrgC","BckC","UsrS"].indexOf(L));
if(L=="FrgC")this.MB.kI(this.wR.AF);if(L=="BckC")this.MB.kI(this.wR.ze);if(L=="UsrS")this.MB.Q(O.Clr.v)}if(c)this.vC.Q(N[this.uu].v.Mdpn.v)};
tT.prototype.MP=function(H){var N=Math.round(4096*this.oR.v()/100);this.oE.Intr.v=N;var Q=this.oE.Trns.v,c=this.oE.Clrs.v;
if(this.g$!=null){var _=this.g$.v;_.Lctn.v=Math.round(4096*(this.vJ.v()/100));_.Opct.v.val=this.OO.v()}if(this.To!=null){var O=this.To.v;
O.Lctn.v=Math.round(4096*(this.vC.v()/100));if(H.target==this.MB)this.ZI.Q(2);var L=this.ZI.v();O.Type.v.Clry=["FrgC","BckC","UsrS"][L];
if(L==2)O.Clr={t:"Objc",v:this.MB.v()};else if(O.Clr)delete O.Clr}if(this.BE!=-1)Q[this.BE].v.Mdpn.v=this.vJ.v();
if(this.uu!=-1)c[this.uu].v.Mdpn.v=this.vC.v();this.Uz()};tT.prototype.uB=function(H){var N=z.qF(H,this.rP),Q=(N.x*z.h()-this.VM.x)/this.VM.$,c=(N.y*z.h()-this.VM.y)/this.VM.z,_=this.oE.Trns.v,O=this.oE.Clrs.v,L=null,s=null,r=-1,u=-1;
if(c<1)for(var V=0;V<_.length;V++){var C=_[V].v;if(Math.abs(C.Lctn.v/4096-Q)<.02)L=_[V];if(V>0)if(Math.abs((_[V-1].v.Lctn.v+(C.Lctn.v-_[V-1].v.Lctn.v)*C.Mdpn.v/100)/4096-Q)<.01)r=V}if(c>0)for(var V=0;
V<O.length;V++){var T=O[V].v;if(Math.abs(T.Lctn.v/4096-Q)<.02)s=O[V];if(V>0)if(Math.abs((O[V-1].v.Lctn.v+(T.Lctn.v-O[V-1].v.Lctn.v)*T.Mdpn.v/100)/4096-Q)<.01)u=V}if(s==null&&L==null&&r==-1&&u==-1){if(c<0){var C={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
C.v.Lctn.v=Math.round(Q*4096);_.push(C);_.sort(this.Dv);L=C}if(c>1){var O=this.oE.Clrs.v,e=$.e.zp(O,this.wR.AF,this.wR.ze),t=$.e.rz(this.oE,e,Q),T={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:$.e.Ta({T:t&255,q:t>>8&255,H:t>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
T.v.Lctn.v=Math.round(Q*4096);O.push(T);O.sort(this.Dv);s=T}}if(s!=null||L!=null||r>-1||u>-1){this.g$=L;
this.To=s;this.BE=r;this.uu=u;this.xK();this.Uz();z.ny(window,this.t_);z.nL(window,this.Vt)}};tT.prototype.Ll=function(H){var N=z.qF(H,this.rP),Q=z.h()*(N.x-this.VM.x)/this.VM.$,c=z.h()*(N.y-this.VM.y)/this.VM.z;
Q=Math.max(0,Math.min(1,Q));var _=this.oE.Trns.v,O=this.oE.Clrs.v;if(this.g$!=null){var L=this.g$.v;
L.Lctn.v=Math.round(4096*Q);var s=_.indexOf(this.g$);if(s!=-1&&c<-1&&_.length>2)_.splice(s,1);if(s==-1&&c>-1)_.push(this.g$);
_.sort(this.Dv)}if(this.To!=null){var r=this.To.v;r.Lctn.v=Math.round(4096*Q);var u=O.indexOf(this.To);
if(u!=-1&&c>1.5&&O.length>2)O.splice(u,1);if(u==-1&&c<1.5)O.push(this.To);O.sort(this.Dv)}if(this.BE>-1){var L=_[this.BE].v;
L.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(Q*4096-_[this.BE-1].v.Lctn.v)/(L.Lctn.v-_[this.BE-1].v.Lctn.v))))}if(this.uu>-1){var r=O[this.uu].v;
r.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(Q*4096-O[this.uu-1].v.Lctn.v)/(r.Lctn.v-O[this.uu-1].v.Lctn.v))))}if(this.g$!=null||this.To!=null||this.BE>-1||this.uu>-1){this.xK();
this.Uz()}};tT.prototype.uZ=function(H){z.vD(window,this.t_);z.cQ(window,this.Vt);if(Date.now()-this.qn<300){if(this.uu!=-1||this.BE!=-1){var N=(this.uu!=-1?this.oE.Clrs.v[this.uu]:this.oE.Trns.v[this.BE]).v;
N.Mdpn.v=50;this.xK();this.Uz()}else if(this.To!=null)this.MB.ttq()}this.qn=Date.now()};tT.prototype.Dv=function(H,N){return H.v.Lctn.v-N.v.Lctn.v};
function $M(){Jp.call(this,[11,10],"isize");this.AA=z.B("div","form");this.AA.setAttribute("style","width:20em");
this.body.appendChild(this.AA);this.JB=new $r(!0,!0);this.AA.appendChild(this.JB.J);this.hu=new J_("Interpolate",["Nearest","Bilinear"]);
this.hu.Q(1);this.hu.O(z.E.p,this.AQ,this);this.AA.appendChild(this.hu.J);this.gO=new JQ("OK",!0,null,!0);
this.gO.O("click",this.create,this);this.body.appendChild(this.gO.J)}$M.prototype=new Jp;$M.prototype.mv=function(H,N){return H!=null};
$M.prototype.w=function(){Jp.prototype.w.call(this);this.hu.w();this.JB.w()};$M.prototype.create=function(H){var N=this.JB.v(),Q=N.x,c=N.y,_=new k(z.E.W,!0);
_.c=l.Wz;_.data={X:"imgsize",vg:Q,vF:c,vm:this.JB.zi(),Et:this.hu.v()};_.MI=!0;this.N(_);this.close()};
$M.prototype.aK=function(H,N){this.JB.Q(new E(H.$,H.z),H.go)};function $m(H,N,Q){JS.call(this);this.J=z.B("div","");
this.io=H;this.Ju=null;this.ov=N==null?!1:N;this.aT=null;this.Au=Q;this.Ir=[];this.UA=[];this.oq=[];
this.UT=[];this.oY=0;this.Ju=this.tLk($m.UT[H]);this.sA()}$m.prototype=new JS;$m.prototype.tcF=function(){for(var H=0;
H<this.UT.length;H++){z.cd(this.UT[H],"selected");if(this.oq[H]instanceof JF)this.oq[H].Q(!1)}};$m.prototype.tLr=function(H){var N=this.tLD.bind(this);
for(var Q=0;Q<this.oq.length;Q++){var c=z.B("div","listitem");this.UT.push(c);if(Q>0)c.textContent="\u2003";
c.appendChild(this.oq[Q].J);if(B.ju.indexOf(this.io)!=-1){var _=new JQ("+");_.PT();_.J.style.float="right";
c.appendChild(_.J);var O=new JQ("\u2B0D");O.PT();O.J.style.float="right";O.J.style["margin-right"]="2px";
c.appendChild(O.J)}c.addEventListener("click",N,!1);H.appendChild(c)}};$m.MM=function(H,N){var Q=N.getBoundingClientRect();
return(H.clientY-Q.top)/Q.height};$m.prototype.tLD=function(H){var N=H.target.tagName.toLowerCase();
if(N=="input"){return}if(N=="button"){var Q=new k(z.E.W,!0),c=H.target.textContent=="+",_=c?0:$m.MM(H,H.target)<.5?-1:1;
if(c)Q.data={X:"st_dupsingle",i:this.parent.data.i,pV:this.Au};else Q.data={X:"st_movsingle",i:this.parent.data.i,pV:this.Au,yA:_};
Q.c=l.rt;Q.MI=!0;this.N(Q);Q=new k("redrawall",!0);Q.data={yA:_};this.N(Q);return}H.preventDefault();
H.stopPropagation();this.Zi();this.oY=this.UT.indexOf(H.currentTarget);this.N(new k("showme"))};$m.prototype.Zi=function(){if(this.Ju.enab&&this.Ju.enab.v()==!1)this.oe({aO:"enab",R:!0})};
$m.prototype.tLL=function(){var H=this.UT[this.oY];if(H)z.wj(H,"selected");return this.UA[this.oY]};
$m.prototype.tLk=function(H){var N={};for(var Q=0;Q<H.length;Q++){var c=H[Q],_=null;if(c=="----")_={J:z.B("hr","")};
if(c=="blOptions")_=new $J([14,10]);if(c=="brst")_=new MultiCheck([12,72],["R","G","B"]);if(c=="knko")_=new J_("Knockout",[[13,1,0],"Shallow","Deep"]);
if(c=="enab")_=new JF(B.names[B.order.indexOf(this.io)]);if(c=="lrMd"||c=="Md")_=new J_([12,19],ta.ln,!1,ta.XL);
if(c=="Opct")_=new tc([12,0],0,100,"%");if(c=="iOpa")_=new tc([12,26],0,100,"%");if(c=="ShdN")_=new tc([12,68],0,100,"%");
if(c=="lagl"||c=="Angl")_=new Hc([12,15]);if(c=="uglg")_=new JF([12,27]);if(c=="Dstn")_=new tc([12,28],0,200,"px");
if(c=="Ckmt")_=new tc([12,29],0,100,"%");if(c=="blur")_=new tc([12,14],0,200,"px");if(c=="TrnS"||c=="MpgS")_=new tA([12,21]);
if(c=="Nose")_=new tc([12,30],0,100,"%");if(c=="layerConceals")_=new JF([12,31]);if(c=="AntA"||c=="antialiasGloss")_=new JF("Anti-alias");
if(c=="GlwT")_=new J_([12,32],B.eV.names);if(c=="glwS")_=new J_([12,70],B.eV.tDH);if(c=="Inpr")_=new tc([12,12],1,100,"%");
if(c=="bvlS")_=new J_([12,22],B.Dr.style);if(c=="bvlT")_=new J_([12,32],B.Dr.tDO);if(c=="bvlD")_=new J_(null,B.Dr.dir);
if(c=="srgR")_=new tc([12,34],0,1e3,"%");if(c=="Sftn")_=new tc([12,35],0,20,"px");if(c=="Lald")_=N.lagl;
if(c=="hglM"||c=="sdwM")_=new J_([12,36],ta.ln,!1,ta.XL);if(c=="hglC"||c=="sdwC")_=new VW;if(c=="hglO"||c=="sdwO")_=new tc([12,0],0,100,"%");
if(c=="Invr"||c=="InvT")_=new JF([4,11]);if(c=="Sz")_=new tc([12,14],1,200,"px");if(c=="Styl")_=new J_([12,40],B.stroke.names);
if(c=="PntT")_=new J_([12,66],B.stroke.tDr);if(c=="Clr")_=new VW(!0);if(c=="Grad")_=new J$(!0,[12,37],!0);
if(c=="Rvrs")_=new JF([12,23]);if(c=="Type")_=new J_([12,22],B.e.names.slice(0,this.io=="FrFX"?6:5));
if(c=="Ptrn")_=new tl([12,62]);if(c=="Scl")_=new tc([12,38],10,500,"%",0,!0);if(c=="Algn")_=new JF([12,39]);
if(c=="Ofst")_=new VY(!0);if(c=="phase")_=new VY(!1);if(c=="useShape")_=new JF([12,21]);if(c=="useTexture")_=new JF([12,67]);
if(c=="textureDepth")_=new tc("Depth",-300,300,"%");if(_!=null)N[c]=_}return N};$m.prototype.tCJ=function(H){var N=this.UA[this.oY];
for(var Q=0;Q<H.length;Q++){var c=this.Ju[H[Q]];if(c&&N.contains(c.J))N.removeChild(c.J)}};$m.prototype.tCH=function(H){var N=this.UA[this.oY];
for(var Q=0;Q<H.length;Q++){var c=this.Ju[H[Q]];if(c&&!N.contains(c.J))N.appendChild(c.J)}};$m.prototype.qB=function(H,N){if(this.Ju==null)return;
var Q=N==JG.hP;if(this.Ju.Grad){this.Ju.Grad.zE(H.AF,H.ze);if(Q||N==JG.nc||N==JG.wB)this.Ju.Grad.aA(H.MS)}if(this.Ju.Ptrn){if(Q||N==JG.Sd)this.Ju.Ptrn.aA(H.wg)}if(this.Ju.TrnS){if(Q||N==JG.J$)this.Ju.TrnS.aA(H.IH)}if(this.Ju.MpgS){if(Q||N==JG.J$)this.Ju.MpgS.aA(H.IH)}};
$m.prototype.w=function(){for(var H=0;H<this.Ir.length;H++)this.Ir[H].w();for(var N in this.Ju)if(this.Ju[N]instanceof JS)this.Ju[N].w()};
$m.prototype.sA=function(){for(var H in this.Ju){var N=this.Ju[H];N.parent=this;if(N instanceof JS)N.O(z.E.p,this.tCK,this);
if(this.UA.length==0||H=="useShape"||H=="useTexture"){var Q=new $J(N.BP()),c=z.B("div","bordered padded");
if(this.ov==!1){c.appendChild(Q.J);c.appendChild(z.B("hr",""))}this.Ir.push(Q);this.UA.push(c);this.oq.push(N)}else this.UA[this.UA.length-1].appendChild(N.J)}};
$m.prototype.update=function(H,N){if(this.Ju==null)return;if(this.ov)this.aT=JSON.parse(JSON.stringify(N));
for(var Q in N){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(Q)!=-1)this.Ju[Q].Q(N[Q].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(Q)!=-1){this.Ju[Q].Q(N[Q].v,H)}if(["Md","hglM","sdwM"].indexOf(Q)!=-1)this.Ju[Q].Q(ta.io.indexOf(N[Q].v.BlnM));
if(Q=="lrMd"){var c=(N.oP?["Pass Through"]:[]).concat(ta.ln),_=(N.oP?[1]:[]).concat(ta.XL);this.Ju[Q].ea(c,_);
this.Ju[Q].Q(N[Q].v)}if(Q=="lagl"){var O=N.uglg&&N.uglg.v?H.Ej():N.lagl.v.val;this.Ju[Q].Q(O)}if(Q=="Lald"){var O=N.uglg&&N.uglg.v?H.wO():N.Lald.v.val;
this.Ju[Q].Q(null,O)}if(Q=="Type")this.Ju[Q].Q(B.e.types.indexOf(N.Type.v.GrdT));if(Q=="Styl")this.Ju[Q].Q(B.stroke.types.indexOf(N.Styl.v.FStl));
if(Q=="PntT"){var L=B.stroke.YI.indexOf(N.PntT.v.FrFl);this.Ju[Q].Q(L);if(!this.ov){this.tCJ(B.IS.concat(B.fT.concat(B.fP)));
this.tCH([B.IS,B.fT,B.fP][L])}}if(Q=="GlwT")this.Ju[Q].Q(B.eV.types.indexOf(N.GlwT.v.BETE));if(Q=="glwS")this.Ju[Q].Q(B.eV.KR.indexOf(N.glwS.v.IGSr));
if(Q=="bvlS")this.Ju[Q].Q(B.Dr.types.indexOf(N.bvlS.v.BESl));if(Q=="bvlT")this.Ju[Q].Q(B.Dr.Kr.indexOf(N.bvlT.v.bvlT));
if(Q=="bvlD")this.Ju[Q].Q(["In","Out"].indexOf(N.bvlD.v.BESs))}};$m.prototype.tCK=function(H){for(var N in this.Ju){if(this.Ju[N]!=H.target)continue;
var Q=null,c=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(N)!=-1)Q={type:"#Prc",val:H.target.v()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(N)!=-1)Q={type:"#Pxl",val:H.target.v()};if(["Angl","lagl"].indexOf(N)!=-1)Q={type:"#Ang",val:H.target.v().PQ};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(N)!=-1)Q=H.target.v();
if(["Md","hglM","sdwM"].indexOf(N)!=-1)Q={BlnM:ta.io[H.target.v()]};if(N=="uglg"){Q=H.target.v();c=!0}if(N=="PntT"){Q={FrFl:B.stroke.YI[H.target.v()]};
c=!0}if(N=="Lald")Q={type:"#Ang",val:H.target.v().alt};if(N=="Type")Q={GrdT:B.e.types[H.target.v()]};
if(N=="Styl")Q={FStl:B.stroke.types[H.target.v()]};if(N=="GlwT")Q={BETE:B.eV.types[H.target.v()]};if(N=="glwS")Q={IGSr:B.eV.KR[H.target.v()]};
if(N=="bvlS")Q={BESl:B.Dr.types[H.target.v()]};if(N=="bvlT")Q={bvlT:B.Dr.Kr[H.target.v()]};if(N=="bvlD")Q={BESs:["In","Out"][H.target.v()]};
this.oe({aO:N,R:Q});if(c){if(this.ov)this.update(null,this.aT);else{var _=this.parent.Ti.b[this.parent.data.i].add.lmfx[B.vz[this.Au[0]]].v[this.Au[1]].v;
this.update(this.parent.Ti,_)}}}};$m.prototype.oe=function(H){if(this.ov){this.aT[H.aO].v=H.R;this.N(new k(z.E.p))}else{H.X="changeprop";
H.i=this.parent.data.i;H.U_=this.Au;var N=new k(z.E.W,!0);N.data=H;N.c=l.rt;N.MI=!0;this.N(N);this.N(new k("afterchange",!0))}};
$m.prototype.v=function(){return JSON.parse(JSON.stringify(this.aT))};$m.UT={bops:["blOptions","lrMd","Opct","iOpa"],DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose".split(" "),OrGl:"enab Md Clr Grad Opct Nose GlwT Ckmt blur TrnS AntA Inpr ShdN".split(" "),IrGl:"enab Md Clr Grad Opct Nose GlwT glwS Ckmt blur TrnS AntA Inpr ShdN".split(" "),ebbl:"enab bvlS bvlT bvlD srgR blur Sftn ---- lagl Lald uglg TrnS antialiasGloss hglM hglC hglO sdwM sdwC sdwO useShape MpgS AntA Inpr useTexture Ptrn Scl textureDepth InvT Algn phase".split(" "),SoFi:["enab","Md","Opct"].concat(B.IS),GrFl:["enab","Md","Opct"].concat(B.fT),patternFill:["enab","Md","Opct"].concat(B.fP),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS AntA Invr".split(" "),FrFX:"enab Sz Styl Md Opct PntT".split(" ").concat(B.IS.concat(B.fT.concat(B.fP)))};
function ri(){Jp.call(this,[11,6],"layerstyle");this.tLM=-1;this.data={};this.Ti=null;this.Sn=null;this.qI=[];
this.iz=[];z.wj(this.body,"flexrow");this.DI=z.B("div","bordered");this.DI.setAttribute("style","min-width:13em;");
this.body.appendChild(this.DI);this.Nc=z.B("div","");this.Nc.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Nc);this.Kw=z.B("div","form");this.Kw.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Kw);this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this.wS,this);this.Kw.appendChild(this.Di.J);
this.II=new JQ([12,87],!0,null,!0);this.II.O("click",this.tCb,this);this.Kw.appendChild(this.II.J);this.Um=new VK;
this.Um.parent=this;this.Um.O(z.E.p,this.tCY,this);this.Kw.appendChild(this.Um.J);this.O("closebtn",this.eA,this);
this.O("redrawall",this.zM,this)}ri.prototype=new Jp;ri.prototype.ZQ=function(){return!0};ri.prototype.tCY=function(H){var N=this.Um.v();
this.oe({X:"setstl",R:N.PH});this.zM(null)};ri.prototype.tCb=function(H){var N=this.Ti,Q=this.data.i;
if(Q==null)Q=N.g[0];var c=this.Ti.b[Q],_=Ja.Kn(c),O=new k(z.E.Y,!0);O.data={X:z.m.u_,fa:"add",gg:JG.fd,Tb:[JSON.parse(JSON.stringify(_))]};
this.N(O)};ri.prototype.tCB=function(H){this.data.index=H.currentTarget.Au;this.Zj(H.currentTarget.Au)};
ri.prototype.zM=function(H){this.aK(this.Ti,this.data)};ri.prototype.Zj=function(H,N){z.hk(this.Nc);
for(var Q=0;Q<this.qI.length;Q++)this.qI[Q].tcF();var c=H==0?this.qI[0]:this.iz[H[0]][H[1]];this.Nc.appendChild(c.tLL());
if(N)c.Zi();var _=this.Ti;if(_){var O=_.b[this.data.i];this.qI[0].update(_,JL.cW.oW(_,O));var L=O.add.lmfx;
if(L==null)return;for(var Q=0;Q<B.order.length;Q++){var s=L[B.vz[Q]].v;for(var r=0;r<s.length;r++)this.iz[Q][r].update(_,s[r].v)}}if(N)c.Zi()};
ri.prototype.w=function(){Jp.prototype.w.call(this);this.II.w();this.Um.w();for(var H=0;H<this.qI.length;
H++)this.qI[H].w()};ri.prototype.aK=function(H,N){var Q=N.i==null;this.data.i=N.i;this.data.index=N.index;
N=this.data;this.Ti=H;if(Q)N.i=H.g.length==0?H.b.length-1:H.g[0];z.hk(this.DI);var c=H.b[N.i].add.lmfx;
this.ZK();this.qI=[new $m("bops",!1,0)];this.iz=[];for(var _=0;_<B.order.length;_++){this.iz.push([]);
var O=c==null?[]:c[B.vz[_]].v;for(var L=0;L<O.length;L++){var s=new $m(B.order[_],!1,[_,L]);this.qI.push(s);
this.iz[_].push(s)}if(O.length==0){var s=new $m(B.order[_],!1,[_,0]);this.qI.push(s);this.iz[_].push(s)}}this.w();
this.qB(this.Sn,JG.hP);for(var _=0;_<this.qI.length;_++){this.qI[_].parent=this;this.qI[_].tLr(this.DI);
this.qI[_].O("showme",this.tCB,this)}if(N.index==null)this.Zj(0);else this.Zj(N.index,Q);this.O("afterchange",this.ZK,this)};
ri.prototype.ZK=function(H){var N=this.Ti,Q=this.data.i;if(Q==null)Q=N.g[0];var c=this.Ti.b[Q],_=Ja.Kn(c);
this.Um.Q(_,N.add.Patt?N.add.Patt:[],N.Ej(),N.wO())};ri.prototype.qB=function(H,N){this.Sn=H;for(var Q=0;
Q<this.qI.length;Q++)this.qI[Q].qB(H,N);if(N==JG.fd){this.Um.aA([H.B_,H.wg])}if(N==JG.Sl){}};ri.prototype.eA=function(H){this.oe({X:"cancel"})};
ri.prototype.wS=function(H){this.oe({X:"confirm"});this.close()};ri.prototype.oe=function(H){H.i=this.data.i;
var N=new k(z.E.W,!0);N.data=H;N.c=l.rt;N.MI=!0;this.N(N);this.ZK()};ri.zg=function(){var H=[{name:[14,10],wN:!0}];
for(var N=0;N<B.names.length;N++)H.push({name:B.names[N]});return H};ri.za=function(){var H=[{U:z.E.Y,k:{X:z.m.gI,gL:"layerstyle"}}];
for(var N=0;N<B.names.length;N++)H.push({U:z.E.Y,k:{X:z.m.gI,gL:"layerstyle",index:[N,0]}});return H};
ri.zv=function(H){var N=[];if(H)N.push({name:[6,48,0,0],W_:!0},{name:[6,48,0,1],W_:!0},{name:[6,48,0,2],W_:!0,wN:!0});
for(var Q in JO.ready)N.push({name:JO.names[Q],wN:JO.nR.indexOf(Q)!=-1,W_:JE[Q]!=null});return N};ri.zW=function(H){var N=[];
if(H)for(var Q=0;Q<3;Q++)N.push({U:z.E.W,c:l.uh,k:{X:R.fL,aO:Q,pZ:0}});for(var c in JO.ready)N.push({U:z.E.W,c:l.uh,k:{X:R.TG,qd:c}});
return N};function $U(){Jp.call(this,[1,10],"script");var H=z.B("div","form");this.body.appendChild(H);
var N=new JQ("JS Reference",!1,null,!0);N.O("click",this.tCz,this);H.appendChild(N.J);H.appendChild(new $J("Demos:").J);
this.Wa=[];var Q=$U.ZZ;for(var c=0;c<Q.length;c++){var _=new JQ(Q[c].AN,!1,null,!0);this.Wa.push(_);
H.appendChild(_.J);_.O("click",this.tCA,this)}this._L=z.B("textarea");this._L.setAttribute("rows",16);
this._L.setAttribute("cols",70);this._L.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
H.appendChild(this._L);this.WS=new JQ("Run",!0,null,!0);this.WS.O("click",this.tCZ,this);H.appendChild(this.WS.J)}$U.prototype=new Jp;
$U.prototype.aK=function(H,N,Q){this._L.value=$U.ZZ[0].DW};$U.prototype.tCz=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.yQ,link:"http://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2015.pdf"};
this.N(N)};$U.prototype.tCZ=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.Bl,Wv:this._L.value};this.N(N)};
$U.prototype.tCA=function(H){var N=this.Wa.indexOf(H.currentTarget);this._L.value=$U.ZZ[N].DW};$U.ZZ=[{AN:"Hello",DW:"\nalert(\"Hello Photopea!\");\n"},{AN:"Process Layers",DW:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{AN:"Clone Layers",DW:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function tQ(){Jp.call(this,[11,7],"newproject");this.data=null;var H=z.B("div","flexrow");this.kr=H;
this.body.appendChild(H);var N=z.B("div","form");this.AA=N;N.setAttribute("style","width:17em");H.appendChild(N);
this.A_=new rd([12,48]);N.appendChild(this.A_.J);this.JB=new $r(!0);this.JB.Q(new E(1280,720),72);N.appendChild(this.JB.J);
this.Iy=new J_([12,46],[[13,1,8],[13,1,9]]);N.appendChild(this.Iy.J);N.appendChild(z.B("hr"));this.gO=new JQ([12,49],!0,null,!0);
this.gO.O("click",this.create,this);N.appendChild(this.gO.J);var Q=z.B("div","form");this.tyi=Q;H.appendChild(Q);
var c=tQ.Ae,_=[];for(var O=0;O<c.length;O++)_.push(c[O].name);this.o_=new r_(null,_);this.o_.O(z.E.p,this.zq,this);
Q.appendChild(this.o_.J);this.kY=new Hq(!0);this.kY.O(z.E.p,this.tCU,this);Q.appendChild(this.kY.J);
this.zq()}tQ.prototype=new Jp;tQ.prototype._S=function(H,N){return new E(Math.max(0,Math.min(150,(H-690)/2)),H>N?Math.max(0,Math.min(150,(N-400)/2)):0)};
tQ.prototype.Tc=function(H,N){var Q=this.tyi;if(H>N){z.wj(this.kr,"flexrow");Q.setAttribute("style","margin-left:1em; width:"+Math.min(430,H-260)+"px");
this.kY.J.style.height=N>370?"":N-55+"px"}else{z.cd(this.kr,"flexrow");Q.setAttribute("style","margin-top:1em;");
this.kY.J.style.height=N-260+"px"}};tQ.prototype.tCU=function(H){var N=this.kY.v(),Q=tQ.Ae[this.o_.v()].fY[N],c=Q[4];
if(c==0)c=72;var _=Q[1],O=Q[2],L=["px","%","mm","in"].indexOf(Q[3]),s=[1,1,25.4/c,1/c][L];_/=s;O/=s;
this.JB.Q(new E(Math.round(_),Math.round(O)),c);this.JB.tru(L);this.kY.Du(N)};tQ.prototype.zq=function(H){var N=tQ.Ae[this.o_.v()].fY,Q=[],c=[],_=Math.round(100*z.h()),O=Math.round(100*z.h()),L=0;
for(var s=0;s<N.length;s++)L=Math.max(L,N[s][1],N[s][2]);for(var s=0;s<N.length;s++){var r=N[s],u=r[1]+" x "+r[2]+" "+r[3];
if(r[3]=="in")u=(r[1]*25.4).toFixed(0)+" x "+(r[2]*25.4).toFixed(0)+" mm";if(r[3]=="mm")u=(r[1]/25.4).toFixed(1)+" x "+(r[2]/25.4).toFixed(1)+" in";
if(r[4])u=u+" @ "+r[4]+" ppi";c.push(u);Q.push(tQ.uU(r,_,O,L))}this.kY.mx(Q,c,_,O)};tQ.uU=function(H,N,Q,c){var _=z.B("canvas",""),O=_.getContext("2d");
_.width=N;_.height=Q;var L=Math.round(N/8),s=Math.floor(11*z.h()),r=H[1],u=H[2];O.fillStyle="#000000";
O.font=Math.round(s*.9)+"px \"Open Sans\", Sans-Serif";var V=r+" x "+u+" "+H[3],C=O.measureText(V);O.fillText(V,Math.round((N-C.width)/2),Q-Math.round(L/2));
if(H[0]!=null){O.font="bold "+s+"px \"Open Sans\", Sans-Serif";var V=H[0],C=O.measureText(V);O.fillText(V,Math.round((N-C.width)/2),Q-Math.round(L/2)-Math.round(s*1.3))}Q-=Math.round(2.5*s);
var T=Math.min((N-L)/r,(Q-L)/u);T*=.5+.5*(Math.max(r,u)/c);var e=(N-r*T)/2,t=(Q-u*T)/2;O.strokeRect(Math.round(e)+.5,Math.round(t)+.5,Math.round(r*T),Math.round(u*T));
return _.toDataURL()};tQ.prototype.w=function(){Jp.prototype.w.call(this);this.JB.w();this.A_.w();this.Iy.w();
this.gO.w();this.A_.Q(tg.get([11,7]));this.o_.w()};tQ.prototype.create=function(H){var N=this.JB.v(),Q=N.x,c=N.y,_=new rw(this.A_.v()+".psd");
_.$=Q;_.z=c;_.go=this.JB.zi();var O=_.Zs();O.Vp("Background");_.rM([O]);if(this.Iy.v()==0){O.rect=new p(0,0,Q,c);
O.buffer=$.I(Q*c*4);$.Mw(O.buffer,4294967295);O.add.lspf=1<<2}_.buffer=$.I(Q*c*4);this.close();var L=new k(z.E.Y,!0);
L.data={X:z.m.pL,Ti:_};this.N(L);var s=this.data.WE;if(this.data.WE)V_.KV(function(){var r=new XMLHttpRequest,u="https://www.googleapis.com/drive/v3/files?"+V_.hz();
r.open("POST",u,!0);r.setRequestHeader("Content-Type","application/json");r.addEventListener("load",function(H){var V=JSON.parse(H.target.response);
_.tW={file:V,ID:"psd"};alert(_.name+" created in Google Drive")});r.send(JSON.stringify({name:_.name,tLO:[s]}))})};
tQ.prototype.aK=function(H,N){if(H!=null&&H.t!=null){var Q=new p(0,0,H.$,H.z).sj(H.t.rect);this.JB.Q(new E(Q.$,Q.z))}this.data=N;
this.A_.yW()};tQ.Ae=[{name:"Social",fY:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[1,4],fY:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],fY:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],fY:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],fY:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],fY:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]}];
function Vq(H,N,Q){Jp.call(this,N,"sel_"+H);this.X=H;this.AA=z.B("div","form");this.body.appendChild(this.AA);
this.A_=new rd(N,Q);this.AA.appendChild(this.A_.J);this.A_.Q(1);this.Di=new JQ("OK",!0,null,!0);this.Di.O("click",this._O,this);
this.AA.appendChild(this.Di.J)}Vq.prototype=new Jp;Vq.prototype.mv=function(H,N){if(H==null)return;if(H.t==null)alert("No selection!");
return H.t!=null};Vq.prototype._O=function(H){var N=new k(z.E.W,!0);N.data={X:this.X,R:parseInt(this.A_.v())};
N.c=l.sQ;N.MI=!0;this.N(N);this.close()};Vq.prototype.w=function(){Jp.prototype.w.call(this);if(this.A_)this.A_.w()};
Vq.prototype.aK=function(H,N){};function $a(H,N){Jp.call(this,N,H);this.Ae=null;this.AA=z.B("div","form");
this.body.appendChild(this.AA);this.A_=new rd(N);this.AA.appendChild(this.A_.J);this.Di=new JQ("OK",!0,null,!0);
this.Di.O("click",this._O,this);this.AA.appendChild(this.Di.J)}$a.prototype=new Jp;$a.prototype._O=function(H){var N=new k(z.E.W,!0);
N.data={X:this.Ae.gE,R:this.A_.v()};N.c=this.Ae.c;N.MI=!0;this.N(N);this.close()};$a.prototype.w=function(){Jp.prototype.w.call(this);
if(this.A_)this.A_.w()};$a.prototype.aK=function(H,N){this.Ae=N;this.A_.Q(N.uY);this.A_.yW()};function Ha(){Jp.call(this,[1,5],"open_from_url");
this.sN=null;var H=z.B("div","form");this.body.appendChild(H);this.IC=new rd("URL",null,22);H.appendChild(this.IC.J);
H.appendChild(z.B("br"));this.zd=new r_([21,0],[[21,2],[21,1]]);H.appendChild(this.zd.J);this.gO=new JQ("OK",!0,null,!0);
this.gO.O("click",this.tCk,this);H.appendChild(this.gO.J)}Ha.prototype=new Jp;Ha.prototype.w=function(){Jp.prototype.w.call(this);
this.zd.w()};Ha.prototype.aK=function(H,N,Q){this.IC.yW();this.sN=null;if(H&&Q.indexOf(H)!=-1)this.sN=Q.indexOf(H)};
Ha.prototype.tCk=function(H){var N=new k(z.E.Y,!0),Q=this.IC.v();N.data={X:z.m.UF,gg:{url:Q,Go:!0,sN:this.zd.v()==1?this.sN:null}};
this.N(N);this.close()};function HW(){Jp.call(this,[12,79],"preferences");this.Sn=null;var H=z.B("div","form");
this.body.appendChild(H);this.UT=[new JF([8,2]),new JF([8,4]),new tc("Grid gap",1,100,"px"),new J_("Ruler units",$.VU.ip)];
for(var N=0;N<this.UT.length;N++){var Q=this.UT[N];H.appendChild(Q.J);H.appendChild(z.B("br"));Q.O(z.E.p,this.DG,this)}this.gO=new JQ("Apply",!0,null,!0);
this.gO.O("click",this.DG,this)}HW.prototype=new Jp;HW.prototype.w=function(){Jp.prototype.w.call(this);
for(var H=0;H<this.UT.length;H++)this.UT[H].w()};HW.prototype.aK=function(H,N,Q){};HW.prototype.qB=function(H,N){this.Sn=H;
this.UT[0].Q(H.sS.UL);this.UT[1].Q(H.sS.TN);this.UT[2].Q(H.sS.Xa);this.UT[3].Q(H.sS.eJ)};HW.prototype.DG=function(H){var VG=this.UT,N=JSON.parse(JSON.stringify(this.Sn.sS));
N.UL=VG[0].v();N.TN=VG[1].v();N.Xa=VG[2].v();N.eJ=VG[3].v();var Q=new k(z.E.Y,!0);Q.data={X:z.m.u_,gg:JG.lz,UG:N};
this.N(Q)};function Jw(){Jp.call(this,[11,8],"saveforweb");this.O("closebtn",function(){this.ez.yY()},this);
this.vd={JPG:[{k$:new Jb([12,52],0,100,"%"),ng:50}],WEBP:[{k$:new Jb([12,52],0,100,"%"),ng:50}],GIF:[{k$:new Jb([12,52],0,100,"%"),ng:100},{k$:new JF("reverse frames"),ng:!1}],PNG:[{k$:new Jb([12,52],0,100,"%"),ng:100},{k$:new JF("don't use palettes"),ng:!1}],PDF:[{k$:new JF("rasterize all"),ng:!1},{k$:new JF("rasterize text"),ng:!1}],EMF:[{k$:new JF("rasterize all"),ng:!1},{k$:new JF("rasterize text"),ng:!1}],SVG:[{k$:new JF("add raster graphics"),ng:!1},{k$:new JF("add hidden layers"),ng:!1},{k$:new JF("include fonts"),ng:!1},{k$:new JF("rasterize text"),ng:!1},{k$:new JF("add layer names"),ng:!0},{k$:new JF("pretty-print"),ng:!0}]};
for(var H in this.vd){var N=this.vd[H];for(var Q=0;Q<N.length;Q++)N[Q].k$.Q(N[Q].ng)}this.Su=new E(512,512);
this.Ti=null;this.ow=null;this.Wh=null;z.wj(this.body,"flexrow");var c=z.B("div"),_=z.B("div");this.body.appendChild(c);
this.body.appendChild(_);this.Va=z.B("div","imgcont");c.appendChild(this.Va);this.ez=new $$;this.ez.Tc(this.Su.x,this.Su.y);
this._U=z.B("span");c.appendChild(this._U);this.AA=z.B("div","form cell padded");this.AA.setAttribute("style","width:17em");
_.appendChild(this.AA);this.vp=new J_([12,50],JP.aL());this.AA.appendChild(this.vp.J);this.vp.O(z.E.p,this.TE,this);
this.JB=new $r(!1,!0);this.JB.O(z.E.p,this.TE,this);this.AA.appendChild(this.JB.J);this.oN=z.B("div","");
this.AA.appendChild(this.oN);for(var O in this.vd)for(var Q=0;Q<this.vd[O].length;Q++)this.vd[O][Q].k$.O(z.E.p,this.TE,this);
this.IP=new JQ([1,2],!0,null,!0);this.IP.O("click",this.save,this);this.AA.appendChild(this.IP.J);this.WW=-1}Jw.prototype=new Jp;
Jw.prototype.mv=function(H,N){return H!=null};Jw.prototype.w=function(){Jp.prototype.w.call(this);this.JB.w();
this.vp.w();for(var H in this.vd)for(var N=0;N<this.vd[H].length;N++)this.vd[H][N].k$.w();this.IP.w()};
Jw.prototype.save=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.IA,data:this.ow,name:this.Ti.name.split(".")[0]+"."+JP.aL()[this.vp.v()].toLowerCase()};
this.N(N);this.ez.yY();this.close()};Jw.prototype.aK=function(H,N){if(N.aP!=null)this.vp.Q(N.aP);this.Ti=H;
this.JB.Q(new E(H.$,H.z));this.TE()};Jw.prototype._S=function(H,N){return new E(Math.max(0,Math.min(150,(H-770)/2)),Math.max(0,Math.min(150,(N-590)/2)))};
Jw.prototype.Tc=function(H,N){this.JX=H;this.ht=N;this.Su.x=Math.min(512,H-26-226);this.Su.y=Math.min(512,N-45);
if(this.Ti==null)return;var Q=this.JB.v(),H=Q.x,N=Q.y,c=JP.aL()[this.vp.v()],_=JP[c],C=0,t="<span style=\"width:",Y="display:inline-block; text-align:right;\">";
if(_.Ht){var O=H,L=N,s;if(c=="PDF"||_.cc){O=this.Su.x;L=this.Su.y}else{O=Math.min(H+20,this.Su.x);L=Math.min(N+20,this.Su.y)}this.Va.firstChild.setAttribute("style","display:block; width:"+O+"px; height:"+L+"px;")}else{var r=this.Wh,u=r[0].MD,O=u.$,L=u.z;
this.ez.Tc(Math.max(50,Math.min(O/z.h(),this.Su.x)),Math.max(50,Math.min(L/z.h(),this.Su.y)))}var V=this.ow.byteLength;
while(V>>>C+10!=0)C+=10;var T=(V/(1<<C)).toFixed(1),e=["B","KB","MB","GB"][Math.floor(C/10)],A=c+":"+t+64+"px;"+Y+T+" "+e+"</span>";
if(this.Su.x>200)A+=t+90+"px; opacity:"+.5+";"+Y+V.toLocaleString()+" B</span>";this._U.innerHTML=A};
Jw.prototype.TE=function(H){var N=this.JB.v(),Q=N.x,c=N.y,_=JP.aL()[this.vp.v()],O=this.vd[_],r="";if(O==null)O=[];
if(this.vp.v()!=this.WW){this.WW=this.vp.v();z.hk(this.oN);for(var L=0;L<O.length;L++){this.oN.appendChild(O[L].k$.J);
this.oN.appendChild(z.B("br"))}}var s=[];for(var L=0;L<O.length;L++)s.push(O[L].k$.v());this.ow=JP.YL(this.Ti,_,Q,c,s);
z.hk(this.Va);this.ez.yY();var u=JP[_];if(u.cc){this.Va.innerHTML="<div></div>";r+="width:0px"}else if(u.Ht){var V=Q,C=c,T;
if(_=="PDF"){T=URL.createObjectURL(new Blob([this.ow],{type:"application/pdf"}))}else{T=URL.createObjectURL(new Blob([this.ow],{type:"image/svg+xml"}))}this.Va.innerHTML="<iframe src=\""+T+"\"></iframe>"}else{var e=this.Wh=u.cA(this.ow),t=e[0].MD,V=t.$,C=t.z;
this.ez.Q(e);this.Va.appendChild(this.ez.J);r="background: rgba(0,0,0,0);"}this.Va.setAttribute("style","display:block; background-size:"+16/z.h()+"px;"+r);
this.Tc(this.JX,this.ht)};function HS(){Jp.call(this,[11,13],"shortcuts");var H=z.B("div","scrollable"),N="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",Q="";
H.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");Q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";
Q+=N;Q+=this.Lr({File:"---",Open:"Ctrl + O",Save:"Ctrl + S","Save as PSD":"Shift+Ctrl + S","Save for web":"Alt+Shift+Ctrl + S",Edit:"---","Undo / Redo":"Ctrl + Z","Step Forward":"Shift + Ctrl + Z","Step Backward":"Alt + Ctrl + Z",Cut:"Ctrl + X",Copy:"Ctrl + C",Paste:"Ctrl + V",Clear:"Delete",Fill:"Alt + Backspace","Free Transform":"Alt + Ctrl + T",Preferences:"Ctrl + K",Adjustments:"---",Levels:"Ctrl + L",Curves:"Ctrl + M","Hue / Saturation":"Ctrl + U",Invert:"Ctrl + I",Layer:"---",Duplicate:"Ctrl + J","Clipping Mask":"Alt + Ctrl + G","Group Layers":"Ctrl + G","Merge Down":"Ctrl + E",Select:"---",All:"Ctrl + A",Deselect:"Ctrl + D",View:"---","Zoom In":"Ctrl + +","Zoom Out":"Ctrl + -",Rulers:"Ctrl + R",Guides:"Ctrl + ;",Grid:"Ctrl + '",Shortcuts:"?"});
Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";Q+=N;Q+=this.Lr({"Vertical scroll":"Wheel","Horizontal scroll":"Ctrl + Wheel",Zooming:"Alt + Wheel"});
Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
Q+=N;Q+=this.Lr({Move:"Ctrl",Hand:"Spacebar",Zoom:"Ctrl + Spacebar"});Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
Q+=N;Q+=this.Lr(HS.Uj);Q+=this.Lr({abc:null,Other:"---","Default Colors":"D","Swap Frg. - Bckg.":"X","Decrease Brush Size":"[","Increase Brush Size":"]","Decrease Hardness":"{","Increase Hardness":"}"});
Q+="</div>";H.innerHTML=Q;this.body.appendChild(H)}HS.prototype=new Jp;HS.prototype.Lr=function(H){var N="",Q=!0;
for(var c in H){if(H[c]==null){Q=!1;continue}if(H[c]=="---"){if(!Q)N+="<br/>";N+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+c+"</div>"}else N+="<div>"+c+" <span style=\"float:right; font-weight:bold;\">"+H[c]+"</span> </div>";
Q=!1}return N};HS.Uj={"Move Tool":"V","Rectangle Select":"M","Ellipse Select":"M","Lasso Select":"L","Polygonal Lasso Select":"L","Magnetic Lasso Select":"L","Quick Select":"W","Magic Wand":"W","Crop Tool":"C",Eyedropper:"I","Spot Healing Brush Tool":"J","Healing Brush Tool":"J","Patch Tool":"J","Brush Tool":"B","Clone Tool":"S","Eraser Tool":"E","Gradient Tool":"G","Paint Bucket Tool":"G","Blur Tool":null,"Sharpen Tool":null,"Smudge Tool":null,"Dodge Tool":"O","Burn Tool":"O","Sponge Tool":"O","Type Tool":"T",Pen:"P","Free Pen":"P","Path Select":"A","Direct Select":"A",Rectangle:"U",Ellipse:"U",Line:"U","Parametric Shape":"U","Custom Shape":"U","Hand Tool":"H","Zoom Tool":"Z"};
function wR(){Jp.call(this,[2,3],"fill");this.Sn=null;this.Ho=null;var H=z.B("div","form padded");this.body.appendChild(H);
this.rL=new J_([2,3],[[12,45],[12,46],[13,1,10],[13,1,8],"Content Aware"]);H.appendChild(this.rL.J);
this.gO=new JQ("OK",!0,null,!0);this.gO.O("click",this.wS,this);this.body.appendChild(this.gO.J)}wR.prototype=new Jp;
wR.prototype.mv=function(H,N){return H!=null};wR.prototype.w=function(){Jp.prototype.w.call(this);this.rL.w()};
wR.prototype.wS=function(H){if(!this.Ho.FS())return;var N=new k(z.E.W,!0),Q=this.rL.v();if(Q!=4){N.c=l.so;
N.data={X:"fill",uV:Q}}else{if(this.Ho.t==null){alert("There is no selection.");return}N.c=l.Fj;N.data={X:"heal2"}}this.N(N);
this.close()};wR.prototype.aK=function(H,N){this.Ho=H};wR.prototype.qB=function(H,N){this.Sn=H};function t_(){Jp.call(this,[14,9],"stroke");
this.Sn=null;this.AA=z.B("div","form");this.AA.setAttribute("style","width:24em");this.body.appendChild(this.AA);
this.ws=new $m("FrFX",!0);this.ws.parent=this;var H=["Sz","Styl","Md","Opct"].concat(B.IS);for(var N=0;
N<H.length;N++){var Q=this.ws.Ju[H[N]].J;this.AA.appendChild(Q)}this.pY=!1;this.gO=new JQ("OK",!0,null,!0);
this.gO.O("click",this.wS,this);this.body.appendChild(this.gO.J)}t_.prototype=new Jp;t_.prototype.mv=function(H,N){return H!=null};
t_.prototype.w=function(){Jp.prototype.w.call(this);this.ws.w()};t_.prototype.wS=function(H){var N=new k(z.E.W,!0);
N.c=l.so;N.data={X:"stroke",ttS:this.ws.v()};this.N(N);this.close()};t_.prototype.aK=function(H,N){if(!this.pY){var Q=B.cz[B.order.indexOf("FrFX")];
Q=JSON.parse(Q);this.ws.update(H,Q);this.pY=!0}var Q=this.ws.v(),c=this.Sn.AF;Q.Clr.v=$.e.Ta({T:c>>16&255,q:c>>8&255,H:c&255});
this.ws.update(H,Q)};t_.prototype.qB=function(H,N){this.Sn=H};function Vd(){Jp.call(this,[11,9],"textwarp");
this.UT=new Vx;this.UT.O(z.E.p,this.Id,this);this.UT.parent=this;this.AA=z.B("div","form");this.AA.setAttribute("style","width:20em");
this.body.appendChild(this.AA);this.AA.appendChild(this.UT.Me.J);this.AA.appendChild(this.UT.VG.J);this.AA.appendChild(this.UT.$j.J);
this.AA.appendChild(this.UT.$N.J);this.AA.appendChild(this.UT.Jf.J);this.gO=new JQ("OK",!0,null,!0);
this.gO.O("click",this.wS,this);this.AA.appendChild(this.gO.J);this.O("closebtn",this.eA,this)}Vd.prototype=new Jp;
Vd.prototype.w=function(){Jp.prototype.w.call(this);this.UT.w()};Vd.prototype.Id=function(H){var N=this.UT.v();
this.ZA({X:"warp",UB:N})};Vd.prototype.ZA=function(H){var N=new k(z.E.W,!0);N.c=l.Jv;N.data=H;N.MI=!0;
this.N(N)};Vd.prototype.eA=function(H){this.ZA({X:"warpCancel"})};Vd.prototype.wS=function(H){this.ZA({X:"warpConfirm"});
this.close()};Vd.prototype.aK=function(H,N){var Q=H.b[H.g[0]];this.UT.Q(Q.add.TySh.O$)};function VS(){Jp.call(this,"Raw Photopea","rawpea");
this.Fx=null;this.HO=null;this.IG=null;this.tLm=0;this.HY=null;this.oD=null;this.it=500;this.ou=500;
this.O("closebtn",this.VZ.bind(this),this);z.wj(this.body,"flexrow");var H=z.B("div"),N=z.B("div");N.setAttribute("style","padding-left: 1em");
this.body.appendChild(H);this.body.appendChild(N);this.ql=z.B("canvas");H.appendChild(this.ql);this.XS=z.B("canvas");
this.XS.width=256;this.XS.height=100;z.gx(this.XS,256,100);N.appendChild(this.XS);this.AA=z.B("div");
this.AA.setAttribute("style","width:18em;");N.appendChild(this.AA);this.Xw=new $J("Hi",!0);this.AA.appendChild(this.Xw.J);
this.gD=[new Jb("Temperature",2e3,13e3),new Jb("Tint",-150,150),new Jb([4,3],-4,4,null,!0),new Jb([12,2],-150,150),new Jb([12,3],-100,100)];
for(var Q=0;Q<this.gD.length;Q++){var c=this.gD[Q];c.Q(0);c.O(z.E.p,this.k_,this);this.AA.appendChild(c.J)}this.gO=new JQ("OK",!0,null,!0);
this.gO.O("click",this.create,this);this.AA.appendChild(this.gO.J)}VS.prototype=new Jp;VS.prototype.fi=function(){return!0};
VS.prototype._S=function(){return new E(0,0)};VS.prototype.Tc=function(H,N){this.it=H-274;this.ou=N-32;
if(this.Fx)this.zo()};VS.prototype.w=function(){Jp.prototype.w.call(this);for(var H=0;H<this.gD.length;
H++)this.gD[H].w()};VS.prototype.create=function(H){var N=this.Fx,Q=this.HO,c=$.I(N.width*N.height*4);
$.Mw(c,4294967295);$.raw.PJ(Q,c,N,this.tn());var N={MD:new p(0,0,Q.gW,Q.gi),data:c.buffer},_=tM.Uc("Raw Photo",[N]),O=new k(z.E.Y,!0);
O.data={X:z.m.pL,Ti:_};this.N(O);this.VZ();this.close()};VS.prototype.VZ=function(){this.Fx=null;this.HO=null;
this.HY=null;this.oD=null};VS.prototype.aK=function(H,N,Q,c){this.Fx=N.er;this.HO=$.raw.tJR(this.Fx);
var _=this.HO;this.Xw.Q(_.gW+" x "+_.gi+", "+(_.gW*_.gi/1e6).toFixed(1)+" MPx");var O=$.raw.tHs(N.er);
this.IG=tP.Pp(O);this.gD[0].Q(this.IG.No);this.gD[1].Q(this.IG.Lv);for(var L=2;L<this.gD.length;L++)this.gD[L].Q(0);
this.zo()};VS.prototype.zo=function(){var H=this.HO,N=H.gW,Q=H.gi,c=1;while(N/c>this.it*z.h()||Q/c>this.ou*z.h())c++;
var _=Math.floor(N/c),O=Math.floor(Q/c);this.HY={nn:new Float32Array(_*O*3),gW:_,gi:O};var L=this.ql.getContext("2d");
this.oD=L.createImageData(_,O);$.Mw(this.oD.data,4294967295);var s=1/(c*c);for(var r=0;r<O;r++)for(var u=0;
u<_;u++){var V=0,C=0,T=0,e=(u+1)*c,t=(r+1)*c;for(var Y=r*c;Y<t;Y++)for(var A=u*c;A<e;A++){var G=(Y*N+A)*3;
V+=this.HO.nn[G];C+=this.HO.nn[G+1];T+=this.HO.nn[G+2]}var j=(r*_+u)*3;this.HY.nn[j]=V*s;this.HY.nn[j+1]=C*s;
this.HY.nn[j+2]=T*s}this.k_()};VS.prototype.k_=function(){var H=this.Fx,N=this.HY.gW,Q=this.HY.gi,c=N*Q,_=this.ql,O=_.getContext("2d");
_.width=N;_.height=Q;z.gx(_,N,Q);$.raw.PJ(this.HY,new Uint8Array(this.oD.data.buffer),H,this.tn());O.putImageData(this.oD,0,0);
var L=$.Yk(this.oD.data);_=this.XS;O=_.getContext("2d");var s=O.createImageData(_.width,_.height),r=4e3/c;
for(var u=0;u<256;u++){var V=L[1][u]*r,C=L[2][u]*r,T=L[3][u]*r;for(var e=0;e<100;e++){var t=(e*256+u)*4;
if(99-e<V){s.data[t]=255;s.data[t+3]=255}if(99-e<C){s.data[t+1]=255;s.data[t+3]=255}if(99-e<T){s.data[t+2]=255;
s.data[t+3]=255}}}O.putImageData(s,0,0)};VS.prototype.tn=function(){var H=[];for(var N=0;N<this.gD.length;
N++)H.push(this.gD[N].v());return H};function Vp(){Jp.call(this,[11,11],"vbitmap");this.Ae=null;this.ax=null;
this.Ig=null;this.aM=null;this.Al=null;this.AA=z.B("div","form hbar");this.body.appendChild(this.AA);
this.XE=new tc([12,82],2,50,null);this.XE.O(z.E.p,this.Uz,this);this.AA.appendChild(this.XE.J);this.Xi=new JF([12,81]);
this.Xi.O(z.E.p,this.Uz,this);this.AA.appendChild(this.Xi.J);this.gO=new JQ("OK",!1,null,!0);this.gO.O("click",this.create,this);
this.AA.appendChild(this.gO.J);var H=z.B("div","flexrow"),N=16;this.body.appendChild(H);this.ee=new $$;
this.ee.O("viewchange",this.zn,this);this.lZ=z.B("canvas");this.lZ.setAttribute("style","margin-left: 1px; cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");
this._m=this.lZ.getContext("2d");var Q=$.I(16*16*4);$.by(Q,N,N,8,0,0);this.IE=$.scale.vh(Q,N,N);this.ee.Bh(this.lZ);
H.appendChild(this.ee.J);H.appendChild(this.lZ)}Vp.prototype=new Jp;Vp.prototype.fi=function(){return!0};
Vp.prototype._S=function(){return new E(0,0)};Vp.prototype.ZQ=function(){return!0};Vp.prototype.Tc=function(H,N){N=N-26-30;
H=Math.floor((H-28)/2);z.UZ(this.lZ,H,N);this.ee.Tc(H,N)};Vp.prototype.FJ=function(H,N,Q,c){this.ee.FJ(c)};
Vp.prototype.w=function(){Jp.prototype.w.call(this);this.XE.w();this.Xi.w();this.gO.w()};Vp.prototype.aK=function(H,N){this.Al=H;
var Q=H.b[H.g[0]],c=$.Bm.PK(Q.buffer.buffer,Q.rect.$,Q.rect.z).tTx,_=c/((Q.rect.$-2)*(Q.rect.z-2));this.Xi.Q(_<.75);
var O=Q.rect.clone();O.x=O.y=0;this.Ae={MD:O,data:Q.buffer.buffer.slice(0)};this.ax=null;this.ee.Q([this.Ae]);
this.XE.Q(20);this.Uz()};Vp.prototype.Uz=function(){var H=this.Ae,N=this.Xi.v();if(N&&this.ax==null){var Q=new Uint8Array(H.data.slice(0)),c=15,_=35,O=H.MD.$,L=H.MD.z,s=new $.wf(O*L);
$.GQ(Q,s);var r=new $.wf(O*L);$.HW.gr(s.T,s.o,r.T,O,L,c,$.HW.ug,[_]);$.HW.gr(s.q,s.o,r.q,O,L,c,$.HW.ug,[_]);
$.HW.gr(s.H,s.o,r.H,O,L,c,$.HW.ug,[_]);$.sa(s.o,r.o);var u=_/255,V=1-u;for(var C=0;C<O*L;C++)r.o[C]=u*r.o[C]+V*s.o[C];
$.GL(r,Q);this.ax={MD:H.MD.clone(),data:Q.buffer}}if(N)H=this.ax;var Q=new Uint8Array(H.data),O=H.MD.$,L=H.MD.z;
for(var C=0;C<Q.length;C+=4){if(Q[C+3]<10)Q[C]=Q[C+1]=Q[C+2]=Q[C+3]=0}var T=$.Bm.tLZ(Q,O,L,this.XE.v(),N?.1:2e-4),e=T.gB.slice(0);
for(var C=0;C<e.length;C++)e[C]++;var t=new Uint8Array((O+2)*(L+2));$.Jg(e,new p(1,1,O,L),t,new p(0,0,O+2,L+2));
var Y=Math.round((O+2)*(L+2)/1e4),A=$N.ttR(t,O+2,L+2,Math.min(12,Y)),G=$N.ttr(A),j=new Jo(1,0,0,1,-1,-1);
for(var C=0;C<G.length;C++)$.K.UC(G[C].path.Z,j,G[C].path.Z);this.aM=G;this.Ig=T;for(var C=0;C<G.length;
C++){var d=G[C];for(var w=C+1;w<G.length;w++){var f=G[w];if(T.$e[f.color-1].est.q[3]>.05||f.parent!=C)continue;
var b=f.path.lX.slice(1);b.reverse();b=["M"].concat(b);var F=[],A=f.path.Z.length;for(var n=0;n<A;n+=2){F[n]=f.path.Z[A-2-n];
F[n+1]=f.path.Z[A-2-n+1]}$.K.concat(d.path,{Z:F,lX:b})}}for(var C=0;C<G.length;C++){var d=G[C],J=T.$e[d.color-1].est.q;
if(J[3]<=.05){G.splice(C,1);C--;continue}}for(var C=1;C<G.length;C++){var Z=G[C-1],d=G[C];if(Z.color==d.color){$.K.concat(Z.path,d.path);
G.splice(C,1);C--;continue}}this.zn()};Vp.prototype.zn=function(H){if(this.aM==null)return;var N=this.Ae.MD.$,Q=this.Ae.MD.z,c=this.aM,_=this.Ig.$e,O=this._m,L=this.ee.yi();
O.setTransform(1,0,0,1,0,0);O.clearRect(0,0,O.canvas.width,O.canvas.height);O.translate(O.canvas.width/2,O.canvas.height/2);
O.scale(L.s,L.s);O.translate(L.M.x/L.s-N/2,L.M.y/L.s-Q/2);O.scale(1/L.s,1/L.s);O.fillStyle=this.IE;O.fillRect(0,0,N*L.s,Q*L.s);
O.scale(L.s,L.s);var s=[];for(var r=0;r<_.length;r++){var u=_[r].est.q;s.push({T:Math.round(255*u[0]),q:Math.round(255*u[1]),H:Math.round(255*u[2]),o:Math.round(255*u[3])})}for(var r=0;
r<c.length;r++){var V=c[r],u=s[V.color-1];if(u.o==0)continue;O.fillStyle="rgba("+u.T+","+u.q+","+u.H+","+u.o/255+")";
O.beginPath();Typr.U.pathToContext({crds:V.path.Z,cmds:V.path.lX},O);O.fill()}};Vp.prototype.create=function(H){var N=this.aM,Q=N.length==1,c=this.Al,_=c.g[0],O=c.b[_],L=c.b.slice(0,_);
if(!Q)L.push(c.sd());for(var s=0;s<N.length;s++){var r=N[s],u=this.Ig.$e[r.color-1].est.q;$.K.UC(r.path.Z,new Jo(1,0,0,1,O.rect.x,O.rect.y),r.path.Z);
var V=c.Zs();V.Vp("Path "+s);L.push(V);V.opacity=Math.round(u[3]*255);V._c|=16;V.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.e.Ta({T:255*u[0],q:255*u[1],H:255*u[2]})}};
V.add.vmsk=new R.hT;V.add.vstk=JSON.parse(JSON.stringify(B.nO.default));V.add.vmsk.L=[{type:6},{type:8,all:0}].concat($.A.eX(Typr.U.pathToSVG({crds:r.path.Z,cmds:r.path.lX})));
V.add.vogk=[];V.Ls();V.Sa(c)}var C=L[L.length-1];if(!Q){var V=c.Zs();V.Vp(O.getName());V.add.lsct=tR.Gp;
V.kE="pass";V._c=24;L.push(V);C=V}var T=O.add.lmfx;if(T)C.add.lmfx=JSON.parse(JSON.stringify(T));for(var s=_+1;
s<c.b.length;s++)L.push(c.b[s]);var e=new k(z.E.W,!0);e.MI=!0;e.c=l.uh;e.data={X:R.uD,_b:L,_k:[_+N.length+(Q?-1:1)],_F:"Vectorize Bitmap"};
this.N(e);this.close()};function rj(){Jp.call(this,[7,11],"redge");this.Ae={};this.Uu=null;this.le=null;
this.Al=null;this.XI=null;this.ud=null;var H="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />",N="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",Q="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",c="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />";
this.BK=[];this.AZ=-1;this.AA=z.B("div","form hbar");this.body.appendChild(this.AA);this.gj=new tf;this.gj.parent=this;
this.gj.O(z.E.p,this.Hf,this);this.AA.appendChild(this.gj.J);this.IW=new r_(null,[Q,N,c]);this.AA.appendChild(this.IW.J);
this.ww=new ry([7,9],0,50,null);this.ww.parent=this;this.ww.O(z.E.p,this.zf,this);this.AA.appendChild(this.ww.J);
var _=new JQ([12,90],!1,null,!0);_.O("click",function(s){alert(tg.get([15,7,1]),5e3)},this);this.AA.appendChild(_.J);
this.tyQ=_;var O=z.B("span","form");this.AA.appendChild(O);O.setAttribute("style","position:absolute;  right:0px");
this.Ip=new r_([12,46],[H,Q,c]);this.Ip.O(z.E.p,this.zY,this);O.appendChild(this.Ip.J);this.IO=new J_(null,[[6,13],[6,2],[17,2]]);
O.appendChild(this.IO.J);this.gO=new JQ("OK",!1,null,!0);this.gO.O("click",this.create,this);O.appendChild(this.gO.J);
var L=z.B("div","flexrow");this.body.appendChild(L);this._z=new $$(!0);this.XK=new $$;this._z.zj(this.XK);
this.XK.zj(this._z);this._z.O("mousedown",this.nZ,this);this._z.O("mousemove",this.fI,this);this._z.O("mouseup",this.Ub,this);
this._z.O("zoom",this.Hf,this);L.appendChild(this._z.J);L.appendChild(this.XK.J)}rj.prototype=new Jp;
rj.prototype.mv=function(H,N){var Q=H!=null&&!H.b[H.g[0]].rect.km();if(!Q)alert("The layer is empty.");
return Q};rj.prototype.fi=function(){return!0};rj.prototype._S=function(){return new E(0,0)};rj.prototype.ZQ=function(){return!0};
rj.prototype.Tc=function(H,N){N=N-26-30;H=Math.floor((H-28)/2);this._z.Tc(H,N);this.XK.Tc(H,N)};rj.prototype.w=function(){Jp.prototype.w.call(this);
this.gj.w();this.ww.w();this.gO.w();this.IO.w();this.tyQ.w()};rj.prototype.qB=function(H,N){this.le=H;
if(N==JG.Tz){this.gj.aA(H.lL);this.gj.Q(HP.wi(),H.lL.Fy,H.lL.nw)}};rj.prototype.FJ=function(H,N,Q,c){this.XI=c;
var _=l.mh.Og(this.gj.v(),c);if(_!=null){this.gj.Q(_);this.Hf()}else if(c.l(K.sf)&&c.l(K.$f)){var O=this.BK,L=0;
if(c.l(K.Yz)){if(this.AZ+1<O.length)L=1}else if(this.AZ>0)L=-1;if(L!=0){this.AZ+=L;var s=this.AZ,r=this.Ae;
if(L==1)$.Pg(O[s][2],O[s][0],r.cO,r.rect);else $.Pg(O[s+1][1],O[s+1][0],r.cO,r.rect);r.IB=r.rect;this.Uz()}}else this._z.FJ(c)};
rj.prototype.c_=function(H){var N=this.Ae,Q=this.BK,c=$.I(H.f()*4);$.Pg(N.Oo,N.rect,c,H);N.Oo=null;var _=$.I(H.f()*4);
$.Pg(N.cO,N.rect,_,H);this.AZ++;Q[this.AZ]=[H.clone(),c,_];while(Q.length>this.AZ+1)Q.pop();while(Q.length>50){Q=Q.slice(1);
this.AZ--}};rj.prototype.Hf=function(){var H=this.le,N=Jf.YF(this.gj.v(),H.lL.Fy,this._z.yi().s),Q=z.IX(N);
this._z.yp(Q)};rj.prototype.nZ=function(H){var N=this.le,Q=this.Ae,c=this.XI,_=this.gj.v(),O=this._z.cZ(),L=[16777215,8355711,0][this.IW.v()];
this.Uu=new Jf(_,N.lL.list[0].Fy,N.lL.list[0].nw,{OO:1,tf:!0},L,N.ze,Q.rect);Q.Oo=Q.cO.slice(0);if(c!=null&&c.l(K.Yz)&&this.ud){this.Uu.moveTo(this.ud.x,this.ud.y);
this.Uu.lineTo(O.x,O.y)}else this.Uu.moveTo(O.x,O.y);this.zl()};rj.prototype.fI=function(H){var N=this.Ae,Q=this._z.cZ();
this.Uu.lineTo(Q.x,Q.y);this.zl()};rj.prototype.Ub=function(H){this.ud=this._z.cZ();this.c_(this.Uu.Yd());
this.Uz()};rj.prototype.zl=function(){var H=this.Ae,N=this.Uu,Q=N.YN();if(Q.km())return;H.IB=Q;$.a.MR("norm",N.GE(),N.AK(),H.cO,H.rect,Q,1);
this.zK()};rj.prototype.aK=function(H,N){this.Al=H;var Q=H.b[H.g[0]],c=Q.rect.clone();this.ww.Q(3);this.IW.Q(H.t==null?0:1);
this.Hf();if(H.t==null)this.ww.uI();else this.ww.qQ();var _=$.I(c.f()),O=$.I(c.f());if(H.t)$.Jg(H.t.channel,H.t.rect,_,c);
c.x=c.y=0;var L=c.$,s=c.z;for(var r=0;r<s;r++)for(var u=0;u<L;u++){var V=r*L+u,C=_[V];if(u>0&&_[V-1]!=C||u<L-1&&_[V+1]!=C||r>0&&_[V-L]!=C||r<s-1&&_[V+L]!=C)O[V]=255}var T=new Float32Array(c.f());
$.style.td(O,T,L,s);this.Ae={rect:c,nn:Q.buffer,Ud:_,Nf:T,Ca:$.I(c.f()*4),wa:$.I(c.f()*4),cO:$.I(c.f()*4),ox:null,IB:c};
this.zf();this.BK=[1];this.AZ=0};rj.prototype.zf=function(){var H=this.Ae,N=H.rect.f(),Q=this.ww.v(),c=H.Ud.slice(0);
for(var _=0;_<N;_++)if(H.Nf[_]<Q)c[_]=128;$.Mw(H.cO,4294967295);$.kw(c,H.cO,0);$.kw(c,H.cO,1);$.kw(c,H.cO,2);
this.Uz()};rj.prototype.Uz=function(){var H=this.Ae,N,_,O,L=0,s=0,r=0;this.zK();if(!0)N=H.rect;else{var Q=Math.min(N.$,N.z);
Q=Math.max(Q,50);N.FA(Q,Q);N=N.sj(H.rect);while((N.$&3)!=0){N.$++;if(N.$+N.x>H.rect.$)N.x--}while((N.z&3)!=0){N.z++;
if(N.z+N.y>H.rect.z)N.y--}console.log(N)}var c=$.I(N.f());if(N.v$(H.rect)){$.rY(H.cO,c,0);_=H.nn}else{_=$.I(N.f()*4);
$.Pg(H.cO,H.rect,_,N);$.rY(_,c,0);$.Pg(H.nn,H.rect,_,N)}for(var u=0;u<c.length;u++){var V=c[u];if(V==0)L++;
else if(V==255)s++;else r++}if(L*s*r!=0){O=$.H_.H_(N,_,c)}else{O=_.slice(0);$.kw(c,O,3)}if(N.v$(H.rect))H.ox=O;
else $.Pg(O,N,H.ox,H.rect);this.zY()};rj.prototype.zK=function(H){var N=this.Ae,Q=N.IB;$.Pg(N.nn,N.rect,N.Ca,N.rect,Q,!0);
$.a.MR("norm",N.cO,N.rect,N.Ca,N.rect,Q,.3);this._z.Q([{MD:N.rect,data:N.Ca.buffer}])};rj.prototype.zY=function(H){var N=this.Ae;
$.Mw(N.wa,[0,4294967295,4278190080][this.Ip.v()]);$.a.MR("norm",N.ox,N.rect,N.wa,N.rect,N.rect,1);this.XK.Q([{MD:N.rect,data:N.wa.buffer}])};
rj.prototype.create=function(H){var N=this.Al,Q=this.Ae,c=this.IO.v(),_=N.b[N.g[0]],O=new k(z.E.W,!0);
O.MI=!0;var L=_.rect.clone();if(c==0&&_.op()||c!=0&&!_.op()){O.c=l.uh;O.data={X:R.Eh,i:N.g[0]};this.N(O)}if(N.t!=null){O.c=l.sQ;
O.data={X:"deselect"};this.N(O)}if(c==0){var s=N.b.slice(0),r=N.Zs();r.Vp(_.getName());s.splice(N.g[0]+1,0,r);
r.rect=L;r.buffer=Q.ox;r.r();O.c=l.uh;O.data={X:R.uD,_b:s,_k:[N.g[0]+1],_F:[7,11]};this.N(O)}if(c==1){var u=_.Ab();
O.c=l.uh;O.data={X:R.nK,t$Y:!0};this.N(O);var V=_.Ab();V.channel=$.I(L.f());V.rect=L;V.color=0;V.rb=!0;
$.rY(Q.ox,V.channel,3);if(u){var C=V.NE(u);V.rect=C.rect;V.channel=C.channel;V.color=C.color}V.hJ();
_.Sa()}if(c==2){var T={rect:L,channel:$.I(L.f())};$.rY(Q.ox,T.channel,3);O.c=l.sQ;O.data={X:"setsel",t:T,_F:this.pN};
this.N(O)}this.close()};function tC(H,N,Q){JS.call(this);this.name=H;this.na=Q;this.cN=z.B("div","");
this.hD=z.B("div","pbody");this.vu=new JQ("",!1,"");this.vu.parent=this;this.lo=z.B("span","cross");
this.TB=z.B("span","");this.TB.addEventListener("mousedown",this.tCN.bind(this),!1);this.lo.addEventListener("mousedown",this.Zp.bind(this),!1);
this.cN.appendChild(this.TB);if(N)this.cN.appendChild(this.lo);this.Os=!1;this.TB.textContent=H}tC.prototype=new JS;
tC.prototype.DQ=function(){return new E(0,0)};tC.prototype.w=function(){var H=this.name,N=typeof H=="string"?H:tg.get(H);
this.TB.textContent=N.length>22?N.slice(0,20)+"..":N;var Q=N.split(" "),c=Q.length==2?Q[0].substring(0,2)+Q[1][0]:N.substring(0,3);
if(this.na==null)this.vu.$v(c,N);else{this.vu.$v("<img src=\""+this.na+"\" alt=\""+this.name+"\" height=\"20\" />",N)}};
tC.prototype.enable=function(){this.hD.setAttribute("class","pbody")};tC.prototype.disable=function(){this.hD.setAttribute("class","pbody disabled")};
tC.prototype.qB=function(H,N){};tC.prototype.aK=function(H,N,Q){};tC.prototype.Tc=function(H,N){};tC.prototype.tCe=function(H){this.name=H;
this.w()};tC.prototype.ZU=function(){};tC.prototype.tCN=function(H){this.N(new k("select",!1))};tC.prototype.Zp=function(H){if(this.zB())this.N(new k(z.E.pH,!1))};
tC.prototype.zB=function(H){return!0};tC.prototype.cL=function(H,N,Q,c,_){};tC.prototype.XY=function(H,N,Q,c,_){};
tC.prototype.Nu=function(H,N,Q,c,_){};function Jz(){tC.call(this,[9,3]);this.hD.setAttribute("style","width:380px;");
this.TM=null;this.HF=null;this.AF=0;this.ze=0;var H=z.B("div","");this.hD.appendChild(H);this.DI=z.B("div","bordered cell");
this.DI.setAttribute("style","width:10em; height:28.5em;");H.appendChild(this.DI);this.UT=[];this.Iz=null;
this.vi=[];var N=this.tTa.bind(this);this.qI=[new Jz.GD,new Jz.eU,new Jz._e,new Jz.um];for(var Q=0;Q<this.qI.length;
Q++){var c=z.B("div","listitem"),_=this.qI[Q].Es,O=null;if(Q==0){this.Iz=new $J(_);c.appendChild(this.Iz.J)}else{O=new JF(_,!1);
O.O(z.E.p,this.tTP,this);c.appendChild(O.J)}this.vi.push(O);this.DI.appendChild(c);this.UT.push(c);c.addEventListener("click",N,!1)}this.Nc=z.B("div","cell padded");
H.appendChild(this.Nc);for(var Q=0;Q<this.qI.length;Q++)this.qI[Q].O("brushchange",this.tTy,this);this.setItem(0);
this.rP=z.B("canvas","");this.rP.width=Math.floor(380*z.h());this.rP.height=Math.floor(80*z.h());z.gx(this.rP,this.rP.width,this.rP.height);
H.appendChild(this.rP);this._m=this.rP.getContext("2d");this.Uz()}Jz.prototype=new tC("");Jz.prototype.w=function(){tC.prototype.w.call(this);
this.Iz.w();for(var H=1;H<this.vi.length;H++)this.vi[H].w();for(var H=0;H<this.qI.length;H++)this.qI[H].w()};
Jz.prototype.tTy=function(H){var N=this.qI.indexOf(H.currentTarget),Q=JSON.parse(JSON.stringify(this.qI[N].HF)),c=new k(z.E.Y,!0);
c.data={X:z.m.u_,gg:JG.kT,HF:Q};this.N(c)};Jz.prototype.tTP=function(H){this.zA(this.vi.indexOf(H.currentTarget),H.currentTarget.Tv())};
Jz.prototype.tTa=function(H){var N=this.UT.indexOf(H.currentTarget);if(H.target.tagName.toLowerCase()=="input")return;
if(this.vi[N]&&!this.vi[N].Tv()){this.vi[N].PT();this.zA(N,!0)}this.setItem(N)};Jz.prototype.zA=function(H,N){this.qI[H].Dl(N)};
Jz.prototype.setItem=function(H){for(var N=0;N<this.qI.length;N++)this.UT[N].setAttribute("class","listitem");
if(this.Nc.firstChild)this.Nc.removeChild(this.Nc.firstChild);this.UT[H].setAttribute("class","listitem selected");
this.Nc.appendChild(this.qI[H].J)};Jz.prototype.qB=function(H,N){this.AF=H.AF;this.ze=H.ze;if(N==JG.Tz){this.TM=H.lL;
for(var Q=0;Q<this.qI.length;Q++)this.qI[Q].aA(this.TM)}if(N==JG.kT){this.HF=H.lL.CU;this.Uz()}if(N==JG.nc)this.Uz()};
Jz.prototype.Uz=function(){if(this.HF)this.enable();else{this.disable();return}for(var H=0;H<this.qI.length;
H++){this.qI[H].Q(this.HF);if(this.vi[H])this.vi[H].Q(this.qI[H].Tv())}var N=JSON.parse(JSON.stringify(this.HF));
N.Brsh.v.Dmtr.v.val=Math.min(N.Brsh.v.Dmtr.v.val,50);var Q=new p(0,0,this.rP.width,this.rP.height),c=new Jf(N,this.TM?this.TM.Fy:null,this.TM?this.TM.nw:null,{OO:1},this.AF,this.ze,Q),_=40*z.h(),O=300*z.h();
c.moveTo(_,_);for(var H=0;H<=O;H+=10)c.lineTo(_+H,_+20*Math.sin(2*Math.PI*H/O));c.finish();var L=this._m.createImageData(Q.$,Q.z);
$.Pg(c.GE(),c.AK(),L.data,Q);this._m.putImageData(L,0,0)};Jz._Q=function(H){JS.call(this);this.Es=H;
this.J=z.B("div","");this.HF=null};Jz._Q.prototype=new JS;Jz._Q.prototype.aA=function(H){};Jz._Q.prototype.Q=function(H){this.HF=JSON.parse(JSON.stringify(H));
this.J.setAttribute("class",this.Tv()?"":"disabled");this.Uz()};Jz._Q.prototype.Dl=function(H){};Jz._Q.prototype.Tv=function(){return!1};
Jz._Q.prototype.w=function(){};Jz._Q.prototype.Uz=function(){};Jz._Q.prototype.bD=function(){this.N(new k("brushchange"))};
Jz.GD=function(){Jz._Q.call(this,[15,0]);this.TM=null;this.fx=null;this.Xb=new Hq(!0);this.J.appendChild(this.Xb.J);
this.Xb.O(z.E.p,this.tTq,this);this.Xb.J.style.height="10.7em";this.XN=new Jb([12,14],1,1e3," px",0,!0);
this.XN.O(z.E.p,this.tTl,this);this.QD=new Jb([12,15],0,359," \xB0");this.QD.O(z.E.p,this.tTe,this);
this.QT=new Jb([12,16],0,100," %");this.QT.O(z.E.p,this.tTN,this);this.QG=new Jb([12,17],0,100," %");
this.QG.O(z.E.p,this.tTm,this);this.Qq=new Jb([12,18],1,300," %");this.Qq.O(z.E.p,this.tP$,this);this.UT=[this.XN,this.QD,this.QT,this.QG,this.Qq]};
Jz.GD.prototype=new Jz._Q;Jz.GD.prototype.w=function(){this.XN.w();this.QD.w();this.QT.w();this.QG.w();
this.Qq.w()};Jz.GD.prototype.Tv=function(){return!0};Jz.GD.prototype.aA=function(H){this.TM=H;var N=[],Q=Math.floor(30*z.h()),c=Math.floor(40*z.h());
for(var _=0;_<H.list.length;_++){var O=H.list[_].v,L=Jf.uU(O,H.Fy,H.nw,Q,c);N.push(L)}this.Xb.mx(N,null,Q,c)};
Jz.GD.prototype.Uz=function(){var H=this.HF.Brsh.v,N=H.classID!=this.fx;this.fx=H.classID;if(N)for(var Q=0;
Q<this.UT.length;Q++)if(this.J.contains(this.UT[Q].J))this.J.removeChild(this.UT[Q].J);this.XN.Q(H.Dmtr.v.val);
if(N)this.J.appendChild(this.XN.J);this.QD.Q(H.Angl.v.val);if(N)this.J.appendChild(this.QD.J);if(H.classID=="computedBrush"||H.classID=="sampledBrush"){this.QT.Q(H.Rndn.v.val);
if(N)this.J.appendChild(this.QT.J)}if(H.classID=="computedBrush"){this.QG.Q(H.Hrdn.v.val);if(N)this.J.appendChild(this.QG.J)}this.Qq.Q(H.Spcn.v.val);
if(N)this.J.appendChild(this.Qq.J)};Jz.GD.prototype.tTq=function(H){this.HF=this.TM.list[this.Xb.v()].v;
this.bD()};Jz.GD.prototype.tTl=function(H){this.HF.Brsh.v.Dmtr.v.val=H.target.v();this.bD()};Jz.GD.prototype.tTe=function(H){this.HF.Brsh.v.Angl.v.val=H.target.v();
this.bD()};Jz.GD.prototype.tTN=function(H){this.HF.Brsh.v.Rndn.v.val=H.target.v();this.bD()};Jz.GD.prototype.tTm=function(H){this.HF.Brsh.v.Hrdn.v.val=H.target.v();
this.bD()};Jz.GD.prototype.tP$=function(H){this.HF.Brsh.v.Spcn.v.val=H.target.v();this.bD()};Jz.eU=function(){Jz._Q.call(this,[15,1]);
this.aa=new Jb([15,4,0],0,100," %");this.aa.O(z.E.p,this.tPH,this);this.J.appendChild(this.aa.J);this.av=new Jb([15,4,1],0,100," %");
this.av.O(z.E.p,this.tPP,this);this.J.appendChild(this.av.J);this.aq=new Jb([15,4,2],0,100," %");this.aq.O(z.E.p,this.tPa,this);
this.J.appendChild(this.aq.J);this.an=new Jb([15,4,3],0,100," %");this.an.O(z.E.p,this.tPS,this);this.J.appendChild(this.an.J);
this.aY=new Jb([15,4,4],0,100," %");this.aY.O(z.E.p,this.tPE,this);this.J.appendChild(this.aY.J)};Jz.eU.prototype=new Jz._Q;
Jz.eU.prototype.w=function(){this.aa.w();this.av.w();this.aq.w();this.an.w();this.aY.w()};Jz.eU.prototype.Tv=function(){return this.HF.useTipDynamics.v};
Jz.eU.prototype.Dl=function(H){this.HF.useTipDynamics.v=H;HP._o.YQ(this.HF);this.bD()};Jz.eU.prototype.Uz=function(){var H=this.HF;
if(H.useTipDynamics.v==!1)return;this.aa.Q(H.szVr.v.jitter.v.val);this.av.Q(H.minimumDiameter.v.val);
this.aq.Q(H.angleDynamics.v.jitter.v.val);this.an.Q(H.roundnessDynamics.v.jitter.v.val);this.aY.Q(H.minimumRoundness.v.val)};
Jz.eU.prototype.tPH=function(H){this.HF.szVr.v.jitter.v.val=H.target.v();this.bD()};Jz.eU.prototype.tPP=function(H){this.HF.minimumDiameter.v.val=H.target.v();
this.bD()};Jz.eU.prototype.tPa=function(H){this.HF.angleDynamics.v.jitter.v.val=H.target.v();this.bD()};
Jz.eU.prototype.tPS=function(H){this.HF.roundnessDynamics.v.jitter.v.val=H.target.v();this.bD()};Jz.eU.prototype.tPE=function(H){this.HF.minimumRoundness.v.val=H.target.v();
this.bD()};Jz._e=function(){Jz._Q.call(this,[15,2]);this.aZ=new Jb([15,5,0],0,1e3," %");this.aZ.O(z.E.p,this.tPA,this);
this.J.appendChild(this.aZ.J);this.ak=new Jb([15,5,1],1,20);this.ak.O(z.E.p,this.tPk,this);this.J.appendChild(this.ak.J);
this.aN=new Jb([15,5,2],0,100," %");this.aN.O(z.E.p,this.tPe,this);this.J.appendChild(this.aN.J)};Jz._e.prototype=new Jz._Q;
Jz._e.prototype.w=function(){this.aZ.w();this.ak.w();this.aN.w()};Jz._e.prototype.Tv=function(){return this.HF.useScatter.v};
Jz._e.prototype.Dl=function(H){this.HF.useScatter.v=H;HP._o.YQ(this.HF);this.bD()};Jz._e.prototype.Uz=function(){var H=this.HF;
if(H.useScatter.v==!1)return;this.aZ.Q(H.scatterDynamics.v.jitter.v.val);this.ak.Q(H.Cnt.v);this.aN.Q(H.countDynamics.v.jitter.v.val)};
Jz._e.prototype.tPA=function(H){this.HF.scatterDynamics.v.jitter.v.val=H.target.v();this.bD()};Jz._e.prototype.tPk=function(H){this.HF.Cnt.v=H.target.v();
this.bD()};Jz._e.prototype.tPe=function(H){this.HF.countDynamics.v.jitter.v.val=H.target.v();this.bD()};
Jz.um=function(){Jz._Q.call(this,[15,3]);this.aF=new Jb([15,6,0],0,100," %");this.aF.O(z.E.p,this.tPN,this);
this.J.appendChild(this.aF.J);this.PW=new Jb([15,6,1],0,100," %");this.PW.O(z.E.p,this.tdR,this);this.J.appendChild(this.PW.J);
this.a_=new Jb([15,6,2],0,100," %");this.a_.O(z.E.p,this.tdJ,this);this.J.appendChild(this.a_.J);this.SR=new Jb([15,6,3],0,100," %");
this.SR.O(z.E.p,this.tdw,this);this.J.appendChild(this.SR.J)};Jz.um.prototype=new Jz._Q;Jz.um.prototype.w=function(){this.aF.w();
this.PW.w();this.a_.w();this.SR.w()};Jz.um.prototype.Tv=function(){return this.HF.useColorDynamics.v};
Jz.um.prototype.Dl=function(H){this.HF.useColorDynamics.v=H;HP._o.YQ(this.HF);this.bD()};Jz.um.prototype.Uz=function(){var H=this.HF;
if(H.useColorDynamics.v==!1)return;this.aF.Q(H.clVr.v.jitter.v.val);this.PW.Q(H.H.v.val);this.a_.Q(H.Strt.v.val);
this.SR.Q(H.Brgh.v.val)};Jz.um.prototype.tPN=function(H){this.HF.clVr.v.jitter.v.val=H.target.v();this.bD()};
Jz.um.prototype.tdR=function(H){this.HF.H.v.val=H.target.v();this.bD()};Jz.um.prototype.tdJ=function(H){this.HF.Strt.v.val=H.target.v();
this.bD()};Jz.um.prototype.tdw=function(H){this.HF.Brgh.v.val=H.target.v();this.bD()};function HY(){tC.call(this,[9,0]);
this.hD.setAttribute("style","min-width:200px;");this.lT=z.B("div","hpbody scrollable");this.lT.style.height="160px";
this.hD.appendChild(this.lT);this.tyO=-1;this.IU=[]}HY.prototype=new tC("");HY.prototype.aK=function(H){z.hk(this.lT);
if(H==null)return;var N=0;for(var Q=0;Q<H.history.length;Q++)if(Q<=H.ei&&!H.history[Q].JG)N=Q;for(var Q=0;
Q<H.history.length;Q++){var c=H.history[Q];if(c.JG)continue;var _=new Hv(c,Q,N);_.parent=this;this.lT.appendChild(_.J);
this.IU.push(_)}if(H.ei==H.history.length-1)this.lT.scrollTop=this.lT.scrollHeight};HY.prototype.w=function(){tC.prototype.w.call(this);
for(var H=0;H<this.IU.length;H++)this.IU[H].w()};function Hv(H,N,Q){JS.call(this);this.index=N;this.J=z.B("div",N==Q?"listitem selected":"listitem");
this.Do=H.name;this.w();if(N>Q)this.J.style.opacity=.4;this.J.addEventListener("click",this.cL.bind(this),!1)}Hv.prototype=new JS;
Hv.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do);this.J.textContent=H};
Hv.prototype.cL=function(H){if(this.index==this.parent.tyO)return;this.oe({X:"h_itemchange",index:this.index})};
Hv.prototype.oe=function(H){var N=new k(z.E.W,!0);N.data=H;N.c=l.ni;this.N(N)};function Hb(){tC.call(this,[9,8]);
this.NW=z.B("div","padded");this.hD.appendChild(this.NW);this.TV=new tn(10);this.NW.appendChild(this.TV.J);
this.NW.appendChild(z.B("hr"));this.og=new tp;this.og.parent=this;this.NW.appendChild(this.og.xI);this.TV.O(z.E.p,this.zU,this);
this.og.O(z.E.p,this.zU,this)}Hb.prototype=new tC("");Hb.prototype.zU=function(H){var N;if(H.target==this.TV)N=this.TV.v();
else{var Q=this.og.v();N=Math.round(Q.T)<<16|Math.round(Q.q)<<8|Math.round(Q.H)}var c=new k(z.E.Y,!0);
c.data={X:z.m.u_,gg:JG.nc,gE:0,R:N};this.N(c)};Hb.prototype.qB=function(H,N){var Q=H.AF;this.TV.Q(Q);
this.og.Q({T:Q>>>16&255,q:Q>>>8&255,H:Q>>>0&255});if(N==JG.Jr){var c=H.bs;this.og.aA(c)}};function VZ(){tC.call(this,[9,4]);
this.hD.setAttribute("style","min-width:240px;");this.Ty=new $s;this.Ty.parent=this;var H=z.B("div","marged");
this.hD.appendChild(H);H.appendChild(this.Ty.li.J);this.hD.appendChild(z.B("hr"));var N=z.B("div","marged");
this.hD.appendChild(N);N.appendChild(this.Ty.lm.J);N.appendChild(this.Ty.fJ.J);var Q=z.B("div","marged");
this.hD.appendChild(Q);Q.appendChild(this.Ty.jc.J);this.hD.appendChild(z.B("hr"));var c=z.B("div","marged");
this.hD.appendChild(c);c.appendChild(this.Ty.EB.J);c.appendChild(this.Ty.Ez.J);var _=z.B("div","marged");
this.hD.appendChild(_);_.appendChild(this.Ty.pc.J);_.appendChild(this.Ty.jO.J);this.hD.appendChild(z.B("hr"));
var O=z.B("div","marged");this.hD.appendChild(O);O.appendChild(this.Ty.xC.J);O.appendChild(this.Ty.xG.J);
O.appendChild(this.Ty.xM.J);O.appendChild(this.Ty.xS.J);O.appendChild(this.Ty.xg.J);O.appendChild(this.Ty.xE.J);
O.appendChild(this.Ty.xW.J)}VZ.prototype=new tC("");VZ.prototype.w=function(){tC.prototype.w.call(this);
this.Ty.w()};VZ.prototype.qB=function(H,N){if(N!=JG.hP&&N!=JG.vw&&N!=JG.IL&&N!=JG.tb)return;this.Ty.zc(H)};
function Ve(){tC.call(this,"CSS");this.NW=z.B("div","padded");this.hD.appendChild(this.NW);this._L=z.B("textarea");
this._L.setAttribute("rows",16);this._L.setAttribute("cols",36);this._L.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
this.NW.appendChild(this._L)}Ve.prototype=new tC("");Ve.prototype.aK=function(H){if(H==null||H.g.length==0)return;
var N=H.b[H.g[0]],Q=CSS.bL(N);if(Q.length!=0)this._L.value=Q.join(";\n")+";";else this._L.value=""};
function Hh(){tC.call(this,[9,6]);this.hD.setAttribute("style","min-width:240px;");var H=z.B("div","marged row");
this.hD.appendChild(H);var N=z.B("div","cell");N.setAttribute("style","width:10em");H.appendChild(N);
var Q=z.B("div","cell");Q.setAttribute("style","width:10em");H.appendChild(Q);this.tDw=new $J("R:");
this.tDC=new $J("G:");this.tDG=new $J("B:");this.hD.appendChild(z.B("hr",""));var c=z.B("div","marged row");
this.hD.appendChild(c);var N=z.B("div","cell");N.setAttribute("style","width:10em");var Q=z.B("div","cell");
Q.setAttribute("style","width:10em");c.appendChild(N);c.appendChild(Q);this.ap=new $J("");N.appendChild(this.ap.J);
N.appendChild(z.B("br"));this.al=new $J("");N.appendChild(this.al.J);this.fQ=new $J("");Q.appendChild(this.fQ.J);
Q.appendChild(z.B("br"));this.ET=new $J("");Q.appendChild(this.ET.J);this.ap.Q("X: 100 px");this.al.Q("Y: 100 px");
this.fQ.Q("W: 0");this.ET.Q("H: 0")}Hh.prototype=new tC("");Hh.prototype.XY=function(H,N,Q,c,_){var O=H.n.kp(_.x,_.y),L=new E(Math.floor(O.x),Math.floor(O.y));
if(!1){var s=0,r=0,u=0;if(!_.Vv&&!H.tyN()&&new p(0,0,H.$,H.z).Eo(L)){var V=H.cn(),C=H.$*L.y+L.x<<2;s=V[C+0];
r=V[C+1];u=V[C+2]}this.tDw.Q("R: "+s);this.tDC.Q("G: "+r);this.tDG.Q("B: "+u)}this.ap.Q("X: "+$.VU.ZS(L.x,H.go,Q));
this.al.Q("Y: "+$.VU.ZS(L.y,H.go,Q));this.zm(H,Q)};Hh.prototype.zm=function(H,N){var Q=0,c=0;if(H.n._E){Q=H.n._E.$;
c=H.n._E.z}else if(H.t){Q=H.t.rect.$;c=H.t.rect.z}this.fQ.Q(tg.get([12,41]).charAt(0)+": "+$.VU.ZS(Math.abs(Q),H.go,N));
this.ET.Q(tg.get([12,42]).charAt(0)+": "+$.VU.ZS(Math.abs(c),H.go,N))};Hh.prototype.aK=function(H,N,Q){if(H)this.zm(H,Q)};
function rP(){tC.call(this,[9,1]);this.oj=null;this.Ti=null;this.ZM=null;this.Mt=z.B("div","lphead");
this.lT=z.B("div","lpbody scrollable");this.QX=z.B("div","lpfoot");this.es=new J_(null,ta.ln,!1,ta.XL);
this.es.O(z.E.p,this.tdf,this);this.Mt.appendChild(this.es.J);this.XV=new ry([12,0],0,100,"%",0);this.XV.O(z.E.p,this.tdY,this);
this.XV.parent=this;this.Mt.appendChild(this.XV.J);this.XM=new tF("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.XM.O(z.E.p,this.tdk,this);this.Mt.appendChild(this.XM.J);this.XM.J.setAttribute("style","margin-right:1.5em");
this.Qn=new ry([12,26],0,100,"%",0);this.Qn.O(z.E.p,this.tdm,this);this.Qn.parent=this;this.S$=[];this.tRE();
this.hD.appendChild(this.Mt);this.hD.appendChild(this.lT);this.hD.appendChild(this.QX);this.hD.addEventListener("contextmenu",rt.ua,!1);
this.fV=[{name:[14,10]},{name:[6,0]},{name:[11,4]},{name:[5,4],wN:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",V:function(H){return{V:H.b[H.g[0]].add.SoLd!=null}},wN:!0},{name:[6,8],V:function(H){var N=H.b[H.g[0]];
if(N.add.TySh||N.add.SoLd||N.add.SoCo||N.add.GdFl||N.add.PtFl)return{V:!0};return{V:!1}}},{name:[6,34],V:function(H){var N=H.b[H.g[0]];
return{V:N.add.lmfx!=null}}},{name:[6,40],wN:!0,V:function(H){var N=H.b[H.g[0]];return{V:N.add.TySh!=null}}},{name:"",wN:!0,V:function(H){var N=H.b[H.g[0]],Q=N.add.TySh;
return{V:Q!=null,cg:"Convert to "+(Q&&X.gG(Q.Bd)==0?"Paragraph text":"Point text")}}},{name:[6,6],wN:!0,V:function(H){return{V:H.HG(H.g[0]),cU:H.b[H.g[0]].fB}}},{name:[11,6],wN:!0,sub:[{name:[5,1],V:function(H){var N=H.b[H.g[0]];
return{V:N.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],V:function(H){var N=H.b[H.g[0]];return{V:N.add.lmfx!=null}}}]},{name:[6,10],V:function(H){return{V:H.g.length==1&&H.g[0]!=0&&!H.b[H.g[0]].oP()}}},{name:[6,12],V:function(H){return{V:H.g.length>1||H.b[H.g[0]].oP()}},wN:!0},{name:[13,0],sub:function(){var H=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],N=[];
for(var Q=0;Q<H.length;Q++)N.push({name:H[Q]});return N}()}];this.SG=[null,R.nJ,{U:z.E.Y,k:{X:z.m.gI,gL:"duplinto"}},R.vN,R.Jj,R.jN,R.jF,R.KJ,R.fs,{U:z.E.W,c:l.Jv,k:{X:"switchPntPrgr"}},R.Ei,null,R.CM,R.JK,R.wt];
this.Nc=new rq(this.fV);this.Nc.O("select",this.aQ,this);this.zG=[{name:[6,45],V:function(H){var N=H.b[H.g[0]];
return{V:N.hy(H).d==null}}},{name:[6,47]}];this.tDW=[R.rB,R.wH];this.Im=new rq(this.zG);this.Im.O("select",this.aQ,this);
this.zx=[{name:"enab/disab",V:function(H){return{cg:tg.get(H.b[H.g[0]].Ab().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],V:function(H){return{V:H.FS(!1,!0)}}}];
this.tDq=[R.v_,R.rU,R.KT];this.Sw=new rq(this.zx);this.Sw.O("select",this.aQ,this);this.ZL=[{name:"enab/disab",V:function(H){return{cg:tg.get(H.b[H.g[0]].hy(H).d.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.tDi=[R.rA,R.rZ];this.Is=new rq(this.ZL);this.Is.O("select",this.aQ,this);this.UW=[{name:"enab/disab",V:function(H){return{cg:tg.get(H.b[H.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.tDj=[R.CK,R.HJ];this.SD=new rq(this.UW);this.SD.O("select",this.aQ,this);this.Uq=ri.zv(!0);this.tDK=ri.zW(!0);
this.Qs=new rq(this.Uq);this.Qs.O("select",this.aQ,this);this.UN=ri.zg();this.tDe=ri.za();this.SC=new rq(this.UN);
this.SC.O("select",this.aQ,this);this.O("rclick",this.tdI,this)}rP.prototype=new tC("");rP.prototype.DQ=function(){return new E(250,0)};
rP.prototype.aQ=function(H){var N=H.target.pa(),Q=N[0],c;if(H.target==this.Nc)c=this.SG;if(H.target==this.Im)c=this.tDW;
if(H.target==this.Sw)c=this.tDq;if(H.target==this.SD)c=this.tDj;if(H.target==this.Is)c=this.tDi;if(H.target==this.Qs)c=this.tDK;
if(H.target==this.SC)c=this.tDe;if(c[Q]==null){if(Q==0){var _=new k(z.E.Y,!0);_.data={X:z.m.gI,gL:"layerstyle",i:this.Ti.g[0]};
this.N(_)}else{var O=new k(z.E.W,!0);O.c=l.rt;O.data={X:["st_copy","st_paste","st_clear"][N[1]],i:this.Ti.g[0]};
this.N(O)}return}if(c[Q].U!=null){var L=c[Q],O=new k(L.U,!0);O.c=L.c;O.data=L.k;H.target.N(O);return}var O=new k(z.E.W,!0);
if(H.target==this.Qs)O.data=c[Q];else O.data={X:c[Q]};if(c[Q]==R.wt)O.data.t$B=N[1];O.c=l.uh;H.target.N(O)};
rP.prototype.tdI=function(H){var N=this.Ti,Q=H.data,c,_;if(N.g.indexOf(Q.i)==-1){N.g=[Q.i];N.kJ=!0}if(Q.G==1){c=this.Sw;
_=this.zx}else if(Q.G==2){c=this.SD;_=this.UW}else if(Q.G==3){c=this.Is;_=this.ZL}else if(Q.tcy){c=this.Im;
_=this.zG}else{c=this.Nc;_=this.fV}c.update(N,_);c.parent=this;var O=new k(z.E.Y,!0);O.data={X:z.m.Fe,AB:c,x:Q.ej.x+1,y:Q.ej.y+1};
this.N(O)};rP.prototype.w=function(){tC.prototype.w.call(this);this.XV.w();this.XM.w();this.Qn.w();this.Nc.w();
this.Sw.w();this.SD.w();this.Qs.w();this.SC.w();if(this.Ti)this.aK(this.Ti);var H="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var N=0;N<this.S$.length;N++){var Q=this.S$[N];Q.$v(z.Ur(H[N]))}};rP.prototype.aK=function(H,N){if(H==null)z.wj(this.hD,"disabled");
else z.cd(this.hD,"disabled");this.Ti=H;this.ZM=N;if(this.oj!=null){this.lT.removeChild(this.oj.lT);
this.oj=null}if(H==null)return;this.oj=new rt(H.root,this,H,{nx:0});this.lT.appendChild(this.oj.lT);
if(H.g.length==0){z.wj(this.Mt,"disabled")}else{z.cd(this.Mt,"disabled");if(H.g.length==1&&H.EV)this.oj.Zt(H.g);
var Q=H.b[H.g[0]];if(Q.oP()){this.es.ea(["Pass Through"].concat(ta.ln),[1].concat(ta.XL));var c=ta.Cj.indexOf(Q.kE);
this.es.Q(c+1)}else{this.es.ea(ta.ln,ta.XL);var c=ta.Cj.indexOf(Q.kE);this.es.Q(c)}this.XV.Q(Math.round(100*Q.opacity/255));
this.XM.Q([Q.FT(1),Q.FT(2),Q.FT(31)]);this.Qn.Q(Math.round(100*(Q.add.iOpa!=null?Q.add.iOpa/255:1)))}};
rP.prototype.Tc=function(H,N){var Q=this.Mt.getBoundingClientRect().height,c=N-(Q+34);this.lT.style.height=c+"px"};
rP.prototype.tdf=function(H){this.oe({X:R.HH,UG:this.es.v()})};rP.prototype.tdY=function(H){this.oe({X:R.CY,UG:Math.round(255*this.XV.v()/100)})};
rP.prototype.tdk=function(H){this.oe({X:R.Hw,UG:[this.XM.v(),[1,2,31]]})};rP.prototype.tdm=function(H){this.oe({X:R.rx,UG:Math.round(255*this.Qn.v()/100)})};
rP.prototype.tGC=function(H){this.z_(H.currentTarget,this.Qs,this.Uq)};rP.prototype.tGB=function(H){this.z_(H.currentTarget,this.SC,this.UN)};
rP.prototype.z_=function(H,N,Q){var c=H.J.getBoundingClientRect();N.update(this.Ti,Q);N.parent=this;
var _=new k(z.E.Y,!0);_.data={X:z.m.Fe,AB:N,x:c.left,y:c.top,tcc:!0};this.N(_)};rP.prototype.txr=function(H){this.oe({X:R.fk})};
rP.prototype.txW=function(H){this.oe({X:R.KG})};rP.prototype.txQ=function(H){this.oe({X:R.Hl})};rP.prototype.tRw=function(H){this.oe({X:R.vN})};
rP.prototype.tRd=function(H){this.oe({X:R.JA})};rP.prototype.oe=function(H){var N=new k(z.E.W,!0);N.data=H;
N.c=l.uh;this.N(N)};rP.prototype.tRE=function(){var H=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],N=[this.tRd,this.tGB,this.tGC,this.txr,this.txW,this.txQ,this.tRw];
for(var Q=0;Q<H.length;Q++){var c=new JQ("W",!1,H[Q]);this.S$.push(c);c.O("click",N[Q],this);this.QX.appendChild(c.J);
if(Q>=H.length-3){var _=c.J;_.addEventListener("drop",this.tRA.bind(this),!1);_.addEventListener("dragover",function(O){c.PT()}.bind(this),!1);
_.addEventListener("dragenter",rt.ua,!1);_.addEventListener("dragleave",function(O){c.vl()}.bind(this),!1)}}};
rP.prototype.tRA=function(H){var N=0,Q=this.S$;while(Q[N].J!=H.currentTarget)N++;Q[N].vl();var c=H.dataTransfer.getData("Text");
if(c=="")return;var c=JSON.parse(c);if(c.cF=="l"){var _={X:[R.ri,R.nJ,R.vN][N-4]};if(this.Ti.g.indexOf(c.pV)==-1)_.i=c.pV;
this.oe(_)}if(N!=6)return;if(c.cF=="sm"||c.cF=="s"){var O=new k(z.E.W,!0);O.c=l.rt;O.data={X:c.cF=="sm"?"st_clear":"st_delsingle",i:c.pV,pV:c.Hn};
this.N(O)}if(c.cF=="fm"||c.cF=="f"){this.oe({X:c.cF=="fm"?R.wH:R.fu,i:c.pV,pV:c.Hn})}};function rt(H,N,Q,c){JS.call(this);
this.parent=N;this.sh=H;this.Iu=[];this.J=z.B("div","layeritem");this.cw=this.A$.bind(this);this.NI=this.tta.bind(this);
this.SM=this.ttX.bind(this);var _=H.i,V=15,P=!1;this.Mt=z.B("div",Q.g.indexOf(H.index)!=-1?"head selected":"head");
if(H.i.add.artb!=null)z.wj(this.Mt,"artb");this.Mt.setAttribute("style","height: "+(_.cS+10)+"px");this.Nw=z.B("div","headL");
this.NP=z.B("div","headR");this.Xq=z.B("div","lpineck");this.lT=z.B("div","lpibody");this.J.appendChild(this.Mt);
this.Mt.appendChild(this.Nw);this.Mt.appendChild(this.NP);if(_.JP()||_.kl())if(_.Jq())this.J.appendChild(this.Xq);
var O=this.Mt;O.setAttribute("draggable","true");O.addEventListener("dragstart",this.Zk.bind(this),!1);
O.addEventListener("drop",this.VV.bind(this),!1);O.addEventListener("dragover",this.Z_.bind(this),!1);
O.addEventListener("dragenter",rt.ua,!1);O.addEventListener("dragleave",this.Zu.bind(this),!1);this.cm=[];
this.Q_=[];this.cs=z.B("div");this.yV=z.B("div","eye");this.cs.appendChild(this.yV);this.FV=z.B("div","space");
this.y$=z.B("div","arrow");this.tcL=z.B("div","folder");this.tcG=z.B("div","clipp");this.SS=z.B("div","thumb");
this.SE=z.B("div","chain");this.wv=z.B("div","thumb");this.Sq=z.B("div","chain");this.Xp=z.B("div","thumb");
this.Xf=z.B("div","thumb");this.UR=z.B("div","label");this.UR.textContent=_.getName();this.wv.setAttribute("draggable","true");
this.Xp.setAttribute("draggable","true");this.tch=z.B("div","link");this.Fs=z.B("div","lock");this.tcW=z.B("div","lrfx");
this.Sf=z.B("div","arfx");this.Mt.addEventListener("click",this.ZH.bind(this),!1);this.Mt.addEventListener("contextmenu",this.SM,!1);
this.Xf.addEventListener("click",this.ZH.bind(this),!1);this.Xf.addEventListener("contextmenu",this.SM,!1);
var L=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],s=_.add.lclr==null?0:L[_.add.lclr];
if(s==0)s=c.nx;var r=[s>>16,s>>8&255,s&255];for(var u=0;u<3;u++){r[u]=Math.round(.5*r[u]+.5*220)}if(1<z.h()&&z.h()<1.5)V=V/z.h();
this.cs.setAttribute("style","background-color:rgba("+r.join(",")+","+(s==0?0:1)+");");this.yV.setAttribute("style","background-size: "+V+"px "+V+"px;");
var C=this.tRU.bind(this);this.cs.addEventListener("mousedown",C,!1);this.cs.addEventListener("mouseover",C,!1);
this.y$.addEventListener("click",this.tRk.bind(this),!1);this.SE.addEventListener("click",this.ttH.bind(this),!1);
this.Sq.addEventListener("click",this.ttw.bind(this),!1);this.UR.addEventListener("click",this.ttD.bind(this),!1);
this.Sf.addEventListener("click",this.ttW.bind(this),!1);this.cm[0]=this.cs;this.cm[1]=this.FV;this.cm[10]=this.UR;
if(_.oP()){this.cm[2]=this.y$;this.cm[3]=this.tcL;if(_.add.lsct==tR.Gp){for(var u=H.children.length-1;
u>=0;u--){var T=new rt(H.children[u],N,Q,{nx:s});this.Iu.push(T);this.lT.appendChild(T.J)}this.J.appendChild(this.lT)}this.y$.setAttribute("class",_.add.lsct==tR.Gp?"open":"closed")}else{this.cm[5]=this.SS;
this.SS.appendChild(_.Fd.canvas)}var e=_.Ab();if(e){this.wv.appendChild(H.i.LJ.canvas);this.SE.style.opacity=e.WZ?1:0}if(_.add.vmsk){this.Xp.appendChild(H.i.LL.canvas);
this.Sq.style.opacity=_.add.vmsk.WZ?1:0}if(_.kl()&&_.hy(Q).d){this.Xf.appendChild(H.i.Ld.canvas)}if(_.JP()){this.Xq.addEventListener("contextmenu",this.SM,!1);
var t=new rP.Eb(tg.get([12,1]),"sm","layerstyle",H.depth,0,null);t.parent=this;this.Xq.appendChild(t.J);
var Y=_.add.lmfx,A=Y.masterFXSwitch.v;t.cE(A);for(var u=0;u<B.order.length;u++){var G=Y[B.vz[u]].v;if(G.length==0)continue;
for(var j=0;j<G.length;j++){var t=new rP.Eb(tg.get(B.names[u]),"s","layerstyle",H.depth,1,[u,j]);t.cE(A&&G[j].v.enab.v);
t.parent=this;this.Xq.appendChild(t.J)}}}if(_.kl()){var t=new rP.Eb(tg.get([12,55]),"fm",null,H.depth,0,-1,_.hy(Q).d?this.Xf:null);
t.parent=this;this.Xq.appendChild(t.J);this.mR=t.J;this.mR.addEventListener("contextmenu",this.SM,!1);
var Y=_.add.SoLd.filterFX.v,d=Y.filterFXList.v,A=Y.enab.v;t.cE(A);for(var u=d.length-1;u>=0;u--){var w=d[u].v,f=w.filterID.v,b=x.Xn(f);
if(JO.ys[b])b=JO.ys[b];var F=w.Nm.v;if(VJ.names[b])F=tg.get(VJ.names[b]);if(JO.names[b])F=tg.get(JO.names[b]);
var n=JD[b]||JE[b]?"filter_"+b:null,t=new rP.Eb(F,"f",n,H.depth,1,u);t.cE(A&&w.enab.v);t.parent=this;
this.Xq.appendChild(t.J)}}if(Q.b.indexOf(_)==Q.g[0]){if(_.G<=0)this.SS.setAttribute("class","thumb active");
if(_.G==1)this.wv.setAttribute("class","thumb active");if(_.G==3)this.Xf.setAttribute("class","thumb active");
if(_.uv)this.Xp.setAttribute("class","thumb active")}this.cs.style.opacity=_.op()?1:.25;this.FV.setAttribute("style","width:"+Math.max(0,H.depth-1)*18+"px");
var J=_.add.lspf!=null&&_.add.lspf!=0;this.Fs.style.opacity=_.FT(31)?1:.5;var Z=_.TT()&&_.add.vmsk;this.cm[4]=_.fB?this.tcG:null;
this.cm[6]=e?this.SE:null;this.cm[7]=e?this.wv:null;this.cm[8]=_.add.vmsk&&!Z?this.Sq:null;this.cm[9]=_.add.vmsk&&!Z?this.Xp:null;
var M=_.nb,y=Q.g;if(M!=0)for(var u=0;u<y.length;u++)if(Q.b[y[u]].nb==M){P=!0;break}this.Q_[0]=P?this.tch:null;
this.Q_[1]=J?this.Fs:null;this.Q_[2]=_.JP()?this.tcW:null;this.Q_[3]=_.JP()||_.kl()?this.Sf:null;this.Sf.setAttribute("class",_.Jq()?"arfx open  gsicon":"arfx closed  gsicon");
var a=this.cm;for(var u=0;u<a.length;u++)if(a[u])this.Nw.appendChild(a[u]);a=this.Q_;for(var u=0;u<a.length;
u++)if(a[u])this.NP.appendChild(a[u])}rt.prototype=new JS;rt.prototype.Zt=function(H){var N=this.sh.index;
if(H.indexOf(N)!=-1){if(this.J.scrollIntoView)this.J.scrollIntoView({block:"nearest"})}for(var Q=0;Q<this.Iu.length;
Q++)this.Iu[Q].Zt(H)};rt.ua=function(H){H.stopPropagation();H.preventDefault()};rt.tc$=function(H){H.stopPropagation()};
rt.MM=function(H,N){var Q=N.getBoundingClientRect();return(H.clientY-Q.top)/Q.height};rt.prototype.Zk=function(H){H.stopPropagation();
var N=H.target==this.wv?"m":H.target==this.Xp?"vm":"l";H.dataTransfer.setData("Text",JSON.stringify({cF:N,pV:this.sh.index}))};
rt.prototype.Zu=function(H){rt.ua(H);this.ph()};rt.prototype.VV=function(H){rt.ua(H);this.ph();var N=H.dataTransfer.getData("Text"),Q=this.parent.Ti,c=rt.MM(H,this.Mt),_=this.sh.index;
if(c>.8){var O=!0,L=Q.root.oo(_);while(L.parent!=null){var s=L.parent,r=s.children;if(r.indexOf(L)!=0)O=!1;
L=L.parent}if(O){_=0;c=1}}if(N==""){z.bg(H,this,this.parent.ZM.indexOf(Q),_+(c>.5?0:1))}else{var N=JSON.parse(N),u=N.cF;
if(u=="l")this.oe({X:R.TS,source:N.pV,target:_,Ih:c});else if(u=="m"||u=="vm")this.oe({X:u=="m"?R.Jb:R.Jk,src:N.pV,Tl:_,EF:H.altKey});
else if(u=="s"||u=="sm")this.oe({X:R.Hb,src:N.pV,Tl:_,Hn:N.Hn,EF:H.altKey})}};rt.prototype.Z_=function(H){rt.ua(H);
var N=rt.MM(H,this.Mt);this.ph();var Q="border-"+(N>.5?"bottom":"top");if(this.sh.i.oP()&&.5<N&&N<.8)Q="border";
this.Mt.style[Q]="0.2em solid rgba(0,0,0,0.5)"};rt.prototype.ph=function(H){this.Mt.style.border="none"};
rt.Z$=-1;rt.AV=!1;rt.ZJ=function(H){rt.AV=!1;document.body.removeEventListener("mouseup",rt.ZJ)};rt.prototype.tRU=function(H){if(H.button!=0)return;
if(H.type=="mousedown"){rt.AV=!0;document.body.addEventListener("mouseup",rt.ZJ,!1)}if(H.type=="mouseover"&&(!rt.AV||rt.Z$==this.sh.index))return;
H.stopPropagation();H.preventDefault();this.oe({X:R.Eh,i:this.sh.index});rt.Z$=this.sh.index};rt.prototype.tRk=function(H){this.oe({X:R.fN,i:this.sh.index})};
rt.prototype.ttH=function(H){this.oe({X:R.rR,i:this.sh.index})};rt.prototype.ttw=function(H){this.oe({X:R.rC,i:this.sh.index})};
rt.prototype.ttD=function(H){if(H.detail==1)return;var N=this.sh.i,Q=z.B("input","");Q.setAttribute("type","text");
Q.setAttribute("size","10");Q.setAttribute("value",N.getName());z.hk(this.UR);this.UR.appendChild(Q);
Q.select();Q.focus();this.Mt.setAttribute("draggable","false");this.UR.addEventListener("keyup",this.cw,!1);
document.body.addEventListener("mousedown",this.NI,!1)};rt.prototype.tta=function(H){var N=H.target;
if(N.tagName&&N.tagName.toLowerCase()=="input")return;this.Zr(!0)};rt.prototype.A$=function(H){var N=K.Kd;
if(N(H.code,K._f)||N(H.code,K.BV))this.Zr(N(H.code,K.BV))};rt.prototype.Zr=function(confirm){this.UR.removeEventListener("keyup",this.cw);
document.body.removeEventListener("mousedown",this.NI);if(confirm)this.oe({X:R.HU,i:this.sh.index,name:this.UR.firstChild.value});
else this.UR.innerHTML=this.sh.i.getName()};rt.prototype.ttW=function(H){this.oe({X:R.fF,i:this.sh.index})};
rt.prototype.ttX=function(H){if(this.ZT(H,H.target,this.G(H)))return;if(H.button!=2)return;var N=new k("rclick",!0);
N.data={i:this.sh.index,G:this.G(H),ej:z.qF(H,document.body),tcy:H.currentTarget==this.mR};this.N(N)};
rt.prototype.G=function(H){var N=H.target;return N.parentNode==this.Xp?2:N.parentNode==this.wv?1:N.parentNode==this.SS?0:N.parentNode==this.Xf?3:-1};
rt.prototype.ZH=function(H){var N=H.target;if(N==this.yV||N==this.Sf||N==this.SE||N==this.Sq||N.tagName&&N.tagName.toLowerCase()=="input")return;
var Q=this.G(H),c=this.parent.Ti;if(H.button==0&&H.detail==2){if(N==this.UR)return;var _=this.sh.index,O=c.b[_],L=new k(z.E.Y,!0);
if(Q==0&&(JO.get(O.add)||O.add.SoCo||O.add.GdFl||O.add.PtFl))L.data={X:z.m.yP,gL:"properties"};else if(Q!=0&&Q!=-1)L.data={X:z.m.yP,gL:"properties"};
else if(Q==0&&O.add.SoLd)L.data={X:z.m.bh};else if(Q==0&&O.add.TySh)L.data={X:z.m.mG,c:l.Jv};else L.data={X:z.m.gI,gL:"layerstyle",i:_};
this.N(L);if(Q==0&&O.add.TySh){var s=new k(z.E.W,!0);s.c=l.Jv;s.data={X:"editCurr",oM:_};this.N(s)}return}if(this.ZT(H,N,Q))return;
if(H.button!=0)return;var r=c.n.uQ,u={X:R.rE,i:this.sh.index,rg:Q};this.oe(u);if(H.altKey){var s=new k(z.E.W,!0);
if(Q==1||Q==3){s.c=l.ML;s.data={X:"mskView",R:r==2?0:2}}else{s.c=l.uh;s.data={X:R.Ei,i:this.sh.index}}this.N(s);
return}};rt.prototype.ZT=function(H,N,Q){if((H.ctrlKey||H.metaKey)&&(Q==0||Q==1)){var c=new k(z.E.W,!0);
c.c=l.sQ;c.data={X:"fromlayer",i:this.sh.index,tVy:Q,tVC:H.shiftKey};this.N(c);return!0}return!1};rt.prototype.oe=function(H){var N=new k(z.E.W,!0);
N.data=H;N.c=l.uh;this.N(N)};rP.Eb=function(H,N,Q,c,_,O,L){JS.call(this);this.mt=N;this.SK=Q;this.index=O;
this.J=z.B("div","styleitem");this.Mt=z.B("div","head");this.cs=z.B("div","eye gsicon");this.UR=z.B("div","label");
this.J.appendChild(this.Mt);this.Mt.appendChild(this.cs);if(L){this.wv=L;this.Mt.appendChild(this.wv);
this.Mt.setAttribute("style","height: "+(L.firstChild.height/z.h()+10)+"px")}this.Mt.appendChild(this.UR);
this.UR.innerHTML=H;this.J.setAttribute("style","margin-left: "+(24+c*16+_*22)+"px");this.cs.addEventListener("click",this.ttf.bind(this),!1);
var s=this.J;s.setAttribute("draggable","true");s.addEventListener("dragstart",this.Zk.bind(this),!1);
if(!0){s.addEventListener("drop",this.VV.bind(this),!1);s.addEventListener("dragover",this.Z_.bind(this),!1);
s.addEventListener("dragenter",rt.ua,!1);s.addEventListener("dragleave",this.Zu.bind(this),!1)}this.J.addEventListener("click",this.Nu.bind(this),!1)};
rP.Eb.prototype=new JS;rP.Eb.prototype.Zk=function(H){H.stopPropagation();H.dataTransfer.setData("Text",JSON.stringify({cF:this.mt,pV:this.parent.sh.index,Hn:this.index}))};
rP.Eb.prototype.Zu=function(H){rt.ua(H);this.ph()};rP.Eb.prototype.VV=function(H){rt.ua(H);this.ph();
var N=H.dataTransfer.getData("Text");if(N=="")return;var N=JSON.parse(N);if(N.cF=="f"&&N.pV==this.parent.sh.index)this.parent.oe({X:R.Kx,i:N.pV,src:N.Hn,Tl:this.index+(rt.MM(H,this.Mt)>.5?0:1)});
if(N.cF=="s"||N.cF=="sm")this.parent.oe({X:R.Hb,src:N.pV,Tl:this.parent.sh.index,Hn:N.Hn,EF:H.altKey})};
rP.Eb.prototype.Z_=function(H){rt.ua(H);var N=rt.MM(H,this.Mt)>.5;this.ph();var Q="border-"+(N?"bottom":"top");
this.Mt.style[Q]="0.2em solid rgba(0,0,0,0.5)"};rP.Eb.prototype.ph=function(H){this.Mt.style.border="none"};
rP.Eb.prototype.cE=function(H){var N=15;if(1<z.h()&&z.h()<1.5)N=N/z.h();this.cs.setAttribute("style","background-size: "+N+"px "+N+"px;");
this.cs.style.opacity=H?1:.2};rP.Eb.prototype.Nu=function(H){if(H.target==this.cs)return;if(H.detail!=1&&this.SK!=null){var N=new k(z.E.Y,!0);
if(this.SK.indexOf("filter")==0)N.data={X:z.m.gI,gL:this.SK,UQ:{i:this.parent.sh.index,index:this.index}};
else N.data={X:z.m.gI,gL:this.SK,i:this.parent.sh.index,index:this.index};this.N(N)}};rP.Eb.prototype.ttf=function(H){var N={fm:R.wJ,f:R.wr,sm:R.HD,s:R.Hd}[this.mt];
this.parent.oe({X:N,i:this.parent.sh.index,index:this.index})};function VU(){tC.call(this,[9,5]);this.hD.setAttribute("style","min-width:240px;");
this.Ty=new $s;this.Ty.parent=this;var H=z.B("div","marged");this.hD.appendChild(H);H.appendChild(this.Ty.rT.J);
H.appendChild(this.Ty.rm.J);H.appendChild(this.Ty.rW.J);H.appendChild(this.Ty.dM.J);H.appendChild(this.Ty.da.J);
H.appendChild(this.Ty.dg.J);H.appendChild(this.Ty.dS.J);this.hD.appendChild(z.B("hr"));var N=z.B("div","marged");
this.hD.appendChild(N);N.appendChild(this.Ty.EZ.J);N.appendChild(this.Ty.EU.J);N.appendChild(this.Ty.Em.J);
this.hD.appendChild(z.B("hr"));var Q=z.B("div","marged");this.hD.appendChild(Q);Q.appendChild(this.Ty.h$.J);
Q.appendChild(this.Ty.ha.J);Q.appendChild(this.Ty.pv.J)}VU.prototype=new tC("");VU.prototype.w=function(){tC.prototype.w.call(this);
this.Ty.w()};VU.prototype.qB=function(H,N){if(N!=JG.hP&&N!=JG.vw&&N!=JG.IL)return;this.Ty.zc(H)};function t$(){tC.call(this,[9,2]);
this.Al=null;this.mV=-1;this.NW=z.B("div","padded");this.NW.style.width="20.4em";this.hD.appendChild(this.NW);
var H=z.B("span","fitem");this.NW.appendChild(H);this.ko=[new JQ([0,3]),new JQ([12,73]),new JQ([12,91,0])];
for(var N=0;N<this.ko.length;N++){var Q=this.ko[N];Q.O("click",this.ttF,this);H.appendChild(Q.J)}this.NW.appendChild(z.B("hr"));
this.OJ=new t$.ek;this.OJ.parent=this;this.Oa=new t$.pO;this.Oa.parent=this;this.yr=new t$.kQ;this.yr.parent=this;
this.m$=[this.OJ,this.Oa,this.yr];this.NW.appendChild(this.OJ.J)}t$.prototype=new tC("");t$.prototype.ttF=function(H){var N=this.ko.indexOf(H.currentTarget);
this.Db(N);this.ZP(N==1?this.Oa.OW:-1)};t$.prototype.Db=function(H){for(var N=0;N<3;N++){this.ko[N].vl();
var Q=this.m$[N].J;if(Q.parentNode==this.NW&&N!=H)this.NW.removeChild(Q);if(Q.parentNode!=this.NW&&N==H)this.NW.appendChild(Q)}this.ko[H].PT()};
t$.prototype.ZP=function(H){var N=this.Al.g[0],Q=this.Al.b[N],c=H+1;if(H==1&&Q.uv)return;var _=new k(z.E.W,!0);
_.c=l.uh;if(H!=1&&Q.uv){_.data={X:R.rE,i:N,rg:2};this.N(_)}_.data={X:R.rE,i:N,rg:c};this.N(_)};t$.prototype.w=function(){tC.prototype.w.call(this);
this.aK(this.Al);for(var H=0;H<3;H++){this.ko[H].w();this.m$[H].w()}};t$.prototype.aK=function(H){if(H==null||H.g.length==0){z.wj(this.hD,"disabled");
this.Al=null;return}else z.cd(this.hD,"disabled");var N=H.g[0],Q=H.b[N],c=Q.add.vogk,_=!1;if(c)for(var O=0;
O<c.length;O++)if(c[O].v.keyShapeInvalidated==null)_=!0;if(H!=this.Al||this.mV!=N){this.Al=H;this.mV=N;
if(_)this.Db(2);else if(Q.G<1&&!Q.uv)this.Db(0);else this.Db(1)}this.OJ.aK(H);this.Oa.aK(H);this.yr.aK(H);
this.ko[1].FX(this.Oa.OW!=-1);this.ko[2].FX(_)};t$.prototype.qB=function(H,N){this.OJ.qB(H,N)};t$.ek=function(){JS.call(this);
this.J=z.B("div","form");this.mJ=new $J("Hello");this.J.appendChild(this.mJ.J);this.SY=null;this.mr=null;
this.Al=null;this.mH=-1;this.mI=null;this.sb=new VW(!0);this.sb.parent=this;this.sb.O(z.E.p,this.ttm,this);
this.lP=z.B("div","marged hiline");this.lP.appendChild(this.sb.J);this.uE=new $m("GrFl",!0);this.uE.parent=this;
this.uE.O(z.E.p,this.tVT,this);this.EM=z.B("div","marged hiline");var H="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var N=0;N<H.length;N++){var Q=this.uE.Ju[H[N]].J;this.EM.appendChild(Q)}this.uo=new $m("patternFill",!0);
this.uo.parent=this;this.uo.O(z.E.p,this.tVA,this);this.Eg=z.B("div","marged hiline");var H=["Ptrn","Scl","Algn","phase"];
for(var N=0;N<H.length;N++){var Q=this.uo.Ju[H[N]].J;this.Eg.appendChild(Q)}this.LI={};for(var c in JO.names){if(JE[c]==null)continue;
this.LI[c]=new JE[c];this.LI[c].O(z.E.p,this.tVN,this);this.LI[c].parent=this}};t$.ek.prototype=new JS;
t$.ek.prototype.w=function(){for(var H in this.LI)this.LI[H].w();this.uE.w();this.uo.w()};t$.ek.prototype.ttm=function(H){var N=this.Al,Q=N.g[0],c=JSON.parse(JSON.stringify(N.b[Q].add.SoCo));
c.Clr.v=this.sb.v();this.Ar({uV:1,uL:c})};t$.ek.prototype.tVT=function(H){this.Ar({uV:2,uL:this.uE.v()})};
t$.ek.prototype.tVA=function(H){this.Ar({uV:3,uL:this.uo.v()})};t$.ek.prototype.Ar=function(H){this.Zd(l.uh,{X:R.wL,kV:[this.Al.g[0]],ra:!0,R:H})};
t$.ek.prototype.tVN=function(H){this.Zd(l.nP,{X:"edit_layer",R:this.mr.v()})};t$.ek.prototype.Zd=function(H,N){var Q=new k(z.E.W,!0);
Q.c=H;Q.data=N;this.N(Q)};t$.ek.prototype.aK=function(H){var N=tg.get([0,3]),Q=null;this.Al=H;if(H&&H.b.length>0){var c=H.b[H.g[0]],_=JO.get(c.add);
if(_!=null&&this.LI[_]!=null){Q=this.LI[_].J;this.mr=this.LI[_];this.LI[_].Q(JO.cV(c.add));if(H.g[0]!=this.mH){var O=H.cn(H.g[0]-1);
this.mI=$.Yk(O)}this.LI[_].yb(this.mI);N=tg.get(JO.names[_])}if(c.add.SoCo){Q=this.lP;this.sb.Q(c.add.SoCo.Clr.v);
N=tg.get([6,48,0,0])}if(c.add.GdFl){Q=this.EM;this.uE.update(H,c.add.GdFl);N=tg.get([6,48,0,1])}if(c.add.PtFl){Q=this.Eg;
this.uo.update(H,c.add.PtFl);N=tg.get([6,48,0,2])}this.mH=H.g[0]}if(Q!=this.SY){if(this.SY)this.J.removeChild(this.SY);
if(Q!=null)this.J.appendChild(Q);this.SY=Q}this.mJ.Q(N)};t$.ek.prototype.qB=function(H,N){this.uE.qB(H,N);
this.uo.qB(H,N);for(var Q in this.LI)this.LI[Q].qB(H,N)};t$.pO=function(){JS.call(this);this.J=z.B("div","form");
this.Al=null;this.OW=0;var H=z.B("span","fitem");this.J.appendChild(H);this.ko=[new JQ([6,2]),new JQ([6,3]),new JQ([6,50])];
for(var N=0;N<this.ko.length;N++){var Q=this.ko[N];Q.O("click",this.tVF,this);H.appendChild(Q.J)}this.XD=new Jb([12,74],0,255);
this.XD.O(z.E.p,this.lN,this);this.J.appendChild(this.XD.J);this.Qe=new Jb([7,6],0,500,"px",2,!0);this.Qe.O(z.E.p,this.lN,this);
this.J.appendChild(this.Qe.J)};t$.pO.prototype=new JS;t$.pO.prototype.lN=function(H){var N=this.XD.v(),Q=this.Qe.v(),c=new k(z.E.W,!0);
c.c=l.uh;c.data={X:R.rF,$_:this.Al.g[0],ew:{hA:this.OW,XD:N,Qe:Q}};this.N(c)};t$.pO.prototype.w=function(){for(var H=0;
H<this.ko.length;H++)this.ko[H].w();this.XD.w();this.Qe.w()};t$.pO.prototype.aK=function(H){this.Al=H;
this.TE()};t$.pO.prototype.tVF=function(H){this.TE(this.ko.indexOf(H.currentTarget));this.parent.ZP(this.OW)};
t$.pO.prototype.TE=function(H){var N=this.Al,Q=this.ko;for(var c=0;c<3;c++){var _=Q[c];_.vl();_.uI()}if(N==null||N.b.length==0)return;
var O=-1,L=N.b[N.g[0]];if(L.kl()&&L.hy(N).d!=null){Q[2].qQ();O=2}if(L.add.vmsk){Q[1].qQ();O=1}if(L.Ab()){Q[0].qQ();
O=0}if(H!=null)O=H;else if(L.uv)O=1;else if(L.G==3)O=2;else if(L.G==1)O=0;this.OW=O;if(O==-1){this.XD.uI();
this.Qe.uI();return}var s=L.fz(O);this.XD.qQ();this.Qe.qQ();this.XD.Q(s.XD);this.Qe.Q(s.Qe);Q[O].PT()};
t$.kQ=function(){JS.call(this);this.J=z.B("div","form");this.J.setAttribute("style","width:14em");this.yH=1;
this.SA=z.B("div");this.gj=this.ZG(["W","H","X","Y"],[12,51],this.SA);this.Se=z.B("div");var H=["\u250F","\u2513","\u2517","\u251B"];
this.OX=this.ZG(H,[12,91,2],this.Se)};t$.kQ.prototype=new JS;t$.kQ.prototype.w=function(){this.gj[0].$v(tg.get([12,41]).charAt(0)+":");
this.gj[1].$v(tg.get([12,42]).charAt(0)+":");for(var H=2;H<5;H++){this.gj[H].w()}this.OX[4].w()};t$.kQ.prototype.ZG=function(H,N,Q){var c=z.B("div","numlist");
Q.appendChild(c);var _=[];for(var O=0;O<4;O++){var L=new ry(H[O],0,0,null,1,!1,!0);L.O(z.E.p,this.t$$,this);
c.appendChild(L.J);_.push(L)}_[4]=new JF(N);_[4].Q(!0);Q.appendChild(_[4].J);return _};t$.kQ.prototype.Uk=function(H,N){for(var Q=0;
Q<4;Q++)H[Q].Q(N[Q])};t$.kQ.prototype.Zg=function(H){var N=[];for(var Q=0;Q<4;Q++)N[Q]=H[Q].v();return N};
t$.kQ.prototype.t$$=function(H){var N=this.gj.indexOf(H.currentTarget),Q=this.OX.indexOf(H.currentTarget),c=[null,null,null,null],_=[null,null,null,null];
if(N!=-1){var O=this.Zg(this.gj),L=this.gj[4].v();O[0]=Math.max(1,O[0]);O[1]=Math.max(1,O[1]);if(L&&N==0)O[1]=O[0]/this.yH;
if(L&&N==1)O[0]=O[1]*this.yH;c[0]=O[2];c[1]=O[3];c[2]=c[0]+O[0];c[3]=c[1]+O[1]}if(Q!=-1){var O=this.Zg(this.OX);
_[Q]=Math.max(0,O[Q]);if(this.OX[4].v())for(var s=0;s<4;s++)_[s]=_[Q];var r=_[3];_[3]=_[2];_[2]=r}var u=new k(z.E.W,!0);
u.c=l.uh;u.data={X:R.rd,SZ:c,t$v:_};this.N(u)};t$.kQ.prototype.aK=function(H){var N=this.SA.parentNode!=null,Q=this.Se.parentNode!=null,c=$.FU.tn(H),_=c[0],O=c[1];
if(_){if(!N)this.J.appendChild(this.SA);this.yH=(_[2]-_[0])/(_[3]-_[1]);this.Uk(this.gj,[_[2]-_[0],_[3]-_[1],_[0],_[1]])}else if(N)this.J.removeChild(this.SA);
if(O){if(!Q)this.J.appendChild(this.Se);var L=O[2];O[2]=O[3];O[3]=L;this.Uk(this.OX,O)}else if(Q)this.J.removeChild(this.Se)};
function rs(H){tC.call(this,H.name,!0);this.Ti=H;this.le=null;this.sl=!1;this.Lk={x:0,y:0,Vv:!1};this.SN=!0;
this.OQ=document.createElement("canvas");this.nT=this.OQ.getContext("2d");this.lZ=document.createElement("canvas");
this.C=this.lZ.getContext("2d");var N=16,Q=$.I(16*16*4);$.by(Q,N,N,8,0,0);this.IE=$.scale.vh(Q,N,N);
this.tcq=this.nZ.bind(this);this.nY=this.fI.bind(this);this.my=this.Ub.bind(this);this.qr=0;var c=this.hD;
z.oA(c,this.tcq);z.ny(c,this.nY);c.addEventListener("wheel",this.Dg.bind(this),!1);c.addEventListener("contextmenu",this.t$H.bind(this),!1);
this._g=0;this.PL=4;z.FW(c)}rs.prototype=new tC("");rs.prototype.zB=function(){if(this.Ti.KF())return window.confirm("There is unsaved work in "+this.Ti.name+". Do you really want to close it?");
return!0};rs.prototype.qX=function(H){H.preventDefault()};rs.prototype.nZ=function(H){if(H.button!=null&&H.button!=0)return;
this.sl=!0;var N=new k("mouse",!0);N.action="down";this.Lw(H,N);this.N(N);z.vD(this.hD,this.nY);z.ny(window,this.nY);
z.nL(window,this.my)};rs.prototype.fI=function(H){var N=new k("mouse",!0);N.action="move";this.Lw(H,N);
this.N(N)};rs.prototype.Ub=function(H){this.sl=!1;var N=new k("mouse",!0);N.action="up";this.Lw(H,N);
this.N(N);z.vD(window,this.nY);z.cQ(window,this.my);z.ny(this.hD,this.nY)};rs.prototype.Dg=function(H){this.qX(H);
if(H.deltaX==0&&H.deltaY==0||Date.now()-this.qr<50)return;this.qr=Date.now();var N=new k("mouse",!0);
N.action="scroll";this.Lw(H,N);this.N(N)};rs.prototype.t$H=function(H){H.stopPropagation();H.preventDefault();
var N=new k("mouse",!0);N.action="ctx";this.Lw(H,N);this.N(N)};rs.prototype.Lw=function(H,N){if(N.action!="up"){var Q=z.h(),c=z.qF(H,this.hD);
this.Lk=N.qR={x:Q*c.x,y:Q*c.y,Vv:this.sl};var _=z.qF(H,document.body);N.qR.ttk=_.x;N.qR.tVr=_.y}else this.Lk=N.qR={x:this.Lk.x,y:this.Lk.y,Vv:this.sl};
N.qR.Gl=1;if(H.pressure!=null&&H.pressure!=0)N.qR.Gl=H.pressure*2;if(H.deltaX!=null){N.or=new E(H.deltaX*.5,H.deltaY*.5)}};
rs.prototype.qB=function(H,N){this.le=H};rs.prototype.aK=function(H){this.ZU();this.tCe(H.name+(H.KF()?" *":""));
this.k_()};rs.prototype.Tc=function(H,N){var Q=this.Ti,c=z.h();Q.n.C.$=Math.floor(H*c);Q.n.C.z=Math.floor(N*c);
z.UZ(this.lZ,H,N);z.UZ(this.OQ,H,N);z.UZ(o.en(),H,N);if(Q.n.s==0)Q.n.s=l.He.Xz(Q.$,Q.z,H*c,N*c);this.SN=!0;
this.k_()};rs.prototype.ZU=function(){var H=this.hD.firstChild;if(!o.Yv&&H==o.en()||o.Yv&&H==this.lZ)this.hD.removeChild(H);
this.hD.appendChild(o.Yv?o.en():this.lZ)};rs.prototype.k_=function(){if(o.Yv!=this.PL){this._g=0;this.SN=!0}this.PL=o.Yv;
if(this.le==null)return;if(o.Yv)this.t$P();else this.t$d();var H=this.Ti;this._g=H.n.s;this.SN=!1};rs.prototype.t$P=function(){if(o.Yv&&rs.mD==null)rs.mD=new rs.VS(!1);
if(o.Yv&&rs.mc==null)rs.mc=new rs.VS(!0);var H=this.Ti,s;if(H.ec==null)return;var N=H.n,Q=N.C.$,c=N.C.z,_=o.Ia;
this.C.clearRect(0,0,N.C.$,N.C.z);var O=this.ZE(H);if(N.ah==null)N.ah=new o.wf(N.C.$,N.C.z);if(O)N.ah.set(this.lZ);
else{o.jl(N.ah);o.sk(0)}var L=new p(0,0,H.$*N.s,H.z*N.s);L.x=Math.round((Q-H.$*N.s)/2+N.M.x);L.y=Math.round((c-H.z*N.s)/2+N.M.y);
var r=[0,0,0,0],u=[];if(H.add.artd){r=rs.Zv(H);var V=H.$,C=H.z;s=rs.mc;for(var T=0;T<H.b.length;T++){var e=H.b[T];
if(e.add.artb==null||!e.op())continue;var t=e.As();u.push(t.x/V,t.y/C,t.$/V,t.z/C)}if(u.length>32*4)u=u.slice(0,32*4);
while(u.length<32*4)u.push(0,0,0,0)}else s=rs.mD;o.PA(Q,c);o.sk(0);o.PA(Q,c);s.QN();s.ON(N.ah.La,H.ec.La,new Float32Array([L.x/Q,L.y/c,L.$/Q,L.z/c]),new Float32Array([8/Q,8/c]),H.$,H.z,1/H.n.s,Q,c,new Float32Array(u),new Float32Array(r));
_.drawArrays(_.TRIANGLES,0,6)};rs.Zv=function(H){var N=H.add.artd;if(N.canvasColor==null)return[0,0,0,0];
var Q=N.canvasColor.v,c=[Q.Rd.v/255,Q.Grn.v/255,Q.Bl.v/255,1];for(var _=0;_<4;_++)c[_]=Math.min(1,c[_]);
return c};rs.prototype.t$d=function(){var H=this.Ti;if(H.buffer==null)return;var N=H.n,Q=N.C.$,c=N.C.z;
this.nT.clearRect(0,0,N.C.$,N.C.z);if(H.add.artd==null){this.C.clearRect(0,0,N.C.$,N.C.z)}else{var _=rs.Zv(H);
this.C.fillStyle="#"+$.fM(_[0]*255<<16|_[1]*255<<8|_[2]*255);this.C.fillRect(0,0,N.C.$,N.C.z)}var O=N.Pi(),L=N.C.sj(O);
this.C.save();this.C.translate(O.x,O.y);if(H.add.artd==null){this.C.fillStyle=this.IE;this.C.fillRect(0,0,O.$,O.z)}else{this.C.fillStyle="#ffffff";
this.C.scale(N.s,N.s);for(var s=0;s<H.b.length;s++){var r=H.b[s];if(r.add.artb==null||!r.op())continue;
var u=r.As();this.C.fillRect(u.x,u.y,u.$,u.z)}}this.C.restore();var V=H.$!=N.Jl.$||H.z!=N.Jl.z;if(V)N.Jl.kR(0,0,H.$,H.z);
if(N.s<=1){if(N.s!=this._g||H.jj){if(N.s!=this._g||N.Ot==null||V)N.Ot=this.C.createImageData(Math.max(1,O.$),Math.max(1,O.z));
if(N.s<1){var C=$.Yp(H.buffer,new p(0,0,H.$,H.z),N.s,new Uint8Array(N.Ot.data.buffer))}else $.sa(H.buffer,N.Ot.data)}this.nT.putImageData(N.Ot,O.x,O.y);
this.C.drawImage(this.OQ,L.x,L.y,L.$,L.z,L.x,L.y,L.$,L.z)}else{var T=N.Yr(),e=new p(0,0,T.$*N.s,T.z*N.s);
e.x=T.x*N.s+O.x;e.y=T.y*N.s+O.y;if(N.s!=this._g||this.SN){N.wY=$.I(T.f()*4);N.Ot=this.C.createImageData(e.$,e.z)}$.set(N.wY,0);
$.Pg(this.Ti.buffer,new p(0,0,H.$,H.z),N.wY,T);$.scale.ke(N.wY,T.$,T.z,N.Ot.data,e.$,e.z,N.s);this.nT.putImageData(N.Ot,e.x,e.y);
this.C.drawImage(this.OQ,0,0)}this.ZE(H)};rs.prototype.ZE=function(H){var N=H.n,Q=!1,c=H.b[H.g[0]];if(c!=null&&N.uQ!=0&&(c.G==1||c.G==3)){var _=c.G==1?c.Ab():c.hy(H).d;
this.Zo(_.Lu(),_.AK(),N,N.uQ,_.NG());Q=!0}Q=this.t$G(H,this.C,N)||Q;if(H.t){this.Zo(H.t.channel,H.t.rect,N,0,0);
Q=!0}return Q};rs.prototype.Zo=function(H,N,Q,c,_){var O=Q.Pi(),L,s,r;if(Q.s<=1){L=N.clone();L.x=Math.round(L.x*Q.s);
L.y=Math.round(L.y*Q.s);L.$=Math.floor(L.$*Q.s);L.z=Math.floor(L.z*Q.s);s=H;if(Q.s<1){var u=$.I(N.f()*4);
$.kw(H,u,3);var V=$.Yp(u,N,Q.s);L.$=V.rect.$;L.z=V.rect.z;if(Q.nV==null||Q.nV.length<L.f())Q.nV=$.I(L.f());
s=Q.nV;$.rY(V.nn,s,3)}if(Q.nD==null||Q.nD.width!=L.$||Q.nD.height!=L.z)Q.nD=this.C.createImageData(Math.max(1,L.$),Math.max(1,L.z));
else $.Mw(Q.nD.data,0);var C=Q.C.clone();C.offset(-O.x,-O.y);r=L.sj(C)}else{var T=Q.Yr();L=new p(T.x*Q.s,T.y*Q.s,T.$*Q.s,T.z*Q.s);
if(Q.s!=this._g||Q.nD==null||Q.nD.width!=L.$||Q.nD.height!=L.z){Q.nV=$.I(L.f());Q.nD=this.C.createImageData(L.$,L.z)}var e=$.I(T.f());
$.set(e,_);$.Jg(H,N,e,T);$.scale.in(e,T.$,T.z,Q.nV,L.$,L.z,Q.s);$.Mw(Q.nD.data,0);s=Q.nV}var t=o.Yv?65535:16777215;
if(c==0)$.t.tGb(s,Q.nD.data,L,t,r);else{r=L.sj(new p(0,0,O.$,O.z));if(Q.s<=1){var Y=_<<16|_<<8|_;if(o.Yv)Y=Y&16776960;
this.C.fillStyle=c==2?"#"+$.fM(Y):"rgba(255,0,0,"+.5*(1-_/255)+")";this.C.fillRect(O.x,O.y,O.$,O.z);
this.C.clearRect(r.x+O.x,r.y+O.y,r.$,r.z)}$.t.txj(s,Q.nD.data,L,t,r,c)}if(Q.s<=1)this.nT.clearRect(0,0,Q.C.$,Q.C.z);
this.nT.putImageData(Q.nD,O.x+L.x,O.y+L.y);this.C.drawImage(this.OQ,0,0)};rs.prototype.t$G=function(H,N,Q){var c=H.S.WA||H.S.rX||H.S.iG,_=this.le,O=_.sS,L=Q.Pi(),s=new Jo(Q.s,0,0,Q.s,L.x+.5,L.y+.5),r=HJ.Us[_.gp];
N.fillStyle="#333300";N.font=12*z.h()+"px sans-serif";if(H.add.artd)for(var u=0;u<H.b.length;u++){var V=H.b[u];
if(V.add.artb==null||!V.op())continue;var C=V.As(),T=new E(C.x,C.y);T=s.Sk(T);N.fillText(V.getName(),Math.round(T.x),Math.round(T.y-6));
c=!0}N.fillStyle=o.Yv?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";N.strokeStyle=o.Yv?"#0000ff":"#000000";if(_.kk&&O.XB)for(var e=0;
e<H.g.length;e++){var V=H.b[H.g[e]];if(!(V.add.vmsk&&(V.uv||V.TT())))continue;var t=V.add.vmsk,Y=t.L;
N.lineWidth=.5;N.beginPath();var A=$.K.Cp(Y);$.K.UC(A.Z,s,A.Z);Typr.U.pathToContext({cmds:A.lX,crds:A.Z},N);
N.stroke();c=!0;if(H.g.length!=1)continue;var G=-1,j=Math.round(3*z.h());for(var u=0;u<Y.length;u++){if(Y[u].type>5)continue;
if(Y[u].type==0||Y[u].type==3){if(Y[u].AY!=-1)G++;continue}if(t.g.indexOf(G)!=-1){var d=L.x+Y[u].P.x*Q.s,w=L.y+Y[u].P.y*Q.s;
N.fillRect(Math.round(d-j+.5),Math.round(w-j+.5),2*j-1,2*j-1)}if(t.Pv.indexOf(u)!=-1){var f=[Y[u].P];
N.beginPath();N.moveTo(L.x+Y[u].kM.x*Q.s,L.y+Y[u].kM.y*Q.s);N.lineTo(L.x+Y[u].P.x*Q.s,L.y+Y[u].P.y*Q.s);
N.lineTo(L.x+Y[u].kq.x*Q.s,L.y+Y[u].kq.y*Q.s);N.stroke();if(!Y[u].P.v$(Y[u].kM))f.push(Y[u].kM);if(!Y[u].P.v$(Y[u].kq))f.push(Y[u].kq);
for(var b=0;b<f.length;b++){var F=f[b],d=L.x+F.x*Q.s,w=L.y+F.y*Q.s;if(b==0&&(Y[u].type==2||Y[u].type==5))N.fillRect(Math.round(d-1.2*j),Math.round(w-1.2*j),Math.round(2.4*j),Math.round(2.4*j));
else{N.beginPath();N.arc(d,w,j*1.2,0,2*Math.PI);N.fill()}}}c=!0}}N.lineWidth=1;if(H.S.WA){N.beginPath();
var A=$.K.clone(H.S.WA);$.K.UC(A.Z,s,A.Z);Typr.U.pathToContext({cmds:A.lX,crds:A.Z},N);N.fill()}if(H.S.rX){N.beginPath();
var A=$.K.clone(H.S.rX);$.K.UC(A.Z,s,A.Z);Typr.U.pathToContext({cmds:A.lX,crds:A.Z},N);N.stroke()}N.beginPath();
var j=4*z.h(),n=H.S.Lg;for(var u=0;u<n.length;u+=2){c=!0;var d=L.x+n[u]*Q.s,w=L.y+n[u+1]*Q.s;N.rect(d-j+.5,w-j+.5,2*j-1,2*j-1)}N.stroke();
N.beginPath();var j=4*z.h(),n=H.S.tJe;for(var u=0;u<n.length;u+=2){c=!0;var d=L.x+n[u]*Q.s,w=L.y+n[u+1]*Q.s;
N.moveTo(d+j-.5,w);N.arc(d,w,j-.5,0,2*Math.PI)}N.fill();if(H.S.Nf){c=!0;var J=H.S.Nf,Z=J.$H,A={lX:[],Z:[]};
for(var u=0;u<J.$t.length;u++)$.K.concat(A,$.K.DK(J.$t[u]));A.Z=A.Z.concat(Z);for(var u=0;u<Z.length;
u+=4)A.lX.push("M","L");N.beginPath();N.strokeStyle=o.Yv?"#dd3300":"#dd3333";$.K.UC(A.Z,s,A.Z);Typr.U.pathToContext({cmds:A.lX,crds:A.Z},N);
N.stroke();var P=z.h();N.font=Math.round(12*P)+"px sans-serif";for(var u=0;u<Z.length;u+=4){var d=Z[u],w=Z[u+1],M=Z[u+2],y=Z[u+3],a=Math.sqrt((y-w)*(y-w)+(M-d)*(M-d))+"",g=new E((d+M)/2,(w+y)/2);
g=s.Sk(g);N.fillStyle=o.Yv?"#dd3300":"#dd3333";var U=N.measureText(a),D=U.width;N.fillRect(g.x-D/2-2.5*P,g.y-7.5*P,D+5*P,15*P);
N.fillStyle=o.Yv?"#ffff00":"#ffffff";N.fillText(a,g.x-D/2,g.y+4*P)}}if(_.kk){N.lineWidth=1;if(O.TN){this.Y$(H,L,N,O.Xa,"#808000");
c=!0}if(O.Qx&&H.n.s>7){this.Y$(H,L,N,1,"rgba(128,128,0,0.5)");c=!0}if(O.UL){N.beginPath();N.strokeStyle=o.Yv?"#00ff00":"#00ffff";
for(var u=0;u<H.UL[0].length;u++){var W=Math.round(H.n.PM(H.UL[0][u],0).x)+.5;N.moveTo(W,0);N.lineTo(W,H.n.C.z)}for(var u=0;
u<H.UL[1].length;u++){var m=Math.round(H.n.PM(0,H.UL[1][u]).y)+.5;N.moveTo(0,m);N.lineTo(H.n.C.$,m)}N.closePath();
N.stroke()}}N.strokeStyle=o.Yv?"#ff0000":"#ff00ff";if(H.S.iG){N.beginPath();var A=$.K.clone(H.S.iG);
$.K.UC(A.Z,s,A.Z);Typr.U.pathToContext({cmds:A.lX,crds:A.Z},N);N.stroke()}if(_.Td){var q=window.getComputedStyle(document.body);
if(H.n.gS==null||H.n.gS.width!=H.n.C.$||H.n.Tn.height!=H.n.C.z){H.n.gS=N.createImageData(H.n.C.$,$.VU.oK);
H.n.Tn=N.createImageData($.VU.oK,H.n.C.z)}var r=HJ.Us[_.gp],Q=H.n,S=Q.s*H.$/2,I=Q.s*H.z/2,v=[1,H.go,H.go/2.54,H.go/25.4][O.eJ],h=Q.s,i=Q.M.clone();
Q.s*=v;Q.M.x+=S*v-S;Q.M.y+=I*v-I;$.VU.tyr(Q,r["--text-color"],r["--bg-input"]);Q.s=h;Q.M=i;if(o.Yv){$.Mw(H.n.Tn.data,0,4278255615);
$.Mw(H.n.gS.data,0,4278255615)}N.putImageData(H.n.Tn,0,0);N.putImageData(H.n.gS,0,0);N.fillStyle="#000000"}return c||_.Td||H.UL[0].length+H.UL[1].length>0};
rs.prototype.Y$=function(H,N,Q,c,_){while(c*H.n.s<4)c*=2;var O=N.x,L=O+N.$,s=N.y,r=s+N.z;Q.beginPath();
Q.strokeStyle=_;for(var u=0;u<=H.$;u+=c){var V=Math.round(H.n.PM(u,0).x)+.5;Q.moveTo(V,s);Q.lineTo(V,r)}for(var C=0;
C<=H.z;C+=c){var T=Math.round(H.n.PM(0,C).y)+.5;Q.moveTo(O,T);Q.lineTo(L,T)}Q.closePath();Q.stroke()};
rs.VS=function(H){o.YB.call(this);this.tcp=H;var N="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\t"+(H?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+o._G.Pu+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); "+(H?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",Q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.sA(N,Q)};rs.VS.prototype=new o.YB;rs.VS.prototype.ON=function(H,N,Q,c,_,O,L,s,r,u,V){this.SW("srct gsize source target imgSizeZoom cnvSize ars bgClr".split(" "));
var C=o.Ia,T=this.Hr;C.uniform4fv(T.srct,Q);C.uniform2fv(T.gsize,c);C.uniform3f(T.imgSizeZoom,_,O,L);
C.uniform2f(T.cnvSize,s,r);C.uniform4fv(T.bgClr,V);if(this.tcp)C.uniform4fv(T.ars,u);C.uniform1i(T.source,0);
C.uniform1i(T.target,1);C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,H);C.activeTexture(C.TEXTURE1);
C.bindTexture(C.TEXTURE_2D,N);C.activeTexture(C.TEXTURE0)};function HX(){tC.call(this,[9,7]);this.hD.setAttribute("style","min-width:240px;");
this.Al=null;this.nz=-1;this.tcn=[];this.lT=z.B("div","scrollable");this.lT.style.height="160px";this.hD.appendChild(this.lT);
this.QX=z.B("div","lpfoot");this.hD.appendChild(this.QX);this.$G=[];var H=["reload","lrs/newlayer","lrs/bin"],N=["Update Layer Comp","New Layer Comp","Delete Layer Comp"];
for(var Q=0;Q<H.length;Q++){var c=new JQ("<img src=\""+PIMG[H[Q]]+"\" class=\"gsicon\" />",!1,N[Q]);
c.O("click",this.t$x,this);this.QX.appendChild(c.J);this.$G.push(c)}}HX.prototype=new tC("");HX.prototype.oe=function(H){var N=new k(z.E.W,!0);
N.data=H;N.c=l.mq;this.N(N)};HX.prototype.t$x=function(H){var N=this.$G.indexOf(H.currentTarget);if(N!=1)if(this.nz==-1)return;
this.oe({X:["updLC","addLC","delLC"][N],U_:this.nz});if(N==2)this.nz=-1};HX.prototype.aK=function(H){if(H==null)z.wj(this.hD,"disabled");
else z.cd(this.hD,"disabled");this.Al=H;z.hk(this.lT);if(H==null)return;var N=H.qO.lastAppliedComp?H.qO.lastAppliedComp.v:0,Q=H.qO.list.v.slice(0);
Q.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var c=0;c<Q.length;
c++){var _=Q[c].v,O=new Vt(_.Nm.v,_.compID.v,_.capturedInfo.v,N,this.nz);O.O("activate",this.AI,this);
O.parent=this;this.lT.appendChild(O.J);this.tcn.push(O)}};HX.prototype.AI=function(H){this.nz=H.currentTarget.U_;
this.aK(this.Al)};function Vt(H,N,Q,c,_){JS.call(this);this.U_=N;this.J=z.B("div","head listitem"+(N==_?" selected":""));
var O=N==c,L=new JQ("<b>"+(O?"\u2713":"\u2014")+"</b>");if(O)L.PT();this.J.appendChild(L.J);L.O("click",this.ti,this);
var s=this.TB=z.B("span");s.textContent=H;this.J.appendChild(s);this.$G=[];if(N!=0){this.J.addEventListener("mouseup",this.AI.bind(this),!1);
this.mL=z.B("span","headR");this.J.appendChild(this.mL);var r=["lrs/eye","pos","lrs/fx"],u=["Visibility","Position","Appearance"];
for(var V=0;V<r.length;V++){var C=new JQ("<img src=\""+PIMG[r[V]]+"\" class=\"autoscale gsicon\" />",!1,u[V]);
if((Q>>V&1)==0)C.J.setAttribute("style","opacity:0.3");C.O("click",this.t$E,this);this.mL.appendChild(C.J);
this.$G.push(C)}}}Vt.prototype=new JS;Vt.prototype.AI=function(H){if(H.target!=this.TB&&H.target!=this.J)return;
if(H.detail==1)this.N(new k("activate",!1));else{var N=z.B("input","");N.setAttribute("type","text");
N.setAttribute("size","10");N.setAttribute("value",this.TB.textContent);this.J.removeChild(this.TB);
this.J.appendChild(N);N.select();N.focus();N.addEventListener("keyup",this.A$.bind(this),!1)}};Vt.prototype.t$E=function(H){var N=this.$G.indexOf(H.currentTarget);
this.oe({X:"editLC",yN:N,U_:this.U_})};Vt.prototype.A$=function(H){if(K.Kd(H.code,K._f))this.N(new k("activate",!1));
if(K.Kd(H.code,K.BV))this.oe({X:"editLC",hE:H.target.value,U_:this.U_})};Vt.prototype.ti=function(H){this.oe({X:"setLC",U_:this.U_})};
Vt.prototype.oe=function(H){var N=new k(z.E.W,!0);N.data=H;N.c=l.mq;this.N(N)};function $V(H){tC.call(this,H.name,!1,H.icon);
var N=z.B("iframe","padded");N.setAttribute("src",H.url);N.setAttribute("style","width:"+H.width+"px; height:"+H.height+"px");
this.hD.appendChild(N)}$V.prototype=new tC("");function tu(){JS.call(this);this.c=0;this.Xg=null;this.J=z.B("div","toolconf");
this.yw=z.B("div");this.J.appendChild(this.yw);this.body=new z.B("div","body");this.J.appendChild(this.body)}tu.prototype=new JS;
tu.prototype.t$n=function(H,N){this.c=H;this.Xg=N;this.yw.innerHTML="<img src=\""+PIMG[N]+"\" class=\"toolicon gsicon\" />"};
tu.prototype.qB=function(H,N){};tu.prototype._R=function(H){};tu.prototype.w=function(){this.yw.innerHTML=z.Ur(this.Xg,null,"toolicon");
this.eK()};tu.prototype.eK=function(){};function rC(H){tu.call(this);if(H==null)return;this.Dw={};for(var N=0;
N<H.length;N++){var Q=H[N],c=null;if(Q=="brush"){c=new tf}if(Q=="bmode"){c=new J_([12,19],ta.ln,!1,ta.XL)}if(Q=="opacity"){c=new ry([12,0],0,100,"%");
c.Q(100)}if(Q=="flow"){c=new ry([12,63],0,100,"%");c.Q(100)}if(Q=="smth"){c=new ry([19,3,0],0,100,"%");
c.Q(0)}if(Q=="wconf"){c=new $t}if(Q=="strn"){c=new ry([12,64],1,100,"%");c.Q(50)}if(Q=="smode"){c=new J_([12,36],[[19,7,0],[19,7,1]]);
c.Q(1)}if(Q=="pdetail"){c=new JF([12,65]);c.PT()}if(Q=="rng"){c=new J_([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
c.Q(1)}if(Q=="expo"){c=new ry([12,5],0,100,"%");c.Q(50)}if(Q=="algnd"){c=new JF([12,75]);c.Q(!1)}if(Q=="sfrom"){c=new J_([12,70],[[17,1],[17,3],[17,0]])}if(Q=="qsmode"){c=new r_([12,36],[[5,3],[18,1],[18,2]])}if(Q=="redge"){c=new JQ([7,11],!1,null,!0)}if(Q=="setop"){c=new tk}if(Q=="patch"){c=new r_("Drag to choose",[[12,70],[12,71]])}c.parent=this;
this.body.appendChild(c.J);this.Dw[Q]=c;if(Q=="brush")c.O(z.E.p,this.t$e,this);else if(Q=="redge")c.O("click",this.AD,this);
else c.O(z.E.p,this.Mc,this)}}rC.prototype=new tu;rC.prototype.AD=function(){var H=new k(z.E.Y,!0);H.data={X:z.m.gI,gL:"redge"};
this.N(H)};rC.prototype.eK=function(){for(var H in this.Dw)this.Dw[H].w()};rC.prototype._R=function(H){for(var N in H.SV){var Q=H.SV[N];
if(N!="qsmode")Q*=100;if(this.Dw[N])this.Dw[N].Q(Q)}};rC.prototype.qB=function(H,N){var Q=this.Dw.brush;
if(Q==null)return;if(N==JG.Tz)Q.aA(H.lL);if(N==JG.kT){Q.Q(H.lL.CU,H.lL.Fy,H.lL.nw)}};rC.prototype.t$e=function(){var H=new k(z.E.Y,!0);
H.data={X:z.m.u_,gg:JG.kT,HF:this.Dw.brush.v()};this.N(H)};rC.prototype.Mc=function(){var H=new k(z.E.Y,!0);
H.data={X:z.m.q$,c:this.c};for(var N in this.Dw){if(N=="brush"||N=="redge")continue;H.data[N]=this.Dw[N].v();
if(["opacity","flow","smth","strn","expo"].indexOf(N)!=-1)H.data[N]/=100;if(N=="bmode")H.data[N]=ta.Cj[H.data[N]]}this.N(H)};
function rY(){tu.call(this);this.data={X:z.m.q$,uy:"front",jQ:0,$V:{Gh:!0,GS:10},lQ:{yC:0,x:1,y:1}};
this.ne=new tk;this.body.appendChild(this.ne.J);this.ne.O(z.E.p,this.cp,this);this.QM=new ry([7,6],0,100," px");
this.QM.parent=this;this.QM.Q(0);this.body.appendChild(this.QM.J);this.QM.O(z.E.p,this.cp,this);this.yI=new JQ([7,11],!1,null,!0);
this.body.appendChild(this.yI.J);this.yI.O("click",this.AD,this)}rY.prototype=new tu;rY.prototype._R=function(H){this.ne.Q(H.uy)};
rY.prototype.eK=function(){this.QM.w();this.ne.w();this.yI.w()};rY.prototype.AD=function(){var H=new k(z.E.Y,!0);
H.data={X:z.m.gI,gL:"redge"};this.N(H)};rY.prototype.cp=function(){var H=new k(z.E.Y,!0);this.data.c=this.c;
this.data.uy=this.ne.v();this.data.jQ=this.QM.v();H.data=this.data;this.N(H)};function $H(){rC.call(this,["brush","strn"])}$H.prototype=new rC;
function $w(){rC.call(this,["brush","bmode","opacity","flow","smth"])}$w.prototype=new rC;function $I(){rC.call(this,["brush","bmode","opacity","flow","smth"])}$I.prototype=new rC;
function $y(){rC.call(this,["brush","rng","expo"])}$y.prototype=new rC;function $D(){rC.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}$D.prototype=new rC;
function VV(){tu.call(this);var H=z.B("span","fitem");this.body.appendChild(H);var N=[[17,0],[17,1],[11,12],[17,2]];
this.ko=[];for(var Q=0;Q<N.length;Q++){var c=new JQ(N[Q],!1,null,!0);this.ko.push(c);c.PT();c.O("click",this.t$s,this);
H.appendChild(c.J)}this.lQ=new VT;this.lQ.O(z.E.p,this.tJw,this);this.body.appendChild(this.lQ.J);this.tE=new Vj;
this.tE.O("click",this.ki,this)}VV.prototype=new tu;VV.prototype.eK=function(){this.tE.w();for(var H=0;
H<this.ko.length;H++)this.ko[H].w();this.lQ.w()};VV.prototype._R=function(H){var N=this.tE.J;if(H.VJ)this.body.appendChild(N);
else if(this.body.contains(N))this.body.removeChild(N)};VV.prototype.ki=function(H){var N={X:z.m.q$,c:this.c,Lc:this.tE.v()?"commit":"cancel"},Q=new k(z.E.Y,!0);
Q.data=N;this.N(Q)};VV.prototype.t$s=function(H){H.target.J.blur();var N={X:z.m.q$,c:this.c,Lc:"cropby",ttM:this.ko.indexOf(H.target)},Q=new k(z.E.Y,!0);
Q.data=N;this.N(Q)};VV.prototype.tJw=function(H){var N={X:z.m.q$,c:this.c,Lc:"config",vr:{CF:this.lQ.v()}},Q=new k(z.E.Y,!0);
Q.data=N;this.N(Q)};function $L(){rC.call(this,["brush","rng","expo"])}$L.prototype=new rC;function $C(){rC.call(this,["brush","opacity","flow","smth"])}$C.prototype=new rC;
function Vk(){rY.call(this,l.hw);this.lQ=new VT;this.lQ.O(z.E.p,this.Ac,this);this.body.appendChild(this.lQ.J)}Vk.prototype=new rY;
Vk.prototype.Ac=function(H){this.data.lQ=this.lQ.v();this.cp()};Vk.prototype.eK=function(){rY.prototype.eK.call(this);
this.lQ.w()};function Vs(){tu.call(this);this.SF=new J_("...",["1x1","3x3","5x5","11x11","31x31"]);this.SF.O(z.E.p,this.Mc,this);
this.body.appendChild(this.SF.J)}Vs.prototype=new tu;Vs.prototype.Mc=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.q$,c:this.c,Cs:[1,3,5,11,31][this.SF.v()]};this.N(N)};Vs.prototype.eK=function(){this.SF.$v(tg.get([12,20])+": ")};
function Vo(){tu.call(this);this.NV=new J$(!1);this.NV.parent=this;this.NV.O(z.E.p,this.lN,this);this.body.appendChild(this.NV.J);
this.NV.Q(JSON.parse(B._Y.j_).v);this.vH=new J_(null,B.e.names.slice(0,5));this.vH.O(z.E.p,this.lN,this);
this.body.appendChild(this.vH.J);this.vL=new J_([12,19],ta.ln,null,ta.XL);this.vL.O(z.E.p,this.lN,this);
this.body.appendChild(this.vL.J);this.SX=new ry([12,0],0,100,"%");this.SX.parent=this;this.SX.O(z.E.p,this.lN,this);
this.body.appendChild(this.SX.J);this.SX.Q(100);this.vG=new JF([12,23]);this.vG.O(z.E.p,this.lN,this);
this.body.appendChild(this.vG.J)}Vo.prototype=new tu;Vo.prototype.eK=function(){this.vH.w();this.vL.w();
this.SX.w();this.vG.w()};Vo.prototype.qB=function(H,N){var Q=N==JG.nc;this.NV.zE(H.AF,H.ze);if(Q||N==JG.wB)this.NV.aA(H.MS)};
Vo.prototype.lN=function(){var H=new k(z.E.Y,!0);H.data={X:z.m.q$,c:this.c};H.data.gg={e:this.NV.v(),style:B.e.types[this.vH.v()],reverse:this.vG.Tv(),Vg:ta.Cj[this.vL.v()],opacity:this.SX.v()/100};
this.N(H)};function $G(){tu.call(this)}$G.prototype=new tu;function $x(){rC.call(this,["brush","algnd","sfrom"])}$x.prototype=new rC;
function Vw(){tu.call(this);this.Ty=new $s;this.Ty.parent=this;this.body.appendChild(this.Ty.li.J);this.body.appendChild(this.Ty.lm.J);
this.body.appendChild(this.Ty.jO.J);var H=z.B("span","fitem");this.body.appendChild(H);H.appendChild(this.Ty.rT.J);
H.appendChild(this.Ty.rm.J);H.appendChild(this.Ty.rW.J);this.wE=new JQ([11,9],!1,null,!0);this.wE.O("click",this.tJa,this);
this.body.appendChild(this.wE.J);this.tE=new Vj;this.tE.O("click",this.ki,this)}Vw.prototype=new tu;
Vw.prototype.eK=function(){this.tE.w();this.Ty.w();this.wE.w()};Vw.prototype.tJa=function(H){var N={X:z.m.q$,c:this.c,Lc:"showwarp"},Q=new k(z.E.Y,!0);
Q.data=N;this.N(Q)};Vw.prototype._R=function(H){if(H.Lc=="showactive")this.body.appendChild(this.tE.J);
if(H.Lc=="hideactive")this.body.removeChild(this.tE.J)};Vw.prototype.qB=function(H,N){if(N!=JG.hP&&N!=JG.vw&&N!=JG.IL&&N!=JG.tb)return;
this.Ty.zc(H)};Vw.prototype.ki=function(H){var N={X:z.m.q$,c:this.c,Lc:this.tE.v()?"commit":"cancel"},Q=new k(z.E.Y,!0);
Q.data=N;this.N(Q)};function $g(){rY.call(this)}$g.prototype=new rY;function tI(){tu.call(this);var H=[],Q="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.nu=new JF([12,85]);this.nu.O(z.E.p,this.Mc,this);H.push(this.nu.J);this.lR=new JF([20,1]);this.lR.O(z.E.p,this.Mc,this);
H.push(this.lR.J);this.lH=new JF([12,83]);this.lH.O(z.E.p,this.Mc,this);H.push(this.lH.J);var N=z.B("span","fitem");
H.push(N);this.mA=new J_("Scale Output",["1x","2x","3x","4x"],!0);N.appendChild(this.mA.J);this.vx=new JQ(Q+" PNG",!1,null,!0);
this.vx.PT();N.appendChild(this.vx.J);this.vx.O("click",this.Ah,this);this.yy=new JQ(Q+" SVG",!1,null,!0);
this.yy.PT();N.appendChild(this.yy.J);this.yy.O("click",this.Ah,this);var c=z.B("span","fitem");H.push(c);
var _=z.B("span","fitem");H.push(_);this.$G=[];for(var O=0;O<8;O++){var L=O==3||O==7?[20,4,6]:[20,4,O<3?O:O-1],s=new JQ("Hi",!1,L);
(O<4?c:_).appendChild(s.J);s.O("click",this.Ah,this);this.$G.push(s)}for(var O=0;O<H.length;O++)this.body.appendChild(H[O]);
this.mm=H}tI.prototype=new tu;tI.prototype._R=function(H){var N=H.ex,Q=H.ttv;this.nu.Q(N.EP);this.lR.Q(N.MT);
this.lH.Q(N.Nf);if(Q){z.hk(this.body);for(var c=0;c<Q.length;c++)if(Q[c]==1&&this.mm[c])this.body.appendChild(this.mm[c])}};
tI.prototype.Ah=function(H){var N=this.$G.indexOf(H.target),Q;if(N==-1)Q={X:z.m.q$,c:this.c,gE:H.target==this.vx?"getPNG":"getSVG",$r:this.mA.v()+1};
else Q={X:z.m.q$,c:this.c,gE:"algn",R:N};var c=new k(z.E.Y,!0);c.data=Q;this.N(c)};tI.prototype.Mc=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.q$,c:this.c,gE:"prms",EP:this.nu.Tv(),MT:this.lR.Tv(),Nf:this.lH.Tv()};this.N(N)};tI.prototype.eK=function(){this.nu.w();
this.lR.w();this.lH.w();var H="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var N=0;N<8;N++){this.$G[N].$v(z.Ur("align/"+H[N],null,"autoscale"))}};
function $T(){rY.call(this);this.Wu=new $t;this.Wu.O(z.E.p,this.tJE,this);this.body.appendChild(this.Wu.J)}$T.prototype=new rY;
$T.prototype.tJE=function(H){this.data.$V=this.Wu.v();this.cp()};$T.prototype.eK=function(){rY.prototype.eK.call(this);
this.Wu.w()};function $v(){rC.call(this,["setop","patch"])}$v.prototype=new rC;function $E(){rC.call(this,["bmode","opacity","wconf"])}$E.prototype=new rC;
function $h(){rY.call(this)}$h.prototype=new rY;function $W(){rY.call(this)}$W.prototype=new rY;function $P(){rY.call(this);
this.lQ=new VT;this.lQ.O(z.E.p,this.Ac,this);this.body.appendChild(this.lQ.J)}$P.prototype=new rY;$P.prototype.Ac=function(H){this.data.lQ=this.lQ.v();
this.cp()};$P.prototype.eK=function(){rY.prototype.eK.call(this);this.lQ.w()};function VX(){tu.call(this);
this.Ph=[new rd("X",null,3),new rd("Y",null,3),new rd("W",null,3),new rd("H",null,3),new rd([12,15],null,4),new rd([12,80,0],null,4),new JQ("Straighten Layer",!1,null,!0)];
for(var H=0;H<this.Ph.length;H++){var N=this.Ph[H];this.body.appendChild(N.J)}this.Ph[6].O("click",this.tJi,this);
this.vM=0}VX.prototype=new tu;VX.prototype.tJi=function(H){if(this.vM==0){return}var N=new k(z.E.W,!0);
N.c=l._y;N.data={X:"rot",_F:[2,5],R:-this.vM};this.N(N)};VX.prototype._R=function(H){var N=H.tVP,Q=H.tVG,c=Q.x-N.x,_=Q.y-N.y,O=this.Ph;
this.vM=-Math.atan2(_,c);O[0].Q(N.x);O[1].Q(N.y);O[2].Q(c);O[3].Q(_);O[4].Q((this.vM*180/Math.PI).toFixed(2));
O[5].Q(Math.sqrt(c*c+_*_).toFixed(2))};VX.prototype.eK=function(){for(var H=0;H<this.Ph.length;H++)this.Ph[H].w()};
function $i(){rC.call(this,["brush","strn","pdetail"])}$i.prototype=new rC;function $o(){rC.call(this,["brush"]);
this.m_=[];var H=[[7,12]];for(var N=0;N<H.length;N++){var Q=new JQ(H[N],!1,null,!0);this.m_.push(Q);
Q.parent=this;this.body.appendChild(Q.J);Q.O("click",this.tJO,this)}}$o.prototype=new rC;$o.prototype.tJO=function(H){var N=this.m_.indexOf(H.currentTarget),Q=new k(z.E.W,!0);
Q.c=l.Fj;Q.data={X:"heal2"};this.N(Q)};function $X(){rC.call(this,["brush","strn"])}$X.prototype=new rC;
function $Q(){rC.call(this,["brush","flow","smode"])}$Q.prototype=new rC;function Vi(){tu.call(this);
this.UK=!1;var H=z.B("span","fitem");this.body.appendChild(H);this.Nx=new JQ("<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />");
H.appendChild(this.Nx.J);this.Nx.O("click",this.ZX,this);this.va=new JQ("<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />");
H.appendChild(this.va.J);this.va.O("click",this.ZO,this);this.vX=new JQ([20,2]);this.body.appendChild(this.vX.J);
this.vX.O("click",this.Zn,this);this.yD=new JQ([20,3]);this.body.appendChild(this.yD.J);this.yD.O("click",this.Zn,this);
this.Nx.PT()}Vi.prototype=new tu;Vi.prototype.eK=function(){this.vX.w();this.yD.w()};Vi.prototype.ZX=function(H){this.Nx.PT();
this.va.vl();if(H)this.Mc()};Vi.prototype.ZO=function(H){this.va.PT();this.Nx.vl();if(H)this.Mc()};Vi.prototype.Mc=function(){var H={X:z.m.q$,c:this.c,FL:this.Nx.Tv()},N=new k(z.E.Y,!0);
N.data=H;this.N(N)};Vi.prototype._R=function(H){if(this.UK!=H.UK){if(this.Nx.Tv())this.ZO();else this.ZX()}this.UK=H.UK};
Vi.prototype.Zn=function(H){var N={X:z.m.q$,c:this.c,action:H.target==this.vX?"pixel":"fitscr"},Q=new k(z.E.Y,!0);
Q.data=N;this.N(Q)};function tx(H,N){tu.call(this);if(H==null)return;this.Dw={};var Q=[[12,76,0],[12,76,1]];
if(N==null)Q.push([12,76,2]);for(var c=0;c<H.length;c++){var _=H[c],O=null;if(_=="tmode"){O=new J_(null,Q);
O.Q(1)}if(_=="binop")O=new J_(null,[[18,1],[18,2],[18,3],[18,4]]);if(_=="pshape")O=new J_(null,["Polygon","Star","Spiral"]);
if(_=="shape")O=new H$([12,76,1]);if(_=="crad"){O=new ry("Corner Radius",0,50,"px");O.Q(0)}if(_=="cstr"){O=new VT}if(_=="irad"){O=new ry("Inner Radius",0,100,"%");
O.Q(40)}if(_=="length"){O=new ry("Length",4,40);O.Q(4)}if(_=="sides"){O=new ry([12,78],3,30);O.Q(5)}if(_=="width"){O=new ry([12,41],1,100,"px");
O.Q(5)}if(_=="tolr"){O=new ry([12,24],0,100);O.Q(5)}if(_=="fstyle"){O=new te([12,26])}if(_=="sstyle"){O=new tO}O.parent=this;
this.body.appendChild(O.J);this.Dw[_]=O;O.O(z.E.p,this.Mc,this)}}tx.prototype=new tu;tx.prototype.Zl=function(H){return null};
tx.prototype.Zf=function(){if(this.Dw.pshape==null)return;var H=this.Zl(this.Dw.pshape.v());if(H==null)return;
z.hk(this.body);for(var N=0;N<H.length;N++){var Q=H[N];this.body.appendChild(this.Dw[Q].J)}};tx.prototype.eK=function(){for(var H in this.Dw)this.Dw[H].w()};
tx.prototype.Mc=function(H){var N=new k(z.E.Y,!0);if(H.target==this.Dw.fstyle){N.data={X:z.m.u_,gg:JG.IZ,R:this.Dw.fstyle.v()};
this.N(N);return}if(H.target==this.Dw.sstyle){N.data={X:z.m.u_,gg:JG.JL,R:this.Dw.sstyle.v()};this.N(N);
return}if(this.Dw.tmode&&this.Dw.binop){if(this.Dw.tmode.v()==0)this.Dw.binop.qQ();else this.Dw.binop.uI()}N.data={X:z.m.q$,c:this.c};
for(var Q in this.Dw)if(Q!="sstyle")N.data[Q]=this.Dw[Q].v();this.N(N);if(H.target==this.Dw.pshape)this.Zf()};
tx.prototype.qB=function(H,N){var Q=this.Dw.fstyle,c=this.Dw.sstyle;if(Q)Q.qB(H,N);if(c)c.qB(H,N);if(N==JG.hP||N==JG.Sl)if(H.aI.length!=0&&this.Dw.shape){this.Dw.shape.Q(H.aI[0]);
this.Dw.shape.aA(H.aI)}if(N==JG.hP||N==JG.IZ)if(Q)Q.Q(null,H.gq,H.sR);if(N==JG.hP||N==JG.JL)if(c)c.Q(null,H.ga,H.st)};
function $l(){tx.call(this,["tmode","fstyle","sstyle","binop"],!0)}$l.prototype=new tx;function $f(){tx.call(this,["tmode","fstyle","sstyle","binop","tolr"])}$f.prototype=new tx;
function Vn(){tx.call(this,["fstyle","sstyle"]);this.tdL=null;this.sV=null;this.s$=null;this.IV=new J_("Path",[[18,1],[18,2],[18,3],[18,4]]);
this.Qo=new JQ("\u25BC");this.Qo.PT();this.lM=new JQ("\u25B2");this.lM.PT();this.yG=[this.IV,this.Qo,this.lM];
for(var H=0;H<this.yG.length;H++){var N=this.yG[H];this.body.appendChild(N.J);N.parent=this;N.O(H==0?z.E.p:"click",this.pw,this)}}Vn.prototype=new tx;
Vn.prototype._R=function(H){if(H.Lc=="main"){var N=this.yG,Q=H.HQ;if(Q&&Q.g.length==1){this.sV=Q.clone();
this.s$=JSON.stringify(H.FU);var c=Q.g[0],_=$.A.qh(Q.L);this.IV.qQ();if(c>0)this.Qo.qQ();else this.Qo.uI();
if(c<_-1)this.lM.qQ();else this.lM.uI();var O=$.A.T_(Q.L,c),L=Q.L[O];this.IV.$v("Path "+(c+1));this.IV.Q([3,0,1,2][L.AY])}else{for(var s=0;
s<N.length;s++)N[s].uI()}}};Vn.prototype.eK=function(){tx.prototype.eK.call(this);this.IV.w()};Vn.prototype.pw=function(H){if(H.target==this.IV||H.target==this.Qo||H.target==this.lM){var N={},Q=this.sV,c=Q.L,_=JSON.parse(this.s$),O=Q.g[0],L=$.A.T_(c,O),s=c[L];
if(H.target==this.IV)s.AY=[1,2,3,0][this.IV.v()];else{var r=H.target==this.Qo?-1:1,u=Math.min(O,O+r),V=Math.max(O,O+r),C=$.A.T_(c,u),T=$.A.T_(c,V);
if(C==-1||T==-1)return;var e=T+$.A.Tu(c,V),t=_[u];_[u]=_[V];_[V]=t;var Y=c.slice(0,C),A=c.slice(C,T),G=c.slice(T,e),j=c.slice(e);
Q.L=Y.concat(G.concat(A.concat(j)));Q.g[0]+=r}N.HQ=Q;N.FU=_;var d=new k(z.E.Y,!0);d.data={X:z.m.q$,c:this.c,oN:N};
this.N(d)}};function $K(){tx.call(this,["fstyle","sstyle"])}$K.prototype=new tx;function $Y(){tx.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}$Y.prototype=new tx;
function $b(){tx.call(this,["tmode","fstyle","sstyle","binop","cstr"])}$b.prototype=new tx;function $B(){tx.call(this,"tmode fstyle sstyle binop pshape sides irad crad length".split(" "));
this.tLH=[["sides","crad"],["sides","irad","crad"],["length"]];this.Zf()}$B.prototype=new tx;$B.prototype.Zl=function(H){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.tLH[H])};
function $z(){tx.call(this,["tmode","fstyle","sstyle","binop","width"])}$z.prototype=new tx;function $Z(){tx.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}$Z.prototype=new tx;
function $A(){rC.call(this,["brush","qsmode","redge"])}$A.prototype=new rC;function JJ(){tu.call(this);
if(window.Typr==null)return;this.Vf=null;this.sJ=z.B("span","");this.sr=z.B("span","");var H=1;this.oO={ap:new ry("X",0,0,"px",H,!1,!0),al:new ry("Y",0,0,"px",H,!1,!0),fQ:new ry("W",0,0,["%","px"],H,!1,!0),gO:new JQ("\u2261",null,[12,51],null),ET:new ry("H",0,0,["%","px"],H,!1,!0),tLE:new ry("\u2221",0,0,"\xB0",H,!1,!0),tLh:new ry("Skew X",-85,85,"\xB0",H,!1,!0),tLW:new ry("Skew Y",-85,85,"\xB0",H,!1,!0)};
for(var N in this.oO){this.sJ.appendChild(this.oO[N].J);var Q=this.oO[N]==this.oO.gO?"click":z.E.p;this.oO[N].O(Q,this.AQ,this)}this.Wu=new Vx(!0,!0,!0);
this.Wu.O(z.E.p,this.trT,this);this.Wu.parent=this;var c=this.sr,_=this.Wu;c.appendChild(_.Me.J);c.appendChild(_.VG.J);
c.appendChild(_.$j.J);c.appendChild(_.$N.J);c.appendChild(_.Jf.J);this.wE=new JQ([11,9]);this.wE.O("click",this.trv,this);
this.hu=new J_(null,["Nearest","Bilinear"]);this.hu.Q(1);this.hu.O(z.E.p,this.AQ,this);this.tE=new Vj;
this.tE.O("click",this.ki,this)}JJ.prototype=new tu;JJ.prototype._R=function(H){z.hk(this.body);this.Vf=H;
if(H.oO){var N=H.oO.lU,Q=H.oO.Iw.clone(),c=Math.atan2(-Q.H,Q.o),_=new Jo;_.rotate(-c);Q.concat(_);var O=this.oO;
O.ap.Q(H.oO.dh.x);O.al.Q(H.oO.dh.y);O.fQ.Q(Q.o*(O.fQ.xx()=="%"?100:N.$));O.ET.Q(Q.KI*(O.ET.xx()=="%"?100:N.z));
O.tLE.Q(-c*180/Math.PI);O.tLh.Q(0*180/Math.PI);O.tLW.Q(Math.atan(Q.lA)*180/Math.PI);this.body.appendChild(this.sJ);
this.wE.vl()}if(H.dE){this.Wu.Q(H.dE);this.body.appendChild(this.sr);this.wE.PT()}this.body.appendChild(this.hu.J);
this.body.appendChild(this.tE.J);if(H.tVX)this.body.appendChild(this.wE.J)};JJ.prototype.AQ=function(H){var N=this.oO,Q=this.Vf.oO.lU;
if(H.target==N.gO)N.gO.Q(!N.gO.v());if(N.gO.Tv()){var c=N.ET,_=N.fQ,O=Q.z,L=Q.$;if(H.target==N.fQ){c=N.fQ;
_=N.ET;O=Q.$;L=Q.z}var s=c.v()/(c.xx()=="%"?100:O);s*=_.xx()=="%"?100:L;_.Q(s)}var r=[];for(var u in N)if(N[u]!=N.gO){var s=N[u].v();
if(N[u]==N.fQ&&N[u].xx()=="px")s/=Q.$/100;if(N[u]==N.ET&&N[u].xx()=="px")s/=Q.z/100;r.push(s)}var V=new E(r[0],r[1]);
if(H.target==N.ap||H.target==N.al){this.LT({Lc:"cen",dh:V})}else{var C=this.Vf.oO.Iw.clone(),T=C.clone(),e=Math.atan2(-C.H,C.o);
T.translate(-V.x,-V.y);T.rotate(-e);var t=new Jo(T.o,T.H,T.lA,T.KI,0,0);t.UK();T.concat(t);T.concat(new Jo(r[2]/100,Math.tan(r[5]*Math.PI/180),Math.tan(r[6]*Math.PI/180),r[3]/100,0,0));
T.rotate(-r[4]*Math.PI/180);T.translate(V.x,V.y);this.Vf.oO.Iw=T;this.LT({Lc:"trn",oO:T,Et:this.hu.v()})}};
JJ.prototype.trT=function(H){this.LT({Lc:"wrp",dE:this.Wu.v()})};JJ.prototype.trv=function(H){this.LT({Lc:"switchWarp"})};
JJ.prototype.ki=function(H){this.LT({Lc:this.tE.v()?"commit":"cancel"})};JJ.prototype.LT=function(H){H.X=z.m.q$;
H.c=this.c;var N=new k(z.E.Y,!0);N.data=H;this.N(N)};JJ.prototype.eK=function(){for(var H in this.oO)this.oO[H].w();
this.tE.w();this.Wu.w()};function $k(){JJ.call(this)}$k.prototype=new JJ;function $e(){JJ.call(this)}$e.prototype=new JJ;
function tY(){JS.call(this);this.J=z.B("div","cmanager");this.JX=0;this.ht=0;this.NM=[];this.lp=z.B("div","droparea");
var H=z.B("div","dropbox");H.innerHTML="Insert into current project";var N=z.B("div","dropbox");N.innerHTML="Open as new projects";
this.lp.appendChild(H);this.lp.appendChild(N);this.yx={};this.yM=z.B("div","alertcont");this.J.appendChild(this.yM);
this.sH=z.B("div","alertcont");this.J.appendChild(this.sH);this.sw=0;z.oA(document.body,this.tHJ.bind(this))}tY.prototype=new JS;
tY.prototype.tcC=function(){this.J.appendChild(this.lp)};tY.prototype.tLi=function(){this.J.removeChild(this.lp)};
tY.prototype.Tc=function(H,N){this.JX=H;this.ht=N;var Q=this.lp;Q.setAttribute("style","left:"+(H-600)/2+"px; top:"+(N-300)/2+"px;")};
JS.prototype.yB=function(){var H=this.J;return H.offsetHeight+H.clientTop};tY.prototype.trh=function(H){var N=z.B("div","alertpanel");
N.textContent=typeof H=="string"?H:tg.get(H);this.yM.appendChild(N);this.yx[JSON.stringify(H)]=N};tY.prototype.tro=function(H){var N=this.yx[JSON.stringify(H)];
this.yM.removeChild(N);delete this.yx[JSON.stringify(H)]};tY.prototype.alert=function(H,N){var Q=this.sH,c=z.B("div","alertpanel tpanel");
c.textContent=H;Q.appendChild(c);if(N==null)N=1500;var _=N,O=Math.max(Date.now()+_,this.sw+_);setTimeout(function(){c.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){Q.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},O-Date.now()-30);
setTimeout(function(){Q.removeChild(Q.firstChild);Q.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")},O-Date.now());
this.sw=O};tY.prototype.tHJ=function(H){var N=this.NM;for(var Q=N.length-1;Q>=0;Q--){var c=N[Q],_=H.target;
while(_!=null){if(_==c.J){this.DA(c);return}_=_.parentNode}}this.DA()};tY.prototype.DA=function(H){var N=this.NM;
for(var Q=0;Q<N.length;Q++){if(H&&H.txL(N[Q]))continue;var c=N[Q].J;c.style.height="auto";z.cd(c,"scrollable");
this.J.removeChild(c);N.splice(Q,1);Q--}};tY.prototype.tHw=function(H){this.DA(H.AB);var N=H.AB,Q=N.J;
if(this.NM.indexOf(N)!=-1)return;this.NM.push(N);this.J.appendChild(N.J);var c=this.JX,_=this.ht,O=H.x,L=H.y,s=this.J.getBoundingClientRect(),r=N instanceof rq;
if(r||H.tHS){var u=N.Bb(),V=N.yB();if(r)u=Math.min(u,200);if(L+V<_){O=Math.min(O,c-u-5)}else{if(O+u<c){L=Math.min(L,_-V-5)}else if(V<L){L=L-V-2;
O=Math.min(O,c-u-5)}else{O=O-u;L=Math.min(L,_-V-5)}}if(H.tcc)L=Math.max(2,H.y-V-2)}L=Math.max(2,L);var top=Math.round(L-s.y+this.J.offsetTop);
Q.style.position="absolute";Q.style["z-index"]=10;Q.style.left=Math.round(O)+"px";Q.style.top=top+"px";
if(N.yB()>_-5){Q.style.height=_-5+"px";z.wj(Q,"scrollable")}};tY.prototype.Zb=function(H){var N=H.AB,Q=this.NM.indexOf(N);
if(Q==-1)return;this.NM.splice(Q,1);var c=N.J;this.J.removeChild(N.J)};tY.prototype.i_=function(){var H=this.NM;
return H.length==0?null:H[H.length-1]};tY.prototype.tHc=function(){this.Zb({AB:this.i_()})};function $F(){JS.call(this);
this.J=z.B("div","confbar")}$F.prototype=new JS;$F.prototype.tHL=function(H){H.parent=this;z.hk(this.J);
this.J.appendChild(H.J)};function tM(){JS.call(this);this.Np=z.B("input","");this.Np.setAttribute("type","file");
this.Np.setAttribute("multiple","");this.Np.addEventListener("change",function(H){this.U$(H.target.files,null,this.ya,null);
this.ya=null}.bind(this),!1);document.body.appendChild(this.Np);this.Np.setAttribute("style","display:none");
this.sI=[];this.yg=!1;this.sy={};this.ya=null}tM.prototype=new JS;tM.prototype.UV=function(H){if(H==null)H=[23,5];
var N=JSON.stringify(H),Q=this.sy;if(Q[N]==null)Q[N]=0;if(Q[N]==0){var c=new k(z.E.Y,!0);c.data={X:z.m.bQ,iK:H};
this.N(c)}Q[N]++};tM.prototype.Zz=function(H){if(H==null)H=[23,5];var N=JSON.stringify(H),Q=this.sy;
if(Q[N]==null)Q[N]=0;Q[N]--;if(Q[N]==0){var c=new k(z.E.Y,!0);c.data={X:z.m.bl,iK:H};this.N(c)}};tM.prototype.tHi=function(H,N){var Q=this.Np;
if(N)Q.setAttribute("accept",N);else Q.removeAttribute("accept");var c=document.createEvent("MouseEvents");
c.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);Q.dispatchEvent(c);
if(H!=null)this.ya=H};tM.prototype.VD=function(H){this.sI.push(H);this.Zm()};tM.prototype.Zm=function(){var H=this.sI;
if(H.length==0||this.yg)return;this.yg=!0;var N=H.shift();this.UV();if(N.fa==null)N.fa={};var Q=new XMLHttpRequest;
Q.vQ=N;var c=N.url;if(N.Go)c="mirror.php?url="+encodeURIComponent(c);Q.open("GET",c);Q.responseType="arraybuffer";
Q.onload=this.Ay.bind(this);Q.send()};tM.prototype.U$=function(H,N,Q,c){for(var _=0;_<H.length;_++){this.UV();
var O=H[_],L=new FileReader;L.vQ=O;L.vQ.sN=Q;L.vQ.vB=c;L.tLQ=N;L.onload=this.Ay.bind(this);L.readAsArrayBuffer(O)}this.Np.value=null};
tM.prototype.tHO=function(H){var N=H.tW.ID,Q=JP.YL(H,N);V_.KV(function(){var c=new XMLHttpRequest,_="https://www.googleapis.com/upload/drive/v3/files/"+H.tW.file.id+"?uploadType=media"+"&"+V_.hz();
c.open("PATCH",_,!0);c.addEventListener("load",function(O){var L=JSON.parse(O.target.response);alert(L.name+" updated")});
c.send(Q);alert("Saving \""+H.tW.file.name+"\" to Google Drive ...")})};tM.prototype.tHm=function(H,N){var Q=H.cn(),c=N[0],_=tM.AR(H,c);
if(window.parent!=window)window.parent.postMessage(_,"*")};tM.prototype.tH_=function(H){this.UV("Saving ...");
setTimeout(tM.twR.bind({tx:H,caller:this}),50)};tM.AR=function(H,N){var Q=N.split(":"),c=Q[0],_=null;
if(Q.length==2){if(c=="jpg"||c=="webp")_=[Math.round(100*parseFloat(Q[1]))];if(c=="psd")_=[!0,!0]}var O=JP.YL(H,c.toUpperCase(),null,null,_);
return O};tM.twR=function(){var H=this.tx,N=this.caller,Q=H.fa.lj,c=new th,_=0,O="",L=encodeURIComponent;
O="p="+L("{ \"source\": "+JSON.stringify(H.JO)+", \"versions\": [");x.np(c,_,O);_+=O.length;var s=Date.now(),r=H.cn(),u=Q.formats;
for(var V=0;V<u.length;V++){var C=tM.AR(H,u[V]);O=L(" {\"format\": \""+u[V].split(":")[0]+"\", \"data\": \"");
x.np(c,_,O);_+=O.length;var T=new Uint8Array(tM.twk(C)),e=T.length;c.VX(_,e);for(var t=0;t<e;t++){c.VX(_,3);
var Y=T[t];if(Y==43){c.data[_]=37;c.data[_+1]=50;c.data[_+2]=66;_+=3}else if(Y==47){c.data[_]=37;c.data[_+1]=50;
c.data[_+2]=70;_+=3}else if(Y==61){c.data[_]=37;c.data[_+1]=51;c.data[_+2]=68;_+=3}else{c.data[_]=Y;
_++}}O=L("\" }"+(V+1<u.length?", ":""));x.np(c,_,O);_+=O.length}O=L("] }");x.np(c,_,O);_+=O.length;var A=new XMLHttpRequest;
A.open("POST",Q.url,!0);A.setRequestHeader("Content-type","application/x-www-form-urlencoded");A.addEventListener("load",tM.twU.bind(N));
A.send(c.data.buffer.slice(0,_))};tM.twU=function(H){this.Zz("Saving ...");alert("Saved. Response: "+H.target.response,1500)};
tM.At=function(H){var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array(H),c=Q.length,_=c%3,O=c-_,L=[],s=0,r=0,u=0;
for(var V=0;V<O;V+=3){s=Q[V];r=Q[V+1];u=Q[V+2];L.push(N[s>>2]+N[(s&3)<<4|r>>4]+N[(r&15)<<2|u>>6]+N[u&63])}if(_==1){s=Q[O];
L.push(N[s>>2]+N[(s&3)<<4]+"==")}if(_==2){s=Q[O];r=Q[O+1];L.push(N[s>>2]+N[(s&3)<<4|r>>4]+N[(r&15)<<2]+"=")}var C=L.join("");
return C};tM.twk=function(H){var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array(64),u=0,V=0,C=0,T=0;
for(var c=0;c<64;c++)Q[c]=N.charCodeAt(c);var _=new Uint8Array(H),O=_.length,L=O%3,s=O-L,r=[],r=new Uint8Array(Math.floor(O/3)*4+(L==0?0:4));
for(var c=0;c<s;c+=3){u=_[c];V=_[c+1];C=_[c+2];r[T]=Q[u>>2];r[T+1]=Q[(u&3)<<4|V>>4];r[T+2]=Q[(V&15)<<2|C>>6];
r[T+3]=Q[C&63];T+=4}if(L==1){u=_[s];r[T]=Q[u>>2];r[T+1]=Q[(u&3)<<4];r[T+2]=61;r[T+3]=61}if(L==2){u=_[s];
V=_[s+1];r[T]=Q[u>>2];r[T+1]=Q[(u&3)<<4|V>>4];r[T+2]=Q[(V&15)<<2];r[T+3]=61}return r.buffer};tM.prototype.Ay=function(H){var N,Q=H.target.vQ;
if(H.target instanceof XMLHttpRequest)N=H.target.response;else N=H.target.result;tM.Uy(Q,N,this,H.target.tLQ);
this.Zz();if(H.target instanceof XMLHttpRequest){this.yg=!1;this.Zm()}};tM.Uy=function(H,N,Q,c){var _;
if(H.name)_=H.name.split(".")[0];else{if(H.url.substring(0,5)=="data:"||H.url.indexOf("googleapis")!=-1)_="image";
else _=H.url.substring(H.url.lastIndexOf("/")+1).split(".")[0];_=_.slice(0,50)}var O=new Uint8Array(N),L=JP.Uw(N);
if(L==null)L=x.sx(O,0,4);if(L=="json"){var s="";for(var r=0;r<O.length;r++)s+=String.fromCharCode(O[r]);
s=decodeURIComponent(escape(s));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(s));return}if(L=="html"){var s=tm.hI(O,0,O.length),u=new DOMParser,V=u.parseFromString(s,"text/html"),C=V.getElementsByTagName("meta");
for(var r=0;r<C.length;r++){var T=C[r],e=T.getAttribute("property"),t=T.getAttribute("content"),Y=null;
if(e=="og:image")Y=t;if(e==null&&t&&t.startsWith("0;url=/imgres?")){var A=t.slice(14).split("&");for(var G=0;
G<A.length;G++)if(A[G].startsWith("imgurl"))Y=decodeURIComponent(A[G].slice(7))}if(Y==null)continue;
var j=new k(z.E.Y,!0);j.data={X:z.m.UF,gg:{url:Y,Go:!0,sN:H.sN}};Q.N(j)}return}if(JP.aD(L)){var d,w=JP.aD(L);
if(H.sN!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(L)!=-1){var j=new k(z.E.Y,!0);j.data={X:z.m.Bn,target:H.sN,oM:H.vB,Ti:N,Es:_};
Q.N(j);return}if(w.Ht){d=new rw(_+(L=="psd"?"":"-"+L)+".psd");w.cA(N,d)}else{var f=w.cA(N);if(f[0].t33421){var j=new k(z.E.Y,!0);
j.data={X:z.m.bW,er:f[0]};Q.N(j);return}d=tM.Uc(_,f)}d.fa=H.fa;d.JO=H.url;d.mT=H.mT;d.tW=H.tW;if(d.tW)d.tW.ID=L;
if(c)c(d.b[0].buffer,d.b[0].rect);else{var j=new k(z.E.Y,!0);j.data={X:H.sN==null?z.m.pL:z.m.Bn,target:H.sN,oM:H.vB,Ti:d};
Q.N(j)}return}var j=new k(z.E.Y,!0);j.data={X:z.m.u_,fa:"add",gg:null,Tb:null};if(L=="asl"){var b=$j.Fp(N);
j.data.gg=JG.Sd;j.data.Tb=b.Gd;Q.N(j);j.data.gg=JG.fd;j.data.Tb=b.tP;Q.N(j)}else if(L=="otf"){var b=Typr.parse(N);
j.data.gg=JG.IL;for(var r=0;r<b.length;r++){j.data.Tb=b[r];Q.N(j)}}else{var F="";for(var n in JG.qC)if(JG.qC[n][0]==L)F=n;
if(F!=""){j.data.Tb=JG.qC[F][2].Fp(N);if(L=="abr"){}j.data.gg=F;Q.N(j)}else alert("Unknown file format: "+JSON.stringify(L))}};
tM.prototype.twe=function(H){var N=new XMLHttpRequest;N.open("POST","https://api.imgur.com/3/image",!0);
N.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");N.setRequestHeader("Content-type","application/x-www-form-urlencoded");
N.setRequestHeader("Accept","application/json");N.addEventListener("load",this.tIH);N.send("type=base64&image="+encodeURIComponent(tM.At(H)));
alert("Saving to Imgur ...",4e3)};tM.prototype.tIH=function(H){var N=JSON.parse(H.target.response);if(N.success)window.open(N.data.link,"Imgur")};
tM.Uc=function(H,N){var Q=N[0].pA&&N[0].pA.startsWith("_a_"),c,_=new rw(H+".psd"),O=new p(0,0,1,1);if(Q){c=_.Zs();
c.add.lsct=tR.Gp;c.Vp(H);c.kE="pass";c._c=24;c.cE(!0);_.b.push(_.sd())}for(var L=0;L<N.length;L++){var s=N[L];
O=O.Fv(s.MD);var r=_.Zs();r.cE(L==0);r.Vp("Layer "+L);if(s.go)_.go=s.go;if(s.pA)r.Vp(s.pA);r.rect=s.MD.clone();
r.buffer=new Uint8Array(s.data);$.bt(r);_.b.push(r)}if(Q)_.b.push(c);_.g=[Q?_.b.length-1:0];_.$=O.$;
_.z=O.z;_.buffer=$.I(O.f()*4);_.r();return _};tM.save=function(H,N){var Q=new Uint8Array(H),c=document.createElement("a");
if(typeof c.download=="string"){var _=new Blob([Q]),O=window.URL.createObjectURL(_);c.href=O;c.download=N;
document.body.appendChild(c);c.click();document.body.removeChild(c)}else{var L="data:application/octet-stream;base64,"+tM.At(H);
window.open(L)}};function th(){this.size=16;this.data=$.I(16)}th.prototype.VX=function(H,N){if(H+N<=this.size)return;
var Q=this.size;while(H+N>this.size)this.size*=2;var c=$.I(this.size);for(var _=0;_<Q;_++)c[_]=this.data[_];
this.data=c};function tU(H){JS.call(this);this.vj=H;this.tLB=this.tIG.bind(this);this.sD=this.tIx.bind(this);
this.tLU=this.tIM.bind(this);this.lF=0;this.sL=0;this.J=z.B("div","panelblock");this.Qb=z.B("div","block");
this.vK=z.B("div","collapsed");this.J.appendChild(this.Qb);this.sC=-1;this.Os=-1;this.yS=!0;this.NB=z.B("div","panelhead");
this.Qb.appendChild(this.NB);this.lT=z.B("div","");this.Qb.appendChild(this.lT);this.UT=[];this.vZ=null;
this.fw=null}tU.prototype=new JS;tU.prototype.Uv=function(){return null};tU.prototype.AL=function(){if(this.Uv()){this.fw=this.Uv();
this.lT.appendChild(this.fw)}};tU.prototype.tIL=function(){if(this.fw){this.lT.removeChild(this.fw);
this.fw=null}};tU.prototype.Uh=function(){for(var H=0;H<this.UT.length;H++)this.UT[H].vu.vl()};tU.prototype.DQ=function(){var H=new E(0,0);
for(var N=0;N<this.UT.length;N++){var Q=this.UT[N].DQ();H.x=Math.max(H.x,Q.x);H.y=Math.max(H.y,Q.y)}return H};
tU.prototype.Un=function(){return this.Os};tU.prototype.tIP=function(){return this.sC};tU.prototype.LX=function(){this.yS=!0;
this.J.removeChild(this.vK);this.J.appendChild(this.Qb)};tU.prototype.collapse=function(){this.yS=!1;
this.J.appendChild(this.vK);this.J.removeChild(this.Qb)};tU.prototype.tId=function(){return 26+this.lT.getBoundingClientRect().height};
tU.prototype.Tc=function(H,N){this.NB.setAttribute("style","max-width: "+H+"px");var Q=this.NB.getBoundingClientRect().height;
Q=26;if(this.Os!=-1)this.UT[this.Os].Tc(H,N-Q)};tU.prototype.qB=function(H,N){this.UT[this.Os].qB(H,N)};
tU.prototype.aK=function(H){this.UT[this.Os].aK(H)};tU.prototype.LQ=function(H){this.tIL();if(this.UT.indexOf(H)!=-1){this._v(this.UT.indexOf(H));
return}H.parent=this;this.UT.push(H);this.NB.appendChild(H.cN);H.cN.addEventListener("mouseover",this.tLB,!1);
this.vK.appendChild(H.vu.J);H.vu.O("click",this.AP,this);H.O("select",this.AC,this);H.O(z.E.pH,this.AT,this);
this._v(this.UT.length-1)};tU.prototype.tIG=function(H){if(H.buttons==0)return;var N=H.currentTarget,Q=N,c=0;
while((Q=Q.previousSibling)!=null)c++;this.sL=c;N.addEventListener("mouseout",this.sD,!1);this.lF=setTimeout(this.tLU,700)};
tU.prototype.tIx=function(H){var N=H.currentTarget,Q=N,c=0;while((Q=Q.previousSibling)!=null)c++;N.removeEventListener("mouseout",this.sD);
clearTimeout(this.lF)};tU.prototype.tIM=function(H){this.N(new k(z.E.ba,!1))};tU.prototype.tIg=function(H){return this.sL};
tU.prototype.Ds=function(H){this.sC=H;this.N(new k(z.E.pH,!1));var N=this.UT[H];this.UT.splice(H,1);
this.NB.removeChild(N.cN);this.vK.removeChild(N.vu.J);N.cN.setAttribute("class","");N.vu.removeEventListener("click",this.AP,this);
N.vu.vl();N.removeEventListener("activate",this.AC);N.removeEventListener(z.E.pH,this.AT);var Q=this.Os;
if(H<Q)Q--;else if(H==Q&&H==this.UT.length)Q--;this._v(Q);if(this.UT.length==0)this.AL()};tU.prototype._v=function(H,N){if(N==null)N=!0;
for(var Q=0;Q<this.UT.length;Q++)this.UT[Q].cN.setAttribute("class","");if(this.vZ)this.lT.removeChild(this.vZ);
this.vZ=null;this.Os=H;if(H==-1)return;var c=this.UT[this.Os];this.vZ=c.hD;this.lT.appendChild(c.hD);
c.cN.setAttribute("class","active");c.ZU();if(!this.yS){this.N(new k("showFloat"));this.UT[H].vu.PT()}if(N)this.N(new k(z.E.p,!1))};
tU.prototype.AC=function(H){if(this.vj&&!this.vj.UJ())return;var N=this.UT.indexOf(H.currentTarget);
this._v(N)};tU.prototype.AT=function(H){if(this.vj&&!this.vj.UJ())return;var N=this.UT.indexOf(H.currentTarget);
this.Ds(N)};tU.prototype.AP=function(H){var N=this.UT.indexOf(H.currentTarget.parent);if(this.UT[N].vu.Tv())this.N(new k("hideFloat"));
else this._v(N)};tU.prototype.tCP=function(H){this.N(H)};function VC(H){tU.call(this,H);this.sT=0;this.Nk=[];
this.fh=[];this.tLe=this.tIm.bind(this);this.sP=this.tIu.bind(this);this.VV=this.LO.bind(this);this.Ue(this.lT);
this.Ue(this.NB);this.ve=z.B("div","intro");this.qo=["default;"];this.tGr="";var N=z.B("ul");N.setAttribute("style","margin:0;  padding:160px 0px 0 113px; font-size:1.8em;");
this.ve.appendChild(N);this.$G=[];var Q=[[11,7],[1,6],"pea.psd","milk.sketch"],c=z.B("li");for(var _=0;
_<Q.length;_++){if(_==2){var O=new JQ("Demo: ");c.appendChild(O.J)}var L=Q[_],s=new JQ(L);s.O("click",this.tIZ,this);
c.appendChild(s.J);this.$G.push(s);if(_==0||_==1||_==3||_==Q.length-1){N.appendChild(c);c=z.B("li")}}var r=z.B("div");
r.setAttribute("style","margin:0;  padding:30px 22px 0 26px; font-size:1.1em");this.ve.appendChild(r);
this.tL_={};var u=["en"],V=navigator.languages;if(V)for(var _=0;_<V.length;_++){var C=V[_].split("-")[0].toLowerCase();
if(u.indexOf(C)==-1)u.push(C)}for(var _=0;_<u.length;_++){var C=u[_],s=new JQ((tg.Dm(C)==-1?"*":"")+C.toUpperCase());
s.O("click",this.Ad,this);s.yE=C;r.appendChild(s.J);this.tL_[C]=s}var T=z.B("span");T.setAttribute("style","float:right");
r.appendChild(T);for(var _=0;_<HJ.Us.length;_++){var e=HJ.Us[_],s=new JQ("<span style=\"display:inline-block; width:10px; height:10px; background-color:#"+$.fM(e["--bg-color"])+";\"></span>");
s.O("click",this.Ad,this);s.tCR=_;T.appendChild(s.J)}}VC.prototype=new tU;VC.prototype.Ad=function(H){var N=H.currentTarget,Q;
if(N.yE!=null){var c=tg.Dm(N.yE);if(c!=-1)Q={X:z.m.u_,gg:JG.fy,lang:c};else Q={X:z.m.yQ,link:"https://www.photopea.com/translate?lang="+N.yE}}else Q={X:z.m.u_,gg:JG.Vz,gp:N.tCR};
var _=new k(z.E.Y,!0);_.data=Q;this.N(_)};VC.prototype.yp=function(H,N){H="cursor:"+H+";";if(N)this.qo.push(H);
else{var Q=this.qo.length-1;if(this.qo[Q]==H)return;this.qo[Q]=H}this.lT.setAttribute("style",this.qo[this.qo.length-1]+" "+this.yX)};
VC.prototype.tIW=function(){this.qo.pop();this.lT.setAttribute("style",this.qo[this.qo.length-1]+" "+this.yX)};
VC.prototype.tIZ=function(H){var N=this.$G.indexOf(H.target),Q=new k(z.E.Y,!0);if(N==0)Q.data={X:z.m.gI,gL:"newproject"};
if(N==1)Q.data={X:z.m.pD};if(N>1)Q.data={X:z.m.UF,gg:{url:["images/pea.psd","images/milk.sketch"][N-2]}};
this.N(Q)};VC.prototype.w=function(){for(var H=0;H<this.$G.length;H++)this.$G[H].w()};VC.prototype.Uv=function(){return this.ve};
VC.ua=function(H){H.stopPropagation();H.preventDefault()};VC.prototype.tIm=function(H){VC.ua(H);var N=H.currentTarget,Q=this.Nk.indexOf(N);
this.fh[Q]++;z.wj(N,"highlight")};VC.prototype.tIu=function(H){VC.ua(H);var N=H.currentTarget,Q=this.Nk.indexOf(N);
this.fh[Q]--;if(this.fh[Q]==0)z.cd(N,"highlight")};VC.prototype.Tc=function(H,N){N--;tU.prototype.Tc.call(this,H,N);
this.yX="height:"+(N-(this.UT.length==0?3:25))+"px; width:"+H+"px; overflow:hidden;";this.lT.setAttribute("style",this.qo[this.qo.length-1]+" "+this.yX);
var Q=512,c=410,_=1,O="";if(H<Q||N<c){if(H/Q<N/c)_=H/Q;else _=N/c}O+="background-image:url("+PIMG.intro+"); background-size: "+Q+"px "+c+"px;";
O+="position:relative; top:"+Math.round((N-c)/2)+"px;  left: "+Math.round((H-Q)/2)+"px; width:"+Q+"px; height:"+c+"px;";
if(_!=1)O+="transform: scale("+_+","+_+");";if(this.ve)this.ve.setAttribute("style",O)};VC.prototype.Ue=function(H){if(this.Nk.indexOf(H)!=-1)return;
this.Nk.push(H);this.fh.push(0);H.addEventListener("dragenter",this.tLe,!1);H.addEventListener("dragleave",this.sP,!1);
H.addEventListener("dragover",VC.ua,!1);H.addEventListener("drop",this.VV,!1)};VC.prototype.LO=function(H){this.sP(H);
var N=null,Q=H.currentTarget;if(Q==this.lT&&this.Os!=-1)N=this.Os;else if(Q==this.NB)N=null;else for(var c=0;
c<this.UT.length;c++)if(this.UT[c].cN==Q)N=c;var _=H.dataTransfer.getData("Text");if(_=="")z.bg(H,this,N);
else if(N!=null){var O=new k(z.E.Y,!0);O.data={X:z.m.bK,tCV:N};this.N(O)}};VC.prototype.LQ=function(H){tU.prototype.LQ.call(this,H);
this.Ue(H.cN);z.nL(H.cN,this.tyR.bind(this))};VC.prototype.Ds=function(H){var N=this.UT[H],Q=this.Nk.indexOf(N.cN);
this.Nk.splice(Q,1);this.fh.splice(Q,1);tU.prototype.Ds.call(this,H)};VC.prototype.tyR=function(H){var N=this.sT;
this.sT=Date.now();if(Date.now()-N>300)return;var Q=this.Nk.indexOf(H.currentTarget)-2,c=this.UT[Q].Ti.name,_=new k(z.E.Y,!0);
_.data={X:z.m.gI,gL:"namewindow",uY:c.slice(0,c.length-4),c:l.uh,gE:R.ro};this.N(_)};function VD(){JS.call(this);
HJ.bb(1);this.J=z.B("div","flexrow photopea");this.fq=z.B("div");this.J.appendChild(this.fq);this.Lk={x:0,y:0,Vv:!1};
this.trs=!1;this.vA=!1;this.yO=null;this.tDb=0;this.tHZ=0;this.yn=0;if(z.N_(27))z.ZN=window;else z.ZN=this.J;
window.alert=function(V,C){this.pt.alert(V,C);console.log("Alert: "+V)}.bind(this);window.onmessage=function(V){if(V.data instanceof ArrayBuffer){var C=JP.Uw(V.data),T=JP.aD(C);
tM.Uy({url:"file"},V.data,this);if(T==null)this.ct()}else if(V.data.charAt(0)=="{"||V.data.startsWith("amp-")||V.data.startsWith("0=goog")){clearTimeout(this.tDd)}else{var e=new k(z.E.Y,!0);
e.data={X:z.m.Bl,Wv:V.data};this.N(e);this.ct()}}.bind(this);window.onbeforeunload=this.tyW.bind(this);
this.Uj={trz:[{c:l.Ft,yl:!0,Vo:[K.sf]},{c:l.mS,yl:!1,Vo:[K.JW]},{c:l.ML,yl:!1,Vo:[K.sf,K.JW]}],iD:[[{c:new l.UP,wR:new tI}],[{c:new l.nk,wR:new $P},{c:new l.iR,wR:new Vk}],[{c:new l.rK,wR:new $g},{c:new l.jn,wR:new $h},{c:new l.Ic,wR:new $W}],[{c:new l.tI,wR:new $A},{c:new l.QV,wR:new $T}],[{c:new l.$p,wR:new VV}],[{c:new l.uS,wR:new Vs},{c:new l.Qz,wR:new VX}],"---",[{c:new l.rk,wR:new $o},{c:new l.as,wR:new $x},{c:new l.nf,wR:new $v}],[{c:new l.sq,wR:new $w},{c:new l.sB,wR:new $I}],[{c:new l.rv,wR:new $D}],[{c:new l.gF,wR:new $C}],[{c:new l.Aa,wR:new Vo},{c:new l.V$,wR:new $E}],[{c:new l.sW,wR:new $H},{c:new l._p,wR:new $i},{c:new l._i,wR:new $X}],[{c:new l.ss,wR:new $L},{c:new l.sZ,wR:new $y},{c:new l._j,wR:new $Q}],"---",[{c:new l.fl,wR:new Vw}],[{c:new l.au,wR:new $l},{c:new l.nA,wR:new $f}],[{c:new l.oh,wR:new Vn},{c:new l.BO,wR:new $K}],[{c:new l.Rect,wR:new $Y},{c:new l.QJ,wR:new $b},{c:new l.tu,wR:new $z},{c:new l.ns,wR:new $B},{c:new l.lw,wR:new $Z}],"---",[{c:new l.am,wR:new $G}],[{c:new l.He,wR:new Vi}]],keys:[K.Oe,K.OB,K.VN,K.twl,K.JR,K.jt,null,K.OY,K.Op,K.$M,K.E,K.Oi,null,K.OZ,null,K.D,K.yJ,K.m,K.Hr,null,K.Oj,K.$f],gV:[{c:new l.QE,wR:new $k},{c:new l.Qh,wR:new $e}],yk:[{c:new JL.l$},{c:new JL.History},{c:new JL.YU},{c:new JL.cW},{c:new JL.sU},{c:new JL.lf}],map:{},gm:null,yF:null,fK:null};
var H={},N="";for(var Q=0;Q<this.Uj.iD.length;Q++){var c=this.Uj.iD[Q];if(c=="---")continue;for(var _=0;
_<c.length;_++){this.Uj.map[c[_].c.id]=c[_];c[_].no=Q;c[_].tCc=_;var O=tg.get(c[_].c.name);N+="<li>"+c[_].c.id+": "+O+"</li>";
H[O]=this.Uj.keys[Q]}}for(var Q=0;Q<this.Uj.gV.length;Q++)this.Uj.map[this.Uj.gV[Q].c.id]=this.Uj.gV[Q];
for(var Q=0;Q<this.Uj.yk.length;Q++)this.Uj.map[this.Uj.yk[Q].c.id]=this.Uj.yk[Q];for(var L in this.Uj.map){var s=this.Uj.map[L];
if(s.wR)s.wR.t$n(L,s.c.Xg)}this.TX={tRm:!1,lL:{nw:[],Fy:[],list:[],CU:null},MS:[],IH:[],wg:[],bs:[],tGq:[],tGp:[],aI:[],B_:[],gq:{uV:1,uL:JSON.parse(JSON.stringify(B.Ks[0]))},ga:JSON.parse(JSON.stringify(B.nO.default)),sR:[null].concat(B.Ks),st:[null].concat(B.Ks),LS:new rr,iJ:{vT:[],hj:null,re:null},xq:[],AF:16711680,ze:0,Td:!1,kk:!0,sS:{UL:!0,TN:!1,XB:!0,Qx:!0,Xa:20,eJ:0},PB:!0,EY:[!0,!0,!0,!0,!0],gp:1,fe:!0,jr:!0,compact:!1,ve:!0,jL:null,lD:null,tGQ:null,ym:null,jG:null};
this.TX.iJ=X.tTI();this.TX.LS.O(z.E.Y,this.Ai,this);this.gK=new K;this.nB=new rF;this.lJ=new $F;this.My=new JH(this.Uj,!0);
this.rV=new Vb;this.qy=new VC(this);this.Lh=z.B("div");this.vk=!1;this.tDd=0;z.wj(this.qy.J,"mainblock");
var r=this.fq;r.addEventListener("drop",this.qy.VV,!1);r.addEventListener("dragover",VC.ua,!1);r.addEventListener("dragenter",VC.ua,!1);
r.addEventListener("dragleave",VC.ua,!1);this.nB.parent=this.lJ.parent=this.My.parent=this.rV.parent=this.qy.parent=this;
this.qy.O(z.E.p,this.Ui,this);this.qy.O(z.E.pH,this.tDA,this);this.qy.O(z.E.ba,this.tDN,this);this.O("mouse",this.UO,this);
this.O(z.E.W,this.Ly,this);this.O(z.E.Y,this.Ai,this);document.body.addEventListener("keydown",this.BZ.bind(this),!1);
window.addEventListener("keyup",this.cw.bind(this),!1);window.addEventListener("resize",this._Z.bind(this),!1);
window.addEventListener("paste",this.tDV.bind(this),!1);window.addEventListener("copy",this.tyj.bind(this),!1);
window.addEventListener("blur",function(V){this.gK.reset()}.bind(this),!1);window.addEventListener("beforeinstallprompt",function(V){V.preventDefault();
this.TX.jL=V}.bind(this));if("serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(V){if(V.tGm){console.log("Service worker installing")}else if(V.tGF){console.log("Service worker installed")}else if(V.active){console.log("Service worker active")}}).catch(function(V){console.log("Registration failed with "+V)})}this.tHD=0;
this.tl=[];this.vY=new tM;this.vY.parent=this;this.tF=new Jt;this.tF.parent=this;r.appendChild(this.tF.J);
this.pt=new tY;this.pt.parent=this;r.appendChild(this.pt.J);r.appendChild(this.nB.J);r.appendChild(this.lJ.J);
var u=this.tCS=z.B("div","flexrow");r.appendChild(u);u.appendChild(this.My.J);u.appendChild(this.qy.J);
u.appendChild(this.rV.J);this.vY.VD({url:"rsrc/PPBasic.abr"});this.vY.VD({url:"rsrc/basic.pat"});this.vY.VD({url:"rsrc/Default Gradients.grd"});
this.vY.VD({url:"rsrc/fa_basic.csh"});this.vY.VD({url:"rsrc/PPBasic.shc"});this.VL(l.Ft);JX.sA(this.tyJ.bind(this));
this.tCW=this.LR.bind(this);window.requestAnimationFrame(this.tCW)}VD.prototype=new JS;VD.prototype.ct=function(){if(window.parent!=window)window.parent.postMessage("done","*")};
VD.prototype.ky=function(){return z.ZN[z.ci("vrt",2)]!=z.ZN[z.ci("xksn",5)]};VD.prototype.tyJ=function(){var H=JX.jf();
if(H!=null&&H.globals!=null)this.AS(H.globals);if(!this.ky()||!this.TX.jr){this.AE();this.kD()}else{var N=z.ci("SIIFs",-5)+z.ci("qnQerwhwy",-3),Q=z.hd(z.ZN[N]),c=z.ci(z.N_(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
Q[c](z.FM("vxik",-10),this.tyy.bind(this));Q[z.ci("|~t~",13)](z.ci("ML\\",6),z.FM("o_me*^hej$_gb`",1));
Q[z.ci("wjtk",4)]()}this.trs=!0;this.ct();var _=new k(z.E.Y)};VD.prototype.tyy=function(H){var N=JSON.parse(H.target[z.FM("|n{wuswh",-10)]),Q=z.ZN[z.FM("YcVg^U]b",11)][z.FM("oaa_kj\\h",3)],c=z.ZN[z.ci("Lj~p",8)][z.FM("ddk",10)]()/1e3,_=!1;
for(var O in N)if(O.indexOf(".")!=-1&&Q.indexOf(O)!=-1&&parseInt(N[O])>c)_=!0;if(_)this.TX.jr=!1;this.AE();
this.kD()};VD.prototype.kD=function(H){this.vA=!0;if(!this.TX.ve)this.qy.ve=null;else this.qy.AL();this.AX(JG.hP);
this.w();this._Z();this.rV.aK(this.Ns(),this.tl,this.TX)};VD.prototype.AS=function(H){var N=this.TX;
if(H.fcolor!=null)N.AF=H.fcolor;if(H.bcolor!=null)N.ze=H.bcolor;if(H.rulers!=null)N.Td=H.rulers;if(H.extras!=null)N.kk=H.extras;
if(H.favFam!=null)N.xq=H.favFam;if(H.eparams){var Q=H.eparams,c=N.sS;if(Q.guides!=null)c.UL=Q.guides;
if(Q.grid!=null)c.TN=Q.grid;if(Q.gsize!=null)c.Xa=Q.gsize;if(Q.runits!=null)c.eJ=Q.runits;if(Q.paths!=null)c.XB=Q.paths;
if(Q.pgrid!=null)c.Qx=Q.pgrid}if(H.lang!=null)tg.tGY(H.lang);if(H.theme!=null)N.gp=H.theme;if(H.topt||N.yu){var _=H.topt?H.topt:{},O=N.yu?N.yu:{};
for(var L in this.Uj.map){if(L>=100)continue;var s="t"+L;this.Uj.map[L].c.E_(_[s],O[s],this)}}};VD.prototype.AE=function(){if(this.TX.tRm)return;
this.TX.tRm=!0;var H=null,N=window.location.href,Q=N.indexOf("="),c=N.indexOf("#");if(Q!=-1)H=N.substring(N.indexOf("?")+1,Q);
if(c!=-1){H="p";Q=c}if(H=="p"||H=="state"){var _=N.substring(Q+1,N.length);_=JSON.parse(decodeURI(_));
if(H=="p"){if(_.server)this.yO=_.server;if(_.resources)for(var O=0;O<_.resources.length;O++)this.vY.VD({url:_.resources[O]});
if(_.files)for(var O=0;O<_.files.length;O++)this.vY.VD({url:_.files[O],fa:{lj:_.server,tIX:_.script}});
if(_.environment==null)_.environment={};var L=_.environment;if(L.plugins!=null)this.rV.tco(L.plugins);
if(L.localsave!=null)this.TX.fe=L.localsave;if(L.vmode!=null){var s=L.vmode;if(s==1)this.TX.compact=!0;
if(s==2)this.Uf()}if(L.intro!=null)this.TX.ve=L.intro;if(L.menus!=null)this.TX.tCE=L.menus;if(L.tmnu!=null)this.TX.yu=L.tmnu;
if(L.showpanels!=null)this.TX.tCp=L.showpanels;if(L.showtools!=null)this.TX.tcM=L.showtools;if(L.phrases!=null)tg.tJv(L.phrases);
if(L.autosave!=null){window.setInterval(function(){var V=new k(z.E.Y);V.data={X:z.m.G_};this.N(V)}.bind(this),L.autosave*1e3)}if(L.icons!=null){for(var r in L.icons){PIMG[r]=L.icons[r];
PIMG["__"+r]=!0}}this.AS(L)}else if(H=="state"){var u=this.vY;if(_.action=="create"){var V=new k(z.E.Y);
V.data={X:z.m.gI,gL:"newproject",WE:_.folderId};this.N(V)}if(_.action=="open"){for(var O=0;O<_.ids.length;
O++)V_.KV(function(){var C="https://www.googleapis.com/drive/v3/files/"+this.tCX+"?"+V_.hz(),T=new XMLHttpRequest;
T.open("GET",C);T.send();T.onload=function(e){var t=JSON.parse(e.target.response);u.VD({url:C+"&alt=media",name:t.name,tW:{file:t,ID:""}})}}.bind({tCX:_.ids[O]}));
alert("Loading files from Google Drive ...")}}}else{}};VD.prototype.w=function(){this.nB.w();this.rV.w();
this.My.w();this.tF.w();this.qy.w();for(var H in this.Uj.map)if(this.Uj.map[H].wR)this.Uj.map[H].wR.w()};
VD.prototype.AW=function(){return z.ZN[z.ci("ptih|ryy",4)][z.ci("q|pr",9)].indexOf("full")!=-1};VD.prototype.Tc=function(H,N){H=Math.floor(H);
N=Math.floor(N);var Q=document.getElementsByClassName("topfloat")[0],c=!this.vA||this.AW()||!this.TX.jr||JX.PS()!=null&&JX.PS().premium*1e3>Date.now()||H<500;
if(c){if(window.hideCap&&this.vA)window.hideCap()}else H-=135;if(H<900||!this.TX.jr||!this.vA)Q.style.display="none";
else Q.style.display="";if(c&&this.vk){this.J.removeChild(this.Lh);this.Lh.innerHTML="";this.vk=!1;Q.style.right=0}if(!c&&!this.vk){var _=!1,O=z.B("div");
O.setAttribute("id","adsense");O.setAttribute("style","width:500px; height:500px;");document.body.appendChild(O);
O=document.getElementById("adsense");if(O==null)_=!0;else{if(!document.body.contains(O))_=!0;else if(O.getBoundingClientRect().width!=500)_=!0;
document.body.removeChild(O)}console.log(_);this.Aq(_);var L=this.ky()&&Math.random()<.5;if(L){this.J.appendChild(this.Lh);
this.J.appendChild(this.fq)}else{this.J.appendChild(this.fq);this.J.appendChild(this.Lh)}Q.style.right=L?"0px":"135px";
this.Lh.setAttribute("style","padding-top:2px;  overflow:hidden;");this.Lh.style.paddingLeft=L?"0px":"15px";
this.Lh.style.paddingRight=!L?"0px":"15px";this.vk=!0}var s=N-(this.nB.yB()+1)-Math.max(this.lJ.yB()-1,0);
this.Lh.style.height=N-3+"px";this.My.Tc(H,s);this.rV.Tc(H,s);this.qy.Tc(H-this.My.Bb()-this.rV.Bb(),s);
this.pt.Tc(H,N);this.tF.Tc(H,N)};VD.prototype.Aq=function(H){var N=function(){var L=new k(z.E.Y);L.data={X:z.m.gI,gL:"account"};
this.N(L)}.bind(this);z.hk(this.Lh);if(!H&&!this.ky()&&Math.random()<1.9){var Q=z.B("div");Q.setAttribute("id","div-gpt-ad-1525797053614-0");
Q.setAttribute("style","height:600px; width:120px;");this.Lh.appendChild(Q);var c=document.createElement("script");
c.textContent="googletag.cmd.push(function() { googletag.display('div-gpt-ad-1525797053614-0'); });";
Q.appendChild(c);var _=z.B("div");_.setAttribute("style","margin-top:7px");_.textContent="Sponsor links open in a new window.";
this.Lh.appendChild(_);this.tDd=setTimeout(this.tya.bind(this),8e3)}else{var O=z.B("img");O.setAttribute("src","img/pp_tall.png");
O.setAttribute("style","cursor:pointer;");O.addEventListener("click",N,!1);this.Lh.appendChild(O)}};
VD.prototype.tya=function(){this.Aq(!1)};VD.prototype.tyW=function(H){for(var N=0;N<this.tl.length;N++)if(this.tl[N].KF())return"There is unsaved work in "+this.tl[N].name};
VD.prototype._Z=function(H){var N=window.innerWidth,Q=window.innerHeight;this.Tc(N,Q)};VD.prototype.tyj=function(H){console.log("systemCopy")};
VD.prototype.tDV=function(H){console.log("systemPaste");if(!H.clipboardData)return;var N=H.target.tagName.toLowerCase();
if(this.kZ.indexOf(N)!=-1)return;var Q=H.clipboardData.items;if(Q==null)return;var c=this.tDX.bind(this);
if(this.tl.length==0)c=null;for(var _=0;_<Q.length;_++){var O=Q[_],L=O.getAsFile();if(O.type.indexOf("text")!=-1){O.getAsString(this.tDx.bind(this))}if(O.type.indexOf("image")!=-1){var s=L;
if(s){s.name="image.png";this.vY.U$([s],c)}}}};VD.prototype.tDx=function(H){if(H.startsWith("http")){if(H==this.TX.tC_)return;
this.TX.tC_=H;var N=new k(z.E.Y,!0);N.data={X:z.m.UF,gg:{url:H,Go:!0}};this.N(N)}};VD.prototype.tDX=function(H,N){var Q={buffer:H,rect:N},c=this.TX;
if(c.ym)if($.v$(Q.buffer,c.ym.buffer)){return}if(c.lD){var _=new k(z.E.W,!0);_.c=l.ni;_.data={X:"h_stepbck"};
this.N(_)}c.ym=Q;c.lD=Q;var _=new k(z.E.Y,!0);_.data={X:z.m.yT};this.N(_)};VD.ua=function(H){H.stopPropagation();
H.preventDefault()};VD.prototype.Ap=function(){if(Date.now()-this.tHZ>1e3){if(this.tF.i_()!=null)alert("Close the current window first.");
else alert("Escape or Confirm the current action (in the top menu).");this.tHZ=Date.now()}};VD.prototype.Ly=function(H){var N=this.Ns();
if(N==null){alert("Open a document first.");return}var Q=this.Uj;if(Q.gm!=H.c&&Q.map[Q.gm].c.ZQ()&&H.c!=l.mS&&H.c!=l.ML){Q.map[Q.gm].c.disable(N,this,this.TX,this.gK)}if(this.tF.ZQ()&&H.MI!=!0){this.Ap();
return}var c=this.Uj.map[H.c].c;c.Ly(H.data,this,N,this.gK,this.TX);N.qf=!0};VD.prototype.Ai=function(H){var N=H.data.X;
if(N==z.m.bK){this.UX(H.data.tCV)}if(N==z.m.bX){this.w();this._Z()}if(N==z.m.BC)this._Z();if(N==z.m.bf)if(this.TX.jL){this.TX.jL.prompt();
this.TX.jL=null}if(N==z.m.Fe)this.pt.tHw(H.data);if(N==z.m.Il)this.pt.Zb(H.data);if(N==z.m.bQ)this.pt.trh(H.data.iK);
if(N==z.m.bl)this.pt.tro(H.data.iK);if(N==z.m.BG)this.pt.DA();if(N==z.m.gM)this.qy.yp(H.data.Ut,H.data.push);
if(N==z.m.bS)this.qy.tIW();if(N==z.m.bj)this.qy.Ds(this.tl.indexOf(H.data.tx));if(N==z.m.Ie){var Q=this.Ns(),c=$.clone(Q.cn()),_=Q.b[Q.g[0]],O=new p(0,0,Q.$,Q.z),L=rw.kf()+"-d71c-11e5-b1ae-a548a96e5f9f",s=new k(z.E.Y,!0);
if(H.data.gg==0){var r={lU:O,name:Q.name.split(".")[0],nn:c,id:L};s.data={X:z.m.u_,fa:"add",gg:JG.Sd,Tb:[r]};
this.N(s)}if(H.data.gg==1){var u=$.I(O.f()*4);$.Mw(u,4294967295);$.a.MR("norm",c,O,u,O,O,1);var V=$.I(O.f());
$.BS(u,V);$.UK(V);var C=$.hV(V,O),T=$.I(C.f());$.Jg(V,O,T,C);var e={lU:C,id:L,channel:T},t=HP.wi(L),Y=t.Brsh.v;
Y.Dmtr.v.val=C.$;Y.Spcn.v.val=10;s.data={X:z.m.u_,fa:"add",gg:JG.Tz,Tb:{list:[{t:"Objc",v:t}],Fy:[e],nw:[]}};
this.N(s);s.data={X:z.m.u_,gg:JG.kT,HF:t};this.N(s)}if(H.data.gg==2){var A={Ff:_.getName(),VI:L,SZ:new p(0,0,Q.$,Q.z),L:_.add.vmsk.clone().L};
$.A.Nj(A.L,new Jo(1/Q.$,0,0,1/Q.z,0,0));s.data={X:z.m.u_,fa:"add",gg:JG.Sl,Tb:[A]};this.N(s)}}if(N==z.m.UF)this.vY.VD(H.data.gg);
if(N==z.m.pD)this.vY.tHi(H.data.tCr?this.qy.Un():null,H.data.twH);if(N==z.m.Bx){if(!this.TX.fe){alert("function is disabled");
return}var Q=this.Ns();if(Q.jj){Q.LD()}if(Q.b.length>8e3&&!confirm("Your document has "+Q.b.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var G=JX.PS()!=null&&JX.PS().premium*1e3>Date.now(),j=Q.jM()||Q.mT&&Q.mT.Ts.jM();if(this.AW())j=!1;var d=new z.ZN[(z.FM("Gc"+(z.N_(31)?"ue":"ve"),-3))]()[z.ci("edtNkqyykz",-2)]();
if(j&&!G&&d>2*15){z.ZN[z.Br("clh]]c[",3)](z.Br("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-d+4*15)+z.Br(" rs}\x89\x8D\x83\x96V",-5));
return}var c=JP.PSD.Dz(Q);tM.save(c,Q.name);Q.aE=Q.ei;Q.un=!0}if(N==z.m.bY){var w=H.data.tHa,f=this.kL(w);
if(w==JG.fd){var O=new rw;for(var b=0;b<f.length;b++){var F=f[b].PH.Lefx;if(F)Ja.KP(F,O,this.TX.wg)}f={Gd:O.add.Patt?O.add.Patt:[],tP:f}}var n=JG.qC[w],c=n[2].QU(f);
tM.save(c,n[1]+"."+n[0])}if(N==z.m.bv){var Q=this.Ns();if(Q==null)return;if(Q.jj){Q.LD()}var J=JP.YL(Q,"png");
if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.vY.twe(J)}if(N==z.m.G_){var Q=this.Ns(),Z=!1;
if(Q==null)return;if(Q.jj){Q.LD()}if(Q.mT){if(this.tl.indexOf(Q.mT.Ts)!=-1){var c=new Uint8Array(JP.PSD.Dz(Q)),s=new k(z.E.W,!0);
s.data={X:R.rr,Ti:Q.mT.Ts,data:c,id:Q.mT.tyU};s.c=l.uh;this.N(s);alert("Smart Object updated")}Z=!0}else if(Q.tW){this.vY.tHO(Q);
Z=!0}else if(Q.fa&&Q.fa.lj){this.vY.tH_(Q);Z=!0}else if(H.data.dJ){this.vY.tHm(Q,H.data.dJ);Z=!0}if(Z){Q.aE=Q.ei;
Q.un=!0}else alert("Use File - Save as PSD")}if(N==z.m.yQ)window.open(H.data.link,"_blank");if(N==z.m.bh){if(this.tF.ZQ()){this.Ap();
return}var Q=this.Ns(),_=Q.b[Q.g[0]],P=Q.nF(_.add.SoLd.Idnt.v);for(var b=0;b<this.tl.length;b++){var M=this.tl[b].mT;
if(M!=null&&M.tyU==P.VB&&M.Ts==Q){this.qy._v(b);return}}tM.Uy({name:P.Xl,mT:{tyU:_.add.SoLd.Idnt.v,Ts:Q}},P.raw.buffer,this)}if(N==z.m.Bv){this.tDn()}if(N==z.m.yL){this.kC(!1,H.data.DJ)}if(N==z.m.Bo){this.kC(!0)}if(N==z.m.yT){this.tDY(H.data.trR)}if(N==z.m.Bl){JB.bT(H.data.Wv,this)}if(N==z.m.yP)this.rV.eP(H.data.gL);
if(N==z.m.gI){if(!this.TX.fe&&H.data.window=="saveforweb"){alert("function is disabled");return}this.tF.eW(H.data.gL,this.Ns(),H.data,this.tl,this.gK)}if(N==z.m.IA)tM.save(H.data.data,H.data.name);
if(N==z.m.pL){if(!this.tF.ZQ()||H.MI)this.tDz(H.data.Ti)}if(N==z.m.bW){this.tF.eW("rawpea",null,H.data,this.tl,this.gK)}if(N==z.m.Bn){this.qy._v(H.data.target);
var s=new k(z.E.W,!0);s.data={X:R.fU,Ti:H.data.Ti,Es:H.data.Es,oM:H.data.oM};s.c=l.uh;this.N(s);this.VL(l._y)}if(N==z.m.bq){o.Yv=!o.Yv;
if(this.tl.length>0)this.Ns().r()}if(N==z.m.tIk){this.kD()}if(N==z.m.bi){this.vY.U$(H.data.data,null,H.data.sN,H.data.vB)}if(N==z.m.mG){if(!this.tF.i_()!=null)this.VL(H.data.c,H.data.ex)}if(N==z.m.bo){if(this.Uj.yF)this.VL(this.Uj.yF)}if(N==z.m.q$){var y=this.Uj.map[H.data.c].c,Q=this.Ns();
y.sG(H.data,this,Q,this.gK,this.TX);if(Q)Q.qf=!0;this.AO()}if(N==z.m.nv){this.Uj.map[H.data.c].wR._R(H.data)}if(N==z.m.u_){var a=H.data.gg,g=H.data.Tb,U=this.TX;
if(H.data.fa=="add"){var n=JG.qC[a];if(n==null)U.LS.ttL(g);else{var D=this.kL(a);if(a==JG.Tz){D.Fy=D.Fy.concat(g.Fy);
D.nw=D.nw.concat(g.nw);D=D.list;g=g.list}for(var b=0;b<g.length;b++)D.push(g[b]);if(D.length!=g.length||a==JG.Jr||a==JG.fd)alert(tg.get(n[3])+" "+tg.get([23,1])+".")}}if(H.data.fa=="del"){var n=JG.qC[a],W=H.data.gB,D=this.kL(a);
if(a==JG.Tz)D=D.list;for(var b=0;b<W.length;b++)D[W[b]]=null;for(var b=0;b<D.length;b++)if(D[b]==null){D.splice(b,1);
b--}alert(tg.get(n[3])+" deleted.")}if(a==JG.IZ){var m=H.data.R;U.gq=m;U.sR[m.uV]=m.uL}if(a==JG.JL){var m=H.data.R;
U.ga=m;var q=m.strokeEnabled.v,S=m.strokeStyleContent.v,I=q?{uV:1+B.nO.aw.indexOf(S.classID),uL:S}:{uV:0};
U.st[I.uV]=I.uL}if(a==JG.vw){U.iJ=H.data.iJ}if(a==JG.kT){U.lL.CU=H.data.HF}if(a==JG.tb){U.xq=H.data.UG}if(a==JG.nc){if(H.data.gE==0)U.AF=H.data.R;
if(H.data.gE==1)U.ze=H.data.R;if(H.data.gE==2){var v=U.AF;U.AF=U.ze;U.ze=v}if(H.data.gE==3){U.AF=16777215;
U.ze=0}}if(a==JG.lY){U.Td=!U.Td;this._Z()}if(a==JG.lb){U.kk=!U.kk;this._Z()}var h=U.sS;if(a==JG.OP){h.XB=!h.XB;
this._Z()}if(a==JG.tU){h.UL=!h.UL;this._Z()}if(a==JG.ls){h.TN=!h.TN;this._Z()}if(a==JG.Od){h.Qx=!h.Qx;
this._Z()}if(a==JG.lz){U.sS=H.data.UG;this._Z()}if(a==JG.OG){U.PB=!U.PB;this._Z()}if(a==JG.Vl){U.EY[H.data.SP]=!U.EY[H.data.SP];
this._Z()}if(a==JG.fy){tg.tR$(H.data.lang);this.w()}if(a==JG.Vz){U.gp=H.data.gp;this.w()}this.AX(a)}};
VD.prototype.kL=function(H){var N=this.TX,Q=[JG.Tz,JG.wB,JG.J$,JG.Sd,JG.Sl,JG.fd,JG.Jr],c=[N.lL,N.MS,N.IH,N.wg,N.aI,N.B_,N.bs];
return c[Q.indexOf(H)]};VD.prototype.tDn=function(){this.kC();var H=this.Ns();if(H==null)return;var N=H.b[H.g[0]],Q=new k(z.E.W);
if(N.uv){Q.c=l.Oc;Q.data={X:"remove",_F:"Cut Paths"}}else{Q.c=l.so;Q.data={X:"clear"}}this.N(Q)};VD.prototype.kC=function(H,N){if(H==null)H=!1;
var Q=this.TX;console.log("doCopy",H,N);var c=this.Ns();if(c==null||c.g.length==0)return;var _=c.b[c.g[0]],O=_.add.vmsk,L=_.add.vogk;
if(!H&&O&&(_.uv||_.TT())&&O.g.length!=0){var s=$.A.trf(O.L,O.g),r=[];for(var u=0;u<O.g.length;u++)r.push(JSON.parse(JSON.stringify(L[O.g[u]])));
Q.jG=[s,r]}else if(N!=null){_=c.b[N];var V=_.rect.clone(),C=_.buffer.slice(0);Q.lD={buffer:C,rect:V,TK:new E(c.$,c.z)}}else{if(c.t==null)return;
var C,V;if(H){var T=new p(0,0,c.$,c.z);V=T.sj(c.t.rect);C=$.I(V.f()*4);$.Pg(c.cn(),T,C,V);$.Sm(c.t.channel,c.t.rect,C,V)}else{var e=_.fD(c,c.t);
if(e==null){alert("Copied area is empty");return}C=e.fg;V=e.rect}Q.lD={buffer:C,rect:V,TK:new E(c.$,c.z)}}};
VD.prototype.tDY=function(H){if(H==null)H=!1;console.log("doPaste");var N=this.TX;if(this.tl.length>0){var Q=this.Ns(),c=Q.b[Q.g.length==0?Q.b.length-1:Q.g[0]],_=c.add.vmsk,O=new k(z.E.W,!0);
if(N.jG!=null&&_&&(c.uv||c.TT())){O.c=l.Oc;O.data={X:"append",_F:"Paste Paths",J_:N.jG[0],ar:N.jG[1]}}else{if(N.lD==null)return;
if(c.G>0||H){O.c=l.so;O.data={X:"paste"}}else{O.c=l.uh;O.data={X:R.rh}}O.data.lD=N.lD}this.N(O)}};VD.prototype.Ao=function(){for(var H=0;
H<this.tl.length;H++){var N=this.tl[H],Q=!0,r="\t\t\tvar originalStem = app[\"active\"+\"Document\"].activeLayer;\t\t\t\t\t\tvar stemsAmount = 12;\t\t\tvar obj = {a:3, b:4};\t\t\tobj.a = obj.b + 3;\t\t\tfunction change(x) {  var loc = x;  loc += 4;  if(true) return loc*2;  }\t\t\tvar nv = change(3);\t\t\talert(change(6));\t\t\tvar pps = {\"a\":3,\"b\":4,\"c\":5};\t\t\tfor(var p in pps) alert(p);\t\t\tvar rnd=Math.random;\t\t\t\t\t\tvar angle = Math.floor(360 / stemsAmount);\t\t\tvar arr = [angle, angle];\t\t\talert(\"Hi from PP Script!\");\t\t\tvar narr = arr.slice(0);\t\t\t\t\t\tfor(var i = 1; i < stemsAmount; i++)\t\t\t{\t\t\t\tvar newStem = originalStem.duplicate();\t\t\t\t/*newStem.translate(-100+rnd()*200, -100+Math.random()*200);*/\t\t\t\tnewStem.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\t\t\t}\t\t\t//app.activeDocument.save();\t\t\t";
if(N.Te)continue;for(var c=0;c<N.b.length;c++){var _=N.b[c],O=_.add.TySh;if(O!=null&&!ru.Ij(O,this.TX.LS))Q=!1}if(!Q)continue;
if(N.iI)for(var c=0;c<N.b.length;c++){var _=N.b[c],O=_.add.TySh;if(O!=null&&ru.Ij(O,this.TX.LS)){var L=new tH(O.Bd,this.TX.LS),s=ru.Iq(L,O);
_.rect=s.rect;_.buffer=s.nn;_.r();N.r()}}N.iI=!1;if(N.fa&&N.fa.tIX)JB.bT(N.fa.tIX,this);this.ct();N.Te=!0;
r=" var myFont = app.fonts.getByName(\"Arizona\"); app.activeDocument.layers[0].textItem.font = myFont.postScriptName;";
r="app.activeDocument.activeLayer.remove();";r="app.open(\"images/outline.psd\");";r="var TextLayer = app.activeDocument;\t\t\t\t\tvar myTextLayer = TextLayer.artLayers.add();\t\t\t\t\tmyTextLayer.kind = LayerKind.TEXT;\t\t\t\t\tvar myText = myTextLayer.textItem;\t\t\t\t\tmyText.size = 70;\t\t\t\t\tmyText.contents = \"Lorem Ipsum Text Boop\";\t\t\t";
r="function Point(x,y) {  this.x = x; this.y = y;  }";r="app.activeDocument.activeLayer.convertToSO();"}};
VD.prototype.AX=function(H){if(H==JG.kT){if(this.Uj.map[this.Uj.gm].wR)this.Uj.map[this.Uj.gm].wR.qB(this.TX,H)}else for(var N in this.Uj.map)if(this.Uj.map[N].wR)this.Uj.map[N].wR.qB(this.TX,H);
if(H==JG.IL)this.Ao();this.My.qB(this.TX,H);this.tF.qB(this.TX,H);this.pl().qB(this.TX,H);this.rV.qB(this.TX,H);
this.nB.qB(this.TX,H);if(this.tl.length>0)this.Ns().qf=!0;if(H==JG.Vz||H==JG.hP){HJ.bb(this.TX.gp);this.update(!0)}this.AO()};
VD.prototype.AO=function(){if(!this.trs)return;var H={},N=this.Uj.map;for(var Q in N){var c=N[Q].c;if(c.Nm&&c.Nm()!=null)H["t"+Q]=c.Nm()}var _=this.TX,O=_.sS,L={fcolor:_.AF,bcolor:_.ze,rulers:_.Td,extras:_.kk,favFam:_.xq,eparams:{guides:O.UL,grid:O.TN,paths:O.XB,pgrid:O.Qx,gsize:O.Xa,runits:O.eJ},lang:tg.DF(),theme:_.gp,topt:H},s=JX.jf();
if(s==null)s={};s.globals=L;JX.hn(s)};VD.prototype.Az=function(){var H=this.gK,N=this.Lk,Q=this.Uj.map[this.Uj.gm].c,c=null;
for(var _=0;_<this.Uj.trz.length;_++){var O=this.Uj.trz[_],L=!0;for(var s=0;s<O.Vo.length;s++){var r=O.Vo[s];
if(!H.l(r))L=!1}if(L&&(!O.yl||!Q.ZQ()))c=O.c}if(!N.Vv&&this.Uj.fK!=c&&c!=this.Uj.gm){this.Uj.fK=c;var u=this.Ns();
this.pl().enable(u,this,this.TX,this.gK,c!=null&&c!=this.Uj.gm)}};VD.prototype.kO=function(H){var N=this.Uj.gm,Q=this.Ns();
if(N!=null){this.Uj.map[N].c.disable(Q,this,this.TX,this.gK)}};VD.prototype.VL=function(H,N){var Q=this.Ns();
if(this.Uj.map[H].c.Oy(Q,this.TX)){this.kO();this.Uj.yF=this.Uj.gm;this.Uj.gm=H;this.My.aK(this.Uj);
var c=this.Uj.map[H].wR;this.lJ.tHL(c);var _=this.Uj.map[H].c;_.enable(Q,this,this.TX,this.gK,!1,N);
if(Q)Q.qf=!0;this._Z()}};VD.prototype.pl=function(H){if(this.Uj.fK&&H==null)return this.Uj.map[this.Uj.fK].c;
else return this.Uj.map[this.Uj.gm].c};VD.prototype.tDz=function(H){var N=this.tl.indexOf(H);if(N!=-1){this.qy._v(N);
return}if(this.yO&&(H.fa==null||H.fa.lj==null)){H.fa={lj:this.yO};H.JO="local,"+this.tDb+","+H.name;
this.tDb++}for(var Q=0;Q<H.b.length;Q++){var c=H.b[Q];if(c.add.TySh!=null)ru.Ij(H.b[Q].add.TySh,this.TX.LS)}var _=z.ZN[z.FM("Gc"+(z.N_(29)?"ue":"ve"),-3)];
_=_[z.FM("jj"+(!z.N_(27)?"p":"q"),4)];var O=Math.floor(_()/1e3),L=(z.N_(32)?2:1)*7e8+Math.PI*46472966;
if(O>L){H.b=[];return}if(o.Yv)o.ttb(Math.max(H.$,H.z));H.f$();H.HZ();H.r();this.tl.push(H);this.qy.LQ(new rs(H));
H.qf=!0;this.Ao();var s=new k(z.E.Y);s.data={X:z.m.gI,gL:"saveforweb",aP:2};var s=new k(z.E.W);s.c=l.nP;
s.data={X:"auto",cC:2}};VD.prototype.Ns=function(){return this.tl[this.tHD]};VD.prototype.UJ=function(){return this.tF.i_()==null};
VD.prototype.Ui=function(H){this.kO();this.tHD=this.qy.Un();var N=this.Ns();this.nB.tLA(N,this.TX);this.rV.aK(N,this.tl,this.TX);
this._Z();if(N)N.qf=!0};VD.prototype.tDA=function(H){this.kO();this.tl.splice(this.qy.tIP(),1);if(this.tl.length==0){this.Ui(H);
if(o.Yv)o.en().parentNode.removeChild(o.en())}};VD.prototype.tDN=function(H){var N=this.qy,Q=N.tIg(),c=this.pl(),_=this.Ns();
if(Q==N.Un()||!c.hR())return;this.UX(Q,c)};VD.prototype.UX=function(H,N){var Q=this.qy,c=this.Ns(),_=new k(z.E.W,!0);
_.c=l.uh;_.data={X:R.HS,b:c.HK(),Ts:c,dN:this.tl[H]};this.N(_);if(N)N.hH(c,this,this.TX,this.gK);Q._v(H);
if(N)N.cL(this.Ns(),this,this.TX,this.gK,this.Lk)};VD.prototype.UO=function(H){var N=this.gK,Q=this.TX,c=H.qR;
this.Lk=H.qR;var _=this.Ns(),O=this.tF.i_()!=null&&this.tF.i_().Zy()?this.tF.i_():this.pl();if(H.action=="down")O.cL(_,this,Q,N,c);
if(H.action=="move")O.XY(_,this,Q,N,c);if(H.action=="up")O.Nu(_,this,Q,N,c);if(H.action=="ctx")O.OH(_,this,Q,N,c);
var L=this.rV;if(H.action=="down")L.cL(_,this,Q,N,c);if(H.action=="move")L.XY(_,this,Q,N,c);if(H.action=="up")L.Nu(_,this,Q,N,c);
if(H.action=="down"||H.action=="up"){this.Az()}if(H.action=="down"||H.action=="up"||H.action=="ctx"){_.qf=!0}if(H.action=="scroll"){var s=new k(z.E.W,!0),r=H.or.clone();
if(Math.abs(r.x)+Math.abs(r.y)<=2){r.x*=40;r.y*=40}s.data={X:"scroll",or:r,qR:c};s.c=N.l(K.kz)?l.ML:l.mS;
this.N(s)}};VD.prototype.LR=function(H){var N=this.Ns(),Q=this.Lk;if(N&&this.pl().mW(Q)){var c=N.n,_=c.C.$,O=c.C.z,L=0,s=0,r=16;
if(Q.x<r)L=r-Q.x;if(Q.x>_-r)L=Q.x-(_-r);if(Q.y<r)s=r-Q.y;if(Q.y>O-r)s=Q.y-(O-r);if((L!=0||s!=0)&&(N.$*c.s>_||N.z*c.s>O)){L=Math.min(5,L*.5);
s=Math.min(5,s*.5);if(!(Q.x<r||Q.y<r)){L=-L;s=-s}c.M.x+=L;c.M.y+=s;this.UO({qR:this.Lk,action:"move"});
N.kJ=!0}}this.update();window.requestAnimationFrame(this.tCW)};VD.prototype.update=function(H){var N=this.Ns();
if(N==null)return;if(N.qf)this.pl(!0).xz(N,this,this.TX,this.gK);if(N.jj){N.LD()}if(N.jj||N.Ow||N.un||N.kJ||H){this.qy.qB(this.TX,null);
this.qy.aK(N)}if((N.jj||N.kJ||N.qf)&&(!this.Lk.Vv||N.Pn)){N.HZ();this.rV.aK(N,this.tl,this.TX);this.My.tLT(N);
N.EV=!1}N.Pn=!1;N.qf=!1;N.jj=null;N.Ow=N.un=N.kJ=!1};VD.prototype.kZ=["input","textarea","select"];VD.prototype.Ul=function(H){var N=H.code,Q=K.Kd;
return!Q(N,K._f)&&!Q(N,K.sf)&&!Q(N,K.kz)};VD.prototype.BZ=function(H){var N=H.target.tagName.toLowerCase();
if(this.kZ.indexOf(N)!=-1&&this.Ul(H)||N=="button"&&(K.Kd(H.code,K.BV)||K.Kd(H.code,K.OM)))return;if(K.Ox(H)){H.preventDefault()}this.gK.trJ(H.code);
this.FJ("down")};VD.prototype.cw=function(H){this.gK.trr(H.code);var N=H.target.tagName.toLowerCase();
if(this.kZ.indexOf(N)!=-1&&this.Ul(H))return;if(K.Ox(H)){H.preventDefault()}this.FJ("up")};VD.prototype.FJ=function(H){var N=this.gK,Q=this.Ns();
this.Az();var c=this.LF(K.sf);if(c&&N.l(K.$f)&&H=="down"){var _=new k(z.E.W),O=new k(z.E.Y);_.c=l.ni;
if(N.l(K.kz)){_.data={X:"h_stepbck"}}else if(N.l(K.Yz)){_.data={X:"h_stepfwd"}}else{_.data={X:"h_undoredo"}}if(this.tF.i_()!=null&&this.tF.i_().ZQ()){}else this.N(_)}if(c){var _=new k(z.E.W),O=new k(z.E.Y);
if(N.l(K.twM)){_.c=l.Wz;_.data={X:"trim"}}if(N.l(K.m)){_.c=l.sQ;_.data={X:"all"}}if(N.l(K.oI)){_.c=l.sQ;
_.data={X:"deselect"}}if(N.l(K.Xc)){_.c=l.Mb;_.data={X:"applylast"}}if(N.l(K.OY)){_.c=l.uh;_.data={X:R.Pt}}for(var L in JO.keys){var s=JO.keys[L],r=!0;
for(var u=0;u<s.length;u++)if(!N.l(s[u]))r=!1;if(r){_.c=l.nP;_.data={X:"start",hs:L}}}if(N.l(K.jt)&&N.l(K.Yz)){_.c=l.sQ;
_.data={X:"inverse"}}if(N.l(K.eo)){O.data={X:z.m.gI,gL:"newproject"}}if(N.l(K.OZ)){O.data={X:z.m.pD};
N.reset()}if(N.l(K.$M)&&H=="down"){if(N.l(K.Yz)){if(N.l(K.kz))O.data={X:z.m.gI,gL:"saveforweb"};else O.data={X:z.m.Bx}}else O.data={X:z.m.G_}}if(N.l(K.fm)||N.l(K.Oq)){_.c=l.uh;
_.data={X:R.TW,gE:0};var V=N.l(K.Yz);if(N.l(K.fm))_.data.gE=V?3:2;else _.data.gE=V?0:1}if(N.l(K.D)){O.data={X:z.m.mG,c:l._y}}if(N.l(K.j$)){O.data={X:z.m.gI,gL:"preferences"}}if(N.l(K.OF)){O.data={X:z.m.Bv}}if(N.l(K.JR)){O.data={X:N.l(K.Yz)?z.m.Bo:z.m.yL}}if(N.l(K.Oe)){O.data={X:z.m.yT}}if(N.l(K.twn)){O.data={X:z.m.u_,gg:JG.lY}}if(N.l(K.Oj)){O.data={X:z.m.u_,gg:JG.lb}}if(N.l(K.Oi)){if(N.l(K.kz)&&Q.HG(Q.g[0])){_.c=l.uh;
_.data={X:R.Ei}}else{_.c=l.uh;_.data={X:R.ri}}}if(H=="down"&&N.l(K.E)){_.c=l.uh;if(Q.g.length==1&&Q.g[0]!=0&&!Q.b[Q.g[0]].oP())_.data={X:R.CM};
else if(Q.g.length>1)_.data={X:R.JK}}if(N.l(K.trF)){O.data={X:z.m.u_,gg:JG.tU}}if(N.l(K.tHC)){O.data={X:z.m.u_,gg:JG.ls}}if(N.l(K.Ve)||N.l(K.tHe)){_.c=l.ML;
_.data={X:"zoom",FL:!0}}if(N.l(K.fn)){_.c=l.ML;_.data={X:"zoom",FL:!1}}if(N.l(K.Om)){_.c=l.ML;_.data={X:"adapt",R:"fitscr"}}if(N.l(K.Ou)){_.c=l.ML;
_.data={X:"adapt",R:"pixel"}}if(this.tF.i_()!=null&&this.tF.i_().ZQ()){}else{if(_.data)this.N(_);if(O.data)this.N(O)}}if(!N.l(K.sf)&&!N.l(K.kz)&&!N.l(K.Yz)&&H=="down"){var _=new k(z.E.W),O=new k(z.E.Y),C=this.Uj.map[this.Uj.gm],T=-1;
for(var u=0;u<this.Uj.keys.length;u++)if(this.Uj.keys[u]&&this.LF(this.Uj.keys[u]))T=u;if(T!=-1){var e;
if(C.no!=T)e=0;if(C.no==T)e=(C.tCc+1)%this.Uj.iD[T].length;var t=this.Uj.iD[T][e].c.id,Y=this.TX.tcM;
if((Y==null||Y.indexOf(parseInt(t))!=-1)&&!this.Lk.Vv)O.data={X:z.m.mG,c:t}}if(N.l(K.OF))O.data={X:z.m.u_,gg:JG.nc,gE:2};
if(N.l(K.oI))O.data={X:z.m.u_,gg:JG.nc,gE:3};if(O.data)this.N(O);var Q=this.Ns(),A=Q?Q.n.uQ:0;_.c=l.ML;
if(Q&&N.l(K._f)&&A!=0){_.data={X:"mskView",R:0}}if(Q&&N.l(K.tHF)){_.data={X:"mskView",R:A==1?0:1}}if(Q&&N.l(K.twd)){_.data={X:"mskView",R:A==2?0:2}}if(_.data)this.N(_);
var G=N.fG();if(G!=-1&&this.LF(K.jH[G])){var j=Q.g[0],d=Q.b[j],w=z.bM(Math.round(100*d.opacity/255),G);
_.c=l.uh;_.data={X:R.CY,i:j,UG:Math.round(255*w/100)};this.N(_)}}if(!N.l(K.sf)&&!N.l(K.kz)&&N.l(K.Yz)){var _=new k(z.E.W),O=new k(z.E.Y);
if(N.l(K.twh))O.data={X:z.m.gI,gL:"shortcuts"};if(N.l(K.tI_))O.data={X:z.m.gI,gL:"fill"};if(N.l(K.Ve)||N.l(K.fn)){var j=Q.g[0],d=Q.b[j],f=ta.Cj,b=f.length,F=f.indexOf(d.kE);
_.c=l.uh;_.data={X:R.HH,UG:(F+b+(N.l(K.Ve)?1:-1))%b};this.N(_)}if(O.data)this.N(O)}if(N.l(K.OM))this.Uf();
var _=new k(z.E.W),n=H=="down"&&(this.LF(K.nC)||this.LF(K.ff));if(N.l(K.kz)&&n){_.c=l.so;_.data={X:"fill",uV:0};
this.N(_)}else if(c&&n){_.c=l.so;_.data={X:"fill",uV:1};this.N(_)}else if(n){if(Q.t!=null){_.c=l.so;
_.data={X:"clear"}}else{_.c=l.uh;_.data={X:R.vN}}this.N(_)}var Q=this.Ns();if(this.pt.i_()!=null){if(N.l(K._f)){this.pt.tHc()}}else if(this.tF.i_()!=null){if(N.l(K._f)){this.tF.i_().BB()}else{this.tF.i_().FJ(Q,this,this.TX,N)}}if(this.Uj.gm==null)return;
var C=this.pl();if(!this.tF.i_()!=null||this.Uj.fK)C.FJ(Q,this,this.TX,N)};VD.prototype.LF=function(H){var N=this.gK,Q=this.Uj.map[this.Uj.gm].c,top=this.tF.i_();
return N.l(H)&&!Q.jV(H)&&(top==null||!top.jV(H))};VD.prototype.Uf=function(){var H=this.tCS,N=this.fq;
if(this.yn==0){N.removeChild(this.lJ.J);H.removeChild(this.My.J);H.removeChild(this.rV.J)}else{N.appendChild(this.lJ.J);
N.appendChild(H);H.appendChild(this.My.J);H.appendChild(this.qy.J);H.appendChild(this.rV.J)}this.yn=!this.yn;
this._Z()};function HE(H){JS.call(this);if(H==null)return;this.J=z.B("div","sbar"+" "+H);this.Er=new z.B("div","top");
this.Er.innerHTML="> <";this.J.appendChild(this.Er);this.jh=1;this.Er.addEventListener("click",this.tcJ.bind(this),!1)}HE.prototype=new JS;
HE.prototype.tcJ=function(H){if(this.jh==0)this.LX();else this.collapse()};HE.prototype.kc=function(){this.jh=1-this.jh;
this.Er.innerHTML=this.jh==0?"< >":"> <"};HE.prototype.eR=function(){var H=new k(z.E.Y,!0);H.data={X:z.m.BC};
this.N(H)};HE.prototype.LX=function(){this.kc();this.eR()};HE.prototype.collapse=function(){this.kc();
this.eR()};function VR(H){HE.call(this,"vcolumn");this.Dt=H;this.et();this.kr=z.B("div");this.kr.setAttribute("style","cursor:default;");
this.tCu=this.tcr.bind(this);this.twG=this.tcI.bind(this);this.trY=this.tcP.bind(this);z.oA(this.J,this.tCu);
this.J.appendChild(this.kr);this.DV=z.B("div","");this.kr.appendChild(this.DV);this.ji=null;this.jb=z.B("div","float");
this.$a=[];this.tHx=null;this.tLg=0}VR.prototype=new HE;VR.prototype.tcr=function(H){if(H.target!=this.J)return;
if(this.jh==0)return;this.tHx=z.qF(H,document.body);this.tLg=this.Dt;z.ny(document,this.twG);z.nL(document,this.trY)};
VR.prototype.tcI=function(H){var N=z.qF(H,document.body);this.Dt=this.tLg+this.tHx.x-N.x;this.et();var Q=new k(z.E.Y,!0);
Q.data={X:z.m.BC};this.N(Q)};VR.prototype.tcP=function(H){z.vD(document,this.twG);z.cQ(document,this.trY)};
VR.prototype.tcd=function(H){H.O("showFloat",this.tci,this);H.O("hideFloat",this.kA,this);this.$a.push(H);
H.parent=this;this.kr.appendChild(H.J)};VR.prototype.Uh=function(){for(var H=0;H<this.$a.length;H++)this.$a[H].Uh()};
VR.prototype.tci=function(H){this.kA(H);this.DV.appendChild(this.jb);this.ji=H.currentTarget.Qb;this.jb.appendChild(this.ji);
var N=H.currentTarget.DQ(),Q="";if(N.x!=0)Q+="width : "+N.x+"px;";if(N.y!=0)Q+="height: "+N.y+"px;";
this.jb.setAttribute("style",Q);this.Tc(this.JX,this.ht)};VR.prototype.kA=function(H){this.Uh();if(this.ji){this.DV.removeChild(this.jb);
this.jb.removeChild(this.ji);this.ji=null}};VR.prototype.et=function(){this.J.setAttribute("style","width: "+this.Dt+"px; padding-left:3px; cursor:ew-resize;")};
VR.prototype.LX=function(){this.et();this.kA();for(var H=0;H<this.$a.length;H++)this.$a[H].LX();HE.prototype.LX.call(this)};
VR.prototype.collapse=function(){this.J.removeAttribute("style");for(var H=0;H<this.$a.length;H++)this.$a[H].collapse();
HE.prototype.collapse.call(this)};VR.prototype.Tc=function(H,N){this.JX=H;this.ht=N;var Q=this.$a.length;
N-=6;if(Q==0)return;var c=N;for(var _=0;_<Q-1;_++)c-=this.$a[_].tId();this.$a[Q-1].Tc(H,c)};function Vb(){JS.call(this);
this.Sn=null;this.tyV=!0;this.rq=Vb.yJ;this.J=z.B("div","rightbar");this.la=[new VR(380),new VR(265)];
this.$a=[[new tU,new tU,new tU,new tU],[new tU,new tU]];for(var H in this.rq){var N=this.rq[H];this.$a[N.qq][N.tA].LQ(N.AB)}this.$a[1][0]._v(0)}Vb.prototype=new JS;
Vb.prototype.w=function(){for(var H in this.rq){this.rq[H].AB.w()}};Vb.yJ={history:{AB:new HY,qq:1,tA:0},swatches:{AB:new Hb,qq:1,tA:0},layers:{AB:new rP,qq:1,tA:1},info:{AB:new Hh,qq:0,tA:0},properties:{AB:new t$,qq:0,tA:0},css:{AB:new Ve,qq:0,tA:0},brush:{AB:new Jz,qq:0,tA:1},character:{AB:new VZ,qq:0,tA:2},paragraph:{AB:new VU,qq:0,tA:2},layercomps:{AB:new HX,qq:0,tA:3}};
Vb.prototype.tco=function(H){for(var N=0;N<H.length;N++){var Q=H[N],c="plg_"+Q.name;Vb.yJ[c]={AB:new $V(Q),qq:0,tA:3};
this.eP(c);this.eP(c)}};Vb.prototype.qB=function(H,N){this.Sn=H;for(var Q in this.rq)this.rq[Q].AB.qB(H,N)};
Vb.prototype.Tc=function(H,N){this.JX=H;this.ht=N;if(this.tyV==!0&&H!=0&&this.Sn!=null){this.tyV=!1;
var Q=this.Sn.tCp;if(Q==null)Q=[1,1];for(var c=0;c<this.la.length;c++){if(Q[c]==0||Q[c]==null)continue;
var _=this.la[c];_.parent=this;this.J.appendChild(_.J);var O=this.$a[c];for(var L=0;L<O.length;L++){if(Q[c]instanceof Array&&Q[c].indexOf(L)==-1)continue;
_.tcd(O[L])}}this.la[0].collapse();if(this.JX<500||this.Sn.compact){this.la[1].collapse()}}this.la[0].Tc(H,N);
this.la[1].Tc(H,N)};Vb.prototype.eP=function(H){var N=this.rq[H];this.$a[N.qq][N.tA].LQ(N.AB)};Vb.prototype.aK=function(H,N,Q){for(var c in this.rq)this.rq[c].AB.aK(H,N,Q)};
Vb.prototype.cL=function(H,N,Q,c,_){for(var O in this.rq)this.rq[O].AB.cL(H,N,Q,c,_)};Vb.prototype.XY=function(H,N,Q,c,_){for(var O in this.rq)this.rq[O].AB.XY(H,N,Q,c,_)};
Vb.prototype.Nu=function(H,N,Q,c,_){for(var O in this.rq)this.rq[O].AB.Nu(H,N,Q,c,_)};function JH(H,N){HE.call(this,"toolbar");
this.D$=null;this.Ep=z.B("div","tools");this.J.appendChild(this.Ep);this.kS=null;this.tTD=N;this.Uj=null;
this.UT=null;this.fV=null;this.Ix=null;this.eE(H);this.AF=new VW;this.AF.O(z.E.p,this.yh,this);this.AF.parent=this;
this.ze=new VW;this.ze.O(z.E.p,this.yh,this);this.ze.parent=this;this.Dy=z.B("span","scont");this.jz=z.B("button","switch");
this.jz.textContent="\u21F5";this.EH=z.B("button","switch");this.EH.textContent="D";var Q=this.tLS.bind(this);
this.jz.addEventListener("click",Q,!1);this.EH.addEventListener("click",Q,!1);this.Dy.appendChild(this.jz);
this.Dy.appendChild(this.EH)}JH.prototype=new HE;JH.prototype.tLT=function(H){if(H==null||H.g.length==0)return;
var N=H.b[H.g[0]].G,Q=N==1||N==3;this.AF.bF(Q);this.ze.bF(Q)};JH.prototype.eE=function(H){this.D$=H;
this.UT=[];this.fV=[];this.Ix=[];this.Uj=[];var N=H.iD;if(this.kS){var Q=[],c=this.kS.tcM;for(var _=0;
_<N.length;_++){if(N[_]=="---"){Q.push("---");continue}var O=[];for(var L=0;L<N[_].length;L++){var s=N[_][L];
if(c==null||c.indexOf(parseInt(s.c.id))!=-1)O.push(s)}if(O.length>0)Q.push(O)}N=Q}for(var _=0;_<N.length;
_++){if(N[_]=="---"){this.Ix.push(null);this.fV.push("---");continue}var r=[],u=this.UT.length;for(var L=0;
L<N[_].length;L++){var s=N[_][L].c;this.Uj.push(s);var V=new HM(s.name,H.keys[_],s.Xg,this.UT.length,_,N[_].length>1);
this.UT.push(V);if(L==0)this.fV.push(V);V.O(z.E.p,this.cp,this);V.O("mover",this.Bz,this);r.push({name:s.name,kg:s.Xg,Vo:H.keys[_]?H.keys[_].AN:""})}if(r.length==1)this.Ix.push(null);
else{var C=new rq(r);C.tTC=u;C.no=_;this.Ix.push(C);C.O("select",this.tLx,this);C.parent=this}}};JH.prototype.Tc=function(H,N){var Q=N-11,c=32;
if(1<z.h()&&z.h()<1.5)c=18+14*(1/z.h());var _=(this.fV.length-3)*c+3*5+61,O=Math.min(1,Q/_);if(.75<=O){this.Ep.setAttribute("style","widt:34px; transform-origin: top left; transform: scale("+O+","+O+");");
this.J.setAttribute("style","height:"+(N-2)+"px; overflow:hidden")}else{Q-=4;this.Ep.setAttribute("style","height: "+Q+"px;  width:"+Math.ceil(_/Q)*34+"px");
this.J.setAttribute("style","")}};JH.prototype.w=function(){for(var H=0;H<this.UT.length;H++)this.UT[H].w();
for(var H=0;H<this.Ix.length;H++)if(this.Ix[H])this.Ix[H].w();this.jz.setAttribute("title",tg.get([22,7,0])+" (X)");
this.EH.setAttribute("title",tg.get([22,7,1])+" (D)")};JH.prototype.cp=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.mG,c:this.Uj[H.id].id};this.N(N)};JH.prototype.tLx=function(H){var N=H.target.tTC+H.target.pa()[0];
this.UT[N].Ub(null)};JH.prototype.Bz=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.BG};this.N(N);var Q=H.target,c=this.Ix[Q.no];
if(c==null)return;var _=Q.J.getBoundingClientRect(),N=new k(z.E.Y,!0);N.data={X:z.m.Fe,AB:c,x:_.left+_.width+8,y:_.top};
this.N(N)};JH.prototype.yh=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.u_,gg:JG.nc,gE:H.target==this.AF?0:1,R:H.target.zy()};
this.N(N)};JH.prototype.tLS=function(H){var N=new k(z.E.Y,!0);N.data={X:z.m.u_,gg:JG.nc,gE:H.currentTarget==this.jz?2:3};
this.N(N)};JH.prototype.VL=function(H){var N=-1;for(var Q=0;Q<this.Uj.length;Q++)if(this.Uj[Q].id==H)N=Q;
for(var Q=0;Q<this.UT.length;Q++){var c=this.UT[Q];c.tLn(N==Q)}if(N==-1)return;this.fV[this.UT[N].no]=this.UT[N];
z.hk(this.Ep);var _=this.fV;for(var Q=0;Q<_.length;Q++){if(_[Q]=="---")this.Ep.appendChild(z.B("hr"));
else this.Ep.appendChild(_[Q].J)}if(!this.tTD)return;this.Ep.appendChild(this.AF.J);this.Ep.appendChild(this.Dy);
this.Ep.appendChild(this.ze.J)};JH.prototype.aK=function(H){this.VL(H.gm)};JH.prototype.qB=function(H,N){this.kS=H;
if(N==JG.hP){this.eE(this.D$);this.VL(this.D$.gm)}this.AF.kI(H.AF);this.ze.kI(H.ze)};function HM(H,N,Q,c,_,O){JS.call(this);
this.lF=0;this.tDo=this.tLp.bind(this);this.no=_;this.tDl=c;this.Do=H;this.tRW=N;this.tTd=O;this.Xg=Q;
this.J=z.B("button","");this.w();this.J.addEventListener("mousedown",this.nZ.bind(this),!1);this.J.addEventListener("click",this.Ub.bind(this),!1);
this.J.addEventListener("mouseover",this.tDo,!1);this.J.addEventListener("contextmenu",HM.ua,!1)}HM.prototype=new JS;
HM.ua=function(H){H.stopPropagation();H.preventDefault();return!1};HM.prototype.w=function(){var H=typeof this.Do=="string"?this.Do:tg.get(this.Do),N=this.tRW?" ("+this.tRW.AN+")":"";
this.J.innerHTML=z.Ur(this.Xg,H);this.J.setAttribute("title",H+N);if(this.tTd){var Q=z.B("img","gsicon");
Q.setAttribute("src",PIMG["tools/corner"]);Q.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.J.appendChild(Q)}};HM.prototype.nZ=function(H){this.lF=setTimeout(this.tDo,600)};HM.prototype.Ub=function(H){clearTimeout(this.lF);
var N=new k(z.E.p,!1);N.target=this;N.id=this.tDl;this.N(N)};HM.prototype.tLp=function(H){var N=new k("mover",!1);
N.target=this;N.id=this.tDl;this.N(N)};HM.prototype.tLn=function(H){this.J.setAttribute("class",H?"toolbtn active":"toolbtn")};
function rF(){JS.call(this);this.J=z.B("div","topbar");this.ED=z.B("span","");this.J.appendChild(this.ED);
this.$c=null;this.DL=null;this.Aj=[];this.qI=[];for(var H=0;H<rF.data.length;H++){var N=rF.data[H],Q=z.B("button");
this.Aj.push(Q);this.ED.appendChild(Q);Q.addEventListener("mousedown",this.nZ.bind(this),!1);var c=new rq(N.items);
c.parent=this;this.qI.push(c);c.O("select",this.tLF,this)}this.fv=new JQ([0,13,0],!1,null,!0);this.fv.O("click",this.tLl,this);
this.J.appendChild(this.fv.J)}rF.prototype=new JS;rF.prototype.w=function(){this.fv.w();for(var H=0;
H<rF.data.length;H++)this.Aj[H].innerHTML=typeof rF.data[H].name=="string"?rF.data[H].name:tg.get(rF.data[H].name);
this.eh();for(var H=0;H<rF.data.length;H++)this.qI[H].w()};rF.prototype.tLl=function(H){var N=new k(z.E.Y,!0);
N.data={X:z.m.gI,gL:"account"};this.N(N)};rF.prototype.tLA=function(H,N){this.$c=H;this.DL=N};rF.prototype.qB=function(H,N){this.DL=H;
if(N==JG.hP){var Q=H.tCE;z.hk(this.ED);for(var c=0;c<this.Aj.length;c++){if(Q==null||Q[c]==1||Q[c]instanceof Array)this.ED.appendChild(this.Aj[c]);
if(Q!=null&&Q[c]instanceof Array)this.qI[c].bB(Q[c])}this.J.removeChild(this.fv.J);if(H.jr)this.J.appendChild(this.fv.J)}this.eh()};
rF.prototype.eh=function(H,N){var Q=this.fv,c=12255232;if(JX.PS())c=JX.PS().premium*1e3>Date.now()?43520:16755200;
Q.J.setAttribute("style","color:#ffffff; background-color:#"+$.fM(c))};rF.prototype.TE=function(){for(var H=0;
H<rF.data.length;H++)this.qI[H].update(this.$c,rF.data[H].items,this.DL)};rF.prototype.nZ=function(H){H.preventDefault();
H.stopPropagation();this.TE();var N=this.Aj.indexOf(H.currentTarget),Q=H.target.getBoundingClientRect(),c=new k(z.E.Y,!0);
c.data={X:z.m.Fe,AB:this.qI[N],x:Q.left,y:Q.top+Q.height+2};this.N(c)};rF.prototype.tLF=function(H){var N=this.qI.indexOf(H.target),Q=this.qI[N].pa(),c=rF.data[N].SG[Q[0]];
for(var _=1;_<Q.length;_++)c=c.sub[Q[_]];var O=c,L=new k(O.U,!0);L.c=O.c;L.data=O.k;this.N(L)};rF.data=[{name:[0,0],items:[{name:[5,3],Vo:"Alt+Ctrl+N",title:"Create a new document"},{name:[1,0],Vo:"Ctrl+O"},{name:[1,11]},{name:[1,5],wN:!0},{name:[11,0]},{name:[1,1],wN:!0,V:function(H,N){return{V:H!=null&&N.fe}}},{name:"Save ...",Vo:"Ctrl+S",V:function(H){var N=tg.get([1,2])+(H==null?"":H.mT?" (Smart Object)":H.tW?" (Google Drive)":"");
return{V:H!=null&&(H.mT!=null||H.fa!=null&&H.fa.lj!=null||H.tW!=null),cg:N}}},{name:[1,3],title:"Save for Adobe Photoshop",V:function(H,N){return{V:H!=null&&N.fe}}},{name:[1,8],sub:function(){var H=JP.aL(0),N=[];
for(var Q=0;Q<H.length;Q++)N.push({name:H[Q],Vo:"."+H[Q].toLowerCase()});N.push({name:[0,14],sub:function(){var H=JP.aL(1),N=[];
for(var Q=0;Q<H.length;Q++)N.push({name:H[Q],Vo:"."+H[Q].toLowerCase()});return N}()});return N}()},{name:[1,9],V:function(H,N){return{V:H!=null}},wN:!0},{name:[1,10]}],SG:[{U:z.E.Y,k:{X:z.m.gI,gL:"newproject"}},{U:z.E.Y,k:{X:z.m.pD}},{U:z.E.Y,k:{X:z.m.pD,tCr:!0}},{U:z.E.Y,k:{X:z.m.gI,gL:"open_from_url"}},{U:z.E.Y,k:{X:z.m.gI,gL:"camera"}},{U:z.E.Y,k:{X:z.m.bv}},{U:z.E.Y,k:{X:z.m.G_}},{U:z.E.Y,k:{X:z.m.Bx}},{sub:function(){var H=JP.aL(0),N=[];
for(var Q=0;Q<H.length;Q++)N.push({U:z.E.Y,k:{X:z.m.gI,gL:"saveforweb",aP:Q}});N.push({sub:function(){var c=JP.aL(0).length,H=JP.aL(1),N=[];
for(var Q=0;Q<H.length;Q++)N.push({U:z.E.Y,k:{X:z.m.gI,gL:"saveforweb",aP:c+Q}});return N}()});return N}()},{U:z.E.Y,k:{X:z.m.gI,gL:"eassets"}},{U:z.E.Y,k:{X:z.m.gI,gL:"script"}}]},{name:[0,1],items:[{name:[2,8],Vo:"Ctrl + Z"},{name:[2,0],Vo:"Shift+Ctrl + Z"},{name:[2,1],Vo:"Alt+Ctrl + Z",wN:!0},{name:[5,0],Vo:"Ctrl + X"},{name:[5,1],Vo:"Ctrl + C"},{name:[5,7],Vo:"Shift + Ctrl + C"},{name:[5,2],Vo:"Ctrl + V",V:function(H,N){return{V:N.lD!=null||N.jG!=null||N.tC_!=null}},wN:!0},{name:[2,2],Vo:"Delete"},{name:[2,3],V:function(H){return{V:H!=null}},W_:!0,Vo:"Shift + F5"},{name:[14,9],V:function(H){return{V:H!=null}},W_:!0,wN:!0},{name:[10,16],Vo:"Alt+Ctrl + T"},{name:[2,4],wN:!0,sub:[{name:[2,9],wN:!0},{name:"90\xB0 \u21BB",V:function(H){return{cg:tg.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",V:function(H){return{cg:tg.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",V:function(H){return{cg:tg.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[12,87],sub:[{name:[12,62],V:function(H){return{V:H!=null}}},{name:[9,3],V:function(H){return{V:H!=null}}},{name:[10,31],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].add.vmsk!=null}}}]},{name:[12,79],W_:!0,Vo:"Ctrl + K"}],SG:[{U:z.E.W,c:l.ni,k:{X:"h_undoredo"}},{U:z.E.W,c:l.ni,k:{X:"h_stepfwd"}},{U:z.E.W,c:l.ni,k:{X:"h_stepbck"}},{U:z.E.Y,k:{X:z.m.Bv}},{U:z.E.Y,k:{X:z.m.yL}},{U:z.E.Y,k:{X:z.m.Bo}},{U:z.E.Y,k:{X:z.m.yT}},{U:z.E.W,c:l.so,k:{X:"clear"}},{U:z.E.Y,k:{X:z.m.gI,gL:"fill"}},{U:z.E.Y,k:{X:z.m.gI,gL:"stroke"}},{U:z.E.Y,k:{X:z.m.mG,c:l._y}},{sub:[{U:z.E.Y,k:{X:z.m.mG,c:l._y,ex:{eg:1}}},{U:z.E.W,c:l._y,k:{X:"rot",_F:[2,5],R:-Math.PI/2}},{U:z.E.W,c:l._y,k:{X:"rot",_F:[2,5],R:-3*Math.PI/2}},{U:z.E.W,c:l._y,k:{X:"rot",_F:[2,5],R:Math.PI}},{U:z.E.W,c:l._y,k:{X:"scl",_F:[2,6],R:new E(-1,1)}},{U:z.E.W,c:l._y,k:{X:"scl",_F:[2,7],R:new E(1,-1)}}]},{sub:[{U:z.E.Y,k:{X:z.m.Ie,gg:0}},{U:z.E.Y,k:{X:z.m.Ie,gg:1}},{U:z.E.Y,k:{X:z.m.Ie,gg:2}}]},{U:z.E.Y,k:{X:z.m.gI,gL:"preferences"}}]},{name:[0,2],items:[{name:[3],sub:function(){var H=[];
for(var N in JO.ready)H.push({name:JO.names[N],W_:JE[N]!=null,Vo:K.trH(JO.keys[N]),wN:JO.nR.indexOf(N)!=-1});
return H}()},{name:[4,16,0],V:function(H){return{V:H!=null&&H.FS(!1)}}},{name:[4,16,1],V:function(H){return{V:H!=null&&H.FS(!1)}}},{name:[4,16,2],V:function(H){return{V:H!=null&&H.FS(!1)}},wN:!0},{name:[11,11],V:function(H){return{V:H!=null&&H.FS(!1)}},wN:!0},{name:[11,3],W_:!0},{name:[11,10],W_:!0},{name:[2,4],sub:[{name:"90\xB0 \u21BB",V:function(H){return{cg:tg.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",V:function(H){return{cg:tg.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",V:function(H){return{cg:tg.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[11,12],W_:!0,V:function(H){return{V:H!=null&&H.FS(!1)}},Vo:"Ctrl + ."}],SG:[{sub:function(){var H=[];
for(var N in JO.ready)H.push({U:z.E.W,c:l.nP,k:{X:"start",hs:N}});return H}()},{U:z.E.W,c:l.nP,k:{X:"auto",cC:0}},{U:z.E.W,c:l.nP,k:{X:"auto",cC:1}},{U:z.E.W,c:l.nP,k:{X:"auto",cC:2}},{U:z.E.Y,k:{X:z.m.gI,gL:"vbitmap"}},{U:z.E.Y,k:{X:z.m.gI,gL:"csize"}},{U:z.E.Y,k:{X:z.m.gI,gL:"isize"}},{sub:[{U:z.E.W,c:l.Wz,k:{X:"rot",_F:[2,5],R:-Math.PI/2}},{U:z.E.W,c:l.Wz,k:{X:"rot",_F:[2,5],R:-3*Math.PI/2}},{U:z.E.W,c:l.Wz,k:{X:"rot",_F:[2,5],R:Math.PI}},{U:z.E.W,c:l.Wz,k:{X:"scl",_F:[2,6],R:new E(-1,1)}},{U:z.E.W,c:l.Wz,k:{X:"scl",_F:[2,7],R:new E(1,-1)}}]},{U:z.E.W,c:l.Wz,k:{X:"trim"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Vo:"Ctrl + J"}]},{name:[6,0],Vo:"Ctrl + J"},{name:[11,4],V:function(H){return{V:H!=null}}},{name:[5,4],wN:!0},{name:[11,6],wN:!0,V:function(H){return{V:H!=null}},sub:ri.zg()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],wN:!0,sub:ri.zv()},{name:[6,2],sub:[{name:[6,4],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].Ab()==null}}},{name:[6,5],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].Ab()==null}}},{name:[5,4],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].Ab()!=null}}},{name:[5,8],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].Ab()!=null&&H.FS(!1,!0)}}},{name:"Enable/Disable",V:function(H){return{cg:tg.get([5,5])+"/"+tg.get([5,6]),V:H!=null&&H.g.length!=0&&H.b[H.g[0]].Ab()!=null}}}]},{name:[6,3],sub:[{name:[6,4],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].add.vmsk==null}}},{name:[6,5],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].add.vmsk==null}}},{name:[5,4],V:function(H){return{V:H!=null&&H.g.length!=0&&H.b[H.g[0]].add.vmsk!=null}}},{name:"Enable/Disable",V:function(H){return{cg:tg.get([5,5])+"/"+tg.get([5,6]),V:H!=null&&H.g.length!=0&&H.b[H.g[0]].add.vmsk!=null}}}]},{name:[6,6],Vo:"Alt+Ctrl+G",wN:!0,V:function(H){return{cU:H!=null&&H.g.length!=0&&H.b[H.g[0]].fB,V:H!=null&&H.HG(H.g[0])}}},{name:[6,7]},{name:[6,8],V:function(H){if(H==null||H.g.length==0)return{V:!1};
var N=H.b[H.g[0]];if(N.add.TySh||N.add.SoLd||N.add.SoCo||N.add.GdFl||N.add.PtFl)return{V:!0};return{V:!1}}},{name:[6,34],wN:!0,V:function(H){if(H==null||H.g.length==0)return{V:!1};
var N=H.b[H.g[0]];return{V:N.add.lmfx!=null}}},{name:[6,9],wN:!0,Vo:"Ctrl+G"},{name:[6,55],wN:!0,sub:[{name:[6,56,0],Vo:"Sift+Ctrl+]"},{name:[6,56,1],Vo:"Ctrl+]"},{name:[6,56,2],Vo:"Ctrl+["},{name:[6,56,3],Vo:"Shift+Ctrl+["}]},{name:[6,10],V:function(H){return{V:H!=null&&H.g.length==1&&H.g[0]!=0&&!H.b[H.g[0]].oP()}},Vo:"Ctrl+E"},{name:[6,11],V:function(H){return{V:H!=null&&H.g.length!=0&&(H.g.length>1||H.b[H.g[0]].oP())}}}],SG:[{sub:[{U:z.E.W,c:l.uh,k:{X:R.Hl}},{U:z.E.W,c:l.uh,k:{X:R.KG}},{U:z.E.W,c:l.uh,k:{X:R.Pt}}]},{U:z.E.W,c:l.uh,k:{X:R.nJ}},{U:z.E.Y,k:{X:z.m.gI,gL:"duplinto"}},{U:z.E.W,c:l.uh,k:{X:R.vN}},{sub:ri.za()},{sub:[{U:z.E.W,c:l.uh,k:{X:R.fL,aO:0,pZ:0}},{U:z.E.W,c:l.uh,k:{X:R.fL,aO:1,pZ:0}},{U:z.E.W,c:l.uh,k:{X:R.fL,aO:2,pZ:0}}]},{sub:ri.zW()},{sub:[{U:z.E.W,c:l.uh,k:{X:R.nK,Lm:!1}},{U:z.E.W,c:l.uh,k:{X:R.nK,Lm:!0}},{U:z.E.W,c:l.uh,k:{X:R.rU}},{U:z.E.W,c:l.uh,k:{X:R.KT}},{U:z.E.W,c:l.uh,k:{X:R.v_}}]},{sub:[{U:z.E.W,c:l.uh,k:{X:R.Ea,Lm:!1}},{U:z.E.W,c:l.uh,k:{X:R.Ea,Lm:!0}},{U:z.E.W,c:l.uh,k:{X:R.HJ}},{U:z.E.W,c:l.uh,k:{X:R.CK}}]},{U:z.E.W,c:l.uh,k:{X:R.Ei}},{U:z.E.W,c:l.uh,k:{X:R.Jj}},{U:z.E.W,c:l.uh,k:{X:R.jF}},{U:z.E.W,c:l.uh,k:{X:R.KJ}},{U:z.E.W,c:l.uh,k:{X:R.ri}},{sub:[{U:z.E.W,c:l.uh,k:{X:R.TW,gE:0}},{U:z.E.W,c:l.uh,k:{X:R.TW,gE:1}},{U:z.E.W,c:l.uh,k:{X:R.TW,gE:2}},{U:z.E.W,c:l.uh,k:{X:R.TW,gE:3}}]},{U:z.E.W,c:l.uh,k:{X:R.CM}},{U:z.E.W,c:l.uh,k:{X:R.JK}}]},{name:[0,5],items:[{name:[7,0],Vo:"Ctrl+A"},{name:[7,1],Vo:"Ctrl+D",V:function(H){return{V:H!=null&&H.t!=null}}},{name:[7,2],Vo:"Shift+Ctrl+I",V:function(H){return{V:H!=null&&H.t!=null}},wN:!0},{name:[7,8],W_:!0},{name:[7,11],W_:!0,V:function(H){return{V:H!=null&&H.g.length!=0&&!H.b[H.g[0]].rect.km()}}},{name:[7,3],wN:!0,sub:[{name:[7,9],W_:!0,V:function(H){return{V:H!=null&&H.t!=null}}},{name:[7,4],W_:!0,V:function(H){return{V:H!=null&&H.t!=null}}},{name:[7,5],W_:!0,V:function(H){return{V:H!=null&&H.t!=null}}},{name:[7,6],W_:!0,V:function(H){return{V:H!=null&&H.t!=null}}}]},{name:[7,10],V:function(H){return{V:H!=null&&H.t!=null}}}],SG:[{U:z.E.W,c:l.sQ,k:{X:"all"}},{U:z.E.W,c:l.sQ,k:{X:"deselect"}},{U:z.E.W,c:l.sQ,k:{X:"inverse"}},{U:z.E.Y,k:{X:z.m.gI,gL:"crange"}},{U:z.E.Y,k:{X:z.m.gI,gL:"redge"}},{sub:[{U:z.E.Y,k:{X:z.m.gI,gL:"sel_border"}},{U:z.E.Y,k:{X:z.m.gI,gL:"sel_expand"}},{U:z.E.Y,k:{X:z.m.gI,gL:"sel_contract"}},{U:z.E.Y,k:{X:z.m.gI,gL:"sel_feather"}}]},{U:z.E.Y,k:{X:z.m.mG,c:l.mE}}]},function(){var H={name:[0,6],items:[{name:[24,18,4],Vo:"Ctrl + F",wN:!0}],SG:[{U:z.E.W,c:l.Mb,k:{X:"applylast"}}]};
for(var N=0;N<VJ.BX.length;N++){var Q=VJ.BX[N];if(Q.uL!=null){H.items.push({name:VJ.names[Q.uL],W_:!0});
H.SG.push({U:z.E.W,c:l.Mb,k:{X:"start",filter:Q.uL}});continue}var c={name:Q.qm,sub:[]};H.items.push(c);
var _={sub:[]};H.SG.push(_);for(var O=0;O<Q.nE.length;O++){var L={name:VJ.names[Q.nE[O]],W_:VJ.vI(Q.nE[O])!=null};
c.sub.push(L);var s={U:z.E.W,c:l.Mb,k:{X:"start",filter:Q.nE[O]}};_.sub.push(s)}}return H}(),{name:[0,7],items:[{name:[8,0],Vo:"Ctrl + +"},{name:[8,1],Vo:"Ctrl + -"},{name:[20,3],Vo:"Ctrl + 0"},{name:[20,2],Vo:"Ctrl + 1",wN:!0},{name:"Extras",Vo:"Ctrl + H",V:function(H,N){return{cU:N.kk}}},{name:[8,9],V:function(H,N){return{V:N.kk,cU:N.sS.XB}}},{name:[8,2],V:function(H,N){return{V:N.kk,cU:N.sS.UL}}},{name:[8,4],V:function(H,N){return{V:N.kk,cU:N.sS.TN}}},{name:[8,8],V:function(H,N){return{V:N.kk,cU:N.sS.Qx}},wN:!0},{name:[8,3],V:function(H,N){return{cU:N.Td}},Vo:"Ctrl + R",wN:!0},{name:[8,5],V:function(H,N){return{cU:N.PB}}},{name:[8,6],sub:[{name:[8,2],V:function(H,N){return{cU:N.EY[0]}}},{name:[8,4],V:function(H,N){return{cU:N.EY[1]}}},{name:[8,7],V:function(H,N){return{cU:N.EY[4]}}}]}],SG:[{U:z.E.W,c:l.ML,k:{X:"zoom",FL:!0}},{U:z.E.W,c:l.ML,k:{X:"zoom",FL:!1}},{U:z.E.W,c:l.ML,k:{X:"adapt",R:"fitscr"}},{U:z.E.W,c:l.ML,k:{X:"adapt",R:"pixel"}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.lb}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.OP}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.tU}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.ls}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.Od}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.lY}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.OG}},{sub:[{U:z.E.Y,k:{X:z.m.u_,gg:JG.Vl,SP:0}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.Vl,SP:1}},{U:z.E.Y,k:{X:z.m.u_,gg:JG.Vl,SP:4}}]}]},function(){var H={name:[0,8],items:[],SG:[]};
for(var N in Vb.yJ){var Q=Vb.yJ[N];H.items.push({name:Q.AB.name});H.SG.push({U:z.E.Y,k:{X:z.m.yP,gL:N}})}return H}(),function(){var H={name:[0,14],items:[],SG:[]},N={name:[0,9],sub:[]};
H.items.push(N);var Q={sub:[]};H.SG.push(Q);var c=tg.DN();for(var _=0;_<c.length;_++){N.sub.push({name:c[_].name,Vo:c[_].code,V:function(O,L){return{cU:this.Vo==tg.DF()}}});
Q.sub.push({U:z.E.Y,k:{X:z.m.u_,gg:JG.fy,lang:_}})}N.sub.push({name:[0,12]});Q.sub.push({U:z.E.Y,k:{X:z.m.yQ,link:"https://www.photopea.com/translate/"}});
var N={name:[0,15],sub:[]};H.items.push(N);var Q={sub:[]};H.SG.push(Q);for(var _=0;_<HJ.Us.length;_++){N.sub.push({name:HJ.Us[_].name,V:function(O,L){return{cU:this.name==HJ.Us[L.gp].name}}});
Q.sub.push({U:z.E.Y,k:{X:z.m.u_,gg:JG.Vz,gp:_}})}H.items.push({name:"Install Photopea",V:function(O,L){return{V:L.jL!=null}}});
H.SG.push({U:z.E.Y,k:{X:z.m.bf}});H.items.push({name:[11,13]});H.SG.push({U:z.E.Y,k:{X:z.m.gI,gL:"shortcuts"}});
H.items.push({name:[0,16],V:function(O){return{cU:o.Yv,V:o.PZ}}});H.SG.push({U:z.E.Y,k:{X:z.m.bq}});
return H}()];function Jt(){JS.call(this);this.J=z.B("div","");this.DC=0;this.DT=0;this.tA=z.B("div","");
this.tA.setAttribute("style","width:200em; height:100em; position:absolute;");this.LW=[];this.yv=[new tr,new Jw,new tQ,new Ha,new $U,new re,new HW,new HS,new tV,new tT,new VH,new ri,new $O,new $M,new $c,new Vd,new ts,new VS,new wR,new t_,new Vp,new rj,new HQ,new Vq("border",[7,9],"px"),new Vq("expand",[7,4],"px"),new Vq("contract",[7,5],"px"),new Vq("feather",[7,6],"px"),new $a("namewindow",[12,48])];
for(var H in JE){this.yv.push(new tB(H));this.yv.push(new HL(H))}for(var N in JD){this.yv.push(new HL(N))}for(var Q=0;
Q<this.yv.length;Q++){var c=this.yv[Q];c.O(z.E.pH,this.tCD,this);c.parent=this}}Jt.prototype=new JS;
Jt.prototype.Tc=function(H,N){this.DC=H;this.DT=N;for(var Q=0;Q<this.yv.length;Q++)this.eq(this.yv[Q])};
Jt.prototype.w=function(){for(var H=0;H<this.yv.length;H++)this.yv[H].w()};Jt.prototype.i_=function(){return this.LW.length==0?null:this.LW[this.LW.length-1]};
Jt.prototype.ZQ=function(){for(var H=0;H<this.LW.length;H++)if(this.LW[H].ZQ())return!0;return!1};Jt.prototype.eW=function(H,N,Q,c,_){var O=null;
for(var L=0;L<this.yv.length;L++)if(this.yv[L].id==H)O=this.yv[L];if(!O.mv(N))return;this.eq(O);if(this.LW.indexOf(O)!=-1)return;
var s=this.LW.length-1;if(s>=0)z.wj(this.LW[s].J,"wdisabled");this.J.appendChild(O.J);this.LW.push(O);
O.aK(N,Q,c,_)};Jt.prototype.eq=function(H){var N=this.DC,Q=this.DT,c=H._S(N,Q);H.J.style.left=c.x+"px";
H.J.style.top=this.J.offsetTop+c.y+"px";H.Tc(this.DC-c.x*2,this.DT-c.y*2-34)};Jt.prototype.qB=function(H,N){for(var Q=0;
Q<this.yv.length;Q++)this.yv[Q].qB(H,N)};Jt.prototype.tCD=function(H){var N=this.LW.pop();this.J.removeChild(N.J);
var Q=this.LW.length-1;if(Q>=0)z.cd(this.LW[Q].J,"wdisabled");if(this.tA.parentNode==this.J)this.J.removeChild(this.tA)};
window.onload=function(){var H=new VD;document.body.appendChild(H.J)}}())